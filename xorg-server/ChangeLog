commit 3044711412d0a08ba65a491bd2441c0c8980f5e2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 25 22:37:16 2009 -0700

    Bump version to 1.6.3.901 (1.6.4 RC1)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d8e48deb212767c4dfce982e6cb9d1b1fce63b96
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 25 22:29:25 2009 -0700

    Block signals while delivering XTest events (fixes bug 23100)
    
    XTest uses the same event list as all input devices, and input devices
    use it at SIGIO time. This causes mass confusion when a SIGIO event
    occurs in the middle of XTest event processing.
    
    The master branch has a much different fix, using a separate input
    queue which reduces latency that may be caused by XTest event queuing;
    it's a 'nicer' fix in some ways, but this simple fix should solve the
    problem.
    
    Reviewed-by: Peter Hutterer <peter.hutterer@who-t.net>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 76a1839b0a7dcb82e46c43533d252288677c6dbb
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 25 18:07:00 2009 -0700

    Ensure that rotation updates happen frequently
    
    The smart scheduler is designed to minimize scheduler overhead by
    increasing the interval between WaitForSomething calls when a single
    client is running. However, the software rotation code depends on
    its BlockHandler being invoked for screen updates; the long delays
    caused by the smart scheduler optimizations means that screen updates
    can be delayed a long time as well.
    
    The change is simple -- prevent the smart scheduler from increasing
    the scheduling interval while any screen is using software rotation.
    (cherry picked from commit e7dd1efef408effe52d0bd3d3aa0b5d4ee10ed90)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 31dc4fe0be57da4e9458ee490811fbd92598b7a7
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 25 16:58:07 2009 -0700

    Perform rotation redisplay before calling driver block handler (which may flush rendering)
    
    The rotation block handler uses regular driver rendering functions to
    repaint the screen, if those functions queue commands in the driver,
    it's important that the driver block handler be invoked after the
    rotated image is drawn.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 1740cda7a37abc7d0a169ab4555b446adaa62211)

commit cebc0a7aa7a368b2ade3a808195d2e738fda83e9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 25 16:54:16 2009 -0700

    xf86_reload_cursors: fix cursor position to eliminate jumping after mode set
    
    xf86_reload_cursors restores the cursor to the correct position, but
    that must adjust for cursor hot spot and frame before calling down to
    the hardware function, otherwise the cursor jumps to the wrong
    position until it is repositioned by the user.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 4aab05e3b3231f1ec9795a66a075d17a722634a7)

commit 5848fca11f3c5b65bb6634816c0df6aeb6eda87d
Author: Michel Dänzer <daenzer@vmware.com>
Date:   Tue Jun 23 16:45:40 2009 +0200

    glx: Clean up more thoroughly if the drawable of a current context goes away.
    
    Fixes crash when restarting compiz, due to cl->currentContexts[x] being stale.
    (cherry picked from commit 3020b1d43e34fca08cd51f7c7c8ed51497d49ef3)

commit fad2de1cca057586a88fb20ebf9a9964f8e3e298
Author: Michel Dänzer <daenzer@vmware.com>
Date:   Thu May 14 11:46:41 2009 +0200

    glx: If a destroyed window is bound to the current context, make it not current.
    
    Avoids subsequent crashes due to stale pointers to the DrawableRec, see
    https://bugs.freedesktop.org/show_bug.cgi?id=21132#c15 and previous comments.
    
    Signed-off-by: Michel Dänzer <daenzer@vmware.com>
    (cherry picked from commit 2075d4bf9e53b8baef0b919da6c44771220cd4a5)

commit a32d717ac64b21e15a5736ae4981cdd32f2da56b
Author: Richard Hughes <richard@hughsie.com>
Date:   Mon Aug 17 09:15:32 2009 +0100

    Do not reset lastDeviceEventTime when we do dixSaveScreens
    
    When we turn off DPMS with DPMSModeOff and do dixSaveScreens, don't reset the
    event time else session clients using IDLETIME will be reset.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 6b5978dcf1f7ac3ecc2f22df06f7000f360e2066)

commit 32115e690f43fde619234722aa674ff1ae1b44ae
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 14 11:48:54 2009 +1000

    dix: update the sprite trace for all masters && floating slaves (#23257)
    
    When the windows are restructured, CheckMotion needs to be called for all
    masters and floating slaves to update the spriteTrace.
    
    X.Org Bug 23257 <http://bugs.freedesktop.org/show_bug.cgi?id=23257>
    (cherry picked from commit 6c292d17053eb2a7e7054e51210f423dbc0cb7e8)
    
    Tested-by: Thomas Jaeger
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit af7e62a913c3c5b9639b4557b31537853f3f58bb
Author: Dan Nicholson <dbn.lists@gmail.com>
Date:   Sun Aug 16 18:07:49 2009 -0700

    xfree86: Link libselinux with Xorg system libraries
    
    Put the reference to -lselinux in XORG_SYS_LIBS so it isn't added as a
    make dependency for libxorg.la. Otherwise, make goes looking for a file
    -lselinux in the current directory, which it obviously won't find.
    
    Signed-off-by: Dan Nicholson <dbn.lists@gmail.com>
    Tested-by: Justin P. Mattock <justinmattock@gmail.com>
    (cherry picked from commit c73cd3b265c301b8a54ffe484d6c696f2abefb46)

commit 397f7c42cd775f1dbfced58bc1dfaead48e86440
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 14 09:48:45 2009 +1000

    config: don't shutdown the libhal ctx if it failed to initialize (#23213)
    
    Regression introduced by b1c3dc6ae226db178420e3b5f297b94afc87c94c.
    Shutting down the libhal_ctx if the init failed may cause an abort.
    This can happen if hald is not yet running at server startup.
    
    X.Org Bug 23213 <http://bugs.freedesktop.org/show_bug.cgi?id=23213>
    
    Tested-by: Stefan Dirsch
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 49046088f10cceaea7da97401d742d3fb59371f5)

commit 55c26d8e4d110b689aea9d806e9d4fa7bbbdd32a
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Aug 13 16:37:00 2009 +1000

    Xext: fix up wrong conditions for negative sync transitions.
    
    If the counter had a value higher than the trigger value for a negative
    transition, the trigger value did not get set.
    
    The correct sequence of checks is:
    if (positive transition)
       if (counter value < trigger value)
          set up trigger
    if (negative transition)
       if (counter value > trigger value)
          set up trigger
    
    Red Hat Bug 501601 <https://bugzilla.redhat.com/show_bug.cgi?id=501601>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit db568f9eabf3450d8a023597ff007df355b13ea8)

commit f274e595ed56722450f6ecebad70500c92e50c58
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 31 23:37:53 2009 -0700

    Bump release number to 1.6.3
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 55dcfdbbd6a2a4debb717b104c4b54f4a2c76fff
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Jul 28 15:02:37 2009 -0700

    Remove hardcoded gcc -Wall option from configure.ac
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    (cherry picked from commit 442967c90dd9d8483a56bdc9237c49e33d619126)

commit 4d349b6c333449517913a5e981b4fc3155da4855
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 27 15:56:15 2009 -0400

    selinux: Only activate if policy says to be an object manager
    (cherry picked from commit 283a081572d8db787c77d09e5ba6bcadebf4f7fe)

commit d0875154f4f4b751264a2f6781500e97409a499b
Author: Ben Skeggs <bskeggs@redhat.com>
Date:   Wed May 27 15:24:34 2009 +1000

    quirk: use first detailed timing as preferred for PEA prod 9003 (rh#492359)
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 048697ccfa31cf7f7a29afa90a2f702d43efb7d4)

commit c941479ecc2dead9c3deaee2620c9b9518c3da9a
Author: Rémi Cardona <remi@gentoo.org>
Date:   Mon Jul 27 12:07:51 2009 +0200

    config: add HAL error checks
    
    This patch simplifies error handling in the HAL code and fixes a
    segfault if libhal_find_device_by_capability() failed.
    
    Fixes http://bugs.gentoo.org/278760
    
    Based on a patch by Martin von Gagern <Martin.vGagern@gmx.net>
    
    Signed-off-by: Rémi Cardona <remi@gentoo.org>
    Acked-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit b1c3dc6ae226db178420e3b5f297b94afc87c94c)

commit 546f913ff5461dd93d4a0b29b24d2267557326c7
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri May 8 21:31:01 2009 -0700

    Don't printf NULL pointers on HAL connection error
    
    Fixes Solaris bug 6801386 Xorg core dumps on startup if hald not running
    http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6801386
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    (cherry picked from commit 1e816065e5ec3b9394dc1fa5815457a664e15fd9)

commit 155cb2f9a376d40b699a72ac3bdede71af1b518f
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jul 26 14:22:35 2009 -0700

    Bump to version 1.6.2.901 (1.6.3 RC1)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 87900645c22d6066fe70190ab838a687808db5c3
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Jun 11 14:21:53 2009 +1000

    xfree86: move didLock assignment down to where the function pointer is valid.
    
    crtc->funcs->lock is NULL, so it's no use calling it here. Move it down so
    it's actually defined before we use it.
    
    Introduced with 6f59a8160042ea145514fdcb410f17f33fd437c2.
    
    Tested-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 0de58c88aba7ddd69b04f24ab5b2967c359aa69e)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 72c9bc64ff86999a4643663e5699a6547a9e2997
Author: Benjamin Defnet <benjamin.r.defnet@intel.com>
Date:   Wed Jun 10 21:35:48 2009 -0700

    randr: fix operation order so that rotation+transform works
    
    The matrix multiply to combine rotation and projective transforms was being
    done in the wrong order.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit b2bf67b61c564a4b92a429ca9ad455403161f33a)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7f95d18397757facafcba39e4613b2ed5047c5c4
Author: Benjamin Defnet <benjamin.r.defnet@intel.com>
Date:   Mon Jun 8 21:45:42 2009 -0700

    hw/xf86/modes: Set crtc mode/rotation/transform before calling set_mode_major
    
    This moves code out of each implementation of set_mode_major and back into
    the X server. The real feature here is that the transform is now available
    in the crtc for use by either xf86CrtcRotate or whatever the driver wants to
    do. Without this change, the transform was lost for drivers providing the
    set_mode_major interface.
    
    Note that users of this API will want to stop smashing the transformPresent
    field, and could also stop setting mode/x/y/rotation for new enough X servers,
    but there's no reason to make that change as it will break things when
    running against older X servers.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    Acked-by: Daniel Stone <daniel@fooishbar.org>
    (cherry picked from commit 6f59a8160042ea145514fdcb410f17f33fd437c2)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit abc89e2c48a88c29f49fe44d03778deab4b1a3b9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Mar 10 15:49:49 2009 +0100

    randr: Nuke broken set_origin shortcut
    
    Shortcut is impossible to implement this way, because we don't know for sure
    whether the crtc of an output has changed or not.
    (cherry picked from commit cadf65a6e190a8952ad3cc216dc9ea55241de91a)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b1eed8970f7c5b07152dbc6b7dcc4c8504aeb67c
Author: Julien Cristau <jcristau@debian.org>
Date:   Fri May 22 09:54:38 2009 +0200

    randr: fix server crash in RRGetScreenInfo
    
    We don't return rates to randr < 1.1 clients, so don't allocate space
    for them.  This fixes a FatalError due to not all allocated space being
    used.
    
    X.Org bug#21861 <http://bugs.freedesktop.org/show_bug.cgi?id=21861>
    
    Reported-by: Guillaume Quintin <coincoin169g@gmail.com>
    Signed-off-by: Julien Cristau <jcristau@debian.org>
    (cherry picked from commit 12e725d08b4cf7dbb7f09b9ec09fa1b621156ea9)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 1addf6fe235f8537024140aff56dffb4738701a7
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Aug 6 15:26:24 2008 -0700

    Replace dixLookupResource by dixLookupResourceBy{Type,Class}
    
    dixLookupResource attempted to automatically detect whether the caller
    wanted a lookup by-type or by-class, unfortunately, it guessed wrong for
    RT_NONE. Instead of trying to make the guess better, this patch just reverts
    the unification and creates separate functions for each operation.
    (cherry picked from commit f8dd80d13bb5313a11b38b280f8ad3e22f0a6300)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c838a03e891a6fcd2f7b71f727c1b93f7c26e7a7
Author: Robert Noland <rnoland@2hip.net>
Date:   Wed Apr 15 12:06:19 2009 -0500

    One = is more than adequate here.  Make is sh safe.
    (cherry picked from commit b3e3154cce47add97f5561088036ce3b9e7dc937)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 68cb38bed65c49716104eeb345c4b1b85a4b15bc
Author: Rémi Cardona <remi@gentoo.org>
Date:   Fri Jul 3 10:51:50 2009 +0200

    configure: libXinerama isn't needed anymore
    
    since libXinerama commit 90d4d23bf2e94721149ddc0a80093b10a82e8845 and
    xineramaproto commit 21477147613c28c968b5e1eb9d8aea7017dd399d, the
    server no longer needs libXinerama.
    
    Signed-off-by: Rémi Cardona <remi@gentoo.org>
    (cherry picked from commit 2c69deb92e11542f615df0f24fdc03e3b4415475)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ec60f4ca65dbc25f9a40636f5280b1a1ec68407f
Author: Michel Dänzer <daenzer@vmware.com>
Date:   Fri Jul 10 20:06:02 2009 +0200

    EXA: Only pass CT_YXBANDED to RECTS_TO_REGION() if that is really true.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=22642 .
    (cherry picked from commit 35758544813f156eaac28844e693b2a28f6de316)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b10c4fe343d2339bae4736793939e44a6befaf88
Author: Kim Woelders <kim@woelders.dk>
Date:   Sat Jul 11 18:55:17 2009 +0200

    Fix key repeat problem.
    
    Signed-off-by: Kim Woelders <kim@woelders.dk>

commit 606f6dba16d42e3546a82a386d5a01087467b511
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Apr 14 10:54:25 2009 -0400

    xdmcp: Don't crash on X -query with more than 255 IP addresses. (#20675)
    
    You could be more clever than this, but the wire protocol says this
    really is an array of not more than 255 ARRAY8, so it's not just a
    matter of changing the types.
    
    (cherry picked from commit 0eb19f9437b7d8c19592e49eedb028771d300d80)

commit 396d3a7762abd0dd84042833b75f2ebf9d100bb0
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jul 8 11:26:46 2009 -0700

    Fix build of drivers with 1.6.2 when not using --install-libxf86config
    
    c859b736d1d23c5dc2f53958b1e76660e6d45018 removed duplicate entries for
    these from the Makefile, but removed a different set than was done in
    master branch, causing xf86Parser.h to not be installed, which in turn
    breaks the build of drivers like -ati, -intel & -nv that use xf86Modes.h,
    which includes xf86Parser.h
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6f1aff5a2b45bc2985081abc240a8fed37170386
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 6 14:08:31 2009 -0700

    Bump to version 1.6.2
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 499f9f62e408510ed4efb6f2321a3f851f535567
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 1 14:01:57 2009 -0700

    dri2: Preserve compatibility with 1.6 DRI2 API/ABI
    
    The old DRI2 buffer allocation API wasn't great, but there's no reason to
    make the server stop working with those drivers. This patch has the
    X server adapting to the API provided by the driver, using the new API where
    available and falling back to the old API as necessary. A warning will be
    placed in the log file when the old API is in use.
    (cherry picked from commit 2e2c5b216cc1c7a9bc26bd2c68226aaed5fc52ca)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c859b736d1d23c5dc2f53958b1e76660e6d45018
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Fri Jul 3 11:03:32 2009 +0200

    xfree86: remove duplicate header entries in Makefile.am
    
    fixes https://bugs.freedesktop.org/show_bug.cgi?id=22547
    
    This bug was fixed in a big clean-up commit in master, which cannot be
    backported (see commit b1dac41fb3853ca8182048ea57b88b6e84ecceb3)
    
    Signed-off-by: Rémi Cardona <remi@gentoo.org>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6f82ca0f8bfc074474407cb5ffe782c3c128f838
Author: Alan Hourihane <alanh@vmware.com>
Date:   Mon Feb 16 11:39:34 2009 +0000

    dri2: support glXWaitGL & glXWaitX by copying fake front to front and
    vice-versa.
    (cherry picked from commit 2a8b8077d8f6001eb57deba60e1009fc99c28668)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d478bc948838d11b3abcf6d2cdd3a00dccb344c4
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Feb 17 09:59:17 2009 -0800

    xinerama: Put the proto version in the code instead using proto headers.
    
    Proto headers updating resulting in the server advertising new versions is
    broken.  This should be applied to every extension.
    
    This fixes the build against slightly-older xineramaproto.
    (cherry picked from commit b349a764e98f0d8f221190157ffa0904b91beca5)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a7a93c12f91e0de72868f17a555215f1795d9e2f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 23:18:55 2009 -0700

    Build against DRI_TEX_BUFFER_VERSION 1
    
    setTexBuffer2 isn't present in this version of the structure, so don't try
    to call it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5b49aff4f8b5e4d15bc883f74509d93324f09f5f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 29 14:40:46 2009 -0700

    Bump version to 1.6.1.902
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e97cabce4abdaf6b83d1a442f7972d4c45979b33
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Wed Mar 25 12:55:42 2009 +1000

    xfree86: fix SWCursor check in xf86CursorSetCursor.
    
    Wrong check for inputInfo.pointer resulted in a SW cursor being rendered when
    the pointer left the screen (in a Xinerama setup).
    We must call the sprite rendering function if
    - SW cursors are enabled, or
    - The current device is not the VCP and not attached to the VCP.
    
    Backported from commit 66089e9129a821cfb1983d3d35f41b975a52de5e for
    server-1.6-branch by Peter Hutterer
    
    Reported-by: Gordon Yuan <GordonYuan@viatech.com.cn>
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 17c5b2caf01deec1d1be9fc2ac68a3d636e64c44
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon May 18 19:01:46 2009 +0200

    Change default for ExaOptimizeMigration to false
    
    Quoting Michel Dänzer in <1234862541.4823.541.camel@thor>:
    
      Unfortunately, there are still bugs left in EXA which prevent it from
      working 100% correctly with the option enabled, see
    
      http://bugs.freedesktop.org/show_bug.cgi?id=16416
    
      http://bugs.freedesktop.org/show_bug.cgi?id=19940
    
    So disable it for now to avoid corruption.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8d65439d5c950ea01ec8e1e4dd989aff0fb4c3f0
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 28 14:43:27 2009 -0700

    Make RANDR 'set' timestamps follow client specified time. Bug 21987.
    
    The lastSetTime value which indicates when the configuration within the
    server was last changed was not getting set in the appropriate RandR
    requests.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 69a9545d1f8110841538410818df19fd960412c5)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d98f2792d2f523d7397eac70cc021761e9561219
Author: Federico Mena Quintero <federico@novell.com>
Date:   Tue Jun 9 13:28:28 2009 -0700

    dix/randr: Add missing fields to SRR*NotifyEvent()
    
    Also, remove redundant field swaps and make others match the order in which
    they are declared in the xRR*NotifyEvent structs.
    
    Signed-off-by: Federico Mena Quintero <federico@novell.com>
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit e244a5991e2cc55f5aa2f6e5255f1dabf56f0235)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f697b6c582095aa1eec3244fa05835922249425b
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon May 11 12:53:56 2009 +1000

    kdrive: set Activate/Deactivate grab for input devices (#21591)
    
    X.Org Bug 21591 <http://bugs.freedesktop.org/show_bug.cgi?id=21591>
    (cherry picked from commit b1b5ec45c1cb650ccb8c659218f9481379c777d9)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c91accd173b5f17af771bd9f4e60b5860af15718
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon May 11 12:51:40 2009 +1000

    dix: ensure Activate/DeactivateGrab has a valid value.
    
    Xephyr doesn't manually set Activate/DeactivateGrab for new devices,
    resulting in a NULL-pointer dereference later when a grab is activated.
    Avoid the segfault by ensuring that the pointer is always valid.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 6f9e22049862ee9ac7f604411d005d8bb1b2dd1c)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bd94c7c986aed4496cd4e8141bb30c3e4412f1f4
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue May 12 16:11:01 2009 -0700

    Resync COPYING file with notices in code base as of xorg-server-1.6.1
    
    Remove notices for code no longer in tree (Xprint, Xgl, kdrive, cfb, etc.)
    Add/update notices for new/changed code in tree
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    (cherry picked from commit b746a00cffca5c553b607a8e9c1074294a23b443)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 597747c6551cd67487069415297e5eb441038321
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat May 9 11:42:17 2009 -0700

    Fix a couple off-by-one array boundary checks.
    
    Error: Write outside array bounds at Xext/geext.c:406
            in function 'GEWindowSetMask' [Symbolic analysis]
           In array dereference of cli->nextSib[extension] with index 'extension'
           Array size is 128 elements (of 4 bytes each), index <= 128
    
    Error: Buffer overflow at dix/events.c:592
    	in function 'SetMaskForEvent' [Symbolic analysis]
           In array dereference of filters[deviceid] with index 'deviceid'
           Array size is 20 elements (of 512 bytes each), index >= 0 and index <= 20
    
    Error: Read buffer overflow at hw/xfree86/loader/loader.c:226
    	in function 'LoaderOpen' [Symbolic analysis]
           In array dereference of refCount[new_handle] with index 'new_handle'
           Array size is 256 elements (of 4 bytes each), index >= 1 and index <= 256
    
    These bugs were found using the Parfait source code analysis tool.
    For more information see http://research.sun.com/projects/parfait
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    Signed-off-by: Adam Jackson <ajax@redhat.com>
    Acked-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit b680bda34da130ce408783f04214771471e41e8d)
    (cherry picked from commit 04c9e80f083659e63cffec8969fb3a0cfc551a97)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 10c06ddeefccc195e70adfed664e9488eeb53804
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Apr 9 15:40:24 2009 +1000

    xfree86: restore default off for DontZap
    
    Zapping is triggered by xkb these days, so note in the man page that it's the
    Terminate_Server action. Since it's XKB, personal preferences towards or
    against zapping should be achieved through xkb rulesets.
    If Terminate_Server is not in the xkb actions, then we can't zap anyway and we
    don't need a default of DontZap "on".
    
    This patch restores the old meaning of DontZap - disallow zapping altogether,
    regardless of XKB's current keymap.
    Ideally, this patch should be accompanied by b0f64bdab00db652e in
    xkeyboard-config.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 737b49199a05299486064e6e762cf2a2f6f95be6)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 966349f8e068fa120470549b0db9a8fcf88aca5b
Author: Michel Dänzer <daenzer@vmware.com>
Date:   Fri May 15 15:48:37 2009 +0200

    EXA: Always damage glyph cache pixmap manually after uploading a glyph.
    
    Signed-off-by: Michel Dänzer <daenzer@vmware.com>
    (cherry picked from commit 7c8327f0a75087a85864256a9cea80dd4b86def5)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cc5e4b632aa99623ff577776039287c5950d921d
Author: Michel Dänzer <daenzer@vmware.com>
Date:   Fri May 15 15:48:37 2009 +0200

    EXA: Take GC client clip type into account for migration.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=18950 .
    
    Signed-off-by: Michel Dänzer <daenzer@vmware.com>
    (cherry picked from commit 850675d4de4373e5df95507dbf2cd9affaaf54bc)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bbe0be1e459b0d5810a0e7b916cc890c440a4e21
Author: Tomas Janousek <tomi@nomi.cz>
Date:   Wed May 20 15:03:01 2009 +0200

    Bug #6428, #16458, #21464: Fix crash due to uninitialized VModMap fields.
    
    In ProcXkbGetKbdByName, mrep.firstVModMapKey, .nVModMapKeys and
    .totalVModMapKeys were not initialized, contained random values and caused
    accesses to unallocated and later modified memory, causing
    XkbSizeVirtualModMap and XkbWriteVirtualModMap to see different number of
    nonzero values, resulting in writes past the end of an array in XkbSendMap.
    
    This patch initializes those values sensibly and reverts commits 5c0a2088 and
    6dd4fc46, which have been plain non-sense.
    
    Signed-off-by: Tomas Janousek <tomi@nomi.cz>
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 525aa17f804d37d1cfcbbf6b8e6cddb45e999b20)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6056d429e7dcc37fe706dd7bc8d3429fdb635e14
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Apr 1 17:42:33 2009 -0400

    Support setTexBuffer2 in AIGLX.
    
    Fixes broken GLX_tfp, specifically, lets compositors ignore un-defined
    alpha channel for pixmaps.
    (cherry picked from commit 91b697efdefba125348dbcaf584ee51a7f8c9bf6)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7cae08d21952b02ef664641af6588ef6bd727bf8
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Jun 29 11:16:16 2009 -0400

    EDID: Fix timing class names to match the spec
    (cherry picked from commit 5c1afac5eea1d8327c74342d12d082b75f0cebde)

commit dbac41b624e4aa86a6a184b7ebb52bfdd367bbf0
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jun 19 12:42:07 2009 -0400

    pci: Dump vendor/devices ids in the printed device list
    (cherry picked from commit eb35402d0a5290e8a73d7d1e92f173294c364cc2)

commit 6be19e8f43086fb4b7fb30a47b89b5f3eed798ef
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Wed Apr 8 14:54:30 2009 -0700

    Use a #define instead of a magic number
    
    The number of buffers is likely to change in the future, so having
    this as a define is the right way to go.
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    (cherry picked from commit 03aebed519986c4dd03e02b3b3d4af1f64595ca7)

commit 540d5b87a4e24d85ec46620dfedd7bd7979180ea
Author: Jerome Glisse <glisse@freedesktop.org>
Date:   Mon May 11 22:52:46 2009 +0200

    DRI2: update DRI2 private drawable width & height according to X drawable
    (cherry picked from commit f250eea2e90fc50bec5214c2f41132b95edc2c46)

commit ec9f1ae32474bc0507a3c66e63bdf2835d467a34
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Mon Apr 27 15:11:10 2009 -0700

    DRI2: Force allocation of real-front buffer for non-windows as well
    
    For redirected rendering we end up with pixmaps (which the app thinks are
    windows) that are double buffered.
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    Tested-by: Pierre Willenbrock <pierre@pirsoft.de>
    (cherry picked from commit 0d9d3f3e361f769822caedccf4c2a58cc9930ecc)

commit 4fad615d689c61c6c3a000295a1fa755359737cb
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Fri Apr 24 12:49:19 2009 -0700

    DRI2: Implement protocol for DRI2GetBuffersWithFormat
    
    This change implements the protocol for DRI2GetBuffersWithFormat, but
    the bulk of the differences are the changes to the extension / driver
    interface to make this function work.  The old CreateBuffers and
    DeleteBuffers routines are replaced with CreateBuffer and DeleteBuffer
    (both singular).
    
    This allows drivers to allocate buffers for a drawable one at a time.
    As a result, 3D drivers can now allocate the (fake) front-buffer for a
    window only when it is needed.  Since 3D drivers only ask for the
    front-buffer on demand, the real front-buffer is always created.  This
    allows CopyRegion impelemenations of SwapBuffers to continue working.
    As with previous version of this code, if the client asks for the
    front-buffer for a window, we instead give it the fake front-buffer.
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    Reviewed-by: Kristian Høgsberg <krh@redhat.com>

commit 98c3c21735197fbd2c8166c9bdabf055e14c9009
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Fri Apr 24 12:09:21 2009 -0700

    DRI2: Add interface for drivers to query DRI2 extension version
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    (cherry picked from commit 28ddfc88d8d547941c7f4713db527a3c2f9ec35a)

commit 4cb4c210c365fd40ad314e0707eb38811f240a12
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Thu Apr 16 12:10:34 2009 -0700

    DRI2: Add missing front-buffer flush callback.
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    (cherry picked from commit d1e916d29be8b470cbc8cadcf6e83991fdbc5a9f)

commit aa13faef2b1464f808e04de9826c6b8b8b91ae89
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Wed Apr 15 11:13:48 2009 -0700

    DRI2: Don't leave empty entries in private->buffers
    
    This should fix bug #21130.
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    (cherry picked from commit de1e43181bd670877b994db221ad8a04b5d63324)

commit d7277296ed7aea7bd41b3489d4ceef750d400206
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Thu Apr 9 14:38:24 2009 -0700

    DRI2: Synchronize the contents of the real and fake front-buffers
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    (cherry picked from commit 567cf67959b30432ae30f4851ec17b3a375ab838)

commit 73b786f7e7f46d40bf3b039538540c2e25f45947
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Thu Apr 9 14:31:01 2009 -0700

    DRI2: Do not send the real front buffer of a window to the client
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    (cherry picked from commit f1a995d1496d73741731e32f475097c44a8da972)

commit 32d250a881341ece8a1f1d78359adc1b265b5174
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Wed Apr 8 15:44:34 2009 -0700

    DRI2: Add fake front-buffer to request list for windows
    
    If a front-buffer is requested for a window, add the fake front-buffer
    to the list of requested buffers.
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    (cherry picked from commit aa2928325fe51d94a636dde9c090e8f54a311a12)

commit db61eff891675aeaf2466c3529424de4621005dc
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri May 22 12:01:55 2009 -0400

    EDID: Add modes from Established Timings III descriptor to mode pool
    
    EDID 1.4, section 3.10.3.9
    (cherry picked from commit 99e22b86c5f1a3653f3caaf01368a777d2b208d0)

commit ebca49e0fedcc1c536f1dee7c58cae9903e74fa2
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu May 21 10:20:48 2009 -0400

    EDID: Be more cautious about finding vendor blocks.
    
    Many old monitors zero-fill the detailed descriptors, so check for that
    to avoid a useless warning like:
    
    (WW) RADEON(0): Unknown vendor-specific block 0
    (cherry picked from commit a2c5ee36b21c2ee5c0468f1b251e74c1412dbecb)

commit c643d24cdeaade8d7839691a3113c4d2d17be61e
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri May 29 18:07:48 2009 -0400

    vfb: Fix depth setup.
    
    Initialize the depth corresponding to the root window before the
    pixmap-only depths.  Otherwise you end up with the root window depth in
    the depth list twice, which is mildly confusing for clients and
    catastrophically confusing for PanoramiXConsolidate().
    (cherry picked from commit 45530d16097459a756696e255ab4e72d6e51fbc4)

commit 5cd5a01259ba349f1868ca4af04207cf120d69e4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue May 19 19:30:33 2009 -0400

    xace: Fix a bad device access hook call.
    
    Add a proper access mode, and reverse the logic of the return value.
    Zero ("Success") is returned on success from the hook calls.
    
    Signed-off-by: Eamon Walsh <ewalsh@tycho.nsa.gov>
    (cherry picked from commit 3cea176d5abcb0f14eefbdcbe17fed0847524dd4)

commit a9f85dcefbadfe44d8c58ad08430aaadb8c59d34
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon May 11 15:27:46 2009 -0400

    xselinux: Relax ownership restriction on SetSelectionUseContext.
    
    Instead, clients should keep track of the selection instances they use.
    (cherry picked from commit 0952d12717031e9dda9e48123bb922d0f4e81834)
    
    Signed-off-by: Eamon Walsh <ewalsh@tycho.nsa.gov>

commit 0fbf6f30f771e60714fb3003a9bb1a6b79e50c6e
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Mar 26 22:22:32 2009 -0700

    Don't leak default font path when appending built-ins
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    (cherry picked from commit 66539cc05d0b017b9feb4a038499907810140623)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 773e4890b385a229b0919b4a249714d0bb7171a2
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Mar 26 22:25:08 2009 -0700

    Don't leak canonical module name and patterns if module is built-in
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    Acked-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 1c101d75d4855b2698e3fc8d2dd662f20585812f)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 21f58a2b0d0d96492d2d7c7de1bd654ed0114279
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Wed May 6 16:55:32 2009 +1000

    Xi: don't double-swap the XListDeviceProperties reply.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 50cc8adafca4ba3838d468278d6eb8a4692d2488)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b575af88d0e547a03b164f6f3b2d4b268b9ffc34
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Wed May 6 22:25:28 2009 +1000

    Xi: fix copy/paste error causing sizeof against wrong struct.
    
    This wrong check may cause BadLength to be returned to the client even if the
    length is correct.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 8b583ca2b21155359c6255f406c96599b277c762)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 9c643b1e3ddc4ec9f1a924bd25f24df8536c7ea6
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Apr 16 16:17:07 2009 +1000

    os: don't malloc memory in LogVMessageVerb.
    
    LogVWrite is limited to a buffer size of 1024, so we don't loose anything here
    by truncating. This way we can use LogVMessageVerb (and xf86Msg and friends)
    during signal handlers with the normal message types.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Acked-by: Alan Coopersmith <alan.coopersmith@sun.com>
    (cherry picked from commit 0e0642ee9466d3268476d0084a83a9d93a4aa555)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7cd596e0dd6b9c195d7e395c26bfb00ef544c525
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Apr 15 18:26:06 2009 +1000

    randr12: looking up these bits if randr isn't initialised is bad.
    
    When xinerama is enabled we don't get randr protocol, but the
    driver might still want randr internals
    (cherry picked from commit faf7dfa099f5b42a703313fbd1bf8afdad07a179)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bc95f29441b3daa7b9d91bd3c2b3e502a3a8cc81
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Apr 23 08:42:38 2009 -0700

    Fix byte swapping of XF86VidMode{Get,Set}GammaRamp
    
    Fixes OpenSolaris Bug 8315:
    Xorg segfaults when screensaver fades in cross-endian xdmcp session
    <http://defect.opensolaris.org/bz/show_bug.cgi?id=8315>
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    (cherry picked from commit 7d0f7518c2235a9dc783029971259ddaada2db20)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3f0c73694b9ddc85b82a7a82a5d98fa8b18a01a8
Author: Jon TURNEY <jon.turney@dronecode.org.uk>
Date:   Thu Feb 12 16:03:16 2009 +0000

    Remove references to rgb.txt from files section of Xserver and Xorg man pages
    
    The references to this file in the server code were removed in commit dda10c9066a660b647384179f82e1da8e063264f
    
    Signed-off-by: Jon TURNEY <jon.turney@dronecode.org.uk>
    (cherry picked from commit d0dd649035fc3698c5b436f9d9d248116aa106a3)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 78eb366c65a953bbc059a989a92dfe28fbe1ae29
Author: Jon TURNEY <jon.turney@dronecode.org.uk>
Date:   Thu Feb 12 16:02:17 2009 +0000

    Remove long-gone '-co' option from Xserver man page
    
    The '-co' option was removed in commit dda10c9066a660b647384179f82e1da8e063264f
    
    Signed-off-by: Jon TURNEY <jon.turney@dronecode.org.uk>
    (cherry picked from commit b0ad9e1ced9619f37acf77764c395c57b86cf463)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 31536307703fcffa14a027ec777310c9962f816c
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Sat May 2 00:26:18 2009 -0700

    XkbSetNamedIndicator should ignore SD's without LED's
    
    When ProcXkbSetNamedIndicator is called on a core device, and we
    walk the slaves to set the LED's on each of them, ignore any slaves
    that do not have either a KbdFeedbackCtrl or LedCtrl structure.
    
    (This is much more critical in xserver-1.5-branch, where we walk
     *all* devices, not just the slaves of the specified master, and
     thus return failure when setting an LED on the Core Keyboard and
     hit a xf86-input-mouse device with no LED's to set.)
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    Acked-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 557dbadf3be273255e8fdb12d9321f4e88bf2b65)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 01f0210b2ba34f724aa221bbe6b567a5751781a6
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 8 22:29:15 2009 -0700

    xserver 1.6.1.901
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e21c9949ac456ba9b162b6244a17e68c5b8112a9
Author: Pierre Ossman <pierre@ossman.eu>
Date:   Tue Apr 28 09:34:55 2009 +0200

    dix: fix calculation of number of fake KeyRelease events
    
    Signed-off-by: Pierre Ossman <pierre@ossman.eu>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3b1ff33587458bad45777b8eb74b81c3e55987ad
Author: Pierre Ossman <pierre@ossman.eu>
Date:   Tue Apr 28 12:29:07 2009 +0200

    Xi: don't send XKB mapping notifications when XKB is disabled
    
    Signed-off-by: Pierre Ossman <pierre@ossman.eu>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4b702526dec35f5cfe5c6baec6a77c02c95c2867
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Wed Mar 25 13:08:27 2009 +1000

    dix: ignore non-pointer events in XineramaCheckMotion (#20557)
    
    Note that deviceKeyButtonPointer and keyButtonPointer have the same wire
    layout, so we only need to check for event types.
    
    X.Org Bug 20557 <http://bugs.freedesktop.org/show_bug.cgi?id=20557>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit fdbb6fd3d3c0ce7078f8faaf089af51cc36cbcb3
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Mon May 4 15:38:22 2009 -0700

    Don't prepare outputs & crtcs if set_mode_major is present
    
    A driver with this hook will take care of preparing the outputs & crtcs,
    so calling the prepare functions will just cause unnecessary flicker.
    
    Fixes bug #21077
    (cherry picked from commit 94648bb797d94b025746c60679c584e5be2fae28)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eac2b3658aacc8a64dc3c0fd7cc8fd77abcc59af
Author: Julien Cristau <jcristau@debian.org>
Date:   Wed Apr 22 20:01:49 2009 +0200

    Bug#21324: Add quirk for Iiyama Vision Master 450
    
    Reported-by: Jeremy Henty <onepoint@starurchin.org>
    Signed-off-by: Julien Cristau <jcristau@debian.org>
    (cherry picked from commit 0dfb97f15f591f85e079f5829c77d0c328d00464)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b3c42e6450b0af97ead4f410983c803a959e1d04
Author: Tormod Volden <debian.tormod@gmail.com>
Date:   Wed Apr 1 19:32:21 2009 +0200

    xfree86: edid quirk for Philips LCD LP154W01-TLAJ
    
    This panel reports its vertical size in cm.
    
    X.Org bug#21000 <http://bugs.freedesktop.org/show_bug.cgi?id=21000>
    
    Signed-off-by: Tormod Volden <debian.tormod@gmail.com>
    Signed-off-by: Julien Cristau <jcristau@debian.org>
    (cherry picked from commit b1dab580bdfb4acfe3feddeda6e760098ec4922a)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 96eede556ac9f95204fa54287f74794acdbf3a2b
Author: Julien Cristau <jcristau@debian.org>
Date:   Wed Dec 24 14:17:27 2008 +0100

    Add RandR 1.3 requests to protocol.txt
    (cherry picked from commit 4f86ee61a4abf7a29e565d095aa08abd0ca9dc66)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b7b520e3a93fde5579c48eabb9b8c694a7dfbcb1
Author: Julien Cristau <jcristau@debian.org>
Date:   Wed Dec 24 14:23:37 2008 +0100

    Add XI 1.5 event and requests to protocol.txt
    (cherry picked from commit 063833f3a6d9f8f657e3de309c8d6d5c3d606513)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0df12a3f01c953c0908b4b53a93fd3a5c704f69b
Author: Ander Conselvan de Oliveira <ander@mandriva.com.br>
Date:   Mon Apr 6 16:01:20 2009 -0300

    xfree86: Remove device from inputInfo.devices if ActivateDevice failed.
    
    After the call to xf86ActivateDevice, the new device will be added to
    inputInfo.devices. However, if the subsequent call to ActivateDevice
    fails, the correponding InputInfoRec for the device is deleted but an
    entry still remains in inputInfo.devices. This might lead to a server
    crash later on (on InitAndStartDevices for instance) when the device
    control proc would be called for an invalid device.
    (cherry picked from commit efa31092d6703397121a0ada4f7205a8ecad3d3d)
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 24dc7694a2ba72d45cda7720aeaec8350930edc3
Author: Michel Dänzer <daenzer@vmware.com>
Date:   Fri Feb 6 11:37:53 2009 +0100

    EXA: Guard empty pending region warning by DEBUG_MIGRATE.
    
    It isn't very useful yet while the damage layer calls us for empty operations,
    mostly confuses users.
    (cherry picked from commit 3948b523893d3d44b6a088340c4252e969613769)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5198ff6f86e4796819c0d1f742de57a69228c93b
Author: Michel Dänzer <daenzer@vmware.com>
Date:   Fri Feb 27 16:37:28 2009 +0100

    EXA: Handle separate alpha maps properly in Composite fallback, take two.
    
    Preserve the EXA ABI by introducing a new driver flag EXA_SUPPORTS_PREPARE_AUX.
    If the driver doesn't set this flag, we have to assume any Prepare/FinishAccess
    driver hooks can't handle the EXA_PREPARE_AUX* indices, so we move out such
    pixmaps at PrepareAccess time.
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=18710 .
    
    Signed-off-by: Michel Dänzer <daenzer@vmware.com>
    (cherry picked from commit 4cfb36f6ad2df01215028fec48d99239a0e4496b)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 199bb367152d68e784dfbec79ab9b70540d83fc2
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Mon Apr 20 18:20:52 2009 -0700

    DRI2: Send the version the code actually supports
    
    This prevents building an older server with a new dri2proto.h from
    resulting in a DRI2 extension module that lies about the version it
    supports.
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    (cherry picked from commit 44227ef1b77467c76147b9bf79bdd0e6305a522a)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 11db545a86c8933c638a0bc1fcd4f2c65279f617
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Apr 16 22:48:11 2009 -0400

    security: Grant untrusted windows remove access on all windows.
    
    This allows untrusted clients to destroy their own windows when they
    have been reparented by a trusted window manager.
    (cherry picked from commit 4559d2ace6ac55fe361f572ded0769cdd1f3b545)

commit 5d48f288eccb57dfe1751946c9d60dbd3ac0129a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Apr 16 22:39:54 2009 -0400

    security: Fix a crash caused by wrong ordering of format arguments.
    (cherry picked from commit 3481b32ab971c41cb972f6819ae049f3e9f7033b)

commit 93e0a648138e569087fc6e07c1a28abfa92a4dde
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Apr 16 22:33:12 2009 -0400

    security: Revert behavior of extension access for compatibility.
    
    Previously, three extensions were defined as "trusted" by the extension:
    BIG-REQUESTS, XC-MISC, and XPrint.  No other extensions were permitted
    to be used by untrusted clients.
    
    In commit 8b5d21cc1d1f4e9d20e5d5eca44cb1e60a419763 this was changed for
    some reason.  Return to the old, compatible behavior.
    (cherry picked from commit 6045506be0cebca4ebbe943ae77f020aafa703d4)

commit cd321badf0c185854b3e0c038f3851a3ac7864ea
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Apr 14 16:08:11 2009 -0400

    xserver 1.6.1

commit fcffa3a178683ede0d15656c432fccf23ebca5ef
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Wed Mar 25 15:51:43 2009 +1000

    Xext: set POINTER_SCREEN flag in XTestFakeInput if necessary. (RH #490984)
    
    The POINTER_SCREEN flag must be set explicitly for XTest core events to avoid
    out-of-range events when the lastSlave was an SD with an explicit axis range.
    Device events sent through XTest don't need this flag, they are expected to be
    in the valuator range of the device anyway.
    
    Red Hat Bug 490984 <https://bugzilla.redhat.com/show_bug.cgi?id=490984>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 603db34337a61754e0c5f71525011d10eab78411)

commit 6ff60c626141771b365d557fe64bc93f200d1c9c
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Apr 9 13:16:37 2009 -0400

    glx: Fix drawable private leak on destroy
    
    When a drawable goes away, we don't destroy the GLX drawable in full,
    since it may be current for a context.  This means that when the drawable
    is destroyed in full later, the backend doesn't get a chance to
    destroy resources associated with the drawable (the DRI2Drawable).
    
    With this patch, we destroy the GLX drawable in full when it goes away
    and then track down all contexts that reference it and NULL their
    pointers.
    
    (cherry picked from commit 7b6400a1b8d2f228fcbedf17c30a7e3924e4dd2a)

commit 50894e13545538ed93f20823f7ba81d1ab8906bb
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Apr 9 02:48:04 2009 -0400

    xselinux: Don't BadAlloc in List* requests if there are no items to list.
    (cherry picked from commit 682d7b55699cacbb2dbcd84a5e816bf6e2d2f02a)

commit feb01d7d6e98fa77f9069b08aaa9727368ef3aaf
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Apr 8 15:10:16 2009 -0400

    xselinux: Don't require incoming context strings to be null-terminated.
    (cherry picked from commit e8b324102f6e21ae2b8292a6f50d016dd6254dd6)

commit b7dc7374bbcb708eee6eec26ff141619f914d8eb
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Mar 9 17:28:40 2009 -0400

    Correct access mode in call to dixLookupWindow() within RRSelectInput.
    
    Reported by Alan Coopersmith.
    (cherry picked from commit 6544490700051b3b5e88ac1890d71b35634c9100)

commit 38b0f9edca80e43b4c8c364cfebc25c835d24cbd
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 27 16:49:45 2009 -0400

    Fix distcheck with dolt

commit 509986d6f0255588f37446173ea76640895c9886
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 27 16:28:26 2009 -0400

    Fix Changelog generation

commit 0f9fd02dacf4363c0efd69825bc804bfb55599bf
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 16 13:24:48 2009 -0400

    selinux: Add support for avc_acquire_netlink_fd()
    
    Requires libselinux 2.0.79 or newer.  Without this, libselinux will
    check for policy updates on the netlink socket on basically every policy
    lookup.  Statistically speaking, they never happen, and the check
    translates to at least one more syscall on basically every operation.
    
    Instead, take control of the fd from the library, and check it in
    WakeupHandler if it polls readable.
    (cherry picked from commit 3992dd38caf33b343affd8d732c94880d1099dcf)

commit b3484c848040ae29b8ca1327d3b142db30c38387
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Feb 21 19:56:20 2009 -0500

    selinux: Don't bother relabeling resources that are being destroyed
    
    Makes window destroy about 40x faster in Xvfb.
    (cherry picked from commit b030f858f2f1ce1fd27a73ebf7f9ec5db541a668)

commit 08ac9140f6042ce3faa618613fc8443c92924a21
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Feb 13 09:56:22 2009 +1000

    xkb: Fix wrong colour reference in XKB geometry copying. #20081
    
    base_color and label_color need to reference the color in the destination, not
    in the source.
    
    X.Org Bug 20081 <http://bugs.freedesktop.org/show_bug.cgi?id=20081>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>
    (cherry picked from commit f5bf1fdaf36163d5c2f1b9b51df96326ebbb0e9c)

commit 124da1da5cd3ac85edd7f0e30f61ee842d49a6a4
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Mar 9 08:59:01 2009 +1000

    Xi: don't crash on a NULL property name, just return None.
    
    strcmp doesn't like NULL-pointers.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 0d9a42dc0380d1583889b6b6521bd5a2451735d4)

commit ea9f51fd42ae0285aed707b7efa44c558dad4e4b
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Dec 5 16:24:57 2008 +1000

    Xi: add XATOM_FLOAT to server-defined properties.
    
    This property is used to denote type float for input properties. Such
    properties can be accessed easily through the XIPropToFloat() function.
    
    Code originally written by Simon Thum.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    (cherry picked from commit a48c81dcdf569a3f634ac23e08d2491354de6a36)

commit 6ad6b6f900e9c3a55e4ee509bdc9ff0ddec9a59a
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 19 15:50:57 2008 +1000

    Xi: add XIPropToInt() auxiliary function.
    
    Converts an XIPropertyValuePtr to an integer, provided that type and format is
    right.
    
    Code originally written by Simon Thum.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    (cherry picked from commit 669f6810af9a89187d6149841925fe765f3988ff)

commit 667865b9eb98ed73461028b3d38be19619712533
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 2 14:26:23 2009 -0500

    randr: Fix thinko in xf86TargetPreferred
    
    The only-one-output case would only work right if that also happened to
    be the zeroth output.  Oops.
    (cherry picked from commit 8a6ed44a8b2fc5f14729dc54fec17607ced03859)

commit f469726fec502ce29999eda6919c3c3d26c127d8
Author: Eric Paris <eparis@redhat.com>
Date:   Tue Mar 3 13:15:39 2009 -0500

    This patch changes all places in the X code to use _raw functions.  The
    X server should never see, translate, or deal with a munged context.
    Display managers which show contexts to the user should take care of
    translating these to human readable form.
    (cherry picked from commit c7cf926d25523d5d0d8e5c83671c901660070d71)

commit 60c161545af80eb78eb790a05bde79409dfdf16e
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 25 12:05:44 2009 -0800

    X server version 1.6.0
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e9a9f807971b8fb62b957c9d54b4aea7fb0f96ca
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Jan 30 19:32:33 2009 +0100

    exa: kill of exaImageGlyphBlt
    
    - It serves no obvious purpose, yet it directly accesses many fb
    symbols.
    (cherry picked from commit 5cc67ae94c066dcac78072ad8a819c3b602d8bab)

commit 10e0603fb989d1e6b2675ef5ca8223777b4921e6
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Tue Feb 24 23:12:57 2009 -0800

    XQuartz: Re-enable support for capslock
    (cherry picked from commit 4901b8147e593d26d7a31a9b73a201254b948916)

commit e96921ca954ff0d3de8a69cea085aac2d43b0a2e
Author: Michel Dänzer <daenzer@vmware.com>
Date:   Mon Feb 23 16:49:51 2009 +0100

    DRI1: Make DRICreateDrawable return TRUE for pixmaps.
    
    GLX_EXT_texture_from_pixmap was broken since commit
    a26c77ff432d2e85a2665fc36fca25143460c476 ('glx: fix retval checks when failures
    occur for drawable creation.')
    
    Signed-off-by: Michel Dänzer <daenzer@vmware.com>
    (cherry picked from commit ef320bdd5ec3419abba77041d3a4d96a3ff87563)

commit 584f46b81c6ed126014e963cb4ea40f83014f1c7
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Feb 19 13:57:28 2009 -0800

    Add Extensions section to xorg.conf man page
    
    Extensions section was added in X11R6.8.0 and documented in the release notes:
       http://www.x.org/archive/X11R6.8.0/doc/RELNOTES2.html#3
    but never made it into the man page.
    
    Also fix a bonus typo.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    (cherry picked from commit ab61033700b5383a7a15370dd054eaa80e72e811)

commit ae7991b16d7fefb4335b05f951a3228cef102683
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 25 10:14:36 2009 -0800

    Pre-clip panning coordinates to keep crtc within panning region
    
    There is a separate panning region check, but that doesn't work under
    transformation, so just pre-clip the mouse coordinates when computing the
    panning offsets. This leaves the case where panning constants are changing
    unresolved.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry pick from commit c090f5514d28e1602a6ebbe7c909e98a0e3374d7)

commit e59aa804df8a39541aa3224a5e688b819196070c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 25 10:12:23 2009 -0800

    RandR rotations and reflections offset by one pixel
    
    The matrix computation for rotation and reflection resulted in dropping a
    row or column of pixels as the offsets used in the matrix computations used
    width and height rather than width-1 and height-1.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 77c7a64e8885696665556c9fbcb3cffb552e367a)

commit 9a59e7f304ab19c91738311bb9f1ec7709fc8847
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Feb 8 15:08:15 2009 +0100

    xf86CrtcShadowClear is unused.
    
    Remove this now that clearing is done by repainting with appropriate extend
    modes.
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 60a4f1368785d26a49a3ef6df829723ca154c154)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 369d7b22a9009e7054bd121484fa128c7a6d21f6
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 5 11:36:54 2009 -0800

    Make panning+transform be correctly driven by mouse
    
    Figuring out how to adjust the crtc origin to keep the mouse pointer within
    the crtc is a bit of a trick
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 63810aca31b962c93be4796883bde6ccb653e3a9)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c0a36197002c7de98f14dc98969409778d29dc50
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Feb 17 18:48:52 2009 -0800

    Make RgbPath keyword in xorg.conf a non-fatal error
    
    Xorg shouldn't refuse to run just because the user has an xorg.conf that
    had the previously-used RgbPath keyword in it.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    Acked-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit d2cf562bbad553d7f09b70202134f5b6ada0114e)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6b8bbbd21b39181e9dd3175fa73c05008c361ba2
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Wed Feb 4 11:50:18 2009 +1000

    config: if we can't connect to HAL, listen for a startup notification.
    
    If HAL isn't available when we try to connect, the registered NameOwnerChanged
    signal handler waits until HAL is available. Once we connected to HAL, we
    unregister the signal handler again.
    This allows HAL to be started in parallel or after the server has started.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 4844bff58f296b2851be4e6b955c3a68d02437a9)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4557b3f6c4273cd83b701beaf7a150c806fed298
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 18 16:43:23 2009 -0800

    X11/fonts/fontmod.h doesn't exist anymore.
    
    libXfont 1.4.0 no longer includes this file, nor do we need it, so just stop
    attempting to reference it.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3575cb86a18d9e80e239acefdab18694e4ca2098
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Tue Feb 17 08:27:32 2009 -0800

    glx: Inialize best_score before calculating visual scores
    
    This bug was pointed out by Peter Åstrand.
    
    Signed-off-by: Ian Romanick <ian.d.romanick@intel.com>
    (cherry picked from commit 4039603413f9f46d7f725463a70b4a51838e0049)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d050a61747bd5e5f9c96f5df5a191598c3f01e5c
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Tue Feb 17 23:25:14 2009 -0800

    configure.ac: Support version strings like W.X.Y.Z-XXXXXX
    (cherry picked from commit 43967514cd57ad836d7fb85c8c9e58ada07e0232)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8e16e64f55deb8e94007915333ba356c0f7e4f73
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Tue Feb 17 23:24:25 2009 -0800

    XQuartz: Don't need GlxSetVisualConfig any more
    
    Fixes build failure resulting from 516f8e2cad1311a09764e2633644188d1e3c31bb
    (cherry picked from commit 066b17028a35956a089815716e38571f305469c5)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit eca523e7e7e267728a1f5ec346e012ada3debba0
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 17 22:17:41 2009 -0800

    Bump to 1.5.99.903

commit a86dd529e9deaba61aee220d79ac607abbcb5dc6
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 6 06:34:35 2009 +0100

    Eliminate the shadow clear on transform change
    
    When the crtc transformation changes, the entire crtc must be repainted.
    This was being done by clearing the shadow and then painting the rectangle
    containing the screen image; the clear being required as the screen image
    may not fill the crtc. When changing the transform rapidly, this leads to
    flashing. Eliminate the clear by painting the entire crtc instead of just
    the screen rectangle.
    
    (cherry picked fom commit 5394b7e66224d20888dd4020f5cb8ca930720fb4)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5946d603e76206105bea41a8beeb116daf209964
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Feb 9 13:09:11 2009 +0100

    Add XkbDir to Files config file section
    
    The XKB base directory was not configuable through the config file.
    
    (cherry picked from commit 76f18b94bd2719a8199334742d021c4d0806187d)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 39eb1bee84b520cfa45981c445c4c976d63ab03d
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Feb 17 12:59:16 2009 -0500

    RANDR: Fail softly on GetPanning if the screen can't do it.
    
    Just return a zeroed-out reply in that case.  This is unambiguous, and
    distinguishes "you didn't name a CRTC" from "you named a CRTC that can't
    do panning".
    (cherry picked from commit 123093996507c4d3b6dc457240ce00f8ac42f410)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 69a2728891e92da6a674d7313f3bb47c629b38dc
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Wed Jan 7 19:37:03 2009 -0200

    Default to use standard bitmap fonts, with builtins as fallback
    
      The builtin-fonts configure option was removed, as it at best should
    have been a runtime option. Instead, now it always register all "font
    path element" backends, and adds built-ins fonts at the end of the
    default font path.
      This should be a more reasonable solution, to "correct" the most
    common Xorg FAQ (could not open default font 'fixed'), and also don't
    break by default applications that use only the standard/historical
    X Font rendering.
    (cherry picked from commit 49b93df8a3002db7196aa3fc1fd8dca1c12a55d6)
    
        Signed-off-by: Keith Packard <keithp@keithp.com>

commit 444127f9f408d2f517fdfab0092bd67b29073373
Author: Alan Hourihane <alanh@vmware.com>
Date:   Fri Feb 13 13:45:08 2009 +0000

    glx: fix retval checks when failures occur for drawable creation.
    (cherry picked from commit a26c77ff432d2e85a2665fc36fca25143460c476)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4302a32391711ea86051c7e6d90cb018c79beec2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 30 14:19:41 2009 -0800

    Make crtc_notify wrap/unwrap code do nothing unless mode code is inuse
    
    Drivers not using the new hw/xfree86/modes code would crash in DRI due to
    that code trying to monitor CRTC changes.
    
    (cherry picked from commit ea309e47457156b60aadbf113f04e5b6851029c8)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 09cde70a6b3a05c28014862db19b36650412c2f3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Feb 2 12:30:57 2009 -0800

    XQuartz: GLX: Fix accidental exclusion of glBlitFramebufferEXT on Leopard
    (cherry picked from commit 8620579483789ae9ac1b68dbefe32b70011386de)
    (cherry picked from commit 0dbc356795bbab3889b5f1684f55bd193757d0c9)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6bbe98f01d1fc66b6b853bdcdd62edf87a91627d
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Feb 1 15:08:02 2009 -0800

    XQuartz: GLX: OpenGL.framework on Tiger doesn't have glBlitFramebufferEXT
    (cherry picked from commit e01662cadcaa4052e3a5aa82cbaed00a2d0220e0)
    (cherry picked from commit fd08be749e0b3c5de02a6ae8b3d21f92c5986157)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 519ae3a0dfc61fc55370abec75551aa2615643fb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Jan 11 16:34:36 2009 -0800

    XQuartz: Don't need explicit Activate/EnableDevice in InitInput
    (cherry picked from commit b1d29784410b3b93037e5636f336ba608d8ad6e3)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ada58b69ca0a5e674cda7ae59a53061645621888
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jan 30 21:44:08 2009 -0800

    x11-input.fdi: Add options needed to handle adding USB devices on Solaris
    (cherry picked from commit 60bcdd687040db76490851d4b459284ce37020e0)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 516f8e2cad1311a09764e2633644188d1e3c31bb
Author: Eric Anholt <eric@anholt.net>
Date:   Sun Feb 8 13:00:15 2009 +0100

    glx: Replace broken GLX visual setup with a fixed "all" mode.
    
    With trying to match depths so that you didn't end up with a depth 24
    fbconfig for the 32-bit composite visual, I broke the alpha bits on the depth
    24 X visual, which angered other applications.  But in fixing that, the
    pickFBconfigs code for "minimal" also could end up breaking GLX visuals if
    the same FBconfig was chosen for more than one X visual.
    We have no reason to not expose as many visuals as possible, but the old
    "all" mode didn't match any existing X visuals to GLX visuals, so normal
    GL apps didn't work at all.
    
    Instead, replace it with a simple combination of the two modes: Create GLX
    visuals by picking unique FBconfigs with as many features as possible for
    each X visual in order.  Then, for all remaining FBconfigs that are
    appropriate for display, add a corresponding X and GLX visual.
    
    This gets all applications (even ones that aren't smart enough to do FBconfigs)
    get all the options to get the visual configuration they want.  The only
    potential downside is that the composite ARGB visual is unique and gets a
    nearly full-featured GLX visual (except that the root visual might have taken
    the tastiest FBconfig), which means that a dumb compositing manager could
    waste resources. Write compositing managers using FBconfigs instead, please.
    (cherry picked from commit c40bad88475debf7a1774e22dce835577ad32154)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8b967b24690cb072fc37c463eceb2b886cef80c4
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Feb 2 10:13:46 2009 -0800

    glx: Don't match fbconfigs to visuals with mismatched channel masks.
    
    This fixes at least one known bug, where the depth 32 visual would end up
    with a depth 24 fbconfig attached, angering compiz.
    (cherry picked from commit 5100d829a4d71ce4a9fbc2b81694a1fb90066ccf)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7fdaca64463951ab9199dc12910379c90dba3fac
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 17 18:57:13 2009 -0800

    mi: force the paired kbd device before CopyKeyClass. (#19574)
    
    Some multi-media keyboards send the key events for multimedia keys through
    the device file used by the mouse. Sending a key event through the VCP
    however will fail. The VCP doesn't have a key class so the server crashes or
    (with an appropriate fix) the event is simply swallowed.
    
    Thus, for key events if the master does not have a key class, get the device
    paired with the master (i.e. the VCK) before processing the event any
    further.
    
    X.Org Bug 19574 <http://bugs.freedesktop.org/show_bug.cgi?id=19574>
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit a9dd41de7eecc1dcede4ccc8d5cf25f10343bb1a
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Feb 2 10:20:13 2009 +1000

    mi: don't call UpdateSpriteForScreen if we have Xinerama enabled. #18668
    
    In Xinerama all windows hang off the first root window. Crossing the screens
    must not reset the spriteTrace, otherwise picking fails and events are sent to
    the root window.
    
    X.Org Bug 18668 <http://bugs.freedesktop.org/show_bug.cgi?id=18668>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 9fe9b6e4ef669b192ee349e3290db5d2aeea273c)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 536748aa88f82e4157b86ed1a02b798b1510bdb8
Merge: 8c6ddbf be21199
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 17 18:52:04 2009 -0800

    Merge branch 'panning-for-server-1.6' into server-1.6-branch

commit 8c6ddbf754ff6c2eb99105f93aaa30749dced619
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Sun Nov 30 02:59:34 2008 -0200

    Correct static symbol XkmReadTOC and first pass on compile warning fixes.
    
      The warnings corrected were only the ones that should correct
    real problems. The most common one is 64 bit integers as
    "printf %l" arguments.
      Note that there is a patch related to this at:
    http://bugs.freedesktop.org/show_bug.cgi?id=18204
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 16b11cd03d8c5def07f0e598f237f71a37883a46)

commit 0c9db0ea10d9fd2a311bca47bba3c60e74ec6eec
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Jan 9 14:32:14 2009 +1000

    xfree86: always force RAW mode under linux.
    
    The previous check for AEI on left us with the possibility that AEI is forced
    off in the config, but devices are added through evdev nonetheless. A keyboard
    added this way can CTRL+C the server. Even when we use kbd, we can set the
    mode to RAW, so it's safer alround to to so.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit b33905234025f005819c7e2acd653a3a0ecfeb82)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3284b03dca180ba2312904b1e20fe83df56f5f3c
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Feb 12 18:34:22 2009 -0800

    Check for and report errors writing xorg.conf.new from Xorg -configure
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    (cherry picked from commit ac470dfb4fadaa0b28b6f8b57f4f13a20842b897)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit caf503aef15865a969b881355d5e663490a6e194
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Feb 12 18:23:59 2009 -0800

    Correct error message if specified config file is not found
    
    By making the "Unable to open config file" header a warning, it was
    not appearing with the filename when a config file was specified and
    not found.   Now we make it an error message again, but only issue
    the error if a filename was specified - if none was specified, then
    we don't even issue a warning, just the "Using autoconfig" info message.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    (cherry picked from commit bd713794ceaa1b2890522554562103c0a2d50f04)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 791c6ecceec94369f6035b8845a2cb293d194eef
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 3 20:18:37 2009 -0800

    Handle the combination of panning and crtc transforms
    
    This patch gets the shadow scanout buffer repainted on panning area changes.
    It does not, however, track the mouse correctly.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 7968823cbc02615e1080c0d3f34dcebe14ea1771)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 099d74a12752808dd1972c28bdb228fc447d3774
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 3 20:15:41 2009 -0800

    Damage re-used shadow scanout buffer using new transforms.
    
    When the shadow scanout buffer can be re-used, the underlying framebuffer
    area must be damaged so that the scanout will be repainted. This patch
    delays the addition of that damaged area until after the transform in the
    crtc has been updated, otherwise the old transform would have been used and
    the wrong area repainted.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 763df9eec79a867978efc5138d8635a46c1a0d17)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4992c31e6c09a9140d4482d762b5dfff0a4efedb
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 3 20:12:42 2009 -0800

    Handle matrix computation overflow in RRTransformCompute
    
    If the computation of the composite fixed-point transform for RandR
    overflows at any point, take the resulting floating point transform and
    scale that back to fit in a fixed point matrix. This ensures that a matrix
    will always be available, although perhaps at reduced precision. Someday we
    should add floating point matrices to Render.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 62fc98cb88e4e8b636f343453fc1168a87c58972)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 660c2a7d4c6cb52fd0992e9d2008a24805dc8c02
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Feb 12 18:27:48 2009 -0800

    Query the DDX in ProcRRGetScreenInfo.
    
    This is the RandR 1.1 version of GetScreenResources and needs to re-query the
    DDX to see if the mode pool changed.
    
    Fixes Launchpad bug #325115.
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 34724f45512e311377b972da480d35304fd687cc
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Fri Jan 30 03:56:39 2009 -0200

    Work around inclusion of <X11/extensions/panoramiXext.h>
    
      The X Server build only needs the macros PANORAMIX_MAJOR_VERSION
    and PANORAMIX_MINOR_VERSION from that header.
      Addition of extra prototypes to <X11/extensions/panoramiXext.h>
    caused a X Server build failure.

commit 1f729b42d567ae9533ac0e467afc9fbc83390776
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 30 21:12:17 2009 -0800

    Version to 1.5.99.902

commit 56f6fb8c8652c85e522e42557f8969987069076b
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jan 30 19:06:17 2009 -0800

    randr: Avoid re-querying the configuration on everything but GetScreenResources.
    
    The new path should only re-query on the other requests when we haven't
    gathered the information from the DDX yet (such as with a non-RandR 1.2 DDX).
    
    Bug #19037.
    (cherry picked from commit 317f2b4a9fe4b606975711bc332166a82db5087d)

commit 6d928aa227b12832dd358619722a5f4dc71b5d19
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 30 20:17:10 2009 -0800

    RandR crtcs not fetched correctly when primary output is set.
    
    Primary outputs may not have a CRTC.
    Loops fetching CRTCs respecting primary output were broken.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 4de5705545792d77c9990bbec3e263a517757a2a)

commit 759ed0679a030f502b74a6ff44c15d1c97d9a937
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 30 19:14:36 2009 -0800

    RandR SetOutputPrimary should work with or without a crtc connected
    
    The test was inverted from the protocol spec, and besides, the test is bogus
    anyways.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit c1f2be1f3fd0c80cb4c85b98140b98aa9311242b)

commit b893dc59da9f5a7afb59ea0b2cd794872fc5727f
Author: Thomas Jaeger <ThJaeger@gmail.com>
Date:   Sat Dec 20 16:17:02 2008 +0100

    Don't release grabs unless all buttons are up
    
    Previously, only buttons <= 5 would count here, but the core protocol
    allows for 255 buttons.
    
    http://lists.freedesktop.org/archives/xorg/2009-January/042092.html
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 717a961528ec69a6e630d536e15568670e0b398a)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 191161a24a80dc553b11f829c12cfffb76ec7185
Author: Thomas Jaeger <ThJaeger@gmail.com>
Date:   Mon Dec 22 00:55:09 2008 +0100

    Count the number of logically down buttons in buttonsDown
    
    This fixes the following bug.  Assuming your window manager grabs
    Alt+Button1 to move windows, map Button3 to 0 via XSetPointerMapping,
    then press the physical button 3 (this shouldn't have any effect), press
    Alt and then button 1.  The press event is delivered to the application
    instead of firing the grab.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit f7f85f696570541e2dd43462675de9e6ee46f545)

commit fe0abdceb483ec0bb2977016b00aef57033aa449
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Jan 8 11:53:30 2009 +1000

    mi: ensure chained button mappings from SD -> MD (#19282)
    
    After copying the master event, flip the detail field to the mapped button of
    the SD, not the physical button. This way if the SD has a mapping 1:3 and the
    MD has a mapping of 3:4, a press on button 1 on the SD results in a core event
    on button 4.
    
    X.Org Bug 19282 <http://bugs.freedesktop.org/show_bug.cgi?id=19282>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3441917008021fb13cf86fa619970859d927e17a
Author: Thomas Jaeger <thjaeger@gmail.com>
Date:   Mon Jan 5 01:26:42 2009 -0500

    Don't alter device button maps in DoSetPointerMapping
    
    Currently, if a device map differs from the core pointer map, then the
    request may return MappingBusy, even though all the affected core
    buttons are in the up state.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 3d549438c29004d78032ecc50ab45ca0e3f49623)

commit 364bcbea48d5e49bef8d36f6724e2702cbb4b1af
Author: Thomas Jaeger <ThJaeger@gmail.com>
Date:   Fri Jan 9 02:02:38 2009 -0500

    Xext: Send out correct events in ProcXTestFakeInput
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit b2756a71a432f7cf7c870a48676c98625512558d)

commit e789789196db8271a83c751fdf990ceb70164cb1
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jan 5 15:48:45 2009 +1000

    xkb: fix typo - missing negation when checking button state.
    
    Introduced with a85f0d6b98237d8a196de624207acf1983a1859a.
    
    Reported by Thomas Jaeger.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 515ce3e4ba42605a1ee9979e8bb5acd3cf6470a3)

commit ebb3872925315d705e47e1ccd7f193ac90ac33dc
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 26 11:15:05 2008 +1000

    Xi: fix use of button->down - bitflags instead of int arrays.
    
    The device's button down state array was changed to use DOWN_LENGTH and thus
    bitflags for each button in cfcb3da7.
    
    Update the DBSN events to copy this bit-wise state.
    Update xkb and Xi to check for the bit flag instead of the array value.
    
    Reported by ajax.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    (cherry picked from commit a85f0d6b98237d8a196de624207acf1983a1859a)

commit 50d80c25525a691472e3fc5859fb303a3ffe1ef2
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jan 12 15:29:36 2009 +1000

    dix: fix WarpPointer calls for devices with custom valuator ranges (#19297)
    
    If the MD's lastSlave was a devices with custom axes ranges, then a
    WarpPointer would position the cursor at the wrong location. A WarpPointer
    request provides screen coordinates and these coordinates were scaled to the
    device range before warping.
    
    This patch consists of two parts:
    1) in the WarpPointer handling, get the lastSlave and post the event through
       this device.
    2) assume that WarpPointer coordinates are always in screen coordinates and
       scale them to device coordinates in GPE before continuing. Note that this
       breaks device-coordinate based XWarpDevicePointer calls (for which the spec
       isn't nailed down yet anyway) until a better solution is found.
    
    X.Org Bug 19297 <http://bugs.freedesktop.org/show_bug.cgi?id=19297>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit d36adf52a2b2711d22b11105f7bd907d4493fb9b)

commit b19f12712a0762f20065282fd055fe9bc3ca975f
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jan 12 16:16:24 2009 +1000

    dix: EnqueueEvent and PlayReleasedEvent need to handle DeviceMotionNotifies
    
    No MotionNotify events in the processing anymore, so let's have them treat DMN
    instead.
    
    Reported by Thomas Jaeger.
    (cherry picked from commit 488d45295105daf10ccd17ca93ae6a6f4d0104f1)

commit ef796a95dd7ddf4ad5761a6ee2de1cdb56190ba2
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Tue Jan 6 10:03:19 2009 +0800

    avoid a potential endless loop.
    
    Previously it is possible that creating rotation data, then cleaning
    up and creating again so that pScreen->BlockHandler and
    xf86_config->BlockHandler all point to xf86RotateBlockHandler.
    See bug #19343.
    (cherry picked from commit 5f3188228eb988bd8f08b62c84f98a8ff66ee283)

commit 840b4da5f29e43ccadc720f075e00237d12ef01b
Author: George Staplin <gstaplin@apple.com>
Date:   Mon Jan 26 03:02:38 2009 -0700

    XQuartz: GL: indirect.c changes to fix the build with newer OpenGL frameworks.
    (cherry picked from commit 143224405ba74929c702a95de52b56df140b0d1b)

commit 97a6f55f221e3d470add18db80e3769713480103
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Jan 16 19:26:07 2009 -0800

    XQuartz: SnowLeopard: Help system book name changed in 10.6
    (cherry picked from commit b57cb05c69acbedb00a97234099ea104309aa2cb)

commit e81b4d495ba02d4fc0b05c26a53fd2a816a61eaa
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Jan 16 13:54:08 2009 -0800

    XQuartz: mieq: Wait for the server to finish initializing before letting other threads mieqEnqueue
    
    Avoid possible race condition whereby one thread might call mieqEnqueue before InitAndStartDevices finishes
    (cherry picked from commit 94e417ac87a98cd5c6bf2d7c495d702748398931)

commit d6498ea62117cce6a00ac045ddeefb7268a70f5b
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jan 30 16:17:58 2009 -0800

    Move the apple fat binary hacks back to a header file, and make it apple-only.
    (cherry picked from commit dd098501d800571e71d06ffc936635a6c9d44e05)

commit b530a0e97b5737375ca1f4eced26d587a16f843f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Jan 15 20:57:42 2009 -0800

    XQuartz: Fix builddir != srcdir issues and undef _XSERVER64 where appropriate on fat binary compilation
    (cherry picked from commit f020900641b44a1142e5c2198e9678de2744454e)

commit 82fd4d170824068dddf3b4e6581a12d48e1a069a
Author: George Staplin <gstaplin@apple.com>
Date:   Mon Jan 12 19:30:43 2009 -0700

    XQuartz: xpr: Cleanup some of the code and possibly fix part of the GLX Pixmap problem.
    
    Split DRICreateSurface into 3 functions.
    
    Make CreateSurfaceForPixmap use xp_configure_surface.  I suspect this is partly why
    GLXPixmaps never worked.
    
    It will require some more work and thoughts for pbuffers, unless we fake those with
    pixmaps and surfaces.
    (cherry picked from commit 9cf264e67744262b9f45079e6cd752eb3e3b0e08)

commit 9cbdcf1fa4bdcc115def9f134a57ac96a56c69dd
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Jan 11 14:49:39 2009 -0800

    XQuartz: Only call DarwinUpdateModKeys when needed
    
    Previously, we were calling it on almost every itteration through sendX11Event
    (cherry picked from commit 6461729647ff4441d80811e73f0c0d2f108f2700)

commit 037e52fd7353410397dfd877b3e9af99f791fce1
Author: George Staplin <gstaplin@apple.com>
Date:   Mon Jan 12 14:14:44 2009 -0700

    XQuartz: GL: Make indirect.c build and work in the 1.6 branch.
    
    Reorder some header files and provide some types earlier on.
    
    Remove the static __GLXextensionInfo __glDDXExtensionInfo; that isn't
    used in 1.4 or 1.5, and seems to have been removed from 1.6.  Remove
    the data structures associated with that too.
    
    Remove __glXAquaDrawableResize.  The GLX structure doesn't use
    it anymore, and the Apple version did nothing useful before.
    
    __glXAquaDrawableSwapBuffers(): base no longer contains a drawGlxc
    member.  Now provide the the Apple/Aqua context in the __GLXAquaDrawable
    struct.  Add the context member to the __GLXAquaDrawable struct.
    
    Remove the fallback configs.  They aren't used in 1.4 or 1.5 either.
    
    Remove init_visuals().  It's not used in 1.4 or 1.5 either.
    
    In the drawable constructor initialize the state properly, including
    the new context member.
    
    Remove glAquaResetExtension() -- it's not used anymore.
    
    This has been tested remotely and proven to work with glxgears,
    fire, various texture programs I wrote, and various Mesa demos.
    (cherry picked from commit d514152195452ae11ec7769c76489651620ad380)

commit ee9736b26b1021fac2cf259e6b2142ea780b2af8
Author: George Staplin <gstaplin@apple.com>
Date:   Fri Jan 9 16:08:26 2009 -0700

    XQuartz: GL: Set the __GLXconfig renderType to GLX_RGBA_BIT.
    (cherry picked from commit 3c14546f58f8a138fe67c9cacc3bd0b7fa90c29a)
    (cherry picked from commit a665ed16f736cf1901b89448dc5d37f4d16dfaf4)

commit b646513861aac9538ba3ebd8e2c7ef530392ff5d
Author: George Staplin <gstaplin@apple.com>
Date:   Fri Jan 9 15:53:39 2009 -0700

    XQuartz: GL: Make many more fbconfigs and visuals available for the 1.5 branch.
    
    Use a __GLXconfig linked list struct to store the configurations for the
    fbconfigs and visuals in a pGlxScreen.
    
    Also, remove the __GLXvisualConfig/GlxSetVisualConfigs code that isn't used
    anymore.  There is more code we can remove later, but I want to do that in
    separate commits.
    (cherry picked from commit 94162b0f8a25267aca280d25e216cc6bde47da6e)
    (cherry picked from commit 15bb6abd59fdefe7037237faaea1a39711a972ed)

commit 9e03178ae2da6beb939141f662d875c4c1d40354
Author: Michel Dänzer <daenzer@vmware.com>
Date:   Tue Jan 13 13:05:32 2009 +0100

    EXA: Declare glyph cache picture as component-alpha when necessary.
    
    Without this, rendering component-alpha glyphs may break without a mask.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=19233 .
    (cherry picked from commit 639f289dcdbe00a516820f573c01a8339e120ed4)

commit 648807adb059b6cfc413d41e3a37670ce850aee6
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 30 15:43:04 2009 -0800

    Make RandR CRTC info report panning area instead of just crtc area
    
    This makes the RandR info consistent with the Xinerama info.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 6e49fdd2c839b6244c23ce95c3ae76a1a265b986)

commit 9b2958b3a2fb4b65d67916ba7e98dfd21ad434f3
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Dec 19 18:59:27 2008 +0100

    randr: Consider panned crtc's when calculating xinerama screen sizes.
    
    - This will allow window managers and applications to actually use the panned area.
    (cherry picked from commit 332d65ec7a6e94d75efe95d53742f137835274de)

commit 251d0d8090322b2c9dc0c8b7bef001f338d19433
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 12 13:03:30 2009 -0800

    Update version to 1.5.99.901 (1.6 RC1)

commit 71628cabc9dddf5c9fe12d555ae0c47d5902b2f7
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 12 11:51:28 2009 -0800

    Merge include/dix-config-post-verbatim.h into include/dix-config.h.in
    
    No sense having an extra include file here; it makes building stuff harder.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cbd977cc15cf22a3e42b10942d5657cb8b9ac335
Author: Alban Browaeys <prahal@yahoo.com>
Date:   Mon Jan 12 10:57:11 2009 -0800

    Fix dmx compile on 1.6 branch.
    
    http://www.mail-archive.com/pld-cvs-commit@lists.pld-linux.org/msg166742.html
    contains a patch from "arekm" which I build upon to make up this one.
    
    Mostly fixes for Xcalloc which I previously tried to fix the same way but
    without finding the right spot.
    
    I cannot tell if dmx works though. Only that it at least compile.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6be355b8e8cabeb5832ce9970a83782ea46fd4d1
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Jan 9 13:46:20 2009 +1000

    dix: drop x/y back into last.valuators before updating the history (#19285)
    
    positionSprite needs to scale to screen coordinates and in the process of
    doing so alters dev->last.valuators[0:1]. Drop the real coordinates back after
    finishing and before updating the motion history. This way, we don't push the
    screen coordinates into the motion history.
    
    X.Org Bug 19285 <http://bugs.freedesktop.org/show_bug.cgi?id=19285>
    (cherry picked from commit 56efbc0986e782da45addb05ece9f456d41d7a90)

commit ca21fd7ddf50e6a363c6ad027d46388596872d3b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Jan 11 01:52:42 2009 -0800

    XQuartz: Add locking to make mieq thread safe on OSX
    (cherry picked from commit 7a8d2266861e74176b5310b83652a9c10a170494)

commit 671b71a6cba1c9da7797524f21ef1b27ff04adfd
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Jan 11 01:42:24 2009 -0800

    XQuartz: misc 1.6 updates (still --disable-glx)
      rlAccel is not longer compatable, and it's not worth fixing
      Don't override DeviceCursorInitialize with a noop
      Don't do a SwitchCoreKeyboard (which wasn't even needed in the first place)
    (cherry picked from commit c137f681680e1d04b1513a8be68aeda4d1c56fd5)

commit 69ddac23281534a06c0acb3005a09e4448594925
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Jan 10 01:39:08 2009 -0800

    Apple: Don't use DRI2
    (cherry picked from commit a1d35cee5907a76977ee43c49cb55c8f411c9794)

commit 681cc0f38b0b96c5e41c93d6944e4fa58c950eda
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Dec 23 12:39:38 2008 -0800

    XQuartz: Use depth=24 instead of FatalError if we can't figure out our depth
    (cherry picked from commit 80b65c5b78d125c4ad3620b87b121c9e666299c3)
    (cherry picked from commit 932ed6e949757926a17f7efe6b0255e38efa1152)

commit 7872669105d6d81ded5128eb4d4f1acce34c3b02
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Dec 9 23:48:18 2008 -0800

    XQuartz: Make debugging output for invalid depths a bit more detailed
    (cherry picked from commit 609fb166b7062c76f0561df12ffe893811f6ac8f)
    (cherry picked from commit 1962af7ee3bdf54cfa674187dea67b9ad36cd5a1)

commit fdfc70ea0a183daaabb9bb436f2b0cbf95f47e88
Merge: 8cfb353 82f4273
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jan 12 10:40:04 2009 -0800

    Merge commit 'whot/server-1.6-branch' into server-1.6-branch

commit 82f42730fa268e85dc95c43a6450c35f9e57acdf
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Dec 15 10:46:07 2008 +1000

    mi: force CopyKeyClass for key events. (#19048)
    
    While we don't want to copy all other device classes into the VCK, we need to
    copy the key class to transfer the layout from the SDs into the VCK.
    This resembles the functionality of SwitchCoreKeyboard in server 1.5.
    
    Thanks to Colin Guthrie for providing the follow-up patch (#19222)
    
    X.Org Bug 19048 <http://bugs.freedesktop.org/show_bug.cgi?id=19048>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 8cfb353078d9b5d03a9633304038141a60adc970
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jan 12 11:07:08 2009 +1000

    dix: Fix handling of do_not_propagate_mask window attribute.
    
    This was broken in 32aa252e988be8cbfd4f7e373fb7b7736ef1f5f2.
    
    Signed-off-by: Kim Woelders <kim@woelders.dk>
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 30d2cfcd3851870178d62e5067211aa36f87fbd2)
    
    Conflicts:
    
    	dix/events.c
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 10c0287232eab1b93d078774f52e65efa0c03607
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jan 12 11:07:08 2009 +1000

    dix: Fix handling of do_not_propagate_mask window attribute.
    
    This was broken in 32aa252e988be8cbfd4f7e373fb7b7736ef1f5f2.
    
    Signed-off-by: Kim Woelders <kim@woelders.dk>
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 30d2cfcd3851870178d62e5067211aa36f87fbd2)
    
    Conflicts:
    
    	dix/events.c

commit 93e510d3abaee97f5b7812abc3a2693dabf94478
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Dec 4 10:30:02 2008 +1000

    xfree86: Only use the evdev ruleset on linux.
    
    As suggested by Julien Cristau
    
    This is an follow-up to
    commit 9c5dd7337fa93fb1650cc017e523b939dcbf482a
    Author: Peter Hutterer <peter.hutterer@redhat.com>
    Date:   Wed Dec 3 14:24:25 2008 +1000
    
        Let the DDX decide on the XkbRulesDefaults.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Acked-by: Julien Cristau <jcristau@debian.org>
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>
    (cherry picked from commit 13de7511b17b57a28668e1a60b196ccfe61dbcbe)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit cc78f04b22daabc06d9fb82f550e3f4dbbe76f28
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Dec 3 14:24:25 2008 +1000

    Let the DDX decide on the XkbRulesDefaults.
    
    Rather than assuming rules in the CoreKeyboardProc, init the default rules in
    InitCoreDevices, then re-use them later.
    
    In the xfree86 DDX, set the rules to "base" or "evdev", depending on whether
    we'll load kbd or evdev.
    
    If we create a new MD, use pc105,us as default and re-use the rules file used
    previously.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 02c059ea99a791b9e3643b4fb131af01306b1c23
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jan 11 15:56:28 2009 -0800

    dix: move focus handling into enterleave.c.
    
    This commit moves the focus handling from events.c into enterleave.c and
    implements a model similar to the core enter/leave model.
    For a full description of the model, see:
    http://lists.freedesktop.org/archives/xorg/2008-December/041740.html
    
    This commit also gets rid of the focusinout array in the WindowRec, ditching
    it in favour of a local array that keeps the current focus window for each
    device.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit eb2d7b3d700952ba88c77deacf687b251300e660)
    
    Conflicts:
    
    	dix/events.c
    	include/input.h
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c75445754e283dc2a306ef1cf2bbd94b40423640
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Dec 19 21:05:09 2008 +1000

    dix: add a few auxiliary functions for the updated focus model.
    
    SetFocusIn and SetFocusOut, including the static array to keep all focus
    windows.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 673eb23aac578dcdc04e2a99d1fa5c2987eb58b8)

commit ceeb62f892a1a4df9ef1054d2c9ba12e26d55ef2
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Dec 18 15:55:11 2008 +1000

    dix: reduce FirstPointerChild complexity
    
    Instead of keeping a flag on each window for the devices that are in this
    window, keep a local array that holds the current pointer window for each
    device. Benefit: searching for the first descendant of a pointer is a simple
    run through the array.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 38b28dcadd0990cb43f50db4300eebb8f044db96)

commit ed90245461f33f1e0eac01c0dea4d0132364f60a
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Dec 18 15:43:18 2008 +1000

    dix: remove now unused "exclude" parameter from FirstPointerChild
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 72ad4a85cc0ffe60a90011d65ef718d5852beae4)

commit f0025f59e85f48da5e77cd6b759a693d40b2f9ea
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 9 11:20:31 2009 -0800

    dix: re-implement enter/leave model.
    
    The old model was implemented based on a misunderstanding of NotifyVirtual and
    NotifyNonlinearVirtual events. It became complicated and was broken in some
    places [1]. This patch wipes this model completely.
    
    A much simplified implementation is provided instead. Rather than a top-down
    approach ("we have a tree of windows, which ones need to get which event")
    this one uses a step-by-step approach. For each window W between A and B
    determine the pointer window P as perceived by this window and determine the
    event type based on this information. This is in-line with the model described
    by Owen Taylor [2].
    
    [1] http://lists.freedesktop.org/archives/xorg/2008-December/041559.html
    [2] http://lists.freedesktop.org/archives/xorg/2008-August/037606.html
    (cherry picked from commit 0aa4460c3b4f9bb17d5412d76fa8c4c501132429)
    
    Conflicts:
    
    	dix/enterleave.c

commit 1ffd9ec7606606570980490b91b780e02bc29d7d
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Dec 16 17:10:03 2008 +1000

    xfree86: don't restore the TTY mode if we didn't initialize it ourselves
    
    Restoring it unconditionally means we restore to whatever tty_mode has as
    default value (i.e. 0). K_RAW happens to be 0x00, so we always restore to raw
    mode if allowEmptyInput is off.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Signed-off-by: Adam Jackson <ajax@redhat.com>
    Signed-off-by: Julien Cristau <jcristau@debian.org>
    (cherry picked from commit aea6f19f25e13768b1d09fac4991d6a5e6c2cdac)

commit 3c11efd7dc09aa92039f851c2bbf2ca6b5a5ac8c
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Dec 23 09:59:28 2008 +1000

    xfree86: If an input device failed to activate, return immediately.
    
    Devices are only activated once - right after they've been added to the
    server. If a device failes activation, it's dead. There's no reason to
    continue. Return the error code from ActivateDevice() without setting up
    sprite information or even sending a event to the client.
    
    Then - in the DDX - just remove the device again.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 27011254c4de4e573a0851bf46892fb488db6522)

commit 2ce48363b862db134624797bc071f8c45323a075
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Dec 23 10:00:34 2008 +1000

    xfree86: don't call CheckMotion if a device hasn't been enabled. #19176
    
    X.Org Bug <http://bugs.freedesktop.org/show_bug.cgi?id=19176>
    (cherry picked from commit e1a3a1a0d85c9971aea65c2228b5fd4dbf3bf57a)

commit 3225e1378e3929e538941bbfc9ec495638bd407a
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Dec 26 15:51:55 2008 +0100

    exa: preparing as source and finishing access as mask is a bad idea
    (cherry picked from commit 027b440d4f9f0cdd46addff46fd2d5c44cd5c847)

commit 2056c10d12f6b4facf628b861230f9b0a13f3a73
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Dec 26 16:38:27 2008 +0100

    exa: Allow drivers to set non-NULL devPrivate.ptr for !offscreen pixmaps.
    (cherry picked from commit 3534a5e5d9c5af85149c799f324257f89507fa23)

commit 4130761f151ff5414694472e1dc29d8f2893f10e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jan 7 10:56:26 2009 -0800

    XQuartz: Fat binary buildfixes
    
    Let Xarch.h set X_BYTE_ORDER for us.
    Determine _XSERVER64 at build time.
    (cherry picked from commit f54736c2b0b537c8322ecb2db8e9cee5eea68165)
    (cherry picked from commit cc677cb4f458f371a4012ce0dc1121a52a2cb699)

commit 2eb09af56179d570a6d52b65c2029a2b62dcdff3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Nov 16 15:35:17 2008 -0800

    XQuartz: Use AvailabilityMacros.h instead of availability.h for Tiger
    (cherry picked from commit 91f3c3435716195e6d606c8e2f6b0de52eb5972d)
    (cherry picked from commit 65ab2f44ea7fc4d87e021bed548eda81fc3cbae7)

commit fecc82ee1147cb314725ac774525a18a861ed719
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Jan 2 11:06:12 2009 -0800

    XQuartz: Copyright Update... happy new year
    (cherry picked from commit 9f1c26ae8d9ccf81cba0ab946326968a701f8c36)
    (cherry picked from commit df6ca888b0c04fdf4ff2d7fb4a414275b983ed34)

commit d80e35a9ae507ad742f97ca7254314ff28371688
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Jan 2 10:58:40 2009 -0800

    XQuartz: pbproxy: Push dpy init and CFRunLoop hook setup into the pbproxy thread to avoid possible deadlock
    (cherry picked from commit 49e59d32b88e4fad070f230b5efaa261b47f78db)
    (cherry picked from commit adbfd49da2453b58a9e13b09c62e0611ea1c3f77)

commit c32a680f2670f05902ee323c68f772f52d3a8320
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Dec 31 12:40:02 2008 -0800

    XQuartz: Don't use NX_SECONDARYFNMASK, NX_NUMERICPADMASK, NX_HELPMASK
    
    We don't have keycodes for them, so don't try to use them
    (cherry picked from commit cb912aca3a2834c4ad8e386c8a0d05c1bb31b0e7)
    (cherry picked from commit 0676a580fcc05d54049269028a34358935a4101c)

commit e08ce79152b0887b8d67c4b03b33634f5ef499bc
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Dec 31 11:57:49 2008 -0800

    XQuartz: Make sure to reset the saved key state when deactivating X11.app
    (cherry picked from commit 3eef78eb321f4f7dbca5a10c80666c621e28a1e0)
    (cherry picked from commit 0d2621b6d4684ec62e67156a5a9dbdd3297f9cb0)

commit bdf776b4579921dd49316c2ff32ff12cc702720a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Dec 31 12:44:50 2008 -0800

    XQuartz: Honor system key repeat rate
    (cherry picked from commit 4303c9be39a86f5a21de108f72b90a989435905e)
    (cherry picked from commit 9faf3de7e5610af340b92acb1b86bf03b6f2241a)

commit 16560db0c041b24346e186169f6e3bd315ca13ae
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Dec 29 19:54:12 2008 -0800

    XQuartz: Better avoid stuck keys on context switches
    (cherry picked from commit e9963f1a4f4f12f253eae9d4f01694b6cabe35ad)
    (cherry picked from commit 4be8d7346b9fdc014b72dd6c404ceecc0ef0d245)

commit 66f801f5a06925c303027f856c5ecea4926d80f2
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Dec 29 19:38:31 2008 -0800

    XQuartz: Workaround OSX VNC server bug for modifier key state
    
    A better approach which ensures we have a L modifier key down if we are told neither are down and atleast one is down... =/
    (cherry picked from commit bc13dda345f716bf4de9bfe4e1d85969263b60c2)
    (cherry picked from commit c67a3e2972c75c02f1aeed94bc0a3c5272422267)

commit a05dbce40248159099c7a7ec7e94bff9ffb700fc
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Dec 29 00:30:31 2008 -0800

    XQuartz: Updated man page fullscreen_hotkeys fullscreen_menu
    (cherry picked from commit 00f3a2e33c8e91da5f855821313a04ea97445656)
    (cherry picked from commit d790c9dd041a2c8e3513d14a556333219d0f8d5e)

commit b8877bb9e4c113a400e47a65a7d25d21f0a43116
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Dec 28 15:57:59 2008 -0800

    XQuartz: pbproxy: We explicitly need libX11 for pbproxy
    (cherry picked from commit 32824120da0749b8369c2592f851bb1030dea9f1)
    (cherry picked from commit 8c6e8fa811c782c85e7fefbe75fe5480098739ae)

commit de78ac43782d7f4ad4b98622e3c419c893d3eeff
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Dec 28 01:53:38 2008 -0800

    XQuartz: Try harder to get the user's login environment
    (cherry picked from commit 6bedaddd78aa04bd303df434a4c49bb87bd7deaa)
    (cherry picked from commit 338f096861136fb6c4f604e93ff21277252676b7)

commit c391114df95109d306e172bea75781d0e9523f62
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Dec 24 00:39:06 2008 -0800

    XQuartz: Reposition windows when we enter fullscreen to ensure our root window
    (cherry picked from commit 7617d3659b5481ef85aecc1f936e7dd2662bdfbd)
    (cherry picked from commit 61ae56f97326c57dda05632ca9f4873238ee18e1)

commit beafebef82687d777d88152c62a351954df7c864
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Dec 23 20:33:27 2008 -0800

    XQuartz: Re-enable rlAccel
    
    It was incorrectly blamed for some crashes a few months ago, and it should be
    safe to use until we get an EXA driver to replace it.
    (cherry picked from commit 8121f30bd29591fc74fbc680fbbf20210271fa58)
    (cherry picked from commit 85347902d97f2d4937f63ae1fac62ee46a61c82f)

commit 86ba5eff623336592091b990209eb07b3f74f8b9
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Dec 21 21:03:59 2008 -0800

    XQuartz: Don't use keycode 0 to determine !swallow since our most common key to swallow is actual keycode 0 (a)
    (cherry picked from commit 33f43a7f03023bfbab25a957cb81fc25b4afa4ca)
    (cherry picked from commit 84f0c03418bf74188596635dcac128fc05f204ad)

commit 2a42a059ce7b259622b36fb3ef909f289d5388d7
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Dec 21 20:40:36 2008 -0800

    XQuartz: Update our "screens" when we toggle rootless rather than when we toggle fullscreen
    
    This old behavior was used as a workaround for the menubar behavior in the older server,
    but we handle it better now and need to update our screens when we toggle the rootless
    state instead.
    (cherry picked from commit 508aa95bc2cd3fdc3dff448ec090919bf807d153)
    (cherry picked from commit 7e7758e1780326ad867be74dbd583a154bad017b)

commit 51319550c9bb079c3af1b98c96c5174bc74e0dbd
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Dec 21 14:54:11 2008 -0800

    XQuartz: Run applications via '/bin/sh -c ...' to support users who expect shell parsing
    (cherry picked from commit 67455e716e3ecffd528930479192785958d37988)
    (cherry picked from commit 7dc0dafef1d241d396f215c506ec2d4f7d8e3a24)

commit b0503b69f998bcf5398ed0382a38346a3f18a77c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Dec 21 14:43:12 2008 -0800

    XQuartz: pbproxy: Release display notification lock when not needed to avoid deadlock
    (cherry picked from commit 22f664ab95a0cae981e9cefad6f075d051583ca5)
    (cherry picked from commit 4c256c0e9c4fe61990343c8bcf2e352c83d76e69)

commit 6c635faa6ff0474199f4f7375022efe1e8ffa8f1
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Dec 21 14:42:26 2008 -0800

    XQuartz: update quoting in case X11.app is moved to a directory with a space.
    (cherry picked from commit cc805dc799efa37c8dcefa3db04d87e9b835ffbd)
    (cherry picked from commit ecc3a7b6090552c309fe8e264d527ddd666a5761)

commit 14d9ccf0ce4c5b4820e692cb58077c4c5918f12a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Dec 18 09:14:16 2008 -0800

    XQuartz: Changed X11.sh to allow use of a ~/.x11run as requested by users of alternate shells
    (cherry picked from commit b62ed1f8eaf041a946bb591165bb18ee481dedbf)
    (cherry picked from commit c3812aec973b7341a600e5d2d07d5a7f15abd609)

commit 87df8e681988e546ed943b0f3e7df2851ada4712
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Dec 17 15:09:35 2008 -0800

    XQuartz: Get rid of white rectangle bug
    (cherry picked from commit 3269959033ed0c675a3a906666454df34086896a)
    (cherry picked from commit fd6fb6a2771df152b57f9dfb159fa42a3b1d37cd)

commit 5ff6b1e7ed11a37b2878f2f9a37b2afce00baeb0
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Dec 17 13:54:53 2008 -0800

    XQuartz: Name the startup shell script X11 for better compatability
    (cherry picked from commit f84613d6fcbbb5f769ee34cff0900353a13693cf)
    (cherry picked from commit 102abeda37d6b62971a9952efa0453e38504ae0b)

commit ffdf0139051c51f94d6a7a9a5fc2ccc68959d14b
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Dec 19 19:10:23 2008 +0100

    randr/xfree86: Fix a one off error in the panning calculations.
    
    - Example: mode 1280x1024, panned area 1281x1024
               panned_area.x2 = 1281
               mode.width = 1280
      If you substract 1280 from 1281, then that leaves you with one.
      Which is the one pixel that you need to move to actually see the last pixel collumn.
      Substracting 1 from this will consistently prevent you from seeing the right and bottom edge.
    (cherry picked from commit aedd2f566df585db7a1614f302cc8d3feda54275)

commit 2a822c231145afd2b99498d5d4bf96be7dff92c5
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Dec 15 03:18:13 2008 -0800

    mi: Reuse memory in mieqProcessInputEvents rather than making excessive calls to calloc()
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>
    (cherry picked from commit a939368ab8140d48c1da4ba0bb229d13b221189c)

commit a067bd907e9d3e55edd6ca61279968b6cb96236c
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Mon Dec 1 21:20:48 2008 +1000

    mi: Clean up CopyGetMasterEvent, re-use the memory.
    
    Alloc an EventList once and then re-use instead of allocing a new event each
    time we need a master event.
    There's a trick included: because all the event processing handlers only take
    an xEvent, init a size 1 EventList and squash the events into this one.
    
    Events that have count > 1 must be squished into an xEvent array anyway before
    passing into the event handlers, so we don't lose anything here.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Acked-by: Daniel Stone <daniel@fooishbar.org>
    (cherry picked from commit d281866b74f7067f2704c278fe9720eafc0ee5ef)

commit 3519f83f509dd0363f574d3a68b21df98d5f2732
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Wed Dec 10 11:35:09 2008 +1000

    dix: move MAX_VALUATOR_EVENTS into include/input.h
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 0b4fef6337d88ae8ef05b8b73941350a9007565c)

commit 3ec3b502e3c6f0b74f8d96f7dda4f872156589a1
Author: Francis Giraldeau <francis.giraldeau@revolutionlinux.com>
Date:   Wed Dec 17 09:49:39 2008 +0200

    Don't log audit messages when -audit 0 specified
    
    make the auditTrailLevel check more general and don't log when not
    using DTRACE and -audit 0 is set.
    (cherry picked from commit d61e902aab92c262e6c8ee9cd70aec4493cf6cae)

commit 053f32d92864870cd5714befb419810976729df3
Author: Colin Guthrie <cguthrie@mandriva.org>
Date:   Tue Dec 16 17:44:27 2008 -0500

    Fix compilation with -Werror=format-security
    (cherry picked from commit 6d8ea5104cf97dbf64612f58fc06f94f869ed5ec)

commit 8ed4ca2801ece271a4ad7c73a7c0e1329f69ade8
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jun 17 16:10:51 2008 -0400

    XAA: Disable offscreen pixmaps by default.
    
    Say Option "XaaOffscreenPixmaps" to turn them back on.
    
    Apropos of bugs #13795 and #15098.  But this still isn't correct.
    (cherry picked from commit 0c6987df3b9b3a37d201d740d8248c326449835e)

commit 32e81074b967716865aef08b66ec29caf0fec2c5
Author: Robert Noland <rnoland@2hip.net>
Date:   Tue Dec 16 00:07:42 2008 -0500

    Support -sharevts on FreeBSD
    
    Bugzilla #11179
    
    Submitted-by: Nathan Whitehorn
    
    Signed-off-by: Robert Noland <rnoland@2hip.net>
    (cherry picked from commit 7aa29b9d66c3cd0f8af4fafbe92efd0c0556d225)

commit 4c68079c2ae8a2f04363623c44d17bc8c255c3bf
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Sun Dec 14 18:58:33 2008 -0800

    GLX: Changes resulting from changes to Mesa generator scripts / data
    
    Several recent Mesa commits (listed below) make modifications to the
    protocol generator data and scripts.  This commit represents the
    changes to the generated files resulting from the previous changes.
    
        - 0f73302d24f4201813da2939742c5bcb6964b3b1
          GLX: Fix protocol for glTexSubImage#D
    
        - 1709ab01ef24279c782e420568e9257b4b92b224
          Return 0 as the request size when the pixels parameter is NULL
    
        - 63cca2ba10ce7dcc8481cfa4be3872dfc269dded
          GLX: Include glapi.h before glapitable.h
    
    This is the server-side part of the fix for bugzilla #11003.
    (cherry picked from commit f1c9b5ab230cbb4124d8d476ae4886d05022adcb)

commit 75bad86992338f5ce0ade6986b758cd6af2a5b9a
Author: Cooper Yuan <Cooper.Yuan@amd.com>
Date:   Mon Dec 15 10:29:34 2008 -0500

    Fix typo in xf86PickCrtcs()
    (cherry picked from commit 2a61397d17339113b9e37995b06ca543589814ce)

commit f427d3aaa7ca58822033ac5486b46671a937b68a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Dec 13 00:45:27 2008 -0800

    XQuartz: Updated menu item ordering for better HIG compliance
    (cherry picked from commit 4c9bb241ce5fb856fab20ae96fa89bd2b71ef242)
    (cherry picked from commit 73987010b2ef9c67b6614e226c6fae65d834d8f3)

commit d0eb4337e3468a5854e4801fcb1d2bc7d5c4d81f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Dec 10 23:04:30 2008 -0800

    XQuartz: Tiger fix, don't call Xplugin code in the Appkit thread if Xplugin isn't threadsafe.
    (cherry picked from commit 748d9e5bd756513d42c4046f3b31e1fdc55bccb6)
    (cherry picked from commit fd31984e0c0f9a37087cd1cffaa3ba116b12c2e5)

commit d9e1fdcd40bf12378c9fa05a8adbe3aefca65676
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Dec 10 01:56:01 2008 -0800

    XQuartz: Fix path to executable
    (cherry picked from commit 7e9d3698e070a0c63dd2556651373c3aca58e2fe)
    (cherry picked from commit 5926b213b39a90601c73f026dc0699723f5ed10d)

commit e93daf4e7140115f9485c8c0cdc358d50c9575be
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Dec 10 00:00:29 2008 -0800

    XQuartz: fixed make dist
    (cherry picked from commit 2d52367ab92429e58596d1a1ed3ef52a0a38a7aa)
    (cherry picked from commit 13eff12902be1b25d0ccc2089e08305f88949f32)

commit 1cf76f23c7d210d75a401568c5ad788a2fd268d1
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Dec 9 23:47:32 2008 -0800

    XQuartz: Avoid using login /bin/sh blech.  Just use a bash script to start the app, so it will inherit the right environment
    (cherry picked from commit f4b7ad9cc6b0c99fc7ee8516c4bf858ece938148)
    (cherry picked from commit fdf64256127b2661bd6aa81ac694350028d36c43)

commit 22d3ecda18ba799966d08237d8041ad80b20d0f2
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Dec 8 21:59:49 2008 -0800

    XQuartz: unset DISPLAY if we didn't get a launchd socket handoff
    (cherry picked from commit b959727f38733009c6381cc8ca06b5984257bdac)
    (cherry picked from commit 9cbed0a325175e7ddb751db54fe6c0f5a5cedd16)

commit 9eb5f3092984206ac7cab9a9fdb4b19448db3a24
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Dec 8 21:00:11 2008 -0800

    XQuartz: unsetenv(DISPLAY) if we're not org.x.X11
    Also some prefix related fixes.
    (cherry picked from commit fd459e96581a883e30323c840b71004aa0747169)
    (cherry picked from commit 99b2cbf061a9d074e66e6220dc08f8b4624ea6bb)

commit 19e6f73710776aee0b76dcbd62596a448029611e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Dec 6 12:01:28 2008 -0800

    XQuartz: Removed some debug spew
    (cherry picked from commit 370dcf11b360b87aa24cace35eb615419057fda0)
    (cherry picked from commit 8065953ea8c3b7d10c775f6b7fec629bb5a2c83c)

commit ced368287bad65c126cd6a5304969d0a0f9dc4eb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Dec 6 14:11:25 2008 -0800

    XQuartz: darwinPointer reports the actual pixel position now rather than a relative position
    (cherry picked from commit a41e7f75decd340d064fdc0d2c4fe6c88d7dbc82)
    (cherry picked from commit 70930f6d31cc2ca16b40c17e101b106506a8337a)

commit b5687a9d129f6eea7ebe590120f9d90f9d7ed48b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Dec 5 12:42:31 2008 -0800

    XQuartz: Corrected name/command labels in the customization widget
    (cherry picked from commit a689c23f17eb445c36b97eb617ef4b8bd157985f)
    (cherry picked from commit 9ac2e68d86ed1eb6e3f6c900c60908813eca140e)

commit 53d93d0d29f0bef6b2b7e312fb09e498b68636f9
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Dec 2 14:54:10 2008 -0800

    Removed unised option from configure.ac for launchd
    (cherry picked from commit 87e4de0a9a8af6e5e0cbba74e585761f1160a6ab)
    (cherry picked from commit 451050b1e2dc0f2f6356d74ddb6f52183a794e8f)

commit df3f23fe8d13be74e58c894c44683024a190b0f6
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Dec 2 14:53:21 2008 -0800

    XQuartz: pbproxy: Simplify linking
    (cherry picked from commit 909cc5c4dca0f63e90505575bbd454b46a4670cc)
    (cherry picked from commit cbb9ee57f8f29d2a1c39946381471fcd3b8e495e)

commit 6e8626f2eb31a3699bf49597974e01ea4757f31e
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Dec 8 15:58:15 2008 +1000

    Xi: silence compiler warning
    
    Don't mix declarations and statements.
    (cherry picked from commit fb2a8d0e59a3d187255538f6add22ec67551507a)

commit e56059dfa5f2835625b9f74a2af1f128d6eaf265
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Dec 4 09:47:25 2008 +1000

    xfree86: fix compiler warning (use of uninitialized variable)
    
    drv and idev are only set for SDs, but are only dereferenced for SDs too, so
    initializing them to NULL is safe.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    (cherry picked from commit 8e3279134987a45f2a89c963ef2d33bc3d3c8179)

commit 0d12c44d832b98da10dccc3b8bac7676d8ea2c96
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Mon Dec 1 16:57:06 2008 +1000

    xfree86: don't render SW cursors for devices attached to VCP (#16805)
    
    When leaving 3D games such as quake3 or sauerbraten, a cursor may stay on the
    screen. This is caused by one run of SW rendering for the SD, even though the
    SD was attached to the VCP and thus has HW rendering capabilities.
    
    Check for the SD's attachment (like in all other functions) before deciding on
    SW or HW rendering.
    
    X.Org Bug 16805 <http://bugs.freedesktop.org/show_bug.cgi?id=16805>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    (cherry picked from commit bb072019fa8dd292a50ef433d05caeefd1304a73)

commit 63b3bf85ed4e11ace433e6aa21b311cce7144007
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Dec 3 15:06:37 2008 +1000

    xkb: Allow NULL as rulesFile in XkbSetRulesDflts.
    
    If no rules file is given, simply re-use the previous one. If no RF is given
    the first time this function is called, use the built-in default.
    This includes fixing the built-in default to something that actually exists.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    (cherry picked from commit 463e02e7de5da3e582a3a049110a476713c7210e)

commit 9a44cc619f3296b0faca97b0959e19c208f143bb
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Dec 8 14:16:00 2008 +1000

    Xi: don't update VCP's valuators from DeviceValuator events #18882
    
    The VCP doesn't need to update the valuators anyway since it cannot send XI
    events. Just skip that bit.
    
    X.Org Bug 18882 <http://bugs.freedesktop.org/show_bug.cgi?id=18882>
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit c7fffe9e1354f816b6e2adedff045999fba9f1be
Author: Stuart Bennett <sb476@cam.ac.uk>
Date:   Fri Dec 12 00:08:44 2008 +0000

    dolt: allow older versions of bash to compile the xserver (#19031)
    
    Signed-off-by: James Cloos <cloos@jhcloos.com>
    (cherry picked from commit 7be6520d94df874c6bbd46d06a1830a12d0967f2)

commit ca56d764d2be28c64fe15c9e37d534ef00117ad2
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Dec 10 16:13:20 2008 -0500

    xsync: Fix wakeup storm in idletime counter.
    
    Wakeup scheduling only considered the threshold values, and not whether
    the trigger was edge or level.
    
    See also:
    https://bugzilla.redhat.com/show_bug.cgi?id=474586
    http://svn.gnome.org/viewvc/gnome-screensaver/trunk/src/test-idle-ext.c?view=markup
    (cherry picked from commit 1f4fb0225b278d1cf4145aebeb0bdd23dc8f62d5)

commit a82f10c5dd9fa74ff18759ab288bbd9c8b7ac4de
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 8 17:42:47 2008 -0500

    randr: clear primaryOutput when the output is deleted
    (cherry picked from commit 86c64ddf21763972aa7fc8c5770259123c9907b3)

commit 2bc53ce66828b6c177e3298fa2f326c77c93e136
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 8 17:40:07 2008 -0500

    randr: use primary output for RRFirstOutput()
    (cherry picked from commit fe65f400ed16cb39db8c9518b9446f590c34db1a)

commit f0234a9eb88ed103bca7db73a833c472ab95b48f
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 8 17:37:17 2008 -0500

    randr: Mangle GetScreenResources sort order based on primary output
    (cherry picked from commit cdcb516e561e2f65eb2fa523ca001c57674d5caf)

commit 2ef02833d614c42693e019a444560e84f501b5dc
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 8 17:28:55 2008 -0500

    randr: Mangle compat Xinerama reply based on primary output
    (cherry picked from commit d7b316e82bc7051f8829b4f4a640f50ae91c2db9)

commit 0bdfdaa7df8105c7ffc3248a4fdd5f64da67103c
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Dec 9 10:51:37 2008 -0500

    randr: Add [GS]etOutputPrimary
    (cherry picked from commit 9d58d2a319059989ccdfa758f586149ccdc16df6)

commit 09039fb89f3fd047f10b575e019bba6762448456
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 15 19:53:45 2008 -0800

    Patch brown-bag fix for bug 19017 (scrn->virtualX/virtualY 0 before PreInit)
    
    When a driver uses a crtc during device detection, the scrn has not yet been
    configured and virtualX/virtualY are still zero. This caused the X server
    to try and allocate a shadow frame buffer, which couldn't work.
    
    Detect this by checking for zero virtualX/virtualY values.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 063eb6743cd0d98dd52d1a9559b804381ee5144d)

commit ae2cbbff9fa0f458e133bf1894d8a7f9fb3fbb72
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 15 11:39:24 2008 -0800

    Use scrn->virtualX/virtualY in xf86CrtcFitsScreen. Fix bug 19017.
    
    pScreen->width/height are not initialized when doing initial mode setting,
    which makes this function incorrectly fail. Using scrn->virtualX should work
    in all cases though.
    
    Bug 19017 reports a crash in xf86CrtcSetModeTransform when doing a modeset
    for output probing, long before the screen array is initialized; that was
    caused by a work-around to set pScreen->width/height so that xf86CrtcFitsScreen
    could find the right values.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit fde2f961035609cfff8761ef1e0f23e6a9761be2)

commit 6d671b2dee7d2e5481399f0bdb3323a0250a075d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 15 11:38:00 2008 -0800

    When disabling SIGIO tracking, use SIG_IGN instead of SIG_DFL.
    
    This avoids a race condition for drivers which mis-order the fd close and
    signal disable.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 29a5b0596b396d3e4a8a014cacd3e3ef77467ab7)

commit 8f17a31aa721e42925cd6b4616ccad90497818f3
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 15 11:36:43 2008 -0800

    Clean up rotation data when crtc is turned off
    
    The shadow frame buffer and other data used for rotation need to be freed
    when the crtc is disabled, not just when rotation is disabled.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 1ba4cbb15919759aadd71960c5c057af9ba94fe3)

commit be21199f550d9a19c10df16ed23c6f9ed94e55da
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 11 18:48:02 2008 +0100

    randr: Fix initial panning border copy
    
    Thanks to Julien Cristau for finding this.

commit 19a978359d7358501cccb79965b78a3f8ec18743
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 11 17:51:20 2008 +0100

    randr: Oops, miscalculated panning rectangle's coordinates

commit ab56607a0855e88de2ad2d7eb43e1d806db0c47b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 11 16:48:40 2008 +0100

    randr: Update initial screen size if panning information is present

commit 657d963a663a189d3c8068a39528b2d73af5fe70
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 11 16:48:11 2008 +0100

    randr: Fix error message for bad panning config

commit 44b89dc0a5aa23df69539754fb76c67c310530db
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 11 14:56:51 2008 +0100

    randr: Add monitor option "Panning" for initial panning configuration

commit 523aae1fa6d8002e55e85aee49f113b7eb9a6df3
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 9 22:10:56 2008 -0800

    Bump version to 1.5.99.3 (1.6 beta3)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4810226dfc52ef798b507d284030b4b3aec020a6
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Dec 5 15:37:15 2008 +0100

    randr: Update SProcRandrVector for panning
    (cherry picked from commit 44bef8b850c5a78a3d3eca5f0d92b71bdd0a87e2)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 798a4878a4ffb03024e77ea6ddbd9b170b9c3fe4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 4 18:13:40 2008 +0100

    randr: Allow panning to be disabled per axis
    (cherry picked from commit e5ab9e66628cde081757cf2a1013a78e927a622e)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 5fa2cce83cc2df560ce62ec4bbf88233ee70e64a
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 4 16:55:14 2008 +0100

    randr: Rework panning area verification
    (cherry picked from commit bad118ace6c5bae5a5ed8a35129c90c38f1c1932)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 97e8a75ce3c70e7a83028b256b6884084f5e196b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 4 16:28:40 2008 +0100

    randr: Don't change panning parameters if verification fails.
    (cherry picked from commit 219c26ce0c65625d55cfd943ec66fe94a1a0ddfd)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 6189f0832ecd6930608f5b253e534bb104174694
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 4 16:30:38 2008 +0100

    randr: Rename pan() to set_origin(), and xf86CrtcPan() to xf86CrtcSetOrigin()
    (cherry picked from commit 18a8bac1a1567b6215928f96870554ea63f39aab)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 68858b202a0c32e8cc3fb22ca4714c1baa05b44c
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Dec 4 16:11:21 2008 +0100

    randr: Nuke config-timestamp for panning
    (cherry picked from commit 825b2c2f4a59ac4852f90bbbddf18ab832297fdd)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 7cbded550d3bebc35e2322a89d0afbb57b37b3da
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 28 17:51:20 2008 +0100

    randr: Protocol bits for panning support
    (cherry picked from commit eeeb98d1df59baaaec954b6318d788a37e388d11)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit bc05471d1184ebf72b793b1dceff9856eba616d2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 28 17:49:31 2008 +0100

    randr: Panning support
    (cherry picked from commit b929d721efdb17bcc94b9984c4f34d0df3d267d5)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f7e2fee8fe9b47f1e898feb8419aacd9a32c1f01
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 28 17:39:23 2008 +0100

    randr: Crtc interface update for panning support.
    (cherry picked from commit 834cbc16f3eb539704faade7bff347b161ce69d9)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 27ca32eb05101e0e5624422dd25e1aa95b129d77
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 28 17:38:52 2008 +0100

    randr: Weird enough, crtc->version was never set upon creation. Fix that.
    (cherry picked from commit a475eb9feec75e9ce1e316da0f1679acd7dd3aa8)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 0d27dd23cf08a2dc3581f9db81371c2cdb798db0
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 8 16:28:00 2008 -0500

    Default to x86emu even on i386 linux
    
    vm86 mode is a bad idea anyway, and using the emulator everywhere
    means we get a consistent set of bugs.
    (cherry picked from commit 58a27d2932164e43c0db42b1286ec2f95250b420)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ff9b55d8cbc19e0e31a91034e332058acd967cd1
Author: Sascha Hlusiak <saschahlusiak@arcor.de>
Date:   Mon Dec 8 12:24:39 2008 +0100

    ddxCtrls.c: XkbDDXUsesSoftRepeat always returns 1 now
    
    We'd like to do soft repeat in the server for all keys. Remove obscure check, that'd
    prevent the server from autorepeating when delay is set to exactly 660ms and rate is
    set to exactly 25 (interval=40).
    
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>
    (cherry picked from commit bbf811514d3cdf84790bad5b852942a4e636902b)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b0c64725526338cbc02708415e1aa9497cdc3a38
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 26 14:15:04 2008 +1000

    xfree86: don't FatalError on "too many input devices".
    
    Just ignore devices after MAXDEVICES has been reached, but warn the user that
    the devices are ignored.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit db5abde7ea0e482041d16d7d5f3715cd4f6222d3
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Dec 5 10:12:57 2008 +1000

    dix: fix calculation of valuator events.
    
    Follow-up to 4971315296cb. countValuatorEvents was copied from GKVE where it
    was obviously broken but nobody noticed. GPE had the correct version, but that
    one got lost during de-duplication. Restoring the correct calculation - if we
    have 6 valuators, we want 1 valuator event, not 2.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    (cherry picked from commit ee1a6c28418a6dad6c89f79a994f27bfbaa77368)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d679cf70a79aa53e823f4fa51a7ab19837f26525
Author: Tom Jaeger <ThJaeger@gmail.com>
Date:   Mon Dec 8 11:38:12 2008 +1000

    Xi: XIGetDevice needs to ignore the MORE_EVENTS flag.
    
    Reported in X.Org Bug 18882, Comment 5.
    <http://bugs.freedesktop.org/show_bug.cgi?id=18882>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 78a62d7713c708d067d8824ec41b0a0225c1997f)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 480caacbdd20d47770cc9a698be9f7c98e87783d
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Dec 8 12:12:39 2008 +1000

    xfree86: init EQ before trying to initialise the devices (#18890)
    
    The kbd driver may send events during device initialisation, and these events
    need the EQ set up already.
    
    X.Org Bug 18890 <http://bugs.freedesktop.org/show_bug.cgi?id=18890>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    (cherry picked from commit 39db182b637041255ed6dac739ff77c8e4e07c30)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 991f0be6e2bfe3cc3df55b2fc75fe3900d5e0b94
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Sat Nov 29 14:30:55 2008 +0100

    randr: Avoid needlessly creating a shadow framebuffer.
    
    - pScreen->width and height were zero, so it didn't "fit" the screen.
    (cherry picked from commit ffb484f7ef84099019b196ef97bfb2355eb6d52a)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d6129ebf8dad9cfbc13dc8db7c780b023bf9a60b
Author: Timo Aaltonen <tjaalton@cc.hut.fi>
Date:   Wed Dec 3 18:40:29 2008 +0200

    If AEI is on, disable 'vmmouse' in addition to 'kbd' and 'mouse'.
    
    Signed-off-by: Timo Aaltonen <tjaalton@cc.hut.fi>
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    (cherry picked from commit dd128ddcdcbe254a9cdd973590f6a979a7f0427e)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 90900976ceee294fef4ae39e10869057c50f2021
Author: Julien Cristau <jcristau@debian.org>
Date:   Wed Nov 26 21:19:55 2008 +0100

    randr: add swapped dispatch for RR[GS]etCrtcTransform
    
    Fix a memory leak in ProcRRGetCrtcTransform() while I'm at it.
    
    Signed-off-by: Julien Cristau <jcristau@debian.org>
    Cc: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 0b5ecabfb803cd820338fb0364521fe39b05578b)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit de83a342f483fbf3cc841929876002a3c47e3496
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Dec 3 11:22:38 2008 -0500

    Test for DRI2 extension in dri_internal.h and only enable AIGLX DRI2 if found.
    (cherry picked from commit 110a71d11ab7a1a55a6a24d792457fdef0b0746d)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 3df1db67e37094ef263134a86ee82a36fc52f990
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Dec 3 11:31:48 2008 +1000

    Xi: change XIUnRegisterPropertyHandler to XIUnregisterPropertyHandler
    
    CamelCase can be taken too far, and AFAICT there's no consumers of that
    function yet anyway.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ba666a969e938daa2176c12c4959393789b0a98d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 9 20:36:41 2008 -0800

    Revert "dmx: claim we support XI 2."
    
    This reverts commit 8da8a0fec4b1b9d9208635dedb2f449dc99e0004.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit b268458eab2f213ec14dfe8013aa714c187e3aab
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 2 23:43:02 2008 -0800

    Bump version to 1.5.99.2 (1.6 beta 2)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d68632e2213adc0945dcdfca2e93f68aeab97457
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Dec 2 14:32:48 2008 -0800

    Add atKeynames.h to libdmxinput_a_SOURCES so it's included in tarballs
    
    Reported by geearu in #xorg-devel
    (cherry picked from commit c1db925d10fd37077bed90612ed95c3fd20cd2e2)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit f5ef57e5fef0be80d660c26ed370f608b4444a5e
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 1 11:36:06 2008 -0500

    randr: Don't send output property events on server exit
    
    If the Window resource type is already gone, there's no point in trying
    to send events, all it can do is access already-freed memory.
    
    Relevant thread:
    
    http://lists.freedesktop.org/archives/xorg/2008-November/040443.html
    (cherry picked from commit b0d371ab0a6efd4956c3677faa20b2ac15c33765)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 40116cd5d0c205f4e8ab340dca80e38f8b78dddb
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Dec 1 20:02:34 2008 -0800

    More man page updates for 1.6 release for Xorg, xorg.conf & exa man pages.
    
    - Remove remaining references to XFree86-Misc options AllowNonLocalModInDev
      and DisableModInDev.
    - Remove remaining references to grab-breaking keys & associated options.
    - Update description of Ctrl-Alt-Backspace to new -retro/DontZap defaults.
    - Add description of new options -modalias and -showopts.
    - Update list of modules loaded by default.
    - Update input driver references from keyboard to evdev & kbd.
    - Update list of driver man pages to match xf86-*-* drivers with man pages.
    - Add See Also section to exa man page.
    
    and various formatting/typo/etc. fixes.
    
    The Xorg/xorg.conf sections on input device selection could use further
    updates to better match the current state of HAL-enabled configuration.
    (cherry picked from commit 8c560422b44e012053612754430d2b87dc44ed59)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 4e5be5ad368b140d189fb69d394cf0c901f34d83
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Dec 1 19:19:04 2008 -0800

    Correct warning for unknown GlxVisuals option in conf file
    (cherry picked from commit 6a1850b8c677e2a2993f6f6b731ee3d35aa55d09)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ca744c371a138cfd19e826ba7f3847f32139ad64
Author: Jay Cotton <jay.cotton@sun.com>
Date:   Mon Dec 1 16:06:09 2008 -0800

    Sun bug 6618220: Xorg server core dump in xf86RandRModeRefresh(NULL)
    
    <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6618220>
    (cherry picked from commit 5f3f14179edf48aad518f6f707bfdc37c27267c6)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 78af5d81e818f4ac2fb43d9683fa634b3d1f7fc5
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Dec 1 16:28:45 2008 -0800

    Update See Also lists in Xorg & xorg.conf man pages
    
    Remove xorgconfig & xorgcfg
    Update driver lists:
    	- Remove vga
    	- i810->intel
    	- via->openchrome
    (cherry picked from commit 24c562f04b41d219c34f5fa3f963564accf329f2)
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit e40841ce5afa0678b74b9eff37c7d304758309b6
Author: Bernhard Rosenkraenzer <bero@arklinux.org>
Date:   Tue Dec 2 09:01:56 2008 +1000

    Xext: fix MultiBuffer compilation error with TryClientEvents. (#18835)
    
    X.Org Bug 18835 <http://bugs.freedesktop.org/show_bug.cgi?id=18835>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    (cherry picked from commit 1dfed222e93f4684c2a450944a9a0ea9e085c43f)

commit 0d902b05ad910cada46dcc2b85d8b0148aed35e6
Author: Stuart Bennett <sb476@cam.ac.uk>
Date:   Tue Dec 2 22:52:53 2008 -0800

    xf86Cursors: xf86_reload_cursors shouldn't unconditionally show hwcursor (#14820)
    
    Also, no need to call ShowCursor when SetCursorPosition already does it
    Based on a previous patch by Maarten Maathuis
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit 0b8f8b24f718820a72ebdc52423c2e6a44e848c5)

commit cbf4fec52960ffd74b78ea45d0b917c76f553ebf
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Dec 1 20:53:17 2008 -0500

    Bump dri2proto requirement to 1.99.3.

commit 670ac5d097c64d4f09ee3861d1ff21d5d6af3fdf
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Dec 1 20:52:41 2008 -0500

    Drop unused DRI2 vblank infrastructure.
    
    For this first iteration of DRI2 we don't have any vsync functionality
    in place yet, so back out the support in DRI2 and the protocol for now.

commit 862d5b2dc55e678921b3db710b2821b66d55ea2f
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 26 12:20:00 2008 +1000

    xkb: don't attempt to filter events for devices without key classes.
    
    Reported by Magnus Kessler.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 41471afa7774a6598344ea7b488f993a0bd32e7f
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 28 14:55:15 2008 +1000

    xkb: Extra sanity checks to prevent dev->key == NULL dereferencing.

commit b983c4fa1ec13f6096badf9dd5ebbf55880bb6c1
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 26 21:35:34 2008 +1000

    Require inputproto 1.5
    
    Also claim to now support XI 1.5.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit f245c46d291dc22f40fb839bf21d2620091a84ef
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 28 14:21:05 2008 +1000

    dix: don't detach SDs during grabs.

commit 71f289f7d1b4fe79f25b229830047e71f50d8610
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 28 14:05:58 2008 +1000

    dix: Don't deliver XI events from MDs.
    
    Restore the XI 1.x event model: VCP/VCK deliver core events only, SDs device
    events only.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit c910886737bf6ce7a4bd44d2149a1f0a810453d2
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 28 13:49:40 2008 +1000

    Xi: Purge XGE remainders, we don't have any XGE events anymore.

commit be4bf65d00a28cc77b939f00f115528a9024ab89
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 28 09:22:04 2008 +1000

    input: don't switch MDs' classes around between SDs.
    
    Server 1.6 uses the X Input 1.x input model, where the core devices (VCP and
    VCK) do not generate XI events. They don't have to swap device classes but
    instead stay at the default number of classes at all times.
    This means we can get rid of the DeviceClassesChangedEvents as well.

commit aba1cbaadcde50a7a25f8aee06b66eec67a9145e
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 28 09:19:49 2008 +1000

    dix: No DeviceEnterLeave events in server 1.6

commit 9739fac04520e3e0c338f74cedb58855a17fc899
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 28 09:38:49 2008 +1000

    Xi: don't allow VCP/VCK be OpenDevice'd, but allow all SDs.
    
    Reverting to traditional XI behaviour.

commit 7330cb56501defb0002815767d2dc7f5b2b8ca1c
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 28 09:35:48 2008 +1000

    Xi: don't list attachment in ListInputDevices, but list all SDs.
    
    In XI2, we only list the VCP and the VCK as well as floating SDs to non-XI2
    clients. This is not the case here, we just list all devices.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 1d307ed7f268d3bb511985c18d580ab8a104ed41
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 28 09:34:56 2008 +1000

    Xi: remove the GetExtensionVersion hack - don't reply with supported version.
    
    XI2 abuses the GEV request to reply with the min/major version of the
    supported extension if the length for the name is 0. Don't do that, yet.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit cfe7301bcf134ade26a81764be2ca5890eb29d5d
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 26 21:40:05 2008 +1000

    Xi: remove all new XI2 protocol requests and their handling.
    
    This commit reverts to XI 1.4 requests, plus the input device property
    requests.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit db115e78705e59a376c6c425e7cb97cfb14ff2ac
Author: George Staplin <gstaplin@apple.com>
Date:   Fri Nov 28 13:57:45 2008 -0700

    XQuartz: GL: Make various changes to makeFormat, so that it works better.  Now glxgears looks normal with the old libGL.
    
    Add various GLX extensions to the list of supported extensions.
    
    Reformat the oddly formatted code in some areas.
    
    Use xalloc and xfree instead of malloc and free.
    (cherry picked from commit 755f53eb40c4329d8c82a31cb910c31fdd4ea12e)

commit d4fb734c631a20e93da22773e676f747c9f645ba
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 28 12:59:09 2008 -0800

    XQuartz: Added option to enable/disable test extensions
    
    defaults write org.x.X11 enable_test_extensions -boolean true
    (cherry picked from commit fd4710aff3723d5f3422cf6a6530172eafc556d9)
    (cherry picked from commit 635019ad18db921fec99256294debd8571074abf)

commit e9ee5d4f61794d8d12109b44daa92868cb834954
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 28 11:18:14 2008 -0800

    XQuartz: Avoid some warning messages being spewed to system.log by AppKit
    (cherry picked from commit 780eff230ce41ad785e54d61a82c731269ae0446)

commit 2ca2742aa588d48348971e7e7c4b75cae4a4f5ad
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 28 01:45:37 2008 -0800

    XQuarz: Setup our PATH and PWD earlier, so our initial client benefits from it as well...
    (cherry picked from commit cbae2b447357b3fed6ff19414c60dd3792045600)

commit added4cff7069f0c9d6b7047c6435d1599003ccb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Nov 26 12:15:58 2008 -0800

    XQuartz: Fix dead-acute on Greek keyboards
    (cherry picked from commit 807f2ec35c5f95b56b3e2b5eac51aec300fe5cb6)

commit 202908c6139b806bc599cd74f3b68172c14aa7b5
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Nov 26 12:07:52 2008 -0800

    XQuartz: Fix Czech keyboard dead-acute
    (cherry picked from commit 771df2786bc60389489f0967e705c7c95bdda085)

commit c7c8eeaedc8dc24c3ed7930d4322eb811977536e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Nov 25 20:14:37 2008 -0800

    XQuartz: Fix an uninitialized keyboard_type on Tiger
    (cherry picked from commit 27b1a5eb3482052253ebdce1a09aedf05ac1b099)

commit f0e7a792bedbf9fe9844298ac74445a8116c52aa
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 26 15:49:02 2008 -0800

    Add server support for RRGetScreenResourcesCurrent
    
    This depends on randrproto 1.2.99.1
    
    Signed-off-by: Keith Packard <keithp@keithp.com>
    (cherry picked from commit fc708394318ed92c612e2938b335c08c1ffebb28)

commit f3edc1fb0210149f35eab4e413700b5c4ac48214
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 25 23:15:35 2008 -0800

    New version of dolt

commit 4715f079b9c61362755c95c1ebf89c97cc6fff2b
Merge: 9ffc671 ed597f1
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 25 22:19:08 2008 -0800

    Merge commit 'origin/master'

commit 9ffc6719390df8fdd0a5295a7a7a0eaea792be45
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 24 13:08:48 2008 -0800

    Move matrix operations from X server to pixman 0.13.2
    
    pixman 0.13.2 now holds all of the matrix operations. This leaves
    the protocol conversion routines and some ABI stubs in place
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ed597f19fdc3017dde6d1452b5cdf8ddcd69a5b1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 25 19:36:31 2008 -0500

    xselinux: use "raw context" variants of getpeercon() and getcon().

commit ec1d08442f69353cb0e73ac4eaf0346ebb975594
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Nov 21 15:13:00 2008 +1000

    dix: Enable core devices in InitCoreDevices already.
    
    Updated patch, see
    http://lists.freedesktop.org/archives/xorg/2008-November/040540.html
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 2b45602e828a07a0817691b2838cd34ffee531bd
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 26 10:42:52 2008 +1000

    Revert "dix: Enable core devices in InitCoreDevices already."
    
    I merged the wrong patch. See correct patch at:
    http://lists.freedesktop.org/archives/xorg/2008-November/040540.html
    
    Not activating the device before attempting to enable it would leave the
    sprite unset, crashing the server when enabling the real devices.
    
    This reverts commit e078901a4eca02bd3e7a80d9462dafbca939a187.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 416685c295353b5816689994c7c58ae7db3e878d
Author: Jeremy Uejio <jeremy.uejio@sun.com>
Date:   Tue Nov 25 16:26:44 2008 -0800

    Refix Sun bug #6685465: Xephyr uses wrong or bad colortable in 8-bit mode
    
    <http://bugs.opensolaris.org/view_bug.do?bug_id=6685465>
    
    This is a refix of the previous fix for CR 6685465.  In the first fix
    I was shifting the colors to match the mask by the bits_per_rgb amount
    in the visual structure.  That field has nothing to do with the # of
    bits to shift by.  I should just instead shift the bits to match the mask.

commit d5f9a131a2d5bd33f82fdd4e809880b0ff792b45
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Nov 25 15:46:39 2008 -0800

    Fix const-mismatch warnings for DisplayModePtr's
    
    Includes fixes for:
    "xf86Config.c", line 2434: warning: argument #1 is incompatible with prototype:
    	prototype: pointer to struct _DisplayModeRec: "xf86.h", line 351
    	argument : pointer to const struct _DisplayModeRec
    
    "xf86EdidModes.c", line 312: warning: argument #1 is incompatible with prototype:
    	prototype: pointer to struct _DisplayModeRec: "../../../hw/xfree86/common/xf86.h", line 351
    	argument : pointer to const struct _DisplayModeRec
    
    "xf86EdidModes.c", line 438: warning: assignment type mismatch:
    	pointer to struct _DisplayModeRec "=" pointer to const struct _DisplayModeRec
    
    "xf86Modes.c", line 701: warning: assignment type mismatch:
    	pointer to struct _DisplayModeRec "=" pointer to const struct _DisplayModeRec

commit d5ad296869c38ab30136b5a293a0125b76aad994
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Nov 25 14:12:26 2008 -0800

    Remove duplication from code paths in XkbDDXCompileKeymapByNames

commit 2538fc0d893a150e978355d281750f0a989728a7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 25 18:18:46 2008 -0500

    xselinux: don't pass a NULL key string to selabel_lookup().

commit c8472a74441838e16d0d3414db1fa7fe996868a9
Author: Michael Vogt <michael.vogt@ubuntu.com>
Date:   Tue Nov 25 19:35:17 2008 +0200

    Do not send VisibilityNotify events when MapUnmapEvents are disabled
    
    This prevents a protocol visible side-effect (XVisibilityEvent) on
    XCompositeRedirectWindow() followed by a XCompositeUnredirectWindow().
    
    The problem shows up in gnome-screensaver with compiz and "unredirect
    fullscreen windows" enable. A VisibilityNotify event is generated (first
    with obscured and than with unobscured) when the window swithces from
    redirected to unredirected.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=18133
    http://launchpad.net/bugs/278112

commit 88297558aada44bc714ad57adbeed3740aaadee5
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 14:20:58 2008 -0500

    Dead code cleanup over DBE.
    
    No DDXes have explicit DBE support anymore, so the init registration
    table never got used.  Just nuke it all.

commit e5eaea599ab16428c69912b6b3427ebe46707d7c
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 14:05:51 2008 -0500

    Warning fix
    
    xf86info.c:11: warning: initialization makes integer from pointer
    without a cast

commit 37072500f7bcf39e0d6aa2ceb5d1f2aeeab0b26b
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 14:04:44 2008 -0500

    Warning fix
    
    helper_exec.c: In function ‘port_rep_inb’:
    helper_exec.c:219: warning: implicit declaration of function
    ‘DEBUG_IO_TRACE’
    helper_exec.c:219: warning: nested extern declaration of
    ‘DEBUG_IO_TRACE’

commit d96bffce2dcf209e76be9b36ca1ede7e0c976d77
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 13:59:00 2008 -0500

    Warning fix
    
    Init.c:139: warning: no previous prototype for ‘ddxBeforeReset’
    
    Just declare the prototype always, seriously.

commit 09ea671cbff605fd2b2af71619e7db5002108bf8
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 13:40:47 2008 -0500

    Warning fix
    
    lnx_bell.c:37: warning: no previous prototype for ‘xf86OSRingBell’

commit a9853c7d337b3b1ad49793e9b4b90e313b6fa536
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 00:53:55 2008 -0500

    Warning fix
    
    Pixmap.c: In function ‘xnestPixmapToRegion’:
    Pixmap.c:93: warning: ‘Box.x1’ may be used uninitialized in this
    function

commit 81eafe9f93a272b06aa9f9235ec5676b9aa3ee3e
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 00:45:07 2008 -0500

    Warning fix.
    
    vbe.c: In function ‘VBEReadPanelID’:
    vbe.c:1145: warning: return from incompatible pointer type

commit 09bfb25e031772611a2f0902d4ba77b587e4bdb2
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 00:43:36 2008 -0500

    Remove unused XAAAvailableOptions

commit 8b9253f6383df3fefe38bde43a5f892b158a77c4
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 00:38:47 2008 -0500

    Code motion: subsume xf86DoProbe.c into xf86Init.c

commit fbabb1c5c243cfd8c954dec4c060dff1a0b81015
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 00:34:28 2008 -0500

    Warning fix.
    
    In file included from l3-xaaStipple.c:4:
    ./xaaStipple.c:35: warning: no previous prototype for
    ‘XAAGetStippleScanlineFunc3LSBFirst’
    
    etc

commit cbaca6ec666d7349c4680b8affc13b5c9cae1fa5
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 25 00:14:24 2008 -0500

    Remove dead FreeModuleDesc.

commit eb474adf98229a43bbe17ab98ff084371cb9fa09
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Nov 25 11:25:58 2008 -0800

    XQuartz: Simplify the xquartz_resetenv_display path
    (cherry picked from commit d2e0624dd30eb234bb25595ceedfa51d48ca1724)

commit 94df1ab7f09a64f57c1e1453e3640462e984619c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Nov 25 01:30:03 2008 -0800

    XQuartz: Force X11Controller to reset a broken DISPLAY envvar.
    (cherry picked from commit f1a52b5b5ac31702497937efe3ac578be9a6c54f)

commit 0b314c50a2a0ca1afbdc06663c3b719b05ebb851
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Nov 25 01:13:35 2008 -0800

    XQuartz: Removed hardcoded org.x.X11 from MachIPC as well
    (cherry picked from commit b4add7826d485600a13eba6a9c7be533f2c02d51)

commit 065d2afb0ca34f89806e0936c51cd27805bc5123
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Nov 25 00:51:01 2008 -0800

    XQuartz: Add fallback for xpbproxy's display for Tiger or no-launchd-Leopard
    (cherry picked from commit 7a8c6665949d7804a97ef2539a74ec4aa682e1cc)

commit 13df49dca28cf680a4d104630cd675de25d3e944
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Nov 25 00:39:52 2008 -0800

    XQuartz: Use the environment to pass the bundle's prefs domain on to xinit/quartz-wm for Tiger or no-launchd-LEOPARD
    (cherry picked from commit fbf4b0d33fa5dc618c3191a4e823232dfa33cd95)

commit 40187f782beae4ae751824ef511c9f56a80357c7
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Nov 25 00:20:57 2008 -0800

    XQuartz: Dead code removal
    (cherry picked from commit eeb323612e0adbea37befed31bbaa1d295728385)

commit b55cad4569e34e3c10e9a327e20b91ea87d9dd98
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Nov 25 00:15:53 2008 -0800

    XQuartz: Don't hardcode values of org.x.X11 for the preferences domain
    (cherry picked from commit 3a500d9247cf34686ec17b4a88c34d51ecd38ecd)

commit d508a3dcca2f160021aced872715e1ded23cef97
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Nov 24 23:33:54 2008 -0800

    XQuartz: More dead code removal
    (cherry picked from commit dcb0f6a2e62823a671051874d14a33ce59505892)

commit 41fbdf72f2154a3fca8cf484a611501e3c174fbe
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Nov 24 12:33:20 2008 -0800

    XQuartz: Disable some error spew on Tiger (where it wouldn't be an error)
    (cherry picked from commit 73ec6d3dfe0086d352f4eca25f1df5ae1884bb18)

commit 09c3f6e04c273ffafcb547c252137fb17c8ce016
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Nov 22 20:23:46 2008 -0800

    XQuartz: Dead code removal
    (cherry picked from commit 46c077d9b4a883fc809c32077ce40f33a70d268b)

commit ab12c7516207908f3e063a78904d68e2db14208e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Nov 22 15:47:14 2008 -0800

    XQuartz: More Tiger cleanup: bootstrap_strerror
    (cherry picked from commit 37f535aff3e9a7a02711daa98152cdff97745622)

commit 208f091bfc657e9ee57b988f035d3aac7e9e173a
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Oct 12 00:07:56 2008 -0400

    Remove xf86IODelay

commit 47478aa10adb20b6e48335ac8c4ef31f3fdfe68c
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 23:59:24 2008 -0400

    Remove xf86{En,Dis}ableInterrupts entirely

commit c7680befe5aebd0f4277d11ff3984d8a7deb9d5b
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 23:35:24 2008 -0400

    Remove the remnants of Jensen support
    
    As being an EISA-only machine, and as ISA support is gone now...

commit df14682a31b92751091571ed82f6095f55f19cca
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 22:48:51 2008 -0400

    Bus: Remove ISA support.
    
    No, really.  PCI is old enough to drive now.  If you want this, get the kernel
    to expose a framebuffer device.

commit a8bcab2d3b224e4d4d5b6a097ea530beee920213
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 22:14:23 2008 -0400

    Bus: Remove yet more unused overlap processing.

commit 994b7c034fc20d76651cf7f6a285526d9aff8770
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 22:11:12 2008 -0400

    Bus: Don't pretend to care about IRQs, DMA, or PCI config space

commit eb5ae45127fa9f08f0badec7e21f8c26c9c7c969
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 21:44:16 2008 -0400

    Bus: Simplify a failure case (that pretty much never happens)

commit ee8b5cf94c2a9f8526a3bb5011ebb10f3246a4d9
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 21:41:47 2008 -0400

    Bus: Trust the kernel when registering driver resources
    
    ... everywhere, not just (linux && (ia64 || alpha)).

commit 8397df89456558e3c85b05e0acfccb9f6af6b695
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 21:36:14 2008 -0400

    Remove unused MIN macro

commit c251c0baae59714a6ac83b69cd106c08baa3613e
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 21:34:27 2008 -0400

    Bus: remove special handling for init-only resources
    
    This isn't used by any driver, nor has it ever been as far as I can
    tell.

commit 3e5281af17841cf50d0e52a728b12c6ab56e61df
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 21:16:45 2008 -0400

    PCI: Unexport xf86scanpci

commit 6b198daa46f2f609aff7900761cf82cc2fb4e0b4
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Oct 11 20:51:39 2008 -0400

    Bus: remove useless isaConvertRange2Host

commit a96db74c2a95bb1dce132cf47ea720ae939dfad7
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 9 00:43:26 2008 -0400

    Bus: Don't try to find an ISA bus just for fun.

commit b21311a99d58997cd1fc68726d0848242e9c34fc
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 9 00:34:42 2008 -0400

    Bus: Remove unused RemoveOverlaps

commit 41be6b3f0dc0baa1c6ae8d2b41a6be73ca0e7268
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 9 00:33:28 2008 -0400

    Bus: Remove the notion of estimated resources.

commit 095ba1435501776c8c8a34e767b89f89e5dc949a
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 9 00:27:33 2008 -0400

    Bus: remove the "reducer"
    
    This code effectively didn't do anything anymore.

commit 4457e31710af90f9ac295bb686c841e9473fb767
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 9 00:14:54 2008 -0400

    PCI: Remove unused ia64 platform code.

commit 86cfe0ee236bfd3613e5f9ba589211db42d009eb
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Oct 8 23:45:40 2008 -0400

    PCI: Simplify OS PCI function registration a bit.

commit 2d427b9cb1594f8f2f66b463033fff5b459962fd
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Oct 8 23:38:23 2008 -0400

    PCI: Remove config mechanism details.
    
    pciaccess handles this for us now, no need to remember PC arcana.

commit 5bb86bafd6fda296011cbcd5d15a85a6d770ae29
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Oct 8 23:34:41 2008 -0400

    PCI: Remove non-pciaccess path for x86.

commit a67360e79fa7e17c3d907771694009c57c1cd195
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Oct 8 23:31:38 2008 -0400

    PCI: Always build domain support.

commit 51e105ccc3d0ac8c0fe74efd029ffbddb80b140e
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Oct 8 23:12:31 2008 -0400

    Remove xf86GetResourcesImplicitly

commit 599a0f3f1e3ae92676e3648471576c0001cfd9ae
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Nov 24 20:37:58 2008 -0800

    Fix typo in 5bf2c88d2317230b95b2904cb975167d03ee13a2
    
    Amazing how these things hide until you see the diff come back from
    the commit list.

commit 5bf2c88d2317230b95b2904cb975167d03ee13a2
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Nov 24 20:34:46 2008 -0800

    Simplify filename generation code for Xorg -configure

commit 75784e1e53ad78e21518696dd9d297bc08c17d54
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Nov 24 20:32:20 2008 -0800

    Solaris: Make KDSETMODE failure non fatal, and retry it on interrupts

commit 3e6da1636093d7dc98baac40544c0b0fb7fd8aec
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 14 15:55:57 2008 +1000

    include: remove ENTER_LEAVE_SEMAPHORE macros.

commit b292a7a2d7e259177e1cc37346c2bee27a018630
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 14 15:44:29 2008 +1000

    dix: updated enter/leave core event model.
    
    As proposed by Owen Taylor [1], the enter-leave event model needs to adjust
    the events sent to each window depending on the presence of pointers in a
    window, or in a subwindow.
    
    The new model can be summarised as:
    - if the pointer moves into or out of a window that has a pointer in a child
      window, the events are modified to appear as if the pointer was moved out of
      or into this child window.
    - if the pointer moves into or out of a window that has a pointer in a parent
      window, the events are modified to appear as if the pointer was moved out of
      or into this parent window.
    
    Note that this model requires CoreEnterLeaveEvent and DeviceEnterLeaveEvent to
    be split and treated separately.
    
    [1] http://lists.freedesktop.org/archives/xorg/2008-August/037606.html
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 724f83b87bb16472d4c328e35d2a477384b29f84
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 14 15:29:01 2008 +1000

    dix: add FirstPointerChild, FirstPointerAncestor auxiliary functions.
    
    FirstPointerChild: Return the first child that has a pointer within its
    boundaries.
    
    FirstPointerAncestor: return the first ancestor with a child within its
    boundaries.
    
    These are required for the updated enter/leave model.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 7d3e595f93dcd3d334e766a9dea602c05affdbaf
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 14 15:27:19 2008 +1000

    dix: Add EnterWindow, LeaveWindow, HasPointer auxiliary functions.
    
    These replace the ENTER_LEAVE_SEMAPHORE_* macros. Unused currently.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 6bdc963cdabb4a2e77de7f00a1d062aa2b873f9b
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 14 15:37:35 2008 +1000

    dix: split enter/leave event handling into core and device handling.
    
    Device events always need to be delivered, core events only in some cases.
    Let's keep them completely separate so we can adjust core event delivery.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 5e48f5e2dd2dec7cfd1fa40b61e25123dfca515e
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 14 15:41:59 2008 +1000

    dix: remove unused EnterLeaveSemaphoresIsset.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 868fd503b7aeab31dba72046b59061008d8b7501
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 14 15:18:56 2008 +1000

    dix: move Enter-Leave related functions into new enterleave.c
    
    Preparation for the new core enter/leave model.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit c4b9ab6bf56139fdd8c7c584a6f523c6766cddd6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Apr 29 08:29:42 2008 -0700

    Handle transform failure when computing shadow damage area.
    
    PictureTransformBounds can fail, when this happens, damage the entire screen
    so that the shadow gets repainted correctly.

commit 9c7679240ad90367693a462e288308b3fdc08f26
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 30 19:05:07 2008 -0700

    [randr] don't try to compute crtc transform when no mode is set.
    
    Dereferencing the NULL mode pointer would cause a crash. As these transform
    matrices won't be used while the CRTC is disabled, just leave their values
    alone.

commit 315b6d0a425d0257f226ee7032aca3ca31665e59
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 27 11:46:39 2008 -0700

    Update RandR global transform when driver notifies of transform change.
    
    Need to compute and save the global transform when the driver changes it.

commit 5d9282fde919c936816a85c2a9c5734dc9d57cc2
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 27 11:45:53 2008 -0700

    Export rrtransform.h as needed by randrstr.h
    
    When the transform management was moved from randrstr.h, the associated
    header file became necessary to build drivers. Include it as a part of the
    sdk headers.

commit 7236fd9dd4e9f5c4cb5bafa5c2a18cff12a0444c
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 21 03:16:09 2008 -0700

    Be careful about copying transforms around; they have allocated memory.

commit 7e69e364d2ef146d8ec3651d04bdd6d641017449
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 21 03:15:00 2008 -0700

    Fix rotated/reflected cursor positions.
    
    Doing projective transforms required repositioning the cursor using the
    hotspot, but that requires relocating the upper left corner in terms of said
    hotspot.

commit 93179c214fc6ed88f72955a11c69ae0a47316d8c
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 21 03:14:47 2008 -0700

    rrtransform needs randrstr to get RANDR_INTERFACE defines

commit 7c61db66a470a8306e346ed8bf8934f014dada42
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 21 02:39:49 2008 -0700

    Create rrtransform.[ch]. Add RRTransform argument to RRCrtcNotify.
    
    Instead of using a separate function to notify DIX about transform changes,
    add the transform to RRCrtcNotify so that the whole Crtc state changes
    atomically.

commit fa6a1df209bd74da1d545982cca437afc2198cc1
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 21 02:35:28 2008 -0700

    Avoid overflow in PictureTransformPoint. Fix PictureTransformIsIdentity.
    
    PictureTransformPoint computes homogeneous coordinates internally, but fails
    to handle intermediate values larger than 16.16. Use 64 bit intermediate
    values while computing the final result at 16.16 and only complain if that
    result is too large.
    
    PictureTransformIsIdentity was completely wrong -- it was not checking for
    identity transforms at all.

commit 6fe9c15731be5f5afabacb3aa3ed71b840f4238b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 19 12:15:39 2008 -0700

    Allow drivers to set crtc transforms.
    
    Track curent transform down in the mode setting code so that it may be set
    separately from RandR.

commit 49db14e4ac26070ed86088419483888dda18b603
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Mar 19 00:46:35 2008 -0700

    Handle RandR transform matrices in floating point.
    
    RandR matrix computations lose too much precision in fixed point;
    computations using the inverted matrix can be as much as 10 pixels off.
    Convert them to double precision values and pass those around. These API
    changes are fairly heavyweight; the official Render interface remains fixed
    point, so the fixed point matrix comes along for the ride everywhere.

commit 6f734aecaec4f5c6152c3ebca197ef65bb4523da
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 18 16:06:06 2008 -0700

    Eliminate inverse matrix from randr transform protocol
    
    It is easier, and potentially more precise, to compute the inverse in the
    server where everything can eventually be kept in floating point form.

commit 197aa784694992f6bcfd194932309e440334c237
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 18 15:35:44 2008 -0700

    Report whether transforms are support from driver through extension to client
    
    Add APIs to xf86RandR12 support and randr extension to record whether the
    driver supports transforms, report that value in the RRGetCrtcTransform
    reply.

commit e86c34663ef97e946a1129450105efa89a123af6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 18 15:25:31 2008 -0700

    Clear shadow pixmaps before using them.
    
    This eliminates some ugly flashing, as well as clearing the borders when the
    shadow will not be completely painted.

commit 97ab0c6eff870b52c0383b63a78cec49059b2545
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Mar 18 15:15:40 2008 -0700

    When converting from double to fixed, round carefully.
    
    This reduces the matrix representation error after inverting a
    transformation matrix (although it doesn't eliminate it entirely).
    
    Perhaps we should extend Render to include 64-bit floating point transforms...

commit 6d3a9e40a4b9ec455af11cce31e4aa616c93db32
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 23:04:49 2008 -0700

    Compute matrix inversion instead of using wire version in RRCrtcTransformSet
    
    It doesn't make sense to have the client invert this matrix when the server
    can do so reasonably efficiently. This avoids weird fixed point rounding
    errors when testing the transform against its inverse. Now to fix the
    protocol.

commit 160252d94f04acc95f0a4e0f884ff565a5aa0744
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 23:03:56 2008 -0700

    Add matrix inversion function (uses doubles)
    
    The obvious matrix inversion function, coded using doubles to avoid fiddling
    with fixed point precision adventures.

commit 8fd82c88e3f2060fda4ba30376900ece77668c63
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 16:14:43 2008 -0700

    Adjust transformed cursor position to account for hotspot

commit eb222e64128034df8361d5a82d4f4aa1318923ce
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 16:14:15 2008 -0700

    Actually use filter kernel size to expand transform redisplay box

commit 3fdb963f6e8287edeb4c5bc7bbadbc02eb8bb910
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 16:13:25 2008 -0700

    Correct bilinear filter kernel size (should be 2x2)

commit ee6326a6b89b2d223f6e1eaf02aac1fe8aebfaf6
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 15:22:06 2008 -0700

    Handle filter widths in xf86Rotate

commit ddc8466137d229fdc100cc403f492c7d61a1ba89
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 15:21:26 2008 -0700

    Initialize and cleanup new filter fields in xf86Crtc.

commit 16c093afd4f6b30d889cacdc994b0024f9bd83d5
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 15:20:52 2008 -0700

    Pass filter kernel size through transforms

commit 1df02d7ddd44f84bcaefd6583af1a9141cb3c78b
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 15:19:17 2008 -0700

    Add kernel size to Render filters.
    
    This width/height value lets filter users know how far the filter spreads
    into the source image.

commit 40f3dff6b350fe0be55ebf7dbca88a0ef8f6380f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Mar 17 13:57:47 2008 -0700

    Use transform when computing scanout size of modes
    
    Report transformed crtc sizes through RandR and Xinerama. Test screen size
    against transformed mode sizes when configuring the Crtc.

commit f50349e1930e620cacdf27a6f8585fcb9cb5199a
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 15 00:36:45 2008 -0700

    [RANDR] Support filters in CRTC transforms.
    
    Create new RRTransform datatype to hold all of the transform related
    information, use that in lots of places to pass filters around.

commit acda790e430b2a18c7c35379f6e538f3d01ff221
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 14 13:46:30 2008 -0700

    [render] Split out filter finding from filter setting.
    
    To prepare for RandR using filters in transforms, split out
    code paths so that the RandR code can validate the filter name and
    parameters during the transform set operation so that use of the filter
    later will not have unreportable errors.

commit e3d6f279d5c305dfb81ca109fbfb665870712d2f
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 13 21:31:12 2008 -0700

    Wire up RandR CRTC transform protocol, bump server to RandR 1.3
    
    This involved removing a pile of matrix code from the DDX,
    as well as moving a bit of transform logic from DDX to DIX.

commit ff9d1cd843a9b0aba69a3d788b21d5f6af702590
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 13 21:30:18 2008 -0700

    Add funcs to convert between protocol and pixman matrices

commit c2f254da694731ea573aa8bbc2707c083743f2d4
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 13 21:29:19 2008 -0700

    Randr now depends on Render for matrices

commit f547650328287545a7a4d96df8d6a6c606dd95a9
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 13 14:50:13 2008 -0700

    Export a bunch of matrix operations from render.
    
    The render extension uses many matrix operations internally, this change
    exposes those functions to other parts of the server, drivers and
    extensions. The change is motivated by the 'transform' additions to the
    RandR extension but will likely be useful elsewhere.

commit e063162e80e51ed4368874b3af7ba690ea280d9e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Mar 13 14:26:01 2008 -0700

    Add projective transforms to RandR DIX/DDX API.
    
    New RRCrtcGetTransform function in DIX that DDX can use to get the pending
    transform. The DDX code should be complete; the DIX code is just a stub at
    this point.

commit 9c7ac47b871a71e42d2f6933749ca462f1a65b40
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 4 00:10:08 2008 -0800

    Notify DRI when crtc regions change
    
    Drivers that care about crtc positions on the screen to ensure that vblank
    works correctly need to be notified when crtcs are changed.
    
    Provide a hook in the mode setting code that is invoked whenever any
    configuration is done to the screen.
    
    Use this new hook in the DRI code so that DRI clients are notified and
    receive updated information.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 554592cd70543f87cd8bee5ff47cc8281511e041
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Mon Nov 24 11:50:38 2008 +1000

    DGA: silence compiler warning.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 0dbcbd35f63db14734199a0beb2a91b6937f3838
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 21 12:02:02 2008 +1000

    xfree86: Split the working code of NIDR into new xf86NewInputDevice.
    
    The xfree86 server previously hat NewInputDeviceRequest and InitInput, and
    both basically did the same thing. Reduce NIDR to parameter checking and use
    xf86NewInputDevice from both InitInput and NIDR to actually create the device.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit e078901a4eca02bd3e7a80d9462dafbca939a187
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 21 12:39:55 2008 +1000

    dix: Enable core devices in InitCoreDevices already.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit d939f2482e71ad20bac28b7aa4b2e8c8196e9d65
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 21 12:21:45 2008 +1000

    dix: fix false comment.
    
    VCP and VCK are always present, this comment is a leftover from earlier MPX
    days.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 387563b77743d92be83420d982eaf57f5459a883
Merge: 85f650c f6e01fa
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Nov 23 13:15:46 2008 +0100

    Merge branch 'master' of git+ssh://herrb@git.freedesktop.org/git/xorg/xserver

commit 85f650c9b76ab2e244f01908a7941c320635becd
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Nov 23 13:14:27 2008 +0100

    missing action in if statement.

commit f6e01fa1b87ea190ea5ad723ce46893784ea1de4
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Sun Nov 23 11:16:03 2008 +0100

    Added '-showopts' option to print available driver options (#5564).

commit 8964b8d0ec2b7b3b6bf540cd647b14a20e8f64a5
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Nov 22 14:23:23 2008 -0800

    XQuartz: More 1.6 server API updates

commit ad0f232165fe1a25ca4fb6da817da02b6ce31779
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Nov 22 14:04:28 2008 -0800

    XQuartz: Fixed --disable-glx

commit 8e2287c220694953e972cd5119c2b0cd256b7a30
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Nov 22 13:57:45 2008 -0800

    XQuartz: Updated some code to use newer server API

commit 6eb33bc0cb2e62339d323e1f1894015d7e3142f3
Author: George Staplin <gstaplin@apple.com>
Date:   Sat Nov 22 11:37:08 2008 -0700

    XQuartz: GL: Remove the inclusion of glcontextmodes.h.
    
    Add some commentary about future directions needed for the GLX drawable
    creation and destruction code.
    
    Match xalloc with xfree.
    
    I made some minor formatting improvements.
    (cherry picked from commit b772d64fce31d16b498c621096e39d5203994d6e)

commit 429b4b20d5708d608fd55f91dd5bcd4ac0b51a12
Author: George Staplin <gstaplin@apple.com>
Date:   Sat Nov 22 10:57:58 2008 -0700

    XQuartz: GL: Add a branch to prevent a NULL DrawablePtr structure access.
    
    In attach() check for pDraw being NULL, and also print an ErrorF message,
    because we eventually want to track down why this is occuring.
    
    It's unclear how this occurs, but as I noted in the 1.4 branch, I believe that
    the DrawablePtr/struct _Drawable -> id is the member being accessed that causes
    KERN_PROTECTION_FAILURE at 0x0000000000000004
    
    This passes my tests using: env LIBGL_ALWAYS_INDIRECT=1 ./sometest.
    
    I fixed a warning: caused by initializing the screen->base.visuals with the
    configs.  It is a ** not a *.  It seems that some other part of GLX will
    initialize this for us.
    (cherry picked from commit 17f6a261fca6d5856069dce28bb4838261afc6bc)

commit bc0c7075e29b1719409cf7de8a4ab9ae1315aa67
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Nov 22 19:10:09 2008 +0100

    Remove the old libusbhid copy from os-support/bsd.
    
    This has been replaced by in-kernel support for USB mices several
    years ago and hasn't been enabled in build since X.Org 6.8.

commit 76fcfc480133726112049e5bd9c3082d46825918
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 21 20:25:55 2008 -0800

    XQuartz: GLX: sync up indirect.c to match George's updates in the xorg-server-1.5-apple branch

commit 1a717779b67b9c1cdf734eef64135ac38829f726
Author: George Staplin <gstaplin@apple.com>
Date:   Fri Nov 21 17:28:11 2008 -0700

    XQuartz: GL: remove glcontextmodes.* from the Makefile.am.  It has been replaced.
    
    The new replacement is __GLXconfig.
    (cherry picked from commit 3bed9b65c807a1aeb662b8042826cbb54280181d)

commit dacad9ae0bdaedff9403fbe84a5c5a4b4eef3542
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Nov 21 17:16:22 2008 -0800

    Xephyr man page typo fixes.
    
    Also trailing white space removal to clear git warnings.

commit ca64b5949d229a60a3c62b6d29d51873b7694bd6
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 21 11:20:31 2008 -0800

    XQuartz: Don't use LS to find X11.app on Tiger.
    (cherry picked from commit e62107e55261ef252a2a24dd26a60e5dd295d560)

commit 701f8e3a94d2b659ebcfffd09acd1d66f9e797b8
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 21 11:08:00 2008 -0800

    XQuartz: Update applewm deps
    (cherry picked from commit 0ad91c59be8759a9c9e9d4f639056d8c689a3bc5)

commit 393325f908f8bd6648e466183f3683a2d80b264e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 21 10:57:31 2008 -0800

    XQuartz: spewCallStack is noop on Tiger now...
    (cherry picked from commit 56c469a68b92c6cf003802f418ea00bd596a41c3)

commit 5d47a5d6526b7e52387647a15a580dfcafd1733f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 21 10:54:55 2008 -0800

    XQuartz: pbproxy: Added some typedefs for types not available on Tiger
    (cherry picked from commit 0947aa7911f1de44bfe16e505a757b659c5ab2a8)

commit b262788401715787c68cea4ca79f4b270307afee
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 21 10:53:39 2008 -0800

    XQuartz: More Tiger ifdefs
    (cherry picked from commit 803509072f2c039e5cd555c4ac14d672f0e698c5)

commit 510744444329170f702d31d43997a6bbc1591b44
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 21 10:44:11 2008 -0800

    XQuartz: Resurrect the old audio path for Tiger
    (cherry picked from commit a61a8d9047e8765faf3892f4f2148c8553fd192c)

commit d7ee76f9dd84da05b59591a971b96bf990136767
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Nov 19 11:42:59 2008 -0800

    XQuartz: pbproxy: Push the pbproxy Xevent processing into its own thread
    and just have the AppKit thread wake it up.
    (cherry picked from commit 799715b8f3327c8da59ab45706e85af2d2c438e4)

commit a9e20306fbe3262602f21b876a52a1ef38cdf20a
Author: Egbert Eich <eich@ovid.suse.de>
Date:   Fri Nov 21 18:50:01 2008 +0100

    int10: Do an mprotect(..,PROT_EXEC) on shmat()ed memory ranges.
    
    When the linux kernel sets the NX bit vm86 segfaults when it tries to execute
    code in memory that is not marked EXEC. Such code gets called whenever
    we return from a VBIOS call to signal the calling program that the call
    is actually finished and that we are not trapping for other reasons (like
    IO accesses).
    Use mprotect(2) to set these memory ranges PROT_EXEC.

commit a54153e669fd293a47f0077bf25505dd545ddce2
Author: Rémi Cardona <remi@gentoo.org>
Date:   Fri Nov 21 16:39:00 2008 +0100

    xfree86: don't reset Auto(Add|Enable)Devices, use defaults from xf86Globals
    
    Without this, commit ace38fafb062372dcd3d56378b5b8f86525c6241 is useless
    when HAL support is disabled.
    
    Signed-off-by: Julien Cristau <jcristau@debian.org>

commit 6a1b2fed7e465a9c652e8ee250b8eab440945862
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Sep 28 12:18:16 2008 +0200

    Add a man page for Xephyr, with information from the README file.

commit 10d472bf9d61bef32d0a383b2e3783e7a1d7621f
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon May 19 05:15:30 2008 +0200

    Support for BSD apm
    XXX check amd64 pci init

commit f4e725f248870a2de10449cc8f53de32e7840d45
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Nov 20 13:51:15 2008 +1000

    dix: memset DeviceVelocityPtr to zero.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 7f818776b7a19bd6100596d327ecaa69be317bc6
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Nov 19 15:05:50 2008 +1000

    dix: fix typos in comments, one formatting fix.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 037ec5a3c496b07f885a128828ef804b3aa8eee2
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 19 15:12:04 2008 +1000

    gitignore: ignore .patch files

commit ace38fafb062372dcd3d56378b5b8f86525c6241
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Tue Nov 18 08:19:45 2008 +1000

    xfree86: without CONFIG_HAL, Auto{Add|Enable}Devices and AEI is false.
    
    There's little chance that we'll get the input devices at runtime without HAL,
    we might as well force the server to add mouse/kbd devices automatically -
    just like in the olden days.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 1cd894173ee7fa3d1a78d330c12453ea53e7b908
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Nov 19 13:44:26 2008 -0800

    Always use server-<display>.xkm to avoid races when multiple servers start
    
    Previously each server starting ran xkbcomp with the output set to
    <keymapname>.xkm, read it, then deleted it - which led to races if
    two servers were starting at the same time with the same keymap.
    
    Sun bug #6773816 Xorg uses the same xkm output file for compiled keymap file
      <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6773816>

commit 1e4412abc499b9938bbac8a3ecd82f7f12d448d9
Author: Rémi Cardona <remi.cardona@lri.fr>
Date:   Mon Nov 17 09:56:49 2008 +0100

    drop unused HAVE_LIBDRM_2_2
    
    Signed-off-by: Julien Cristau <jcristau@debian.org>

commit c4ec71b405fcb5132d5089e3f8dd7b00c235265a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Nov 16 17:57:46 2008 -0800

    XQuartz: pbproxy: nuke RCS Id, update header license/copyright
    (cherry picked from commit 477c6968a88429bb9c10222a5836bdc936d10ab1)

commit 42f330cf9ef44aea7428a67d282dfb1a60196e55
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Nov 16 10:42:03 2008 -0800

    XQuartz: pbproxy: Remove thread-main.m
    
    it got accidently added and isn't used.
    (cherry picked from commit cb6ffce68a2d10022fa92725d2d1837da4b3b89f)

commit 19aac4274bbac55ce944acfaf3274a4403fe392e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Nov 19 10:55:29 2008 -0800

    mi: Push screen-saver/DPMS handling to after the EQ pop operation.
    
    This way we on't need to hold the mutex during the dixSaveScreens() call.
    
    Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>
    Signed-off-by: Tiago Vignatti <vignatti@c3sl.ufpr.br>
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 56d1793c435abbaababab031860f1160f09fff06
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Nov 19 10:54:57 2008 -0800

    mi: Only increment tail (push) when the event data is actually in the queue
    
    Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>
    Signed-off-by: Tiago Vignatti <vignatti@c3sl.ufpr.br>
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 570835b9a89187a36e08defbccc56051bb349b52
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Nov 19 10:19:20 2008 -0800

    Use bsd_pci stub routines on Solaris too, since we use pciaccess for real work
    
    Depends on commit 70e18a3b6b9d52169bca650f6cd4ef5d8ab40d95 to get
    definition of xf86InitVidMem on Solaris.

commit 3932a848572f4eaf8b7f1d91d9b74aeafab069a2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 18 14:21:01 2008 -0500

    Xinput: use floats for ConstantDeceleration and AdaptiveDeceleration
    
    These values need not be constrained to integer values.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 08cd361234ed0410f67342f46ae01120c4fe3331
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 17 10:28:48 2008 +1000

    exa: avoid doing prepare/done without intervening copies in exaFillRegionTiled
    
    This does a precursor check to make sure the copies are required before
    entering the prepare/done code.

commit 8f8a9c19ad58768b07461a3f4bccea98f7c4f958
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 17 10:24:39 2008 +1000

    EXA: avoid copy operations if no boxes in use
    
    Simple fix for now, I'm sure damage shouldn't be calling us with nbox = 0.

commit 03f7a66a1ae3f522a49bcc783066d53d69c97262
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Nov 15 19:45:49 2008 -0800

    XQuartz: Don't use TIS on Tiger...
    (cherry picked from commit be8ac84c15e7e76c581b9e75cda74139394aa4c7)

commit e8112784e8ef80a96ed54eca7e148b424001a38f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Nov 15 19:52:34 2008 -0800

    XQuartz: Integrated xpbproxy into the server.
    
    Added a configure option called --enable-standalone-xpbproxy which is useful for deveoping xpbproxy.
    The 'active' switch in preferences just disables the in-server xpbproxy (not this standalone).
    (cherry picked from commit 42944936326ef8732f622db9f75b79a92980550d)

commit 24928b85dc996c8d0a052ddf383df25718ee5305
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Nov 15 13:28:53 2008 +0100

    DRI2: Don't crash in DRI2ClipNotify when DRI2DrawablePtr is NULL.

commit e5271c374715dd4e9a724ab3e5f77108d4ce8c23
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Nov 15 13:27:42 2008 +0100

    Set libdrm flags correctly even when only DRI2 is enabled.

commit bc4f804cd86497655f6765b0954e64dc959939e3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 14 15:13:22 2008 -0800

    XQuartz: Actually add glcontextmodes.[hc]
    (cherry picked from commit 763195d338345e3637d112279bdbe002b6e7791a)

commit aedafbea0e1c7bc780ebe7ae878f62525769aca8
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 20:21:24 2008 -0700

    fix compilation on systems that don't have
    XP_EVENT_SPACE_CHANGED defined
    (cherry picked from commit 6e833e41e2f3a84f7e5164b918737b3975517c12)

commit b0789365719f48c0b477b4703f2072f932246b76
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 14 14:57:09 2008 -0800

    XQuartz: Initial work on readding GLX to the 1.5 server
    (cherry picked from commit a186cab6ae82340770c13b37ff5df731ce2a0ceb)

commit 1d7049f8fd3c0798250b9213149d3ce0b37ab77f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Nov 13 12:45:35 2008 -0800

    Xquartz: Force sending mouse clicks to AppKit if we're over the menu bar
    (cherry picked from commit 7dff93ec1ac92aeaf3b70d5cfe787fa4a28c0dba)

commit 3c124832642f1ec3228a57bea3d1eda68a188ff3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Aug 20 10:37:17 2008 -0700

    XQuartz: Made X11Application.m a little more tidy.
    (cherry picked from commit 3520386261b838196a8918e8bee16bdccbc9781d)

commit e917806fc556c2054b2835c8f85770b554c78092
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Nov 14 10:56:21 2008 -0800

    os/connection: TRANS_NOXAUTH bit comparison brainfart fix.
    
    https://bugs.freedesktop.org/show_bug.cgi?id=18524

commit 17bccff4ce905f46c074fd8ee7c6567b1371a0a1
Author: Fernando Carrijo <fcarrijo@yahoo.com.br>
Date:   Fri Nov 14 12:36:20 2008 -0500

    [dix] Remove a duplicate statement.
    
    Signed-off-by: James Cloos <cloos@jhcloos.com>

commit ba4e08244ed3923eecf26842dfc1df17c696e053
Merge: 81fd17f 5bad5d2
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Thu Nov 13 15:04:18 2008 -0500

    Merge branch 'master' of git+ssh://agd5f@git.freedesktop.org/git/xorg/./xserver

commit 81fd17f5f49cdd2c10d0bf3b7ddeb8b5953886a5
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Thu Nov 13 15:00:30 2008 -0500

    Only add default modes if EDID supports continuous-frequency
    
    When an EDID is present, only add the default mode pool if the
    continuous-frequency bit is set in the EDID.  Should fix bugs
    like 18512.

commit c232f3d673fb00d7fceb8e82741349d64e5ac0ad
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Nov 13 14:58:21 2008 -0500

    xf86TargetExact should try harder if there's only one monitor attached.
    
    If there's no preferred mode, but only one monitor, pick the
    biggest mode for its aspect ratio, assuming one exists.

commit 5bad5d2abea2f51cbf53dc8dd016e90ccb086220
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Nov 13 11:32:40 2008 -0800

    XQuartz: Fixed XBell() when not using system alert.
    (cherry picked from commit aa0e9ab1c7a226cdcb3c5e62be159355a290faf8)

commit 0fca8588a238c91580b305c3671567e910150a02
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Nov 13 11:10:15 2008 -0800

    XQuartz: Added more debugging to handoff spew
    (cherry picked from commit acefa7e3c8706ffedc052effd50b36ce10e72c22)

commit 47d38218706564d1437dc3ff9d1bba3511db063c
Author: George Staplin <gstaplin@apple.com>
Date:   Wed Nov 12 17:17:25 2008 -0700

    XQuartz: GL: Handle the alpha differently when the alpha is equal to GLCAPS_COLOR_BUF_INVALID_VALUE.
    
    This prevents visuals with odd sizes.  The machine I use didn't have
    this problem, but it shows up on some others.
    (cherry picked from commit ed181382ddeb77019577d39b9c06b1cd839e18e4)

commit 6b501d7cc55f1d06966cdf3caf36bcfc6cf18939
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Thu Nov 13 13:57:30 2008 -0500

    Add missing newline when printing edid info

commit 33edd32702d963802e64d382124eabb9d0352fa8
Author: George Staplin <gstaplin@apple.com>
Date:   Sun Nov 9 18:35:10 2008 -0700

    XQuartz: Disable 2 calls to miSetVisualTypesAndMasks that seem to be unnecessary, and possibly wrong (with regard to masks and bits per RGB).
    
    Use the settings queried from the system in xprScreen.c, rather than those 2 calls.
    
    The 2 calls increased the total number of visuals a great deal (when using GLXEXT),
    and not all of the visuals were usable with GLX.  Some of the visuals aren't usable
    with GLX still, such as DirectColor, but that seems to be acceptable based on my
    understanding of the manual that states "a subset of visuals are made available
    for OpenGL rendering."
    (cherry picked from commit 373b8a5f32509722e06d8776109e6c3f06645ee0)

commit 1523476afa6657c20eba112e3ee051d45e721164
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Nov 8 23:32:40 2008 -0800

    XQuartz: CFBundleShortVersionString needs to conform to X.Y.Z as well... sigh
    (cherry picked from commit 54d20f6d33c347bcb37a0a8287c2d92fed2b9092)

commit 1f301a0051d65296189248b2529616d9b33276b3
Author: George Staplin <gstaplin@apple.com>
Date:   Thu Nov 13 01:27:33 2008 -0700

    XQuartz: Restore the logic of AppleWMDoReorderWindow to the same as the 1.4 branch.
    
    It was returning inverted values in comparison to the 1.4 branch.  This resulted in
    the windows not drawing due to a deep path of: RootlessReorderWindow ->
    SCREENREC(pScreen)->imp->DoReorderWindow(winRec) - > xprDoReorderWindow ->
    AppleWMDoReorderWindow.
    (cherry picked from commit d1d398db762fe7d5720f9b5fafa2bbe8372fceac)

commit f5841e96487234df5ead5f5c0fb3c587c418cb46
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Tue Nov 11 22:50:35 2008 +1000

    dix: don't store enter/leave and focus semaphores in a devPrivate.
    
    We need them for each window, every time a window is allocated. Storing them
    in a devPrivate is the wrong thing to do.
    
    This also removes the unused ENTER_LEAVE_SEMAPHORE_ISSET macro.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>

commit 26f701704b4e536cd91bd8a9f7d2194793471998
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 12 16:53:29 2008 +1000

    dix: remove duplicate line in EnterLeaveEvent.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 8ff62ea5ba1bc331c886840b2b1e101cb4f2ebed
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Nov 12 15:19:09 2008 -0500

    CopySubBuffer expects GL style coordinates.

commit d91243beb63008fff2ce6affa7db091786e8c49a
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Nov 7 08:39:38 2008 +1030

    dix: formatting fix.

commit dde09076c5c0c36a4a9321cd23a2c7922c4c755b
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Nov 5 12:52:03 2008 +1030

    dix: remove superfluous variable devgrab
    
    grab == devgrab anyway, this is a leftover from the time when we had two
    different grabs per device (core and XI grab).
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit fc3e8bfb82323477b54181c6d546c90f53f1ebd8
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Tue Nov 4 15:27:30 2008 +1030

    mi: clean up mieqProcessInputEvents, copy all events before processing.
    
    Copy the EventRec's information into local variables before processing them,
    this should make it safer for upcoming threading and also makes it easier to
    read.
    
    Simplify the event allocation code from the abyss it was before.
    
    This also fixes a potential bug where a custom handler could scramble the
    event before the same -now scrambled- event was then passed through the
    master's custom event handler.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 31005efb1bb6be5a892ff905f754109dc3fa8fe6
Author: Fernando Carrijo <fcarrijo@yahoo.com.br>
Date:   Mon Nov 10 13:23:45 2008 -0500

    input: Remove useless conditional.

commit 24383056d0513cc588cee5cee78f1cba2c0fbe89
Author: James Cloos <cloos@jhcloos.com>
Date:   Sat Nov 8 13:04:20 2008 -0500

    Don’t recommend fixing HAL if HAL support is disabled.
    
    As reported in http://bugs.freedesktop.org/show_bug.cgi?id=18438
    the server suggests reconfiguring HAL if AllowEmptyInput is enabled
    and no input devices are known.
    
    Instead of that notice, if HAL is disabled at configure time,
    AllowEmptyInput is enabled in the config and no input devices are
    found report those facts and recommend disabling AllowEmptyInput.

commit b3c7e62664457a3802ebc23785446051624a8c2f
Author: James Cloos <cloos@jhcloos.com>
Date:   Sat Nov 8 12:18:13 2008 -0500

    Remove some null statements.
    
    Remove several doubled statement-terminal semicolons.
    
    Reported by Fernando Carrijo.

commit 21c116219cd5c6845a0955f2d88fdb5fab5c17cf
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Nov 8 01:25:14 2008 +0100

    Fix typos which caused exaCompositeRects() to use an incorrect damage region.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=18065 .
    
    Also, it can bail if either width or height of the bounding box is <= 0, not
    only if both of them are.

commit 59f9fb4b8c031df69b3592a26b77e744ff4a556e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Nov 7 19:11:11 2008 +0100

    XAA PixmapOps: Sync before accessing unwrapped callbacks.
    
    When using any XAAPixmapOps, we call into unknown but freshly
    unwrapped callbacks (like fb ones). Unlike the XAA*Fallback calls,
    we did so without syncing first, exposing us to all kinds of
    synchronisation issues.
    
    I believe that the rendering errors appeared now because *PaintWindow
    vanished (e4d11e58), and we just use miPaintWindow instead. This
    takes a less direct route to the hw and ends up at
    PolyFillRectPixmap, which very often left drawing artifacts.
    
    We now sync accordingly, and no longer get the rendering artifacts i
    was methodically reproducing on radeonhd, radeon, unichrome...
    
    Also, in order to allow driver authors to remove extensive syncing
    or flushing to hide this issue, create XAA_VERSION_ defines, put
    them in xaa.h and bump the patchlevel.
    
    (novell bug #435791)

commit 991c88b7542164194be73573e7644164416ea90c
Author: Julien Cristau <jcristau@debian.org>
Date:   Fri Nov 7 17:36:38 2008 +0100

    xfree86: xf86SetDepthBpp needs to respect the driver's depth24flags
    
    When setting the depth to 24, leave bpp unset so the logic to pick
    a supported value is used instead of ignoring the driver's preference
    and forcing 32 bpp.

commit d3d6be4948fa19947fd3b03e6694247109cc0ffb
Author: Julien Cristau <jcristau@debian.org>
Date:   Fri Nov 7 18:36:00 2008 +0100

    mi: Fix infinite loop on regen when swrast_dri.so is missing
    
    The swrast DRI provider gets pushed on the glx provider stack at every
    server generation, so the stack turns into a circular list on regen.
    
    X.Org bug#18388 <https://bugs.freedesktop.org/show_bug.cgi?id=18388>

commit f59352881f315a634f60c9aac885b2764b28b167
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Nov 6 14:41:55 2008 -0800

    XQuartz: Make LS parse our version properly... it didn't like our CFBundleVersion
    (cherry picked from commit 980df1b4ff7d4dab9dc1462dc086542265b1fb1b)

commit b4ca9dc2393ace2415163094b916f0d17ecba9ee
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Nov 5 21:58:04 2008 -0800

    When HAL returns a NULL property, print "(null)" instead of a NULL pointer
    
    They've promised to fix Solaris printf soon to check for NULL pointers
    instead of segfaulting, but that won't help people on existing releases.

commit 13d06f5aaf6120c902a323649615c1ce3d1b5359
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Tue Nov 4 12:53:12 2008 -0700

    XQuartz: GL: Add capability detection for depth buffers, and multisampling.
    
    GL/capabilities.c: Add handleDepthModes(), and extend
    handleRendererDescription() for the various depth and multisampling flags.
    
    Add initialization of the new config options to initConfig().
    
    GL/capabilities.h: Add depth and multisample config members.
    
    GL/visualConfigs.c: Add depth and multisampling support to the visual config
    setup.
    (cherry picked from commit f527381eea6a8ae6cd791475b2060d21fcf8efb2)

commit 34bb06b292dc8b07d8602941aab3e69a73811314
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Mon Nov 3 19:52:48 2008 -0700

    XQuartz: GL: Work around problems with really deep visuals.
    
    GL/capabilities.c: #if 0 (for now) any capabilities above 8 bits per channel,
    because they introduce drawing problems.
    
    GL/indirect.c: Comment out some visual setup code that shouldn't be running, and
    actually seemed to cause some problems.  The current visualConfigs.c code seems
    to do a reasonable job of setting up visuals for XQuartz.
    
    GL/visualConfigs.c: Make use of the proper visual .class.   Eliminate depth 0.
    It seems we really just want 24 for now, and 0 I think was a flaw in the original
    code.
    (cherry picked from commit 1e5f63f15e13a40a6e69a1505934d10d6990b6a2)

commit 39e82a9b1250b23768136f3c397377a97f8b908c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Nov 2 15:52:22 2008 -0800

    XQuartz: Replace deprecated API usage thanks to Robery Murphy
    (cherry picked from commit 71dd052412400362793f2f0c7c02bf4f4309738c)

commit b4db46320a437ba8894cb8cfd4ee3abdcc894b01
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 31 20:18:27 2008 -0700

    XQuartz: version string updated for 2.3.2_beta3
    (cherry picked from commit 81bb4128570b44d779126a8dffcd3c5620747383)

commit c9051b684b524549eab6d5b88ee3e195a6f6fbe8
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Nov 5 18:25:57 2008 -0800

    Use OsSignal in Popen/Pclose to avoid SysV signal() stupidity

commit d63ea510138c8b6de66184c78cda39ed9981fc1f
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Nov 5 14:52:29 2008 -0800

    Non-Linux OS'es should default to kbd driver, not now-dead keyboard driver

commit 446d9443cea31e493d05c939d0128a8116788468
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Nov 5 11:51:06 2008 -0500

    linux: Drain the console fd of data when using evdev for keyboards
    
    Works around a silly bug in the kernel that causes wakeup storms after
    too many keypresses.  Should fix the kernel bug too, but this at least
    keeps the idle wakeup count below 1000/sec.

commit 6d21fbf00648307208146aca0837ec63ea490659
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Nov 5 11:39:46 2008 -0500

    kdrive: Bye bye Xvesa

commit 9a874a71a791c6110fd57b8a5c083f777a446d0f
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Nov 4 21:31:27 2008 +0100

    DDX/RandR: When positioning outputs assume width/height = 0 if no modes exist.
    
    When a user specifies the position of an output for which no modes exist
    (for whatever reason) assume that the width and height of this output
    is 0. The result will be the same as if this output isn't taken into
    consideration at all and thus should be sane. It will prevent a segfault
    when trying to determine the width and height of a non-existent mode.

commit a4d62bbf215894bad8e19d99f7330c637d3d49e3
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Nov 4 11:27:53 2008 +0100

    AIGLX: Reinstate call to driver texOffsetFinish hook.
    
    It was accidentally lost when factoring out __glXDRIdoReleaseTexImage, so this
    is a regression fix and should probably be backported to server-1.5-branch.

commit 27f1ad466cd9662d638f4a8e59beafc32a8b2a8f
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Nov 4 11:26:03 2008 +0100

    AIGLX: Don't truncate offset returned by driver texOffsetStart hook on 32 bit.

commit de1a8b68eb10c39a0d4a197107d68d7cc009edb2
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Mon Nov 3 11:30:48 2008 +1030

    xkb: extract the correct device in XkbFilterEvents.
    
    If the event is an XI event, we need to work on the correct device, not on
    the VCK.
    
    Adds XIGetDevice(event) function to extract the device from an event.

commit d97239956667f8181f30271759573b75bf455fbb
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 16:40:41 2008 +1030

    Purge device-based WindowAccess code.
    
    Really, this was a bad idea. It's not security, the UI features that would
    have been cool (e.g. clicking through windows) aren't implemented anyway, and
    there's nothing you can't achieve just by using plain XI anyway.
    
    Requires inputproto 1.9.99.6.

commit cbc6f983959595aa21c9dd72fac6a7070a650ef7
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 14:36:48 2008 +1030

    xkb: when faking mouse button events, fake them on the correct devices.
    
    When MouseKeys are activated, keyboard devices may generate fake mouse button
    events through XKB. Let's get then running through the appropriate paths, i.e.
    as XI events on the correct device.
    
    To make matters more fun, ProcessOtherEvents drops events if the DIX device
    state cannot be updated accordingly, i.e. all button events from keyboard
    devices.
    Hence we need to get the paired MD for the device in XkbDDXFakeDeviceButton,
    and post the event through the paired MD (usually the VCP).
    
    Removes now-unused ddxFakeBtn.c.
    
    Note: this patch only half-arsedly fixed button events, motion events are a
    more complicated matter.

commit 4971315296cbf868dd738c1c0c1c504fcfe1b619
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Mon Nov 3 17:47:36 2008 +1030

    dix: clean up GetPointerEvents and GetKeyboardValuatorEvents.
    
    Split into several functions, remove some stale comments.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 6bb0e0a53656db6168a053fb51b242a8640c1461
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 24 16:22:09 2008 +1030

    xnest: I'm sure xfree works fine, even if we're 64 bit.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 67b7e06c4fa4e8dafb64d9f3eb976836d0cc5889
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Apr 25 19:39:48 2008 +0300

    XKB: Remove pointless macros
    
    These weren't even being used, which isn't overly surprising, given that
    they were already in the struct.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit d9ff20e323ba9fb309629ac21946e85709625589
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Oct 23 16:48:15 2008 +1030

    DIX: Remove unnecessary prototype
    
    We don't call XkbCopyKeymap from getevents.c anymore, so axe it.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 064ee458c7183eb91ef2e0f262b312ba1e3ad6e5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 9 15:54:56 2008 +0300

    XKB: Tiny cleanups to _XkbLookupAnyDevice
    
    A couple of coding style cleanups, a warning fix via removing a
    now-unused label, and also put an else so we don't spuriously trip a
    condition that should admittedly never occur anyway.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 97c9e6a7139e07a0761be05034fae42fcd65ba36
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Mar 28 17:10:28 2008 +0200

    XKB: Fix thinko, causing warning (erroneously fixed in 5544c51447)
    
    newTypes is a local variable which always has an address.  newTypesIn,
    on the other hand, might be sus.
    
    See also 5544c51447f551dfc6df64438873a7ce64743976.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit caf1e6a1c92a2e70de9159f93d6f5b48c202dd81
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Mar 18 10:05:00 2008 +0200

    XKB: Move XKBrules.h to the server too
    
    Get our own local copy of this, so we don't have to define XKB_IN_SERVER
    anymore.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit f4036f6ace5f770f0fe6a6e3dc3749051a81325a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 22 22:40:44 2008 +1030

    Remove XEvIE
    
    It's unmaintained and has been broken for quite a while; MPX finally
    smashed it completely.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 8c3753a0b711b5708b61f64ab4010ca01608d679
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 22 22:29:54 2008 +1030

    A bit of whitespace cleanup in include directives.
    
    It's #include <foo>, not # include <foo>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 889a8dc02bbd3926eaf16dce8f844dc58558e982
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 22 22:29:54 2008 +1030

    Xi: XINPUT has been mandatory for ages
    
    Ditch all #ifdef XINPUT, since it's always built.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 4cf2f4172abc4bf848c1726e6dac535713e08f0b
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Nov 3 12:50:28 2008 -0500

    Add xf86MonitorIsHDMI() helper.

commit a7951a4dad902edea76a5cd68f833f0e48ae804b
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Nov 3 10:00:54 2008 +0100

    AIGLX: Allow 2D driver to prevent zero-copy texturing of a pixmap.
    
    The driver can return ~0ULL to achieve this, e.g. if the pixmap doesn't fit
    into offscreen storage or if its pixel format isn't supported by the 3D engine
    for texturing.
    
    See http://bugs.freedesktop.org/show_bug.cgi?id=17723 or
    http://bugs.freedesktop.org/show_bug.cgi?id=12385 .

commit f8af66ddb21b4fb1ae5b4f7f852418ca7b0e7aec
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 31 20:03:34 2008 -0700

    XQuartz: Add option to allow access to the menu in fullscreen mode
    (cherry picked from commit 637a9f4bd1ff2b55c870a08ead4940df0f9818e5)

commit c5086badf0387d4d5af10882de90a1faa180550f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 31 18:58:57 2008 -0700

    XQuartz: LP64 related casting fixes from Bob Murphy
    (cherry picked from commit ea71710aaa7166ab510abe70f2dc47942de0ead7)

commit 20239a4deebccc9f86586ef6b8ef61311a6fa6a0
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 31 18:58:25 2008 -0700

    Rootless: LP64 related casting fixes from Bob Murphy
    (cherry picked from commit 40441c4e31167932721a79d7ca572caaa1d36e72)

commit ecd55bc859eb5d7c639d5a6d531d9df524124247
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 31 15:10:34 2008 -0700

    XQuartz: displayScreenBounds uses quartzEnableRootless rather than !quartzHasRoot
    (cherry picked from commit c883a78ef0c2e7e29437881db85d3815a89ab874)

commit 4e762b8aa37b588e6cffcdd4a0152090190005e2
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 31 14:39:54 2008 -0700

    Rootless: Force initialization of static variable before use.
    (cherry picked from commit cece29317269385aa7a0d3047e6f90e6a17d01eb)

commit 9f49f5172d10070ebd4a9e72ac3c5227c6f35853
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 31 13:00:01 2008 -0700

    XQuartz: Silence pointer debug spam
    (cherry picked from commit 9ca099e928653b5a0fb745186e17bfcc3d74ccc0)

commit 93298c7f8f73bdb9892da0e41d2c2a67719dc736
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 31 12:55:46 2008 -0700

    XQuartz: Don't map the menu bar to the screen area.
    (cherry picked from commit 1115917ada127a1cd6a8b61efe7fd134e2ea85fd)

commit 31907986a6d4dc726d8ce0071f5884ce6cfea33b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 31 12:37:32 2008 -0700

    XQuartz: Fixed Xplugin thread safety issues, so rea-enable background window check
    (cherry picked from commit 5fc73b1141eca8b678e54412ca33afa31a76d088)

commit 227d782a1bddfa1393cddd0c73c0288e18645c47
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Thu Oct 30 13:44:55 2008 -0600

    XQuartz: GL: Mark visuals that are slower than others, due to lack of acceleration.
    
    This is used in libGL to determine a preferred visual.  glxinfo -v will also
    report "visualCaveat=Slow" for such visuals.
    (cherry picked from commit d5c17f585a240be9f9135975738e62951cde3353)

commit 5287602a4161cd036e3125cda09ba750190a0b47
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Oct 29 17:20:11 2008 -0700

    XQuartz: if 0 out a block to avoid thread-unsafe lockups
    (cherry picked from commit 60d7359a67900ad4601dbc73e07bcd8c803100a5)

commit 93d7cd31c527afbf26f4e039afb6adbb6a60fab7
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Oct 29 17:18:05 2008 -0700

    XQuartz: Purge the old XQUARTZ_EXPORTS_LAUNCHD_FD option
    (cherry picked from commit 490756c7fbe0792c4bd6ae434e7a48e0beffa5c7)

commit 0a076b6a7f3c97ff712412eee32e013d3bfd7364
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 18:32:26 2008 +1030

    xkb: remove unused label "out", clean up program flow.

commit 971aef64416058665bc903fee39fea1619cd3727
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 17:05:40 2008 +1030

    dix: FreeDeviceClass() and friends can be static.

commit 3c3a47d0f5ce7fb9548a3eefee9e72488d3ac279
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 17:00:21 2008 +1030

    include: remove unused declaration for RegisterPairingClient().
    
    Matching functions got removed in 004876355b43fb4d3c2bc5653a7dc1bfd3f985ee.

commit 7c5dec9f716962a6e67dba99418061cebe10e1d2
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 16:56:49 2008 +1030

    dix: remove unused GuessFreePointerDevice().
    
    Not used since the MD/SD hierarchy was introduced many moons ago.

commit 12599af285a610fb429245798330f2317c75ac2c
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 16:50:28 2008 +1030

    dix: NextFreePointerDevice() can be static.

commit 5d0a945a030cd7626046e9f6c8d5c6bd170649d9
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 16:29:42 2008 +1030

    dix: SwitchCorePointer is long gone, bury it.

commit eb014021c2b3604fc67daebd6860b5dc959fabb6
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 16:27:58 2008 +1030

    dix: PairDevices() can be static, remove from input.
    
    PairDevices() is only ever called in EnableDevice().

commit b6b26560d65d9468c89dd046396d9aeb14e1b227
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 16:23:34 2008 +1030

    Move EXTENSION_BASE and EXTENSION_EVENT_BASE to misc.h.

commit f781a752e642cfe7d08f841b332c3ae507315598
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 16:16:18 2008 +1030

    Move MAX_DEVICES to misc.h, rename to MAXDEVICES for consistency.

commit 245d1c162c7b13c98a9a28dc7ad441366d7e8006
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 31 11:50:47 2008 +1030

    xkb: ProcXkbSetCompatMap should do dry-runs, then normal runs.
    
    Was doing only dry-runs, which kinda explains why changing the compat map
    didn't really have any effect.
    Fallout from e8c2a3d7c996cb41c4c44ba67acae5ff9438fc06.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 70e18a3b6b9d52169bca650f6cd4ef5d8ab40d95
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Oct 30 20:38:34 2008 -0700

    Refactor Solaris mapping code to work with standard shared/vidmem.c
    
    Also merge sun_bios.c into sun_vid.c and upstream Solaris patch to
    keep aperture device open, to allow mappings to occur after X server
    has given up uid 0.

commit 2809a56b4bc7f09f132c70dc39c6695495351c4d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 30 16:05:40 2008 -0400

    xace: Fix an incorrect call to the RECEIVE_ACCESS hook.

commit 0f2fd0577fe2740a32d3a2749e2c3582f891417c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 30 15:35:33 2008 -0400

    xselinux: send more specific message types to libaudit.

commit 4ce19b4477057a724b548e342d4c6da2b6721824
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 30 16:02:13 2008 +1030

    xfree86: fix xf86ScaleAxis once again.
    
    Maybe one day I stop doing stupid patches like
    a3a7c12fcf8e4ac1418f9ea53f76091f309a721b.
    
    So, if X < low, reset to low, and _not_ to high.
    If X > high, reset to high, and _not_ to low.

commit f12d7ad1647d12ccf92291ebc0607defe6a634a1
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Oct 28 12:38:05 2008 -0700

    XQuartz: Pass along SIGINT and SIGTERM from the stub to X11.app
    (cherry picked from commit 183ca5d68b4f34e248749f304ce140de11bd451b)

commit 273df54685768f74ed29926e88a63dc9f86744f1
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Mon Oct 27 22:07:00 2008 -0600

    XQuartz: pbproxy: Fix a bug that prevented nedit CLIPBOARD from being proxied.
    
    It seems that we were calling copy_completed: too soon.  Now we return instead
    of falling through to the free_propdata, and copy_completed:.
    (cherry picked from commit 5797d5b662817a3369a74a673f4a7c995cde75cf)

commit 313d87341aff2396645d2c315086d487c0073d27
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Mon Oct 27 20:44:02 2008 -0600

    XQuartz: pbproxy: Work around bugs in some apps that aren't ICCCM compliant.
    
    Eterm ends up setting the type of the property to TARGETS, instead of ATOM.
    That's why it wasn't working.
    (cherry picked from commit 9be5998ede7427f14dd9597e117b3d6b427ba4e5)

commit 9007d3beea2e2d8b271f696d433cb30e32cda401
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Mon Oct 27 16:34:24 2008 -0600

    XQuartz: pbproxy: Add code to handle PICT conversion to PNG and JPEG.
    
    This may work, unfortunately I don't have test apps that fail.
    
    The way it works is by using an NSImage class initWithPasteboard:
    method, which we then get the TIFFRepresentation of, and convert
    to PNG or JPEG.
    
    The TIFFRepresentation uses NSTIFFCompressionNone; which should be
    lossless.
    (cherry picked from commit 8d048cfa956f4a0860250cc836a6748912b37ad8)

commit b742da0b719198a42a086049771792af84f470ca
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Oct 26 13:17:49 2008 -0700

    XQuartz: pbproxy: fixed blocking
    (cherry picked from commit bb330a1b1c480e89727fb75ff5aeb71f4afc5ee3)

commit c885110aedc19e551de22a526397d77013c3dfcb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Oct 26 10:22:12 2008 -0700

    Xquartz: pbproxy: Some debugging about unhandled mime types... this will spam up quick, but will be useful for a while...
    (cherry picked from commit 3647215310f5a52126661b9ec473dcfeed25b40f)

commit e7c26964eef6732c9603b26b7396f95443c5ba8a
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Fri Oct 24 19:12:05 2008 -0600

    XQuartz: GL: Fix several error handling mistakes in handleRenderDescriptions, that were leftover before the final code evolved.
    (cherry picked from commit fe35a3639081dc78ac6cc4123cde37770f6a39fd)

commit 21ea9d82aab8ff0e0d1904d188f96f9cfb2b051d
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Fri Oct 24 18:11:46 2008 -0600

    XQuartz: GL: Add feature detection of color sizes, and accum sizes.
    
    This gives us a *lot* more visuals, and they should be more accurate.
    Some of the visuals may have been wrong before.  This may enable more
    OpenGL programs to behave correctly.
    
    I also suspect libGL needs a little work to handle some of these correctly.
    (cherry picked from commit 98a084ce9c455260ecdb5f8eecb67f33dbb53b69)

commit c264826da96ad1859dd112b17eb8aa9e5278478f
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 16 11:22:29 2008 +1030

    xfree86: If AEI is on, disable "kbd" and "mouse" devices.
    
    This consists of two parts:
    In the implicit server layout, ignore those drivers when looking for a core
    device.
    
    And after finishing the server layout, run through the list of devices and
    remove any that use mouse or kbd.
    
    AEI is mutually exclusive with the kbd and mouse drivers, so pick either - or.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 6c451859552e1fc78f6589617482f9ff96d7ed8a
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Mon Oct 20 12:19:55 2008 +1030

    config: don't add duplicate devices through HAL.
    
    If HAL is restarted, the device list is sent to the server again, leading
    first to duplicate devices (and thus duplicate events), and later to a
    FatalError "Too many input devices."
    
    dev->config_info contains the UDI for the device. If the UDI of a new devices
    is equal to one we already have in the device list, just ignore it.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 102c4dac7c521941f52652152b1660cd7f559d56
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 13:17:31 2008 +0100

    x86emu: fix sparse warnings
    
    ops2.c:113:18: warning: Using plain integer as NULL pointer
    ops2.c:207:18: warning: Using plain integer as NULL pointer

commit ffaaa1a198a77eb6800c08d4613ee1cc0b068ba0
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 13:13:21 2008 +0100

    xfree86: fix compiler warnings in DoModalias()
    
    The precedence of == is higher than that of &, so that code was
    probably buggy.
    
    xf86Init.c: In function 'DoModalias':
    xf86Init.c:300: warning: suggest parentheses around comparison in operand of &
    xf86Init.c:304: warning: suggest parentheses around comparison in operand of &
    xf86Init.c:308: warning: suggest parentheses around comparison in operand of &

commit 66fd05acd6118102aaaebc230d5c03e0758c6089
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 13:11:41 2008 +0100

    xfree86: Silence compiler warnings about function prototypes
    
    xf86Init.c:136: warning: function declaration isn't a prototype
    xf86Init.c:243: warning: function declaration isn't a prototype
    xf86Init.c:249: warning: function declaration isn't a prototype

commit 4b96ba8ddf36f84d4b8c0f2964535bd90477a742
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 11:56:35 2008 +0100

    Nuke unused miBankNewSerialNumber

commit e85d5d707d51d6a1558dfcf0ebd50183b84be39d
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 11:55:50 2008 +0100

    Ansify declaration of FontToXError()

commit 30a7a06a9e91a91b8517f67897831c1407713e57
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 11:38:44 2008 +0100

    Nuke prototype for nonexistent function
    
    miDoInitVisuals was removed in commit
    94825ad3c72a1c3f6a61199c302841f63241cf87, but its prototype was left.

commit 5244690a5e0285b6243ee1f28ae6c8287a32b73d
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 11:37:11 2008 +0100

    Add prototypes for strlcpy/strlcat

commit eadf90aa65d1ea63ddcd74e60e66a79ad567c7e8
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 11:20:33 2008 +0100

    xaa: Fix compiler warning (implicit declaration)
    
    xaaInit.c: In function 'XAAInit':
    xaaInit.c:201: warning: implicit declaration of function 'miInitializeCompositeWrapper'
    xaaInit.c:201: warning: nested extern declaration of 'miInitializeCompositeWrapper'

commit aee514cfb5e5a59b7770699765ccdad8fe42f904
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 11:16:05 2008 +0100

    xfree86: Fix compiler warnings (implicit declarations)
    
    Add missing includes to fix the following warnings:
    xf86DGA.c: In function 'DGAProcessKeyboardEvent':
    xf86DGA.c:1050: warning: implicit declaration of function 'UpdateDeviceState'
    xf86DGA.c:1050: warning: nested extern declaration of 'UpdateDeviceState'
    xf86Xinput.c: In function 'xf86ActivateDevice':
    xf86Xinput.c:303: warning: implicit declaration of function 'AssignTypeAndName'
    xf86Xinput.c:303: warning: nested extern declaration of 'AssignTypeAndName'
    xf86Xinput.c:311: warning: implicit declaration of function 'DeviceIsPointerType'
    xf86Xinput.c:311: warning: nested extern declaration of 'DeviceIsPointerType'
    xf86Xinput.c:324: warning: implicit declaration of function 'XkbSetExtension'
    xf86Xinput.c:324: warning: nested extern declaration of 'XkbSetExtension'

commit add946daed531e29935593fb2e7ee70286185baf
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 11:14:40 2008 +0100

    Nuke unused variables

commit f2bda61c03f64133ef68dd1557b26ae7dc5beb0e
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Oct 26 11:05:13 2008 +0100

    Xext: Fix compiler warnings
    
    Make GEClientGone static and include registry.h, to fix the following
    warnings:
    geext.c:225: warning: no previous prototype for 'GEClientGone'
    geext.c: In function 'GEExtensionInit':
    geext.c:280: warning: implicit declaration of function 'RegisterResourceName'
    geext.c:280: warning: nested extern declaration of 'RegisterResourceName'

commit 24e863b0eb6ff11010a14cfd252a39df87a09d0e
Author: Bernhard R. Link <brlink@debian.org>
Date:   Sun Oct 26 00:19:34 2008 +0200

    Bug#16501: autodetection of sbus graphic cards
    
    Add automatic detection of the graphic driver to load for sbus devices.
    This allows xorg to work on those devices without a "Device" section.
    
    Debian bug#483942.
    
    Signed-off-by: Julien Cristau <jcristau@debian.org>

commit fd97ff1bdd30c358525068a4c833f681e00719a2
Author: Julien Cristau <jcristau@debian.org>
Date:   Sat Oct 25 22:54:15 2008 +0200

    Bug#5851: Document the "Log" option in xorg.conf(5)

commit 80b6768536fa439bfc5ce948bc8845a6f4af857b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Oct 23 17:32:32 2008 -0700

    XQuartz: Do check_xinitrc() later to avoid possible deadlock.
    (cherry picked from commit af95174a088dc787d124ec548b1005f5b67c9e8d)

commit d837d4e2af35a83c7932e4d0422097ebd1f6ba2c
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Thu Oct 23 17:56:46 2008 -0600

    XQuartz: pbproxy: pbproxy.h had invalid macro usage with 2 #else statements, so it wasn't building.  Fix the build.
    (cherry picked from commit 6bcbb9ba85d95d7df63811a482abc39c4d595366)

commit 6a2693b2f9cfdec6f30e2ca4c4176f986f97249e
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Thu Oct 23 17:40:23 2008 -0600

    XQuartz: Remove the enable_stereo default.  We now use feature detection to enable stereo visuals.
    
    We need to revisit the GL/indirect.c changes.  I think indirect.c should
    be using the same feature detection and GLX visual config code.  The
    indirect changes will require testing...
    (cherry picked from commit 49b7a7c6f20ca85d4d624444eb83db2f91344591)

commit b015a021b28623b7b734833dc9b8269c41db4e8a
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Oct 21 20:30:35 2008 -0700

    Allow non-gcc compilers to build xf86Xinput.c

commit b7cc6ca22a4ff7a94abee6962a07fdd0b563d26a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Oct 23 16:33:11 2008 -0700

    miext/rootless: Silence some warnings by using proper C prototypes.
    (cherry picked from commit 050e46e09efcc7e6f090fa4a749e9076c972b760)

commit b397cc727787a854417b11b482cce4807fc8ab58
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Thu Oct 23 16:19:58 2008 -0600

    miext/rootless: Fix the usage of DeleteProperty so that this builds again.
    (cherry picked from commit 3de250e28a9a86bcae4464a15c2025805877ce1e)

commit 28d4f71193d2be26d1dcae724067539ac9db1123
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Oct 23 15:01:03 2008 -0700

    XQuartz: pbproxy: Fix compilation on case-sensitive file systems...
    (cherry picked from commit 6622efca216663c99d112c7a226bde691d1f3215)

commit 40f9b6bf0dc62098680235a958e0733770902cca
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 23 17:33:52 2008 -0400

    Argh, macros.

commit 8b3c278fe7502f9343355f09213837622b0d9ca0
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Oct 23 11:39:04 2008 -0700

    Rootless: Properly typed expose_1
    (cherry picked from commit 78e874fe17174ac8f61586573edaf7f16ece7b21)

commit 3e999d35c26b0ffb894c257a3057d44b949744bd
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Oct 23 11:37:13 2008 -0700

    XQuartz: Honor the Spaces preference for "When switching to an application, switch to a space with open windows for the application"
    (cherry picked from commit bf561a06b2bf60395d26026ac7627d0cb254bc07)

commit 75067d12e4f4daa080dfb0209a9abf9c5654271f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Oct 21 19:36:48 2008 -0700

    XQuartz: Added missing semicolons to Localizable.strings
    (cherry picked from commit e9fe3f36d9529f00daeefa1379cdd6f01a88f410)

commit a003932dccc438c4500d383982cee2376e808bd5
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Oct 21 11:23:42 2008 -0700

    XQuartz: Default dpi to 96 instead of 75
    (cherry picked from commit 08a5a333d7fea68146cd9cf50682b811378ab3ce)

commit 2d764e21f278ea26bae135db6dae07b94651951c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Oct 21 11:19:06 2008 -0700

    XQuartz: pbproxy: SIGHUP reloads preferences.
    (cherry picked from commit cbc0935ef74ebd76ed3db16d6ab86043eeed42a3)

commit 0b695262176e96f508921905ee7f9cc086c7daf0
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 23 15:01:58 2008 -0400

    Change some #define foo() -> static void foo()

commit aab73d719a8de6b830e47c7f47860b7990ea8d03
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 23 13:20:59 2008 -0400

    Fix previous cherry pick for API changes

commit 8767fc8d47276c7489ae50dd556a446a462776ea
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 4 12:11:14 2008 -0700

    Wrap AddTraps in exa and damage.
    
    This fine (and unused) function wasn't ever wrapped which made it not work
    under exa.
    
    (cherry picked from commit 06e7e1d0486e8c516a9b3219a2c86026f88825fc)

commit 4c926dbac65ceb699b91bb0d3fd0005a5854572d
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 23 22:07:37 2008 +1030

    dix: fix two more endian issues, correct initial "enabled" value. #18111
    
    EnableDevice and DisableDevice both change the property too.
    
    And enabled must be set to FALSE in AddInputDevice, the device is not enabled
    yet.
    
    X.Org Bug 18111 <https://bugs.freedesktop.org/show_bug.cgi?id=18111>

commit 084ae9e38812f19751a086eea7ce555761ae5a17
Author: Jerome Glisse <glisse@freedesktop.org>
Date:   Thu Oct 23 11:28:53 2008 +0200

    dri2: fail at context creation if driver fail to create it's context

commit ff60e592f003d8bc45789a1a14e86be22f5242b2
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 23 09:19:41 2008 +1030

    dix: don't allow VCP/VCK be disabled through properties.

commit 98f01c2abe4771d76febf8fe70111b2bddfab776
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 23 09:13:41 2008 +1030

    dix: fix endianess issue in AddInputDevice. #18111
    
    dev->enabled is a Bool. Bool is two bytes.
    BOOL on the other hand is a protocol type and always 1 byte. So copy the value
    into the one-byte type before passing it into XIChangeDeviceProperty.
    
    Found by Michel Dänzer.
    
    X.Org Bug 18111 <http://bugs.freedesktop.org/show_bug.cgi?id=18111>

commit f6cbe0326c57e3c9897f17baef78199b06537c44
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Oct 22 18:16:12 2008 +1030

    dix: init remaining three xkb fields to zero in a new client.

commit 0b56b44addc323a00eb7cd86240cb0dd4275bcf8
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Mon Oct 20 17:06:40 2008 +1030

    xfree86: AllowEmptyInput is true by default - update the xf86Info defaults.
    
    Also set AutoAddDevices and AutoEnableDevices to their defaults.
    
    And in doing so, switch the rest of the defaults over to named intializers.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit d72cd753b99fae147ef4c189700fc697f1ea7fb0
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Oct 21 22:32:57 2008 +0200

    Close well known connections in ServerAbort()

commit 81e197b2a5457bb9f7ed72f82c2d33fd8dbfc202
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 21 16:00:32 2008 -0400

    Bug #18159: Spell "anisotropic" correctly

commit 3891dd892449fcdb7a514e3c5e7e763ba7e74003
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 21 13:10:44 2008 -0400

    exa: Add exaDrawableIsOffscreen() to the driver API.

commit c837d182c4674c01296bb7efd7d834d9dfd55f83
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Oct 21 09:11:59 2008 -0700

    XQuartz: Only send mouse events while in the background if we're over a visible window.
    
    This "breaks" xeyes but gets rid of annoying tooltips.
    (cherry picked from commit 10090a132a0110fe24c8c886d9f53e6e947f8038)

commit 2a9613980f93959eedf9396735785d4c50546e2d
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Oct 21 09:07:08 2008 -0700

    XQuartz: More fullscreen fixes
      Start in rooted mode when enabled
      Make the hotkey cmd-alt-a behave
    (cherry picked from commit 22a54e46176c9cbdfaaa59ef33a6ae6a9c4969ef)

commit e4ea1494debda4d3da03864c2640921fe0430694
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Oct 20 12:23:04 2008 -0700

    XQuartz: Cleaned up keyboard init and map reload.
    (cherry picked from commit f78c9fc06cac2cc6ddfd6e9ba435dd26a57d1f51)

commit ebb2e1449cfb382a806e04c52d42240670717069
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Oct 20 09:46:34 2008 -0700

    XQuartz: Fixed follow-keyboard-layout
    ≈
    (cherry picked from commit a9f9fbf512c9fd5a773fce402182486edc71d5ab)

commit f67cd31d2cf1b8ad850bd21dbed5a975d77b4c54
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Oct 21 09:29:37 2008 -0700

    XQuartz: More progress towards fullscreen...
    (cherry picked from commit 628cae86b4ad02c49d20df1e1afdcb7abcabb649)
    (cherry picked from commit b47b7ab6d6d0a7f6cbf678a5755124d6b7516d3e)

commit d434ed400986653771bbd60c224a2275bd6147ef
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 17 09:25:26 2008 -0700

    XQuartz: Fixed missing key-equiv for Hide-Others.
    (cherry picked from commit 2c4b0f9615b646712609ebef3c0851c9a22e781b)

commit 3695f62d072e7864fdcee385c8b5ca40f2018101
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Oct 16 22:36:00 2008 -0700

    XQuartz: Require applewmproto-1.1.1
    (cherry picked from commit ed235e3406e603a8a92c4b72f9f9018bae72ad65)

commit f935c11398b93860461672e88814026d75b71689
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Thu Oct 16 13:09:21 2008 -0600

    XQuartz: pbproxy: Fix 2 bugs with the preferences.
    
    Add dump_prefs() for instrospection.
    
    Make prefs_get_bool a little more clear.
    
    In get_property don't assume that the Mac realloc(NULL, 0); returns
    non-NULL.  We shouldn't depend on implementation-defined behavior too
    much.
    
    Add more commentary in various spots.
    
    Add TARGETS in the TARGETS response.  I don't know why some X11 apps
    do this, but it could be something that some weird toolkit/app tests
    for.
    
    In reload_preferences add preferences synchronization, so that xpbproxy
    reloads the preferences, and picks up any changes.
    
    Fix a typo/misspelling of the sync_clipboard_to_pasteboard preference.
    (cherry picked from commit 165cbbb90c793d9335ea76f0274b1f60ad295903)

commit 4d978af5c71430f0043b1272f8dc6344b8f03f12
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Oct 15 21:26:58 2008 -0700

    XQuartz: Fixed window levels.
    (cherry picked from commit ef4d37c73f31048dd74efee2c63fa08b92608f87)

commit 58eacf0b7beb8c6f1971570ede0bfd3976a84665
Author: Rémi Cardona <remi@gentoo.org>
Date:   Tue Oct 21 10:07:24 2008 -0400

    Force LC_ALL=C when building xf86DefModeSet.c
    
    Fixes build in not-quite-latin locales.

commit 2188582e5ea90edb432a2f421d0a267439ba08f9
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Oct 20 09:55:24 2008 -0400

    EXA: Avoid excessive syncing in PutImage

commit 8d0cb507ae568c8da92f10ff1188d797bcaa3d1a
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 17 09:59:29 2008 +1030

    dmx: avoid hilarious #define Xcalloc xcalloc game.

commit 8a23707b866c11807e01056db97afec56e9b19c8
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Oct 17 09:15:39 2008 +1030

    dmx: change remainder of manual EQ allocation to GetEventList().

commit 8de26770a41ec87c46eed2eddfde6f867d71fe1f
Author: Pierre Willenbrock <pierre@pirsoft.de>
Date:   Thu Oct 16 14:28:14 2008 -0400

    RANDR: Fix output property event delivery.

commit d936a4235c9625bd41569cef3452dd086284e0d7
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Sun Oct 12 21:58:30 2008 +1030

    xfree86: if AllowEmptyInput is true, enable RAW mode on the console.
    
    Usually, the console is set to RAW in the kbd driver. If we hotplug all input
    devices (i.e. the evdev driver for keyboards) and the console is left as-is.
    As a result, the evdev driver must put an EVIOCGRAB on the device to avoid
    characters leaking onto the console. This again breaks many things, amongst
    them lirc, in-kernel mouse button emulation and HAL.
    
    This patch sets the console to RAW if AllowEmptyInput is on.
    
    Use-cases:
    1. AEI is off
      1.1. Only kbd driver is used - behaviour as-is.
      1.2. kbd and evdev driver is used: if evdev does not grab the device,
           duplicate events are generated.
    2. AEI is on
      2.1. Only evdev driver is used - behaviour as-is, but evdev does not need
           to grab the device anymore.
      2.2. evdev and kbd are used: duplicate key events are generated if evdev
           does not grab the device.
    
    1.2 is a marginal use-case that can be fixed by adding a "grab" option to the
    evdev driver (update of xorg.conf is needed).
    
    2.2 is an issue. If we have no ServerLayout section, AEI is on, but devices
    specified in the xorg.conf are still added [1], resulting in duplicate events.
    This is a common configuration and needs sorting out.
    
    [1] 2eaed4a10fe5bf727579bca4ab8d4a47c8763a7d
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 84ef8ed6fbefd8d6c0aaa3c862879f9804299bd8
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Oct 15 14:11:18 2008 -0700

    XQuartz: implemented primary-on-grab and fixed clipboard-to-pasteboard
    (cherry picked from commit bcb83eea729a01026d99d1cfc2b77385b5b275fd)

commit 0195d318465d5a6a9039091bcb252202471df5a4
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 15 21:46:27 2008 +0200

    GLX: fix build when dri2 _is_ available.
    
    Caught by Julien Cristau.

commit 398cdf959afadfa964aece13cc9d89b2dd589930
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 15 18:24:10 2008 +0200

    GLX: fix build when dri2 is not available.

commit 2e60ebbd254290e19492b97c960d9678513c94bf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 15 14:10:51 2008 +0100

    XFree86: Simplify DontZap/-retro interaction
    
    How hard could it possibly be, right?

commit 66a87517bd80b21e107df9d57968d81a92f91fd5
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Wed Oct 15 12:00:16 2008 +0100

    re-enable DRI2

commit ced6690284fd334f225bbc94685c114ad3ab96d8
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Oct 7 13:49:28 2008 -0400

    dri2: Update to latest protocol draft.
    
    Mainly rename SwapBuffers to CopyRegion, which adds the xfixes region
    argument and the bitmask argument to let us extend it in the future.

commit 87a016ae00feac3fbaa7e7a518076a3852d49554
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Wed Oct 15 00:02:13 2008 +0200

    exa: restore {x,y}{Src,Dst} to their original values when !done

commit b677bff97b62c3931df853bae25ab485892ae173
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 14 14:30:19 2008 -0400

    int10: Degrade the checksum warning to X_INFO.
    
    I've seen about one case in three years where this has actually been
    correlated with the real cause of failure, and we've trained people to
    freak out about X_WARNING, so let's be less alarmist.

commit bd9c6b3a4d726a3f83ac6d8cf7211eddbc28f25a
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 14 14:04:01 2008 -0400

    EDID: Catch even more cases of encoding aspect as size.
    
    Very cute, Samsung, not only do you claim to be 16cm by 9cm in the
    global size record, you also claim to be 160mm by 90mm in the detailed
    timings.  Grrr.

commit ad677238bc96a8578113bbe76d605d7a87aca44c
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 14 13:00:50 2008 -0400

    Add backtrace definitions to dix-config.h.in

commit 8e368cf5b964f1d29fda0a463f9510457619b14d
Author: Nathaniel McCallum <nathaniel@natemccallum.com>
Date:   Tue Oct 14 09:50:29 2008 -0400

    Xorg: add -modalias option
    
    This scans the installed video drivers and prints a Linux-style modalias
    listing of the devices each driver claims to support.

commit 3eb52de7f28b0050582f9ac4c28bc894d3f06f4b
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 14 09:45:19 2008 -0400

    kdrive: Hardcode a different wrong value for number of mouse buttons
    
    This should really come from the input driver directly, but, kdrive.

commit f3f6ea89aa9e0ffe9e37bc059e5e6bf75be4ee9f
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Oct 8 14:12:21 2008 +1030

    Xi: check all handlers before applying property changes.
    
    The current code exposes to inconsistent updates, i.e. if handler N succeeds
    but handler N+1 fails in setting the property, an error is returned to the
    client although parts of the server now behave as if the property change
    succeeded.
    
    This patch adds a "checkonly" parameter to the SetProperty handler. The
    handlers are then called twice, once with checkonly set to TRUE.
    On the checkonly run, handlers _MUST_ return error codes if the property
    cannot be applied. Handlers are not permitted to actually apply the changes.
    On the second run, handlers are permitted to apply property changes.
    Errors codes returned on the second run are ignored.

commit ad67e3f063aa79247270f29e989bbfe5f62c9ed7
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Sun Oct 12 10:19:36 2008 +1030

    dix: remove duplicate code in ReleaseActiveGrabs
    
    Spotted by Colin Harrison.

commit 3fc4f40b6c6cb416c9dc4bdb35c91b4f32c03ccc
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Sun Oct 12 16:08:26 2008 -0700

    Restore xf86{Enable, Disable}GeneralHandler.
    
    These were useful as part of the generic handler ABI, and are used by the NVIDIA
    driver.
    
    This reverts part of commit 50081d2dfb79878cb931a15c265f0d60698dfd39.

commit 2217d22a76cdb2460f9683a6bf74c7248612889d
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Sun Oct 12 16:07:24 2008 -0700

    Revert "xfree86: xf86{Enable, Disable}InputHandler can be static."
    
    These were potentially useful as part of the input handler ABI, even if nobody
    currently uses them.
    
    This reverts commit 278c11f01fbc6d6bd91c5a7127928c9ef5d29fca.

commit 5b336585a4cdf11d20831a9536ad581e959ea7f1
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Oct 10 23:23:02 2008 +0200

    dri: don't set the dixPrivate key to NULL, as this is a staticly set variable.
    
    - This breaks on the 2nd server generation.
    - No other subsystem seems to NULL their key.
    - This should fix bug 17982.

commit b736f477f5324f79af30fc0f941ba0714a34ccda
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 10 16:33:24 2008 -0400

    mieq: Backtrace when the queue overflows.
    
    Since we're probably stuck down in a driver somewhere, let's at least
    try to point out where.  This will need to be rethought when the input
    thread work lands though.

commit 94ed0ba1b5043ad9fc33b42756af447d5ab15bbd
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 10 15:53:48 2008 -0400

    Move xorg_backtrace() up to the OS level so we can call it from DIX.

commit f650c1aeb06e957626bb0a74eddbb133f59dbecb
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 10 14:07:28 2008 -0400

    Revert "Don't leak EDID_block"
    
    This reverts commit 05cdef18ca668ffc86b71033f71cfbd262cdd994.
    
    http://lists.freedesktop.org/archives/xorg/2008-October/039305.html

commit 0660dd9d7009147c395b9ea904539f76f55b9a7f
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 10 13:41:50 2008 -0400

    EDID: Catch monitors that encode aspect ratio for physical size.
    
    This is not legal in either EDID 1.3 or 1.4, but hey, when did a little
    thing like legality stop anyone.

commit 956a4ba40b28251ab2d88b5d5b0796e01afd2bdd
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Oct 10 00:28:34 2008 +0200

    pixmap: Add some notes to devKind and devPrivate.

commit 4808bdec45775342eb9a6352b41e4919e1a69279
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 9 16:23:24 2008 +1030

    Xi: don't memcpy the KeyClassRec from SD to MD. #16167
    
    Most of its component get copied during CopyKeyClass anyway.
    The ones that aren't:
      postdown - never changed for virtual devices anyway.
      down - shouldn't change that without sending events.
    
    memcpy'ing the struct also copied mapWidth, which means we didn't realloc
    during SetKeySymsMap lateron, overwriting the memory assigned to us.
    
    X.Org Bug 16167 <http://bugs.freedesktop.org/show_bug.cgi?id=16167>

commit 18cdd733ad3dd36fa0a23dfbf18c7d99b86c0276
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 9 17:26:00 2008 +1030

    kdrive: fix dixflags so they're always defined before enqueuing events #17734
    
    If absolute events were posted, dixflags got set conditionally on whether the
    valuators are different from the last posted set of values.
    If dixflags are undefined however, the DIX interprets them as relative
    valuators. Fix this by making sure defining dixflags is always defined.
    
    X.Org Bug 17724 <http://bugs.freedesktop.org/show_bug.cgi?id=17734>

commit d58f2c30c64e8b2d8179dac06e0a54be06099da6
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 9 16:50:54 2008 +1030

    kdrive: lastx/y needs to be set to the event coordinates #17728
    
    X.Org Bug 17728 <http://bugs.freedesktop.org/show_bug.cgi?id=17728>

commit decec14219bcd992ec426e202ff3c8681b520b74
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 9 15:10:21 2008 +1030

    dix: silence "unused variable" compiler warning.

commit 0b4b683f3eeec43536e73be302a4c396fe4d9894
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Tue Oct 7 18:44:42 2008 +1030

    xfree86: export NewInputDeviceRequest/DeleteInputDeviceRequest
    
    NIDR should be used to create a new SD from e.g. within a driver.
    DIDR should be used to remove a device from the server.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 5e213fe1022bf96747834a3ac227929b23136ee6
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 9 11:29:11 2008 +1030

    xfree86: cache dev->isMaster before freeing the device.

commit 05cdef18ca668ffc86b71033f71cfbd262cdd994
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Oct 10 13:45:51 2008 +0800

    Don't leak EDID_block

commit 2d9da7a5f384d5f38b2be79b1ea0df5a3deb52d1
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 9 22:22:53 2008 +0200

    DGA: Track client state even when using old style DGA.
    
    This fixes the issue that a badly killed DGA will keep on hogging
    mode/framebuffer/mouse/keyboard.

commit 322335d5b5b6f155f56fe3c1cbe372f13dc20932
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Oct 9 22:21:05 2008 +0200

    DGA: Mash together xf86dga.c and xf86dga2.c.
    
    This in preparation for an upcoming client state tracking fix.

commit d13c3cbd43bc5e6b459c7df822292cf02ad2c9c4
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Oct 8 18:39:41 2008 -0700

    XQuartz: Some motion made towards supporting fullscreen.
    (cherry picked from commit 99be3d68b64059caada739a373e5e01844c776e0)

commit dc166bf6423f4243ea05f17340ff9ff99ecad74b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Oct 7 11:39:08 2008 -0700

    XQuartz: Fixed EXTRA_DIST for new GL files.
    (cherry picked from commit a11c9052030b44045f037050a5825256b539ed50)

commit 803327929445256e159c10894e6305fbaa389982
Author: George Staplin <georgestaplin@george-staplins-mac-pro.local>
Date:   Tue Oct 7 12:12:38 2008 -0600

    XQuartz: GL: setVisualConfigs() copied the behavior of indirect.c which is wrong, with regard to the handling of xcalloc failure.
    
    Use ErrorF for an error message after an xcalloc failure, and return instead of falling through to GlxSetVisualConfigs, or abort()ing at the test branch.
    (cherry picked from commit 1056700971fd5c034396ed6dbea15e092f0c6332)

commit f1fec6f323b27a0165325d8fcf6af7ae163bde14
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Oct 8 18:45:04 2008 -0700

    XQuartz: Call setVisualConfigs in InitOutput, and only when GLXEXT is defined.
    (cherry picked from commit 97173d4eda142c73bb975cc05225b791778f85af)

commit 52accec7dbc613a521e40449b8bb5f0c92ddb105
Author: George Staplin <georgestaplin@george-staplins-mac-pro.local>
Date:   Tue Oct 7 11:31:48 2008 -0600

    XQuartz: GL: Add the proper license information to the new files, and add more commentary to setVisualConfigs().
    (cherry picked from commit 190a3d5e5de9915931928fb8e6da88bb9644cda4)

commit 63abdf61151cc90f769ed1708ee19b6c434c27c9
Author: George Staplin <georgestaplin@george-staplins-mac-pro.local>
Date:   Mon Oct 6 18:05:12 2008 -0600

    XQuartz: GL: Add the new C code to the Makefile.am.
    
    Commit the darwin.c changes I missed in the last commit, for calling
    setVisualConfigs().
    (cherry picked from commit eb3c014e1710bf0b93bda10ddb9b795cd150d02d)

commit a8f5d422c9c0a39f55e80bbd180439b6ec3a805c
Author: George Staplin <georgestaplin@george-staplins-mac-pro.local>
Date:   Mon Oct 6 18:01:23 2008 -0600

    XQuartz: GL: Provide code for getting the capabilities of the underlying system's CGL.
    
    Add a setVisualConfigs that is called before the fbScreenInit, to setup the __GLXvisualConfigs.
    (cherry picked from commit fc86f9e4482043eca76d9d7a96e166be1aabf674)

commit 2998e48be343ab2a11d6d328fc961ab5b8eb9292
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Oct 4 21:25:50 2008 -0700

    Xquartz: Fix parallel builds
    (cherry picked from commit 1fe7298a3b9a2ed82c612292f9e547cf78f99ae5)

commit 7aa535708f1f33173bf05abc17b75e0841ffc385
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Oct 8 16:25:59 2008 -0400

    Fix more xcalloc stupidity.
    
    Did I mention the hate?  Pretty sure I mentioned the hate.

commit 4fe80aa14a24df6d0611c47fc5654c3c4f56fdb1
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Oct 8 16:22:35 2008 -0400

    I hate you xlib.  Please die in a fire.

commit 2c5332872f808e7a646a63ae7ec63a2b80f83ee7
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Oct 8 13:39:49 2008 -0400

    s/kdDontZap/kdAllowZap/

commit 1feb69eb63e6739ff5db255ad529e84adf941a10
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 8 14:55:29 2008 +0200

    DGA: Fix ProcXF86DGASetViewPort for missing support in driver.
    
    Fixes a segfault when trying to activate a DGA mode without checking
    whether DGA modesetting is at all possible.

commit d1bb5e3b47ab71aa2f18f69daaf2a4c5ce06d800
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Oct 8 03:19:45 2008 -0300

    mi: functions here are carrying 'time' without need.

commit 4964a9ca6c3f26376469b6d8217815a47231f0a9
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Oct 8 03:06:32 2008 -0300

    mi: remove deprecated and unused functions.
    
    miPointerDeltaCursor, miPointerGetMotionBufferSize and
    miPointerSetNewScreen.

commit adf3e296e2b00164fb22e89ad4f44acbd2e3deae
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Oct 8 02:12:49 2008 -0300

    Remove unused declarations.
    
    AvailableClientInput (LBX debris) and xf86XinputFinalizeInit.

commit bca9fa2efe97d2816a2e9412cdff08a0145c8f96
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Oct 8 01:38:27 2008 -0300

    Everyone knows that the loader is present. Silence it.

commit 56c615368c5a8e7acb0398434c2c68578626aa38
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Oct 8 13:33:55 2008 +0800

    Check nextEnabledOutput()'s return in bestModeForAspect()
    
    In case no enabled outputs, we will reference wrong index of
    output array.

commit 278c11f01fbc6d6bd91c5a7127928c9ef5d29fca
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Oct 8 01:18:49 2008 -0300

    xfree86: xf86{Enable, Disable}InputHandler can be static.

commit 50081d2dfb79878cb931a15c265f0d60698dfd39
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Oct 8 01:11:38 2008 -0300

    xfree86: remove xf86{Enable, Disable}GeneralHandler and others unused.

commit 54294e15ecf4a8ec0fd9fa8b6ed1a1b2d912ec7e
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Oct 8 00:43:22 2008 -0300

    xfree86: fix wrong function name message errors.

commit 57dbb90f198116dcaf17c8111a7f80644d7ebe7f
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 7 20:36:45 2008 -0400

    Document zap/-retro interaction more.

commit 617933e8c259ad12388c0dd13421846a873975e3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 8 02:45:59 2008 +0300

    XFree86: Fix DontZap interaction with -retro
    
    -retro will now _not_ override (No)DontZap, if it's set in the config
    file.

commit d80bae2237e555025465d4d761a5cc537cc2bcdd
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 8 02:43:27 2008 +0300

    Update docs to reflect new DontZap default

commit 42e7b64bf90604e0099702f5447163be80a2efb6
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 7 20:32:02 2008 -0400

    -retro enables zapping

commit 9d135ac10a7374c7ccda705f1eeb02cc53076c34
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 8 02:30:05 2008 +0300

    Input: Make DontZap the default
    
    If you need to bail out the server, use Ctrl-Alt-Fx, or enable zapping
    if it bothers you that much.  If Ctrl-Alt-Fx is broken, nag me until
    it's permanently fixed.

commit b574365fca954a999ebaeb7203d1e0ea6d99b3ea
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Oct 7 13:09:11 2008 -0700

    Revert "Unexport (and unimplement) xf86SetAccessFuncs" for now.
    
    The nvidia driver currently uses these hooks to work around problems where RAC
    will disable access to the hardware at unexpected times.  This change restores
    these hooks until we can come up with a better API for working around RAC.
    
    This reverts commit c1df4fbede8058c15ce3a5759a7758fecafbb9e7.

commit fe85ec34ec2b58188633dac4464a1e9e9977652b
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Oct 7 13:08:38 2008 -0700

    Revert "Remove unused server state change callbackery" for now.
    
    The nvidia driver currently uses these callbacks to work around problems where
    RAC will disable access to the hardware at unexpected times.  This change
    restores these hooks until we can come up with a better API for working around
    RAC.
    
    This reverts commit d7c0ba2e9eae7044ef4c31d9c3cbb9a71ee0f9f9.
    
    Conflicts:
    
    	hw/xfree86/loader/xf86sym.c

commit 94919480d8bb66e1807b4fe87b8f326ef6e012c6
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 7 13:41:25 2008 -0400

    int10: Fix a nasty memory leak.

commit a57b2f172c1291f22f7ba2780c1b2f55e353c3e9
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 7 13:39:10 2008 -0400

    int10: Don't warn when scanning for devices we don't have.
    
    Some BIOSes (hi XGI!) will attempt to enumerate the PCI bus by asking
    for the config space of every possible device number.  This despite
    perfectly functional BIOS methods to enumerate the bus exactly.

commit a65e36a873cd1ba9896cd0f9a3e94dd933666005
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 7 13:38:12 2008 -0400

    int10: Remove useless check.
    
    If you have more than one PCI device with the same d/b/d/f, you're
    already in trouble.

commit 6dbfca571f6d214dc456710a60ebbbbd204cdbbd
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Oct 7 10:07:03 2008 -0700

    Depend on xtrans >= 1.2.2 for TRANS_NOXAUTH

commit 30193fbff9d9284fbbd81fe5f7b6c4d102daf1d1
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 7 10:36:12 2008 -0400

    Reinstate cursorScreenDevPriv

commit e7cd5d84ed1fb3637dce6e9e6ef58c8611818c4e
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Oct 7 16:09:17 2008 +1000

    fixup another calloc build issue

commit 60cfaa45a532bd3cfcfb4bd57b2f657c0a8b6a6b
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Oct 6 18:47:06 2008 -0400

    Build fix.

commit c6d6d3e87a472b641d883a6c000f96e5bdf48532
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Oct 6 16:18:21 2008 -0400

    Loader: Unexport a handful of consumerless symbols from dixsym.

commit 8a5b89e8e184f4cbf33c6dee0b06e61d8f857576
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Oct 6 15:36:51 2008 -0400

    xalloc+memset(0) -> xcalloc

commit 0b7b89fbac0b3865b2cf51295c68a5f4c7523f28
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Oct 6 14:19:30 2008 -0400

    xalloc+bzero -> xcalloc

commit 9187f6ad9ec7ba9569a93d92561aac17eaa83491
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 6 12:21:20 2008 -0400

    RANDR: Delivery output property events.

commit 717c7492a0f6ba3fb3eabda33515881eef314155
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Oct 7 02:38:44 2008 +1000

    exa: don't call composite routines with no buffer.
    
    We can get a case with gnome-terminal + links, where we get two arrays
    of glyphs all with 0 width and 0 heights in them. If this happens
    we manage to get to this case without any buffer setup and segfault.

commit aacac3edac7c6b82a0a0e3bc500f563d187e5df3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Oct 4 21:07:31 2008 -0700

    XQuartz: Bumped bundle version to 2.3.2 for beta1
    (cherry picked from commit 2021c4c4e726a6b8f27f19f16ed3d86e37dbe448)

commit ed3134918dcbbd58a5ef8359a77e8024c98396e6
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Oct 4 21:06:58 2008 -0700

    XQuartz: pbcopy: Re-enabled some code I commented out for testing
    (cherry picked from commit 9b5d11409264080e394c8f18e06237122de80014)

commit b3a971d8b5df5ab4af0be49105ef32f67d010901
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Oct 4 18:54:15 2008 -0700

    XQuartz: xpbproxy: Support some of the preference toggles from X11.app, cleaned up CLIPBOARD_MANAGER atom management.
    (cherry picked from commit f7673bb4de3c1f71eb390a3279eed3589efc3df4)

commit fc35c7a2e2888cb767413f5e85a79c7f422a6284
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Oct 4 21:16:54 2008 -0700

    XQuartz: GLX - enable_stereo defaults option should work now
    (cherry picked from commit 3a6898f48756fdb2898292679301ef3dc109b4f6)

commit 7818aba1d1e74f4ffe68b7d6806622b94ae8a230
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Sat Oct 4 15:50:35 2008 +0200

    dri2: fix compilation (remove no longer existing include file)

commit a29af6465883796a6acf04b72ce812a0632b2186
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Oct 3 23:54:10 2008 +0200

    exa: remove "direct" case for exa{Trapezoids,Triangles}
    
    - By adding a small hack to the xserver i was able to easily test the performance of the normally rare direct case (using cairo).
    - It turned out to be 70% slower for me (large test on an otherwise idle computer), which seems enough of a reason to remove it.
    - AddTraps could also use a 2nd look, but since noone is using that it's a bit hard and less useful to test.

commit 416870d8c9e7e383b87c8513c2296a0cb66e7ef4
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Oct 3 22:59:40 2008 +0200

    exa: remove some excessive whitespace

commit b72a217ad59cc527327d7b1fc81898677b977d8f
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 18:30:37 2008 -0400

    Dangling use of miDestroyGCOps

commit f5bbc54a93f53cd4ba124712159bb44c93282a8e
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 18:18:02 2008 -0400

    Fix compile for miSetScreenPixmap prototype.

commit 9dbfcd89214241626ac2704d1ffffff1cc0c67ae
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 17:40:30 2008 -0400

    Delete unused miModifyBanking()

commit 94825ad3c72a1c3f6a61199c302841f63241cf87
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 17:39:34 2008 -0400

    Remove unused wrapping for visual initialization.

commit 4791f8e2ba9a0e318b7f13c83618ece036dd53ed
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 17:23:58 2008 -0400

    staticize mi{G,S}etScreenPixmap

commit 14d98b4a2fdea4a4f5cc9b751151672cb392fba3
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 17:21:16 2008 -0400

    miFindMaxBand is dead code

commit 48b47928133bc462947104bd0f4204f00b993862
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 17:16:28 2008 -0400

    mi{Create,Destroy}GCOps are unused, nuke 'em.

commit bd0e87c74789bd5447ec731aa2d2d6e05dd54abc
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 17:13:10 2008 -0400

    Remove a bunch of unused API from the mi export list.

commit ee5e07bc22f0c3af7a412b6bc430eae6a1dafe16
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 16:58:01 2008 -0400

    loader: sort the mi symbol list

commit 77d0b0ecfa3c67ff8d11e773a7f083721cf4c6d7
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 16:53:08 2008 -0400

    Remove unused pciNumBuses

commit 0ce61e21d6d7dcca0090e319bbcdb678570f2c3f
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 16:05:19 2008 -0400

    Remove the Must_have_memory hack.
    
    Also remove an astonishing amount of misunderstanding of how casts work.

commit e6b1c1fada19268af559d89375989973729fdb19
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 15:47:50 2008 -0400

    const cleanup

commit fe616f9230b672edb89fca7516e750dc1b20c690
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 15:42:58 2008 -0400

    Drop the never-called SkippedRequestCallback list.

commit 31136b9467c2a17bbed4a51d6a6c41e3290bd236
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 15:33:47 2008 -0400

    Unexport MakeClientGrab{Imp,P}ervious
    
    xtrap used to use these, but it's gone now.  xtest still does but it's
    linked statically.

commit eaf3fdf97014c27aececa8505c2713e7c9a537fc
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 15:24:35 2008 -0400

    Unexport xf86NoSharedResources

commit d7d9edb506bfea1c10516b6c4eb72dee3559863c
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 15:17:44 2008 -0400

    Unexport xf86DeallocateResourcesForEntity

commit 49673b43584928c22d699d1968ed6813b272aefe
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 15:13:39 2008 -0400

    Unexport xf86SetEntityFuncs

commit 949ef6b79a36d6f6bbc192c20ef0f13cc95d4f28
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 15:10:26 2008 -0400

    Unexport xf86ChkConflict
    
    Also remove the unused internal ChkConflict()

commit d7c0ba2e9eae7044ef4c31d9c3cbb9a71ee0f9f9
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 15:06:42 2008 -0400

    Remove unused server state change callbackery.

commit 9ada146a16bcf220b2dd2936fb3a0349a31e99d3
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 14:40:18 2008 -0400

    xf86RegisterResources: Always print any failed registrations.

commit a5d3fa90f3de763a5dcbb0ff4987562449819323
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 14:38:48 2008 -0400

    Typo fix.

commit cc3335858508ffbc52123eb5bb0c34f42800c8c4
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 14:37:59 2008 -0400

    Remove the old implementation of RemoveOverlaps

commit 8fbf1185f5d6a1836b3e4265de6f605d82478e0b
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 14:32:32 2008 -0400

    Internalise some resource list API.

commit 0ca4f3cee7e42a393cdd32d3a772a190ae68abc5
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 13:29:55 2008 -0400

    Unexport xf86EnterServerState

commit c1df4fbede8058c15ce3a5759a7758fecafbb9e7
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 13:08:43 2008 -0400

    Unexport (and unimplement) xf86SetAccessFuncs.
    
    Because, no.

commit 44269e604eb60ebaa6189fd4409d39a4ec6b9f4b
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 13:02:50 2008 -0400

    RAC: NO_SEPARATE_*_FROM_* are useless.
    
    If anyone can come up with an example of a bus where:
    
    - both i/o and memory resources are addressable
    - access to them can be controlled
    - but they can't be controlled independently
    
    then by all means, reinstate this logic.

commit 51fcb58f45824c7cde88b8b4ccbd6bdcf760280e
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 12:39:49 2008 -0400

    RAC: AccessEnable() and AccessDisable() are mandatory.

commit 9c5fc7762e9ca09847965e67e247d95dfc197266
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 3 11:24:34 2008 -0700

    Partially reverts commit 505c216d030a8eb6e9fa757ecebed9597a850c88.
    
    I don't know how the hell git-cherrypick messed that up to delete fbwindow.c

commit 7bb73a9513710feaebc127998950e9f472bfcc0d
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Tue Sep 30 23:53:12 2008 -0600

    XQuartz: pbproxy: Possibly fix a memory leak by using an [NSApp run] loop,
    instead of calling CFRunLoopRun() directly.  The leak wasn't reproducible on
    this machine, but someone was able to produce a leak trace with Instruments
    that indicates it was leaking in the CFRunLoopRun() path.
    
    x-input.m: dequeue and ignore events when pbproxy_active is false.
    
    x-selection.h: add an is_active method that is used by x-input.m to ignore
    events.
    
    x-selection.m: Handle nearly every preference, except for primary_on_grab,
    which I don't really understand yet.
    (cherry picked from commit 4d51ad851e64da83cbdfb0a4a22428418a7bcf75)

commit 2a5ce41f0371ad5df52586b8d4072578b6206321
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Sep 30 13:54:08 2008 -0700

    XQuartz: Use "pointer" and "pen" for device names to please GDK.
    (cherry picked from commit 00ca0f4d839abf47e9573a1552473e039cf787e6)

commit d3f597a986dcbc7e4164f350300dbd2e438949d8
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Sep 30 11:10:58 2008 -0700

    XQuartz: Workaround for initial pressure/tilt being sent as 0 with motion during the proximity event
    (cherry picked from commit 9a91d770a6411dd876187e64a8bda1f0745169ae)

commit 1657dfb843c0127ea31bfd0a8ef81d0c394cbc7b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Sep 30 08:46:08 2008 -0700

    XQuartz: Using absolute ranges for pointer location to increase resolution and better support tablets.
    (cherry picked from commit d79ccb45f68b65d65718b5b77efe2fae6eeda762)

commit 88bb8c6f485a7aaf40f684d484a33cfedfa74a70
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Sep 29 22:33:02 2008 -0700

    XQuartz: Removed resolved comment about localization.
    (cherry picked from commit 8ed5faf058ac7b0782a9cc13a2c58b80168358d2)

commit b1d0b196617643619d24ed520b0a1161e26b66c6
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Tue Sep 30 13:04:35 2008 -0600

    XQuartz: pbproxy: Make the signal handler safer by using _exit, and only exit.
    
    Remove some unnecesssary headers.
    
    Remove some dead code that was never called or used in pbproxy.
    
    Make use of an NSAutoreleasePool in x_init.  It could potentially cause a leak
    on a startup without this.
    
    Start adding reload_preferences to the x_selection class, as well as event
    handling for that.
    (cherry picked from commit 602e8ba8f7ee196696bc9e3cea6ecdf3200dcf5c)

commit ecd260143cf9f012f033ba029ad04cb49567c89a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Sep 29 22:32:24 2008 -0700

    XQuartz: Added some localizable strings that were missing.
    (cherry picked from commit 2c8205ea8b709c5859412b466e83aec7a94acdcf)

commit aae878b89081ffba16386e8d4987469313049bea
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Sep 29 22:26:20 2008 -0700

    XQuartz: Actually send the pointer event from the pen even if it happes to actually have 0 pressure and 0 tilt.
    (cherry picked from commit f41583761955cb9c92c43239bfaa8ae0e5d95e33)

commit b7ad86ff8a9115147c0cf02af9e80ec464129392
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Sep 27 15:30:10 2008 -0700

    Xquartz: xpbproxy: Split out app-specific stuff to app-main.m in prep for making this into a thread.
    (cherry picked from commit c2012138a520560f8a2160518ea73fced410c3b7)

commit 5446adebfb085dd05471729bf5c55bf820b1cbe3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 3 11:12:49 2008 -0700

    XQuartz: Send AppleWMReloadPreferences where appropriate.
    (cherry picked from commit 490cbe9888e2c1080495b003c429fdb1659444e1)

commit 6020c3fbfe06530cb2b90178d17a7d63beae028a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 3 11:09:26 2008 -0700

    XQuartz: Added a --enable-integrated-xpbproxy configure option for building xpbproxy as an app or as a thread.
    (cherry picked from commit 8edc5fb38c922f28659d2f823148339a8907c4d9)
    (cherry picked from commit 88033a66a5549870fd053795b019d4c22950425b)

commit 505c216d030a8eb6e9fa757ecebed9597a850c88
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Oct 3 11:11:37 2008 -0700

    Added dep on applewmproto 1.1.0
    (cherry picked from commit b350b066740a2e72585153e35478538cf1bca9ef)

commit 1c1a6e965da412e767ad8bc15a5362116d64c6b0
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Sep 22 22:09:19 2008 -0400

    Remove an utterly, utterly ancient changelog.
    
    Wow.

commit 9c8a2be2c73abf06245b1eb7f05f93e104dcfe42
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Oct 2 08:55:14 2008 +0930

    dix: fix axis scaling.
    
    For two axes [a, b] and [x, y] (inclusive), the formula to scale point P(ab)
    to (x,y) is:
        (P - a)/(b - a) * (y - x) + x
    
    And the whole end result rounded of course to get the integer we need.

commit 93ef72fa26b27cf90bf5c64ec19ac295a113aaae
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Sun Sep 28 21:47:21 2008 +0930

    dix: don't lose subpixel precision when scaling.
    
    Only scale x/y back from screen range if we have crossed screen, otherwise
    leave it as it is.

commit 5ef5e89f0e4b9b8820093e072430e295efce32fa
Author: Simon Thum <simon.thum@gmx.de>
Date:   Sun Sep 28 22:32:44 2008 +0930

    dix: fix non-initialization of pointer accel in master devices.
    
    Init MDs always with PtrAccelNoOp.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 036d424827726b0c804ae1532109253270744207
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Sep 26 17:01:12 2008 +0930

    xfree86: don't let DGA steal key events outside of [9,255].

commit 56a24cf894a142b18c7f18e294074c32031f3d14
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 2 17:56:31 2008 -0400

    xorg.conf.man: We don't look in root's ~ anymore, don't say we do.

commit 7921c4a0bfc843c772dcb2fc185d4bcab1316330
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 2 17:08:48 2008 -0400

    Remove some stale IPv6 debugging

commit f836e1f11b7bf3449c3e469cc7799c4ed28d2356
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 2 17:03:54 2008 -0400

    Unifdef ISC

commit b1a31734731a768d586b4cb18317d4a5c5e20fa8
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 2 17:03:21 2008 -0400

    Fix bad preprocessor line

commit 00f01f39454001846869496d9124f62c01e5691a
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Oct 2 15:48:18 2008 -0400

    Don't inherit XAUTHORITY from the environment.
    
    It's not especially obvious, and unpleasantly overloaded for the Xnest
    case.  Typically this gives you a server that looks for its auth data in
    the authority file you were using for the running X session, which
    generally doesn't have an entry for the display you just started.
    
    All the major dm's, and startx, pass -auth explicitly, so this shouldn't
    cause too much upheaval.

commit eb8be3e90a9c90a428696026d1e3b2152d7eefb4
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Thu Sep 25 14:16:20 2008 -0600

    XQuartz: pbproxy: Fix another STRING bug.
    
    Fix the usage of the NSString cStringUsingEncoding: - it doesn't NUL
    terminate the string, which lead to a bus error.  So, we use
    lengthOfBytesUsingEncoding: to get the length in bytes instead of
    strlen().
    (cherry picked from commit 6333d619e747c3b6bd3ba7557e35c0e5f6daa40f)

commit edfa3f8233fde490cb4255f21473684e96d595a3
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Thu Sep 25 12:29:57 2008 -0600

    XQuartz: pbproxy: Fix a bug that rxvt brought out in STRING copying.  Now I can copy and paste to/from rxvt correctly.
    (cherry picked from commit 82a4dc5f0f31a7911ee1cce5d1b162077befa811)

commit 12a59c44cb68843a60fc43257930d1cbeb971b7a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 24 22:51:03 2008 -0700

    XQuartz: Fixed threading issue with TSM.
    (cherry picked from commit 93ab4e0071670bb80bfa1170dd97ed9d6d51c67a)

commit ee87c9b02401a7a08b396884ba412a503b078bbd
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 24 18:57:36 2008 -0700

    XQuartz: pbproxy: Removed stray SPI include.
    (cherry picked from commit 2fb2bc77b804d7b63002c1423cb0bfc658eeee45)

commit 591cc57627a9137159fb5a13287c1d61d8d2fc8c
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Tue Sep 23 13:59:25 2008 -0600

    XQuartz: pbproxy: Fix 3 paths that could leak memory.
    
    2 of the paths leaked, when INCR transfers were done.  Now we
    are leak free according to the leaks program for all transfers
    I have tried so far.
    (cherry picked from commit aa98db576bc02f0765cb35d0282a894ba3778213)

commit 586fbc91df731150ff5e39170efe33f3cfac28a2
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Tue Sep 23 12:39:32 2008 -0600

    XQuartz: pbproxy: Fix NSObject memory leaks by properly using the
    NSAutoreleasePool.   Now the usage is consistent.  In x_input_run()
    we create a pool, and release it after processing the XEvents.
    
    Add some getpid() output to main for debugging.  It needs a bit more
    testing before the next release.
    
    Don't retain the NSPasteboard as the old code did.  That may have
    contributed to the leak, and it made it so that we needed the
    NSAutoreleasePool created in main().
    
    Remove the _known_types, and _pasteboard instance variables from
    the x_selection class.  They aren't needed anymore.
    
    The leaks program now indicates 0 leaks after some usage.  I want
    to test further, but this seems much better, and my memory usage
    graph indicates it's not growing.
    (cherry picked from commit b245d84a72ee3929546cd11a6eba3c60fb4a4d95)

commit 238999cfc99dbf306184f0e846465a8707bcc9d2
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Mon Sep 22 17:36:21 2008 -0600

    XQuartz: pbproxy: Add a comment to pbproxy.h about how the DB()
    macro causes a leak (according to the leaks program).
    
    Attempt to fix several other leaks with release method calls.
    For some reason the process still grows more than it should...
    
    I will need to use some better methods than leaks, and malloc_history
    I suspect.  Whatever is leaking, it's hard to find.  I need to isolate
    the cases more.
    
    Add a missing image/jpeg branch.
    
    Remove read_prop_32 - it's not used.
    (cherry picked from commit 63a680354dcb545fef935ac97596dd35ceaed960)

commit 106eb37e0214bbd864a59119b491abfc54f32629
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Sep 26 13:05:10 2008 +0930

    Require inputproto 1.9.99.5
    
    Pull and rebuild your input drivers, while you're at it.

commit fbd09486c6e6c64db28d81caa5ef04821e49f2eb
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Tue Sep 23 16:55:04 2008 +0930

    Push server-known properties into xserver-properties.h.

commit a2d83b9dc8387ec7e70689db1371cf6500b2f68e
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Sep 18 18:21:03 2008 +0930

    Xi: add "deletable" flag to properties, add DeleteProperty handler.
    
    A property can only be deleted if any of the following is true:
    - if a property is deletable and all handlers return Success.
    - if a property is non-deleteable and the all handlers return Success AND the
      delete request does not come from a client (i.e. driver or the server).
    
    A client can never delete a non-deletable property.

commit 22e90472681ebc7bdd28f82bbf2753a5b259e931
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Sep 18 16:12:02 2008 +0930

    Xi: allow Set/GetProperties to return a status, and honour this status code.
    
    If a property handler now bails out, return the error code to the caller. This
    allows to be slightly more specific with the errors.

commit 1e24e7b9df3d02350c7ea18e9379e87fe4d00026
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Sep 18 15:58:46 2008 +0930

    Xi: remove configure/query device property calls.
    
    This removes all the meta-information about device properties (pending,
    fromClient, range, valid_values, immutable).

commit feaa5fa6712c8c6f4ca97766e2ac0338253cf3b8
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Sep 25 11:03:22 2008 +0930

    xfixes: realize the invisible cursor before displaying it.
    
    AllocARGBCursor realizes the cursor but can only do so if we have devices
    there already. If we don't - then the cursor needs to be realized elsewhere.
    This is usually done in InitializeSprite, but since xfixes just hard-swaps the
    (realized) cursor to the InvisibleCursor, we need to manually realize it
    before trying to display it.

commit e58be0f3425fb3e946a222077672c3c01308f887
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Tue Sep 23 10:01:30 2008 +0930

    config: print error code if NIDR fails.

commit 30c3c13f1030268aaa6a3598d538fafd0592d77a
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Mon Sep 22 11:10:46 2008 +0930

    xkb: squash canonical types into explicit ones on core reconstruction.
    
    If we update key types from core, and groups 2 - n have a canonical type but
    the same symbols as the explicit type of group 1, assume that it was a core
    sym duplication according to Section 12.4 of the XKB Protocol Spec.
    Ignore the canonical types and pretend there's only one group for the key -
    with the explicit key type.
    
    The protocol spec does not cover this case, so we have to guess here.

commit ae986d1c73d2f720bd0309d8c33328d14e8eed25
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Sep 19 18:27:24 2008 +0930

    xkb: fix core keyboard map generation. #14373
    
    According to Section 12.4 of the XKB Protocol Spec, if a key only has a single
    group but the keyboard has multiple groups defined, the core description of
    the key is a duplication of the single group across all symbols. i.e.
    G1L1 G1L2 G1L1 G1L2 G1L3 G1L4 G1L3 G1L4
    
    The previous code generated G1L1 G1L2 G1L3 G1L4 G1L3 G1L4, leading to
    "invented" groups when the process is reversed.
    
    Note that this creates wrong key types on reconstruction from core to xkb,
    i.e. any single-group key with a key type that is not one of the canonical
    four (Sec 12.2.3), will get the assigned type on group 1, and a canonical type
    for the other gruops.
    
    X.Org Bug 14373 <http://bugs.freedesktop.org/show_bug.cgi?id=14373>

commit 5bf3f0fd4e00f96cfebd14b58580c3c8733626fb
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Sep 25 15:40:19 2008 +1000

    exa: make sure pixmap devPrivate.ptr is NULL at create time

commit 82f150d73cc9a7d8eaf7241a51b03af05bcec159
Author: Ian Romanick <ian.d.romanick@intel.com>
Date:   Wed Sep 24 16:56:45 2008 -0700

    GLX: Make sure GLX_SGI_make_current_read is enabled when possible

commit 8d9defe8c2a685709318c1d43379443df3d2322a
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Sep 24 10:11:00 2008 -0400

    Fix un-suppressing the initial cursor.
    
    The intended behaviour was "show as soon as someone calls
    XDefineCursor".  What you actually got was, uh, slightly less well
    defined, since the screen's ChangeWindowAttributes hook would run after
    DIX handled the cursor change.  Oops.
    
    The trivial way to turn the cursor on is:
    % xsetroot -cursor_name gumby
    
    Refer to /usr/include/X11/cursorfont.h for cursor names.
    
    Thanks to anholt for catching this.

commit a39377cbcbd3091095efbeab25bec18ae520147e
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Sep 23 09:22:07 2008 -0700

    Revert "Render: Use built-in SHA1 library"
    
    This reverts commit d3bd31fddff7894f89ba80a3cdddff49aff08db8.
    
    X.org should not be providing a custom SHA1 implementation.

commit 10a9bac0257b381367cedff395b40425d584bf59
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Sep 23 09:21:37 2008 -0700

    Revert "Update COPYING for SHA1 code"
    
    This reverts commit 64387c8573ca8b3909667e32d7a9fba9567b21d3.
    
    X.org should not be providing a custom SHA1 implementation.

commit 64387c8573ca8b3909667e32d7a9fba9567b21d3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Sep 23 19:05:14 2008 +0300

    Update COPYING for SHA1 code

commit d3bd31fddff7894f89ba80a3cdddff49aff08db8
Author: John Tapsell <johnflux@gmail.com>
Date:   Tue Sep 23 18:56:32 2008 +0300

    Render: Use built-in SHA1 library
    
    Getting an external library for SHA1 is a mess, so just use our own,
    regrettably.  Public domain implementation.

commit 991ed2949ba682684952fe323f8f0f51ebdca98e
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Sep 23 10:22:22 2008 -0400

    Rename SaveSetMap() to SaveSetShouldMap().
    
    Avoids preprocessor collision with xfixeswire.h

commit ca9fae00795a114bca4397c32b543d6326a4c547
Author: Owen Taylor <otaylor@redhat.com>
Date:   Mon Sep 22 12:42:41 2008 -0700

    Change 'remap' to 'map' in saveset functions/macros
    
    Now that the code has been fixed so that Unmap means unmap and not "don't
    remap", 'remap' was confusing to have in the function names/parameters, so
    change it to simple 'map'.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit ad14239a358cf65e5702ec7d054aa1db4f1cdd68
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Sep 22 11:26:49 2008 -0400

    Upgrade GLX Public License 1.0 to FreeB 2.0.
    
    According to the press release:
    
        Previous SGI contributions to the free and open source community
        are now available under the new license. These contributions
        include the SGI® OpenGL® Sample Implementation, the GLX™ API and
        other GLX extensions.
    
        [...]
    
        "SGI has been one of the most ardent commercial supporters of free
        and open source software, so it was important to us that we continue
        to support the free software development community by releasing our
        earlier OpenGL-related contributions under this new license," said
        Steve Neuner, director of Linux, SGI. "This license ensures that all
        existing user communities will benefit, and their work can proceed
        unimpeded. Both Mesa and the X.org Project can continue to utilize
        this code in free software distributions of GNU/Linux. Now more than
        ever, software previously released by SGI under earlier GLX and SGI
        Free Software License B is free."
    
    "The GLX API" is here read to include the original GLX source release
    from:
    
    http://www.sgi.com/products/software/opensource/glx/download.html
    ftp://ftp.sgi.com/sgi/opengl/glx/glx1_2.1.tgz
    
    which includes glxext.c as included in XFree86, from which our copies
    in glx/ and hw/dmx/glxProxy/ are derived.

commit 722c51960dd4948b8a64f8eff115fa69da597ef9
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Mon Sep 22 11:04:26 2008 -0400

    Don't remap windows for SaveSetUnmap
    
    Since ReparentWindow() does a unmap/map pair for windows that are already
    mapped, for saveset windows with SaveSetUnmap, we must unmap the window
    before calling ReparentWindow() to avoid the generation of MapRequest
    events, and so forth.

commit 0bb317a78b96fddcdac319c9706b3a12f931ea44
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Sep 22 10:51:51 2008 -0400

    Default to -br.  Add -retro option for the nostalgic.
    
    -retro also reverts to the classic cursor display behavior, meaning,
    the cursor will be visible before anyone calls XDefineCursor().

commit ab17f88506a2dde32c50ff72b03743cd9c384ecc
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon Sep 22 01:59:31 2008 +0200

    Don't use our version of ffs() if the system has one

commit af0d5e2ef7b1b3f42e3522568c5f56850823c102
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Sep 20 19:41:46 2008 -0700

    XQuartz: 64bit crash fix ... don't pass pointers through xe.
    (cherry picked from commit 5f1265b82edead8f15f2affc79c2782519502fa2)

commit 852a0b0dde34e7179394d96d09122b99bf7fe904
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Sat Sep 20 17:49:16 2008 -0600

    XQuartz: pbproxy: Add an X error handler that returns 0.
    
    Move the struct atom_list into the x-selection class, so that it's
    no longer a global variable named atoms.  This may ease pthread
    integration and reduce the chances of symbols conflicting.
    (cherry picked from commit c1403c713ca80104ae3736bd2ed1eb6ffa5192b6)

commit 7fa6fc5ad0b12bc52a1c22906709fbb003782d11
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Fri Sep 19 21:28:46 2008 -0600

    XQuartz: pbproxy: Fix a bug that occured when a PICT format was available.
    We may need another branch to convert a PICT to a PNG or JPEG.  For now
    TIFF works well in all of the test image copying apps when converted to
    PNG or JPEG with an NSBitmapImageRep class.
    (cherry picked from commit adf339d8f948fc1e308dbcae38fcfce504b5b0ab)

commit f67490ceb5b9ddf25e734cc331705103599f3ed8
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Fri Sep 19 14:29:37 2008 -0600

    XQuartz: pbproxy: Make the proxy handle copy request races, and PRIMARY
    INCR transfers mixed with a CLIPBOARD change.
    
    Fix a bug with some UTF-8 transfers.  I can only guess that my UTF-8
    tests before were inadequate.  I can now copy/paste any characters between
    uxterm and Textedit.app.
    (cherry picked from commit 7ca1532e8e6e2c733c9c508eee0de73d09ecb947)

commit b666ffd78155db228174041e9d7460b8a07dde0f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Sep 19 13:15:07 2008 -0700

    XQuartz: "Disable" the text when syncing is disabled.
    (cherry picked from commit 7713d7ab66e74b212a6c0d634a3ad82373e178db)

commit dba290ec231422740f453b69b187f80df3f50e4b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Sep 21 17:40:35 2008 -0700

    XQuartz: Added a preferences UI for pbproxy options.
    (cherry picked from commit d76cca5e1eae86450aa236e49a2024881d0bac01)

commit a928cae57b47625c9e3d136840d3e5d17fd3c51e
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Fri Sep 19 00:18:44 2008 -0600

    XQuartz: pbproxy: Add a missing include of Xutil.h.  Another header
    seems to have done this before, but correctness matters.
    (cherry picked from commit 1b4987e779d97b90669bac2405a4672085677f7c)

commit 749bdf19b2a50201fddd04207e31122470f435e3
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Fri Sep 19 00:02:48 2008 -0600

    XQuartz: pbproxy: Add COMPOUND_TEXT handling.  Do misc. cleanups with testing
    to verify that the behavior didn't change.
    
    main.m: XInternAtom compound_text, and atom_pair.
    
    pbproxy.h: Add compound_text and atom_pair to the struct atom_list.
    
    x-selection.m: Add an #include of Xutil.h.  Refactor the reply struct
    initialization to be done in a common place.  Add send_reply: to simplify
    the code a bit more.  Add send_compound_text: which handles the
    COMPOUND_TEXT type.  Add the beginnings of a send_multiple:.  Change
    handle_image:extension: to handle_image:.  The extension: message isn't
    needed anymore.
    (cherry picked from commit 1e9460abdf5bafe46215966bbef3e796cb1c33e0)

commit 00bfbee59fe3b0c8d1a55d1851206857ca563ece
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Thu Sep 18 13:10:41 2008 -0600

    XQuartz: pbproxy: pbproxy now responds to selection request events.
    
    We can now copy and paste images to and from X11.  Text copying and
    pasting works as well.
    
    The NSPasteboard can contain TIFF or PICT images, and pbproxy will
    translate to an image/png or image/jpeg request, and list those in the
    TARGETS.
    
    I added a description of the basic design at the top of x-selection.m.
    
    I removed the request_data x_selection class struct.  It's not needed.
    (cherry picked from commit 4a8daf884694c9c420c45d427f1f84e608e7e48f)

commit 811e9f5e9e9c07f4b8fb1e9a4d9df91a2e359221
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Wed Sep 17 11:59:36 2008 -0600

    XQuartz: pbproxy: Use an NSBitmapImageRep to convert an "image/png" selection
    to a TIFFRepresentation for use with NSPasteboard.
    
    This has been tested with the Gimp and works with some minor quartz-wm changes.
    The Finder clipboard shows the image updates after an Edit -> Copy.
    (cherry picked from commit 12912adaeea759d30f96d8ae51a84fd1659ea0ac)

commit d8d555bac77509248d1145e928a2edf500b326b9
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 17 10:11:00 2008 -0700

    XQuartz: Don't enable 8bit visuals in the TrueColor server, since it's not working yet
    (cherry picked from commit 1317c8ff94c4bd32617a5398e929f667bd87da58)

commit 23ec8261b6a746cb84e1328284fdc5587bca6faf
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Tue Sep 16 21:09:22 2008 -0600

    XQuartz: pbproxy: The greedy CLIPBOARD handling now works for text.
    
    This change adds some [self own_clipboard] calls in the necessary places to get the proper greedy behavior.
    
    UTF8_STRING and STRING properties seem to work well now with the test cases (PRIMARY, and CLIPBOARD).  I can copy from several different X apps, and have the behavior be correct when pasting.  I also verified that quartz-wm isn't doing the copying, by disabling the quartz-wm paths.
    (cherry picked from commit 934669f732c28f07b9d934d8f8f0b63ccfebd900)

commit 7c2eb3d41af33d1c52500111d0d34f9aab8a4542
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Tue Sep 16 15:21:18 2008 -0600

    XQuartz: pbproxy: return the TARGETS list as a 32-bit list to fix a bug that was in the original.
    
    Add TRACE() calls where appropriate to try to figure out why we are losing CLIPBOARD at times, after transferring PRIMARY to the NSPasteboard.
    
    Use the new pbproxy_clipboard_to_pasteboard where appropriate.
    (cherry picked from commit 40190675a6c1889cca3574e5d1a9c16ab74315a7)

commit 81c836902dc5b0b83cd95262d48cbc4c81ff3ae2
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Mon Sep 15 13:35:46 2008 -0600

    Rename reclaim_clipboard to claim_clipboard.
    
    Convert the puts usage to use DB().
    
    Add the initial handle_image method.
    
    Check for nil in the NSString instantiation in various places.
    
    Add some commentary to enhance the clarity of why I did some things.
    (cherry picked from commit 37361567b65241eab64e8b30cd9729d0e71a86d2)

commit 85e23affea7bf9aa7615b0292e67f170266d85f8
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Mon Sep 15 13:31:19 2008 -0600

    Add an image_jpeg Atom.
    (cherry picked from commit ea9dc27977c5eab666f2aa2d914e4e28d36758c7)

commit 6b42f40ff9b9ff3e74ccbb2ce5cfad65016934de
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Mon Sep 15 13:28:50 2008 -0600

    Rename reclaim_clipboard to claim_clipboard.
    (cherry picked from commit d333a8e2b5514b8b76a78c6a13a3f5149ea8de27)

commit 2ab56981b1a64138d6c1f9ecfb75655477b3e575
Author: George Peter Staplin <gps@Georges-Workstation.local>
Date:   Mon Sep 15 13:27:08 2008 -0600

    Add image/jpeg type, and rename reclaim_clipboard to claim_clipboard.
    (cherry picked from commit 32b175ef62b68a971784e51e937e358cb10e20ac)

commit cbd32645f7d1054f79ad137a16766da1076c610e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Sep 15 09:33:55 2008 -0700

    XQuartz: pbproxy: Added global variables to customize how pbproxy behaves
    (cherry picked from commit 21a2d0b8d03faf1c66ec0c5c11fbd2ab24547727)

commit 5b397642cdc29920245ebe64cc85243cac893e0e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Sep 14 09:23:17 2008 -0700

    XQuartz: pbproxy: First round of updates to pbproxy from George.
    (cherry picked from commit 5c8b956f8f3f17e8d577d97cb66424954be72684)

commit dac9e91870f9c787eac97c9d7d0607979c57eb5b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Sep 21 17:32:24 2008 -0700

    mieq: Made custom event handlers safer for nevents >1

commit 8c46505d7d91e0644b19cccc4b342fceb6f86cab
Author: Kim Woelders <kim@woelders.dk>
Date:   Mon Sep 22 08:37:29 2008 +0930

    xkb: fix use of uninitialized variable.
    
    And some cosmetic changes to use stuff->change consistently.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 2b266eda6e23d16116f8a8e258192df353970279
Author: Peter Harris <peter.harris@hummingbird.com>
Date:   Thu Dec 20 15:58:01 2007 -0500

    Fix panoramiX request and reply swapping
    
     Fix panoramiX request and reply swapping
     Set window and screen values in panoramix replies
     Prevent buffer overrun in ProcPanoramiXGetScreenSize

commit 03ab8f11d25b0ca39a3b37b5350bca4c1028768e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 18 12:17:05 2008 -0700

    When resizing a window with redirected descendents, don't expose them
    
    Bit/window gravity computations need to recompute exposures to manage the
    bits which are saved by gravity during the resize computation. That's easy
    for non-redirected windows where the bits are all within the parent's
    pixmap. For redirected windows, we don't need to deal with this at all, so
    just skip the whole re-computation adventure.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit d26083fe02658e7312a8da6a5b11652f9fe57bc8
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 18 12:14:58 2008 -0700

    Switching from Automatic to Manual redirect needs to unmap/remap
    
    When changing a window from automatic redirection to manual redirection, the
    parent clip list needs to be recomputed; the easy way to get that computed
    right is to unmap/map the window, just as when redirecting the window the
    first time.
    
    Thanks to Owen Taylor for helping diagnose this.
    
    Signed-off-by: Keith Packard <keithp@keithp.com>

commit 8bfd88ca61a1747714781a090d1c9dd8f3ad5dfc
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Sep 19 12:13:43 2008 -0400

    Revert accidental edid changes from previous commit.

commit 69b79c1a6648f0d04a1b37a728b2e3d76233530f
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Sep 19 12:02:28 2008 -0400

    Update to SGI FreeB 2.0.
    
    Under the terms of version 1.1, "once Covered Code has been published
    under a particular version of the License, Recipient may, for the
    duration of the License, continue to use it under the terms of that
    version, or choose to use such Covered Code under the terms of any
    subsequent version published by SGI."
    
    FreeB 2.0 license refers to "dates of first publication".  They are here
    taken to be 1991-2000, as noted in the original license text:
    
     ** Original Code. The Original Code is: OpenGL Sample Implementation,
     ** Version 1.2.1, released January 26, 2000, developed by Silicon Graphics,
     ** Inc. The Original Code is Copyright (c) 1991-2000 Silicon Graphics, Inc.
     ** Copyright in any portions created by third parties is as indicated
     ** elsewhere herein. All Rights Reserved.
    
    Official FreeB 2.0 text:
    
    http://oss.sgi.com/projects/FreeB/SGIFreeSWLicB.2.0.pdf
    
    As always, this code has not been tested for conformance with the OpenGL
    specification.  OpenGL conformance testing is available from
    http://khronos.org/ and is required for use of the OpenGL logo in
    product advertising and promotion.

commit cc20112a65d3f641ce0261c86a541f94fae5215c
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Sep 19 08:44:04 2008 +0930

    Xi: don't include client-side headers.
    
    Spotted by Mikhail Gusarov.

commit e76b5b5e731e2d6c61ff6e6e9b2f42b20ac473d5
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Sep 18 14:51:15 2008 +0930

    dix: calloc, not malloc, ValuatorClassRec.
    
    For master devices, the ptraccel code could segfault on free since we'd be
    dereferencing random memory. Callocing the valuatorClassRec is the easy fix.

commit f789408f7dbfe57a0111e185ac83d1c70f262ba8
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Mon Aug 25 14:52:35 2008 +0930

    Xi: remove broken SDeviceEnterNotifyEvent, replace with ...Leave...
    
    The event format is the same for both (bar the type), so one is enough.

commit 97b9374a8af5a4cc52f9074feb4ce40cf0b90796
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Sep 17 15:48:56 2008 -0700

    Conditionalize Composite-based backing store on pScreen->backingStoreSupport.
    (cherry picked from commit 37876602957924c7cff759a800eddd574ee2385a)

commit b4762c0245ed2966606171cf27f40aa745fdc76e
Author: Julien Cristau <jcristau@debian.org>
Date:   Tue Sep 16 17:13:42 2008 +0200

    exa: disable shared pixmaps
    
    They got re-enabled in ee7c684f21d220d5e046bab31ae617a7d64d60f6
    ("Reimplement ShmPutImage.")

commit 52bbfc5bfa64fd09ef625f35a2fb4a0518003825
Author: Mikhail Gusarov <dottedmag@dottedmag.net>
Date:   Mon Sep 15 10:43:46 2008 -0400

    scrnsaver is optional at build time.

commit b6ab114212c0e4c3346ceb5b207f14c526ab81e7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 12 19:11:53 2008 -0400

    Array-index based devPrivates implementation.
    
    Note: DevPrivateKey is now pointer-to-int, which means
    each key now needs to point to some global storage of
    size at least sizeof(int).

commit 999f3362d50a753c1801d565766219808efdb1a5
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Sep 5 17:32:16 2008 -0700

    XQuartz: Dead code removal
    (cherry picked from commit 43184cd379c4fb7254391b8a362016cbf89b5529)

commit 6548a55ebdf43231a3c48debf54aa5aa2f1aa956
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Sep 5 17:05:03 2008 -0700

    XQuartz: 256 color support
    (cherry picked from commit 8dd6d5c825d457f26b41b79d02d57ed4a5ecf1f5)

commit bad7cd14c2021b14971b3f707f927803a053003e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Sep 5 10:46:36 2008 -0700

    XQuartz: Dead code removal
    (cherry picked from commit bf10fb0b1f776e72db7c76db11f764e26f9d62c4)

commit 1119fe136f8731f26fc6f50b92f5ddf78f3f83be
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Sep 5 10:46:20 2008 -0700

    XQuartz: Changed around fd handoff model to be more robust
    (cherry picked from commit 4fe605c2bc62d50e0b5764d9edda245af227630b)

commit 183233b27beb441742a53e440c3389b4ea125b8a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Sep 12 15:25:44 2008 -0700

    XQuartz: Don't warp the pointer on server start for XQuartz
    (cherry picked from commit c0da576d4921c246a9ac747921b48ab9e718347f)

commit 7a46dd30d332bc1d42f82b0391e806d3b067ebbd
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Sep 4 09:18:40 2008 -0700

    XQuartz: Dead code removal
    (cherry picked from commit 2e45344870f5d17181df6407da3448991036d783)

commit 1c70e53f2560cb877c8b149034f296232de67a4e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Sep 4 08:55:22 2008 -0700

    XQuartz: Fixed proximity logic errors for tablets.
    (cherry picked from commit d942849f248c368b92ca73e145e8a5bc339112d7)

commit c661c6ae7a9cd981f914484aa4c3007922280def
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Sep 4 08:07:32 2008 -0700

    XQuartz: Remove decls of crashtracer strings that we don't use anymore in here
    (cherry picked from commit 4a653c6bfd270f2960a8c7e726e7628cfc3c9051)

commit 54162aca404a7de2e560cc2aea01445e14742efe
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Sep 4 05:18:31 2008 -0700

    XQuartz: Fixed a crash in RootlessNativeWindowMoved
    (cherry picked from commit a16048cec08e173ce42a78a77704f5fdfcb4480f)

commit ce781cac1b52003da6c025cd29e2c2ad97dbb324
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Sep 11 16:24:20 2008 -0700

    Fix distcheck.

commit 31c62495f1de6e9ba41e1f6d7fa263eeb849129b
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 10 13:11:09 2008 +0800

    Drop a reference to user mode after create
    
    User mode has no customer when create until assigned
    to some output.

commit 079625570d51e41569b73b2fd9237eb8f967f408
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Mon Sep 8 08:50:52 2008 -0700

    Bump ABI major versions for the TryClientExceptions change from commit 883811c.

commit 4e004c68283828660f2259a4a4120a84667dcafa
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Mon Sep 8 09:16:59 2008 +0800

    Revert "randr: fix user mode create initial reference count"
    
    This reverts commit 7c5ca85a9e6d49ab572831b3e0c08bb4cafb395e.

commit 40a9482f8c5b3eac86c221ccce78510e850f4d2b
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Fri Sep 5 06:09:51 2008 -0700

    Add cscope files to .gitignore

commit bf333c2f9833a178887e7bdd7fc338f1e09c387f
Author: John Tapsell <john.tapsell@john-desktop.(none)>
Date:   Wed Sep 3 12:20:17 2008 +0100

    fbdevhw: Remove pixclock check.
    
    The check can fail because the output from FBIOGET_VSCREENINFO is used to set
    Clock in fbdev2xfree_timing().  Then in fbdevHWSetMode(), xfree2fbdev_timing()
    is called which sets the pixclock based on Clock.  The resulting circle results
    in slight rounding errors, causing the comparision check in fbdev_modes_equal
    to fail.

commit 47bf269d5922a4998c33908a53ad1affa8de96c0
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 3 12:54:56 2008 -0700

    mieq: Fix my broken cherry pick.

commit 1669308be6d4cc6265e5fa8ef47fbf2cbef6f093
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 3 09:23:06 2008 -0700

    XQuartz: Added pasteboard proxy code stripped out of quartz-wm.
    (cherry picked from commit 1f842c71c35db031a24de646429834d6054adf1d)
    (cherry picked from commit 144746223d8dc3f6ff2a0e805aa27a6e57df558a)

commit 46168b3b404164c1f2e7876031e70fb77192fe75
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 3 09:11:25 2008 -0700

    XQuartz: Updated Tablet code to include ranges for valuators and added cursor and erasor
    (cherry picked from commit 6bca78760951cb5cb57ea66b7631a2dc230dc27a)
    (cherry picked from commit fafcafd6de39cf6b5967793f03b30b49db36fec5)

commit 7f5318131ddf86bed5797c0d9641f6ff34f34be0
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 3 03:54:42 2008 -0700

    XQuartz: Removed "Done" button from Applications Customization.  Now properly save on exit.
    (cherry picked from commit 2f1e163d5db6063e54fcaa045ea67c29ce3e46aa)
    (cherry picked from commit 7542c00b96461c3474b8c23545171c4b6ddfd29d)

commit 9e70a3cf58c205948f6a415e203d825e9b660d9d
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 3 09:33:39 2008 -0700

    mieqProcessInputEvents: Check custom event handlers first.

commit 700e8bf33f9b1c3921de912b8110fadf5e0626da
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 3 02:41:20 2008 -0700

    XQuartz: Updated man page
    (cherry picked from commit 6932d0d19ea75c64ed38b82a246b68c6bbfb8cec)
    (cherry picked from commit 8e3da36b6b0a261975808bc67b5caca733a1a23d)

commit 7430bb9093ea8cf9589d745742c7353e53a144f8
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 3 02:37:09 2008 -0700

    XQuartz: Removed dead code (unused option definitions)
    (cherry picked from commit 3d74f77490105c0704c0b10dc7a6eb859bf6e985)
    (cherry picked from commit c1e5ea9ba058f6a13f564165a3d6862335729630)

commit b3836e5bdd7e2e04e563246d90f385e1b4741baa
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Sep 3 02:36:39 2008 -0700

    XQuartz: Cleaned up our sleeping before adding the launchd socket.
    (cherry picked from commit ebfe49dfca6e04d66232bad760f522629397cc35)
    (cherry picked from commit 2cf74a76d54d795cfc3c0380a526b9177327782d)

commit 7c5ca85a9e6d49ab572831b3e0c08bb4cafb395e
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Wed Sep 3 09:41:00 2008 +0800

    randr: fix user mode create initial reference count
    
    Don't need extra reference count adding when creating user mode.
    This fixes user mode destroy, otherwise we get BadAccess error.

commit 4e1f9f51a9eea115ce2a073824e9c5cef4e2f364
Author: Daniel Drake <dsd@laptop.org>
Date:   Tue Sep 2 16:20:40 2008 -0400

    Don't try to destroy a NULL pixmap.

commit 613ce0955032fb032de0a3940752828d314f057a
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Sep 2 15:43:15 2008 -0400

    Fix strict-aliasing silliness in XAA.

commit b5cdcfa55c399e83d51242e93d4f25d8bc4fec1f
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon Sep 1 19:45:30 2008 +0200

    Xevie: swap replies as necessary

commit d3ae193f4ac87530f2745f8cb5e7b70dd516881e
Author: Thorvald Natvig <slicer@users.sourceforge.net>
Date:   Mon Sep 1 19:36:56 2008 +0200

    Xevie: always initialize rep.length (bug#17394)
    
    The XEvIE extension doesn't clear the rep.length field for any reply but
    the version check. Hence, if there is junk data in it and that is sent
    to the client, it hangs.
    
    X.Org bug#17394 (http://bugs.freedesktop.org/show_bug.cgi?id=17394)

commit 0466b8811ce8ebc1d993f177cbb7a22e997640f1
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Sep 1 09:57:25 2008 +1000

    exa: drop cw.h inclusion
    
    this doesn't seem to be needed, at least I can't see any warning without it.
    
    I'd like to build EXA into a driver and cw.h isn't exported

commit 881bd15f445bb62c3fdea863c968c95217408b6e
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Sun Aug 31 18:07:22 2008 +0200

    xf86Crtc: Set mode to NULL, so nothing bad happens if crtc == NULL.
    
    - Fix is courtesy of math_b.

commit f4e9a1a98f97155de62908309e87c10487125926
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Sun Aug 31 17:45:08 2008 +0200

    damage: choose less ambiguous function names

commit 0cd6709db5febbe7fbd073e429421fcd81041e08
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Aug 30 16:13:58 2008 -0700

    XQuartz: Fixed editing of Applications menu
    (cherry picked from commit da647f1add4c1ae7854c0fbfbf972666ce5d12c8)

commit c4d290fc54542ccba7c3a46bc75b0c3322d0ca48
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Aug 30 14:19:47 2008 -0700

    XQuartz: Fixed missing symbol in quartzKeyboard debugging
    (cherry picked from commit 8ad55e484f0ba9073ce07a03de660cc546a7b668)

commit 5d7d959b1143979c3445639c9d108e02da0c1475
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Aug 30 14:18:07 2008 -0700

    XQuartz: Don't even build with GLX support since swrast now depends on libdrm
    (cherry picked from commit 3739525d57dff2b3b034b5768f357b1c25577909)

commit 45def7f0a342f4733cafb06adbfed14932f0e01b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 29 22:16:03 2008 -0700

    Removed dead glcontextmodes
    (cherry picked from commit c6d0ac7471209d835e8d9a25adcbda893ddfa1cb)

commit d01c5ca7935a8340a3cd68c325da6dfec005c952
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Aug 30 15:35:32 2008 +0200

    Xserver.man: Typo (the the).

commit 229e60db8f95232afc8cdcb7cd0572d117c84b90
Author: Thomas Bodzar <Thomas.Bodzar@quest.com>
Date:   Sat Aug 30 15:34:29 2008 +0200

    Xorg.man: typo (the the).

commit 1885582444fb06da73dea1f118a777bea26e1dc1
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 29 21:18:26 2008 -0700

    XQuartz: Placate automake which doesn't like escaped newlines even in comments...
    (cherry picked from commit 73db1170129a31ad2d55a7e83ac6dfc8030e47f1)

commit 8abcc12fdd5bd9edc0288a1ab8f75e65ffcb8c71
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 29 20:55:25 2008 -0700

    XQuartz: Added debugging output to the crash log to help track down two crashes, since people don't often report their system.log spew.
    (cherry picked from commit aaf0f71db197526b6b866cc1b39fbdfe051879ef)

commit aee19c7b5542aa147b89b1ae8340e9931d81729f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 29 03:54:55 2008 -0700

    XQuartz: xp_is_symbolic_hotkey_event catches the input menu, but not our mainMenu, so we still need to do that the old way.
    (cherry picked from commit 25eccf12c89d73b8bce2c9be14841efb230acedc)

commit 974db58f5b730c3770ee461665a02dd4334d1dea
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Sat Aug 30 00:37:11 2008 +0200

    damage: initial attempt at a damage marker mechanism
    - This should allow drivers to recieve post submission events for X<->opengl synchronisation.
    - Lacking a testcase, i'm open to suggestion how to do it better.
    - The idea is:
     - driver recieves event
     - driver creates personal identification and inserts marker into X fifo.
     - when something wants to use an X pixmap, it checks if something is pending.
     - If so, it synchronizes the 2nd fifo using the initial identification.
    - Driver is not required to use interrupt based systems (price too high).
    - Lower latency is ofcource better.
    - If this is somehow unusable for you, then come up with improvements.
    - For that reason i wouldn't consider the api fixed for the moment.

commit 454cb0802eec3c2c2cdbcc17971bced868462b83
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Aug 29 22:28:02 2008 +0200

    damage: DamageReportRawRegion should set pDamage->damage
    
    - I found no evidence in the protocol, that it should be differently from all the other modes.
    - It seems to have been like this from day 1.
    - If anyone has evidence to the contrary, please enlighten me.

commit ae6ca434104405302f30a58bde8738d9579d9dc9
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Aug 29 22:21:54 2008 +0200

    damage: internal functions start with a non-capital letter

commit 1861250cd7e84b05e8298b74e3c7e97da72ddfba
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Fri Aug 29 22:15:23 2008 +0200

    {damage,exa}: sanitise damage
    
    - Redo damage naming for more consistency.
    - Call post submission functions only where appropriate.
    - EXA can now live without it's odd damage workarounds.

commit 5af77d43fe812e127d5d335527fa940ab9d95f38
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Aug 11 16:59:17 2008 -0400

    DRI2: Drop sarea use, implement server side swap buffers.

commit 60ad8d5d05485339e89d7f1f9f1ded75de7c7ea1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 28 23:45:17 2008 -0400

    Attempt getpeercon() on remote sockets as well as local ones.

commit ebea78cdba0ff14a397239ee1936bd254c181e1b
Author: Tomas Carnecky <tom@dbservice.com>
Date:   Thu Aug 28 18:05:40 2008 -0400

    Prepare for array-index based devPrivates.
    
    TODO: static indices can be made just an int; some indices
    can be combined.

commit ec7907f8fa04dcff2649cc4846975844314f737e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Aug 27 19:27:13 2008 -0400

    Add an array of integers for use as per-screen cursor private keys.
    
    Replaces the use of the screen pointer itself as the key, which was
    nice but won't work now that an array index is being stored.

commit 86898491497a43814caf42013651086e62fe6162
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Aug 27 19:17:15 2008 -0400

    Remove unused GetGlyphPrivatesForScreen.

commit 90b178cc7feda1f9c4995b98364739e71233fff3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 28 19:36:22 2008 -0400

    Don't need to request space for Xnest pixmap private.

commit 835b532d6f51d08998d7ab49fcb41db8266487ce
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Aug 28 14:49:35 2008 -0400

    Build fix.

commit 040212ee60af9d043c4c3f98bba5120c3b8e33f7
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Aug 28 13:49:35 2008 -0400

    MIT-SHM pixmaps, if they exist, are ZPixmap.

commit ee7c684f21d220d5e046bab31ae617a7d64d60f6
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Aug 27 16:05:47 2008 -0400

    Reimplement ShmPutImage.
    
    There's no reason to not just dispatch this straight into the GC.  As a
    bonus, if you do so, damage wraps correctly, and thus swcursor works.
    The side effect is it's no longer possible to override ShmPutImage with
    ShmRegisterFuncs().
    
    Also remove the (broken) damage tracking for same from EXA, since it didn't
    work right, and is now superfluous.

commit 2db1afbf2e56d8743c701d81a5797001ce9e5c52
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Aug 26 23:09:20 2008 -0700

    XQuartz: Always use TIS for the keyboard layout seed since KB* aren't thread safe.
    (cherry picked from commit c8244177b0dbcb28d2f5509e6f2a3e8057889790)

commit 319405fa4a530804c19fb7d0fcece5c912e41c9d
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Aug 26 21:11:35 2008 -0700

    XQuartz: Fixed needed xplugin version. ><
    (cherry picked from commit 01b3a99dff79e0d2b316e02658c19fa79d9144ae)

commit 3350770bd6d90fefa1133ac738c1d4eae2d568a6
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Aug 26 19:13:56 2008 -0700

    XQuartz: Use new Xplugin API to determine if a keypress event corresponds to an OS-X hotkey that we should dispatch to Appkit.
    (cherry picked from commit e7658e745f8a3eaf5cec9f54a8a1b7e5a7708e09)

commit 7930ea9116f232a3762f0085e5ca65e06d1142fc
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Aug 25 22:10:46 2008 -0700

    XQuartz: Made a note to come back to the xinitrc race condition in the 1.5 branch when we move up to it.
    (cherry picked from commit 54a882dcbdccef3f3eb4e6398e13c88185a8986c)

commit dc1171df5baa0c4aa366ff2b07af5b8eb44dae12
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 22 01:12:37 2008 -0700

    XQuartz: Fixed bogus args to debug ErrorF
    (cherry picked from commit f0351c2b80f30ae31f041798b84139141fc3d5a5)

commit ac936525afe46bad329387232f8d48e77f6a4175
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 22 01:11:33 2008 -0700

    XQuartz: Cleaned up mouse event translation a bit more.
    (cherry picked from commit c286f2a718fdaf6ad10249b59abb20731da8d904)

commit 1b42f550001c11c93d5a2144df98a5c687c010c2
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 22 00:45:12 2008 -0700

    Xquartz: Added missing ev_type for NSTabletPoint event.
    (cherry picked from commit 07548f13947a212dcc020d52fe0ad679255121e2)

commit 13a89f19208cf998808ff2896b7711310768f94c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Aug 20 10:21:23 2008 -0700

    XQuartz: Added more explanation to debug keylayout spew to cut down on report-spam.
    (cherry picked from commit fcdc9f8b5abd724d75f53d48fdadbed9859e9e79)

commit dd1e54d6eed0bce289517b3cb95e6b1a187ca6e0
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Tue Aug 26 20:02:55 2008 +0200

    exa: fix thinko from 988725f32e082aee9392a71464125157a83d1e67
    - the drawable of the pixmap is not the same as the original drawable (possibly a DRAWABLE_WINDOW)

commit 7c14fdbacfcd2f4d56a346e6c72e44e4ba9909c1
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Tue Aug 26 17:21:43 2008 +0200

    exa: some minor cleanup
    - Fix compile warning
    - Order exa.h by source file that exports the function.
    - Move the function i created earlier to private headers.

commit de79edbd9f67762950eaac2dc79668035239897c
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Tue Aug 26 17:03:12 2008 +0200

    exa: report damage manually for exa{Trapezoids,Triangles} when needed
    - Plus a micro cleanup of unused variables.

commit 988725f32e082aee9392a71464125157a83d1e67
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Tue Aug 26 16:54:29 2008 +0200

    exa: move destination damage for internal calls to a special function
    - This should improve clarity for someone who isn't familiar with the code.

commit ce193476808f54d946351458361c62132d81b62f
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Tue Aug 26 13:18:58 2008 +0200

    exa_glyphs: remove useless offset

commit fd94651fc3a6f49ec153ffb823b86c1d125bb298
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Aug 26 10:58:35 2008 -0400

    Fix driGetConfigAttribIndex unaligned access to GLboolean.
    
    We don't actually send the float mode so just drop it.  Drop a couple of
    other unused or redundant fields from GLXconfig.

commit 41bd8d5dfe27d5c91fe7e4cdba1475a2a0741b1c
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 25 11:27:26 2008 -0400

    EDID: Build fix.

commit 76ed409acd772f2c041239345c6dc64cbef0e5b2
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 25 10:44:45 2008 -0400

    EDID: Publish the whole block on the root window if we've got it.

commit 5724f7fb5bea6fa1a354c64c0972c53d70e2f27b
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 25 10:39:36 2008 -0400

    EDID: Publish the whole block in the RANDR property if we've got it.

commit 668f89eba3e8f9da7843f5cb350f8dc1e5d7efbe
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Aug 22 10:32:18 2008 -0700

    Remove unnecessary #ifdef __SOL8__'s

commit cc78d977cac74fcfb7c9b27e7109a1e369018dd8
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Aug 22 10:14:11 2008 -0700

    Convert Solaris #ifdef's for <sys/kd.h> to AC_CHECK_HEADERS check
    
    Upcoming virtual terminal support changes in Solaris kernel will provide
    <sys/kd.h> on SPARC too, so this gets us ready for them.

commit 95b466e457542bfe08b0ed2bbb5db8d28a961cfd
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Aug 21 17:24:40 2008 +0930

    Xi: don't include .c files.

commit c696da75c7326c5e1f1cd48292c0519ddc22e11b
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Thu Aug 21 17:23:11 2008 +0930

    Xi: swap devices property replies.

commit 01264f17925005969c3b71ca945fc1014bcd8c8e
Author: Julien Cristau <jcristau@debian.org>
Date:   Thu Aug 21 01:32:03 2008 +0200

    Add swapped dispatch for randr 1.2 requests

commit e02f864fdf19a5ab1682336be343c57fdb69ef43
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Aug 20 13:24:03 2008 -0400

    Suppress cursor display until the first XDefineCursor() request.
    
    Yes, this means the server will start without showing a cursor.  Pretty
    much any application that wants to interact with the mouse will define
    cursors, so this essentially just delays showing it until gdm (or
    whatever) loads.

commit 64ef7ed072007b1d0b4de5ff1e5eababa418c794
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Aug 20 13:14:03 2008 -0400

    Centralize declaration of ConnectionInfo.

commit f1f44940f10b0209946ec0f08104a372d7d945a0
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Aug 20 09:50:54 2008 -0700

    XQuartz: Support windowItemModMask=0 or -1 to disable window shortcuts.
    (cherry picked from commit 81187364e512606a6aebb95ab2967d9d420f57f2)
    (cherry picked from commit f2ec79e4a159dec6481691e4dd615db01770dd7a)

commit 6c5612c2e1df1e89388ffff97251f5328558f8e8
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Aug 20 09:21:44 2008 -0700

    XQuartz: Added window_item_modifiers defaults item (and option to localization) to change the modifier keys used for the windows menu.
    (cherry picked from commit e4110861d307a55d9032cb83cf024ec1f294e8d7)
    (cherry picked from commit fcfc05482a88696cb713c7a2ddfcf935ae8378a6)

commit bdc277c9b3dc6b3b95f74b20a49ce163c5fae980
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Aug 20 09:58:48 2008 -0700

    XQuartz: Just cleaned up formatting of event processing code... no "meat" changed...
    (cherry picked from commit 745bc8ab387d6794f47d8b9dca33b4c81f6dd39c)
    (cherry picked from commit a28a2be52478a1557a363140f7bd70ececf144dc)

commit ed42108920cc695b96ed57bf9dcfea1470e74669
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Aug 19 02:02:11 2008 -0700

    XQuartz: Added appkit_modifiers defaults option which users can set to 'rcommand' to get access to the input menu with right command
    (cherry picked from commit 02af74d7a5a7225f408915254c40856159dc7f19)
    (cherry picked from commit 2da32894dff8340f6ca7c980277fca7ec835a193)

commit be06961312e2111778bfd97b2c8a927acc61f43d
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Aug 20 09:56:06 2008 -0700

    XQuartz: More input fixes
    stuck-modifier fixes (capslock)
    3button-emulation now doesn't send the modifier key with the click
    Added other options to fake_button2 and fake_button3 defaults options:
    	({l,r}{control,alt,command,shift})
    (cherry picked from commit 8fb6a1cf44c35a20dfb0c05c9824f94898f88da7)
    (cherry picked from commit ae9c1b3cfb3874b4d1251681c24bda91c398bcab)

commit 436b659091dd17bb3e316377ba31f5d2a5dfa12e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Aug 14 09:34:12 2008 -0700

    XQuartz: Updated bundle version to 2.3.1
    (cherry picked from commit eedecba0b882bb07931e8d9168589f5be7a08a69)
    (cherry picked from commit 7d9d864461858b25c5eb5858fdf4b53771795f11)

commit bc4cef1d0ae7cbb8f5fe16d576db45abd4330370
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Mon Aug 18 16:28:33 2008 +0200

    exa: remove useless cache{X,Y}off from UploadToScreen() arguments.

commit 38bdc34d555f956a1ff1e1bb8eef95e3ba2bac64
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Aug 19 15:12:39 2008 -0400

    Remove redundant check.

commit 47b31233c26f710be70ffcca17e5402d03d5733f
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Aug 19 15:10:12 2008 -0400

    Simplify driver setup.
    
    No point warning about missing driver hooks, that just means the person
    who gave you the driver is inept.  Might as well just crash.  Also,
    just name anonymous screens as screen%d instead of failing after the 36th
    screen.  Bonus points if you can figure out what the failure mode would
    be on the 36th screen, and what the effective screen limit was.

commit b99fc65b53769400821a2bd8f691ece35a5b8847
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Aug 19 15:06:53 2008 -0400

    Simplify calling xf86EnableIO() a bit.

commit b1f2c7a89ace1f6e5750783f3c43c4c5a6d24374
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Aug 19 15:06:11 2008 -0400

    The ->Identify hook is not mandatory.
    
    Best comment ever though.  Mad props.

commit af5125968a738ec8f496d04eb65acb7c8f812115
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Aug 19 14:47:10 2008 -0400

    Refactor misprite a bit.
    
    No variable declarations in header files, please.

commit 41b68e0dea9305d66bca2fc4ad96db01f5342c6d
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Aug 19 11:02:31 2008 -0400

    Remove unused -co option.
    
    What did this even do anyway?

commit 1f416fba994ed7a7e072a9f0a86b515855ea3bac
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Aug 19 10:56:45 2008 -0400

    Remove unused -bestRefresh option.

commit 5a72c45d42abc7227c6cf3d14fd7043ea7527c54
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Aug 19 10:54:11 2008 -0400

    Remove unused -showunresolved option

commit 9f08ffc557b52e2e8cd54fb692b66700c83d61c6
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Aug 19 10:29:23 2008 -0400

    Remove unused xf86Info.pMouse

commit f227fbf74f0c619ecf3275cdb4c10b1a4b3a8cfc
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Aug 19 11:36:12 2008 +0200

    EXA: Inline Prepare/FinishAccessWindow into only caller, ChangeWindowAttributes.
    
    Also check the requested mask in addition to the GC state before doing work.

commit 825b3fe11d1b813bf8d5b24a880ed04b78ae1acf
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Aug 19 11:22:40 2008 +0200

    EXA: Don't use exaGlyphs if the driver doesn't provide a PrepareComposite hook.
    
    It's buggy without Composite acceleration (leading to cropped glyphs) and not
    really useful in that case anyway. The bug probably still needs to be found and
    fixed for drivers that provide a PrepareComposite hook but can't accelerate
    text rendering though.

commit 75e495a4cd823b6fa42a8d167ecc9f4723320dea
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 17:58:08 2008 -0400

    Remove unused xf86Info.mouseLocal

commit b3dfd7e3e4deef21b40c885f8e7eae34b55888b2
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 17:56:18 2008 -0400

    Remove unused xf86Info.sharedMonitor

commit 5e43cd28692bc05cac80f38b47104a26c0524385
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 17:46:42 2008 -0400

    Remove the remainder of grab deactivation and closedown.

commit cd1e8f26147919227e7624ac4c6b313d972a4d35
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 17:40:46 2008 -0400

    Remove unused EstimateSizesAggressively option.

commit faaf0046155abbd15415d5a6b62ead4f58935c28
Author: Mathieu Bérard <mathieu.berard@crans.org>
Date:   Mon Aug 18 17:23:26 2008 -0400

    Remove xaaTEGlyphBlt.S
    
    Should have been removed in 593144dddd977f53bcd1a115f9544eeece46df4c but
    ajax was asleep at the wheel.

commit 562462e78dd6a5e2ed5b36aa22be52f31d55485d
Author: Mathieu Bérard <mathieu.berard@crans.org>
Date:   Mon Aug 18 17:05:24 2008 -0400

    Remove dead {bsd,lnx}Resource.c

commit e3e47b35e369bf4abb0fe15865acca0b34600b1f
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 17:03:22 2008 -0400

    Remove MAX_PCI_{BUSES,DOMAINS} and some associated #if 0.

commit 593144dddd977f53bcd1a115f9544eeece46df4c
Author: Mathieu Bérard <mathieu.berard@crans.org>
Date:   Mon Aug 18 16:46:36 2008 -0400

    Remove some unused assembly code and assyntax.h

commit 2d3e478384ef8af2a760f39792e35e4a6174c967
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 15:09:44 2008 -0400

    int10: Fix int1A for %ax == 0xB101.
    
    pciNumBuses was pretty much always 1 post-pciaccess.  That ain't good.

commit 539717fe1f08a000d1eef9f345d24cb49e3663b5
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 14:50:33 2008 -0400

    Remove (unused) pciMaxBusNum.

commit 3c03d9f1efbbacec6e8be58da99bf0977a8e0fec
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 14:37:42 2008 -0400

    Remove sparcPci.c
    
    There is no way this code can have been building for anyone since pciaccess
    was merged.  BSD and Linux were already using OS code on sparc, the only
    people who could want this are Solaris, who should be using pciaccess
    anyway.

commit 9a39b6cfbda306eb594e87ce828afa01cd7aa01e
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 14:26:01 2008 -0400

    Remove XF86SCANPCI_WRAPPER.

commit 470b05a610e641094d46742393684acd786d78a8
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 14:03:36 2008 -0400

    Remove vestigial MAX_PCI_DEVICES.

commit 244a635fcdc9e0a7212d51b26d74f49d8e1b071f
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Mon Aug 18 19:27:34 2008 +0200

    Fix the tile offset in miPaintWindow for ParentRelative windows.

commit fdf7c747a8e1bc59dfb31b7f90dd5eab2687315b
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 13:13:03 2008 -0400

    Remove PciProbeType and associated weirdness.
    
    This code was effectively only used in ix86Pci.c to select PCI config
    access type.  Nobody should be using that path anymore, in the glorious
    pciaccess world; kernel services should get it right for you.

commit 95bb6f53624a3e6f4d62a2f789982c5544d2fc70
Author: Mathieu Bérard <mathieu.berard@crans.org>
Date:   Mon Aug 18 11:47:19 2008 -0400

    Remove ancient unused inline hack.

commit e1ae8db625b5e8c298a557592ef23656b3da4886
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Aug 18 09:53:48 2008 -0400

    Drop dead PowerPC PCI code.
    
    Also add a warning for anyone still using legacy PCI code.

commit 99583b43a9a202d047ff417d47485e4c0e0c9670
Author: Jie Luo <clotho67@gmail.com>
Date:   Sun Aug 17 23:13:22 2008 +0200

    glx: avoid possible NULLptr deref, fix #16884

commit 421b7e8f12083e9518fa7deda968a2f73c9a0006
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Sun Aug 17 19:57:02 2008 +0200

    exa: fix assert logic thinko from 361a9eb953aaa38f8ebc057185de29e50f9eef26
    
    - I guess failing PrepareAccess is rare, since this a 3 year old bug.

commit 1e62e773273539352bc21b2da5262678dd3fc7df
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Aug 15 15:19:44 2008 +0930

    Require inputproto 1.9.99.4

commit 609c04b62bdb0e86f33860069033c7142eecf210
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Aug 15 14:51:59 2008 +0930

    dix: stick a warning in about loss of subpixel precision.

commit de1573172ad2c2e98c101727930a468213295783
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Aug 13 13:11:44 2008 +0930

    Backport device properties to XI 1.5 instead of XI 2.0

commit 8b9ed7dec2954d4890ddcc7c874fc0832b16495a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Aug 14 09:08:14 2008 -0700

    XQuartz: Fixed a stuck modifier key bug.
    (cherry picked from commit eeb6e5a9e98dcf045ec230f160d5992080dceba6)

commit 1770c85374883229ec5e9685229b2333e62705e6
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Aug 14 07:32:37 2008 -0700

    XQuartz: Made 3-button mouse simulation a little more consistent.
    (cherry picked from commit d207b037d2ae213369e5627a17d8831c9bc16ad8)

commit f51f77d25e69b51fa3fd557ffdb5573b61759706
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Aug 13 19:09:05 2008 -0700

    XQuartz: Reverted "Control" text to be accurately "Command" in the input prefs.
    (cherry picked from commit b287c481e1cbe77ff84d10a708505f148a0c8434)

commit 04956b80431169e0ae713a3e6ba4cdc157ce3a66
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Aug 9 10:07:32 2008 -0700

    Transport/Apple: Add TRANS_NOXAUTH to incoming connections when the listener is flagged as such
    (cherry picked from commit ba4a7924261070ad0aff7211b7a1c9581fad4646)

commit e6813e8de65eee854bbffe6ab0f8ba158f43b10b
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Wed Aug 13 14:24:45 2008 +0930

    Xi: byte-swap device property requests.

commit 0ce687634fa5e0d955e896a0d0d5f584a4cfd1a4
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Aug 13 17:28:08 2008 -0400

    Eviscerate save-under support.
    
    Use a compositing manager already.  Plus I really wanted to use 'eviscerate'
    in a commit message.

commit f456f32cd97684052cab4712e7f4c827132c554b
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Aug 13 16:21:28 2008 -0400

    Build fix.

commit c1e9b7dc6f4600fe6c301aecd7d67461cb884df0
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Aug 13 14:13:55 2008 -0400

    Sledgehammer off the DRI2 build system.

commit 544bfd06663ff71bc5275459cf74a3557530544f
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Aug 13 11:09:54 2008 -0400

    Remove xf86Version.h and related API.
    
    We haven't meaningfully been API-compatible with xf86 modules in ages,
    let's stop pretending.

commit 139c3ab7b754dc425a09d5f7b6d2a8fb2b88138a
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Tue Aug 12 17:49:49 2008 +0930

    Xi: return the state from the correct keyboard in QueryDevicePointer.

commit 998375f4154b000f75b2bafd4e276c0237d24dc7
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Tue Aug 12 17:49:16 2008 +0930

    dix: remove superfluous check.

commit 9f9268821b13038556fbc029df54ab0e9b2aa77f
Author: Mathieu Bérard <mathieu.berard@crans.org>
Date:   Mon Aug 11 13:52:38 2008 -0400

    The smart scheduler is not optional.

commit 2e2ce817ce404a5e000c9750fa96f656fed370b8
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Aug 10 23:07:46 2008 +0200

    Move strcasecmp(), strcasencmp() and strcasestr() prototypes to os.h
    
    And make sure os.h is included in files that use it.

commit 02efa78ce2da470b252289ff2af598d06bc84ece
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Aug 10 18:29:35 2008 +0200

    add libXinerama to the list of dependencies.
    
    Now that panoramiXext.h is installed bt libXinerama, it becomes required
    to build Xext.

commit be2210b69defa225d8bc4bb90d94bfd740ef8b1f
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Aug 9 23:43:50 2008 +0200

    remove OpenBSD/amd64 specific mtrr API.
    
    The old code never worked anyways and was removed from OpenBSD.
    OpenBSD/amd64 4.4 and later support mtrr with the same API as
    OpenBSD/i386.

commit 6e33e6f355f7f04e77a165eb67b1414724c1fba3
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Aug 9 23:43:03 2008 +0200

    Move string comparaison functions to from dix/ to os/.

commit 5968634996c08656a0c5e2fa35705cf7afac87e6
Author: Dave Miller <davem@davemloft.net>
Date:   Sat Aug 9 16:45:59 2008 +1000

    glx: fix crash in driGetConfigAttribIndex
    
    Don't access GLboolean via int pointers

commit 4212599c922373a224d2235c74672a3a3aa8e0b1
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 8 12:17:58 2008 +0200

    EXA: Make sure damage tracking code is inactive if the driver manages pixmaps.
    
    It was always supposed to be like that... It was only recently pointed out (in
    a rather convoluted way) that it was not in fact the case.

commit 073116cc44859e96374cde46325df8540621d5ee
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 8 12:15:27 2008 +0200

    Remove commented out lines that make automake 1.9 puke.

commit 666781cd9b62207e45eebd3eb55a930f3a345f72
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 8 01:41:28 2008 -0700

    Removed rogue #include
    (cherry picked from commit af238e99da45a4dd8d8cbb6564bb8d0a3d79d590)

commit 4a0947bf06deacc3ae716730cfbbbeda1311bae3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 8 01:53:36 2008 -0700

    XQuartz: Disable the Xquartz AIGLX for now since it doesn't even compile any more...
    (cherry picked from commit 4545ba91e9d6ad62b6cafde3c73a672d3ded91a2)

commit 5accc9b3ce1af539150d59b1800b66783fd3e947
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Aug 8 00:19:41 2008 -0700

    XQuartz: Re-added deprecated code fallback failsafe for keyboard layout on Leopard with some debugging spew.
    (cherry picked from commit 5854e712e9ebc210d2f8de6f5d4fb650944f314a)

commit 465a9bb96e8a90e53e655b3245e22910201786d7
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Aug 8 17:37:06 2008 +0930

    dix: don't try to create events if we don't have a screen. #16898
    
    A NULL screen may happen during server shutdown, when the output has been shut
    down but the devices still generate events.
    
    X.Org Bug 16898 <http://bugs.freedesktop.org/show_bug.cgi?id=16898>

commit d684f5760f40b682a8b879641300abe689a263c5
Author: Peter Hutterer <peter.hutterer@redhat.com>
Date:   Fri Aug 8 14:18:01 2008 +0930

    xkb: actually initialise sli before using it.

commit e00cd54c1ac57ea6e7767e90592200f343d9d08a
Author: Simon Thum <simon.thum@gmx.de>
Date:   Thu Aug 7 11:06:21 2008 +0200

    dix: remove misleading comment in ptrvelo.c
    
    Signed-off-by: Peter Hutterer <peter.hutterer@redhat.com>

commit 6ca34549b89e73e3e0ec3cb7585686b880534cef
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Aug 7 16:27:57 2008 +0930

    dix: remove obsolete FIXME comment.
    
    Thanks to Simon Thum for pointing this out.

commit 2c3645581ee3f180d34e32c8016d5e4e1af4dca4
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Aug 7 11:55:10 2008 +0930

    dix: SetModifierMapping should only apply to the ClientPointer and it's SDs.

commit e1b286d495b760cf67ddf936eca11da50fba847a
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Aug 6 09:42:32 2008 +0200

    dix: simplified debugging helper for pointer acceleration
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit d95136e1510a48cc3ad066d880d56061fc6a42ee
Author: Simon Thum <simon.thum@gmx.de>
Date:   Thu Jul 31 00:39:03 2008 +0200

    xf86: don't replicate dix defaults for pointer acceleration
    
    the defaults from InitVelocityData() or hypothetic driver-side changes
    are now respected, not overridden.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 4f333d53510b82db57cfac1bfea22422cbb7be79
Author: Simon Thum <simon.thum@gmx.de>
Date:   Thu Jul 31 00:33:38 2008 +0200

    dix: simplify velocity tracking filters
    
    prefer fp-mul over fp-div and remove rather pointless check
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit bf084a0769eee36ff799e5e5f2d1e875c1ebcc51
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Aug 6 13:36:43 2008 -0700

    glcontextmodes.[hc] were not added with the removal of the meas symlinks patch.  Copied from mesa head 2008.08.06.
    (cherry picked from commit 409e1dd1e9524b5c1a1ae58a759da77e587e3780)

commit e72b1d21e44712e90595b1c31e67db6786d0d1bd
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Aug 6 10:23:31 2008 -0700

    XQuartz: Now properly disable xauth checking on launchd socket and mostly fix the xinitrc / launchd race condition

commit d1b96cdea96f5321e0d254abde81cdaab2eca979
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Aug 6 10:37:32 2008 -0700

    Add an xf86PrintBacktrace wrapper around xorg_backtrace to aid driver debugging.

commit 26d31ad1c7f4c550d73419ecf76912d844186b30
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Aug 5 15:14:08 2008 -0700

    XQuartz: Added code and made comments more helpful for debugging first-client-auth bug.
    (cherry picked from commit a8f0d32216e321b8ae6da182be9b1ea792f6e004)

commit 0ef3243fb59fa993a7a07a08debbd4329254c265
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Aug 5 18:45:54 2008 -0700

    XQuartz: More fd handoff cleanup.
    (cherry picked from commit 199d2dcb708c9f9d6b9ede149ea0fe9fba6c007c)

commit e7dd3dd8f311d3872e0c4c9c2ca22c00f9d11f59
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Aug 5 14:33:03 2008 -0700

    XQuartz: Fixed some errors / typos in the preferences pane.
    (cherry picked from commit e1e0c398bbb50394b164394e1f1870016489c25b)

commit 6836f9aac801c3add0ae4aece05b32e85a0c5f85
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Aug 5 14:24:25 2008 -0700

    XQUartz: UI Cleanup.  Removed done/cancel buttons from Applications->Customize
    (cherry picked from commit d3157ca45c1f88edd040d721c1e944b9d2c090aa)

commit c06e27b2f6fd9f7b9f827623a48876a225264132
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 16:42:15 2008 +0930

    xkb: ProcXkbSetDeviceInfo should work on all attached SDs.
    
    If called with XkbUseCoreKbd, run through all attached SDs and replicate the
    call. This way, we keep the SDs in sync with the MD as long as core clients
    control the MDs.

commit d9ca9819e975e0f6832a320f8be5958e5d942f85
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 16:41:40 2008 +0930

    xkb: ProcXkbSetGeometry should work on all attached SDs.
    
    If called with XkbUseCoreKbd, run through all attached SDs and replicate the
    call. This way, we keep the SDs in sync with the MD as long as core clients
    control the MDs.

commit 5ba87c3327786dd7c6e8e265a19c858e8faae8fd
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 16:41:08 2008 +0930

    xkb: ProcXkbSetNames should work on all attached SDs.
    
    If called with XkbUseCoreKbd, run through all attached SDs and replicate the
    call. This way, we keep the SDs in sync with the MD as long as core clients
    control the MDs.

commit 7e45c80204e06562d4475741caea65bc8758f3c7
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 16:40:25 2008 +0930

    xkb: ProcXkbSetNamedIndicator should work on all attached SDs.
    
    If called with XkbUseCoreKbd, run through all attached SDs and replicate the
    call. This way, we keep the SDs in sync with the MD as long as core clients
    control the MDs.

commit a609dbed7cf854a6ee9d33c7cf45615db9da1fb9
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 16:38:59 2008 +0930

    xkb: ProcXkbSetIndicatorMap should work on all attached SDs.
    
    If called with XkbUseCoreKbd, run through all attached SDs and replicate the
    call. This way, we keep the SDs in sync with the MD as long as core clients
    control the MDs.

commit e8c2a3d7c996cb41c4c44ba67acae5ff9438fc06
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 16:37:39 2008 +0930

    xkb: ProcXkbSetCompatMap should work on all attached SDs.
    
    If called with XkbUseCoreKbd, run through all attached SDs and replicate the
    call. This way, we keep the SDs in sync with the MD as long as core clients
    control the MDs.

commit 3c7740aa8f21c1fda4190a1bf5d6ce089db5e35b
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 16:36:00 2008 +0930

    xkb: ProcXkbSetMap should work on all attached SDs.
    
    If called with XkbUseCoreKbd, run through all attached SDs and replicate the
    call. This way, we keep the SDs in sync with the MD as long as core clients
    control the MDs.

commit 31afd51dd49c0d0db2465fbc987044fab8b89f22
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 16:32:37 2008 +0930

    xkb: ProcXkbBell should work on all attached SDs.
    
    If called with XkbUseCoreKbd, run through all attached SDs and replicate the
    call. This way, we keep the SDs in sync with the MD as long as core clients
    control the MDs.

commit de4936d7482f820728efeef338a2041c7a9186d2
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Aug 4 20:11:45 2008 -0700

    XQuartz: Fixed proper processing of tablet button presses
    (cherry picked from commit ca0babafa4e9cf1b67ec460655bffe569ac9c3e9)

commit b70a8ba3dc52b277194ab267a101a3fd15062685
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Jul 15 17:48:29 2008 -0700

    XQuartz: Nuke Sparkle.
    (cherry picked from commit 4991f54a8d84a9a8df89a99dbfc09391195578f8)

commit 30851efdd4313506e92aeb6d3e5099dea99ab99c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Aug 5 12:54:51 2008 -0700

    XQuartz: Fixed first-client-can't-connect bug
    Readded the old exec() server startup path for regression testing.
    Don't use the dynamic fd addition code since it's not quite working correctly.
    (cherry picked from commit 08f3fe153edc5ab4ca010e8ce82d5c3fc0ddb72c)

commit 277a74bcbb7d0a93c4f2e1de11daabd8c5f93ee8
Author: Tomas Carnecky <tom@dbservice.com>
Date:   Mon Aug 4 23:26:00 2008 +0300

    Redefine clients as a fixed array
    
    This removes yet another xalloc() each server generation. Also, I
    couldn't find the corresponding xfree() so I guess that used to be a
    memory leak there.

commit 5532d63488ec45953ff7f925cfb4f87adb3b04a0
Author: Tomas Carnecky <tom@dbservice.com>
Date:   Mon Aug 4 23:06:08 2008 +0300

    Redefine WindowTable as a fixed array
    
    Instead of xalloc'ing it every server generation. The array is always
    the same size (MAXSCREENS), anyway.

commit e882ee7056f370e0619d137b4ec3973ecb4e3479
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Jul 29 17:52:11 2008 +0300

    EXA: Remove unnecessary #includes
    
    There wasn't actually any font code here, so no problem.

commit 6c1bb64c6f2efd81856ca00591df37916713b142
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Aug 4 15:19:45 2008 +0930

    xkb: break up XkbCopyKeymap into bite-sized chunks.

commit 3c6a9c531f673b7a0cb9ca01860b4dbe79686363
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 15:52:07 2008 +0930

    config: protect against potential out-of-bounds indexing.

commit 92c51b183c2ff06361dad7f918daed6577ba4935
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Aug 1 14:24:54 2008 +0930

    config: support type strlist for XkbOptions property.
    
    For backwards compatibility with server 1.4.

commit 35b14519b4a3158592a089170ec039bbc219603e
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Jul 29 12:59:57 2008 +0930

    config: add parsing for input.x11_options.XkbOptions. #16874
    
    X.Org Bug 16874 <http://bugs.freedesktop.org/show_bug.cgi?id=16784>

commit d762c08aebe3b7e8c88e2e7a6fcf66057a21b403
Author: Simon Thum <simon.thum@gmx.de>
Date:   Mon Jul 28 14:07:48 2008 +0200

    dix: export driver-side functions for acceleration
    
    also add additional safety for accel driver api
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 18e9fd69fe01298d825b46415b9c6bd86c75dfe5
Author: Simon Thum <simon.thum@gmx.de>
Date:   Tue Jul 29 10:07:43 2008 +0200

    dix: use average of pointer accel profile
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 25882af6d3359e5ae42c927c555f5b257ba5665c
Author: Ivaylo Boyadzhiev <iboyadzhiev@nvidia.com>
Date:   Sun Aug 3 18:55:12 2008 -0700

    Fix a longstanding XAA CopyPlane bug.
    
    TmpBitPlane is a plane mask, not a plane index.
    
    Signed-off-by: Aaron Plattner <aplattner@nvidia.com>

commit d980913f3145cdc34baab27ff818c9631c4c8571
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Aug 1 16:15:04 2008 -0400

    Erk.  Actually check all the BARs, not just the first.

commit 82d51e6df2bf677bdf24376092bcaa79b534f6e5
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Aug 1 13:17:55 2008 -0400

    Silence the "No matching Device section" warning in some harmless cases.
    
    If the device doesn't have any BARs then it's just a stub for some
    lame operating systems that need one PCI device per output for
    multihead.  No point in warning about it.

commit 9643e8d3482a35d355a243db7aa397ad47f29be0
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Aug 1 11:35:47 2008 -0400

    Handle XGI cards in autoconfig.
    
    It's all a bit wonky since both sis(4) and xgi(4) claim to support the
    Volari Z7 and V5/8 (0x0020 and 0x0040), so let's side with xgi(4), why
    not.  Note that the V3 (not V3XT) identifies itself as a trident chip.

commit 63bdd4c27d47323b3282bf0b6eaecae91c79b45c
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 31 17:31:36 2008 -0400

    Unifdef XIDLE.
    
    Seriously how was this still here.

commit 8d214bc26f9b7ab6a5c54d7749cd4b6811cb0b96
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 31 15:46:52 2008 -0400

    Document more of the OS and library assumptions.

commit 2198e237b2ed85857c671eee2cd04dfc032befee
Author: Tomas Carnecky <tom@dbservice.com>
Date:   Thu Jul 31 13:46:06 2008 -0400

    Cosmetic cleanup to Xvfb/Xdmx configure check output.

commit 148175fb8b365dcf00b13539b3f03ce33f3df707
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Jul 31 16:54:33 2008 +0200

    EXA: Do still return FALSE if the driver PrepareCopy hook failed...
    
    Thanks to Stuart Bennett for pointing out the problem on IRC.

commit 68fd6604a15b653d1fa244633eaaee9608a03ab3
Author: Tomas Carnecky <tom@dbservice.com>
Date:   Thu Jul 31 10:03:56 2008 -0400

    OutputPropertyNotifyMask is a valid thing to select for.

commit 64ebeeb5265a4c425b9397fdc86a6d81521a856e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Jul 31 10:58:52 2008 +0200

    EXA: Fix exponential growth logic for GXcopy tiled fills.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=16908 .

commit 8405c25d9ddbfddb6b155a436f07ccad689e53bd
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Jul 31 10:55:44 2008 +0200

    EXA: Simplify exaFillRegionTiled() control flow.
    
    Also only call REGION_TRANSLATE() when necessary.

commit b37b1e66996f8335dafc97b12d25aaec452b931e
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Jul 30 18:48:27 2008 -0700

    Make shmint.h part of the SDK.
    
    This includes ShmRegisterFuncs, ShmSetPixmapFormat, fbShmPutImage, and
    ShmRegisterFbFuncs.  Note that fbShmPutImage was already exported.

commit a3afa6f2fb80489f7b6a88d12def09281d32ed94
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Jul 30 18:30:37 2008 +0200

    EXA: Optimize GXcopy tiled fills.

commit 37087bc10630ee7740df1369b3e56a44fd2ad2b0
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Jul 30 18:27:33 2008 +0200

    EXA: Replace open coded CopyArea logic with GC op call.

commit bb2cacd33eb85f39b9e7fa554545611957df677d
Author: Xavier Bestel <xavier.bestel@free.fr>
Date:   Tue Jul 29 13:06:10 2008 -0400

    Cosmetic fix to EDID decoding.

commit a70754a9fdb019d85fbfca1898699f3c6f609fdd
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Tue Jul 29 14:16:25 2008 +0100

    require inputproto 1.9.99.3

commit 591ef3c047ab3597fef9d687205e99c254ff2040
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Jul 29 10:00:01 2008 +0930

    Xi: ChangeDeviceControl presence events should set the appropriate devchange.
    
    Requires inputproto 1.4.4 or higher.

commit 25dd5ce0770c5ff91a79c12223fd4af52759900b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jul 28 12:33:58 2008 -0400

    Add atKeynames.h in hw/dmx/input and drop evil cross-ddx #include.

commit e39a16aa58456aaecee54edc64f189c958db0902
Author: Julien Cristau <jcristau@debian.org>
Date:   Sat Jul 26 16:35:19 2008 +0200

    xfree86: don't output a spurious newline to the log when loading a module

commit 2eaed4a10fe5bf727579bca4ab8d4a47c8763a7d
Author: Julien Cristau <jcristau@debian.org>
Date:   Sat Jul 26 15:35:42 2008 +0200

    xfree86: use xorg.conf input devices if there is no ServerLayout
    
    If xorg.conf has no ServerLayout section, use the first mouse and
    keyboard sections as core devices, even with AllowEmptyInput.

commit 805f28e96ceb20bc53792ae3cf17f9c26564ae0e
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Jul 23 12:10:52 2008 +0200

    some trivial changes regarding C compat, indentation, etc.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 3209bd21d00b8673d321f70afb65720588ddacb3
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Jul 23 12:06:34 2008 +0200

    xfree86: perform pointer accel scheme selection by name, not number
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit a17cb29f5acdfcdeac929d8c6be3600d44d038ef
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Jul 23 12:03:17 2008 +0200

    dix: preparation change: make runtime exchange of filter chain safe
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 1a9f9ac50f2b0db735789905cc29572a50c8ae4c
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Jul 23 11:49:36 2008 +0200

    dix: optimize precision in device velocity estimation
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit c184b91d9aa72031c2bac9f379f56633957ded30
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Jul 23 11:33:25 2008 +0200

    dix: improve the driver interface to predictable pointer acceleration
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 87aa5298576ed335ac31347e14fb30430288157a
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Jul 23 11:28:09 2008 +0200

    dix: introduce defines for accel profile numbers
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 4e32e6fb38d19c9993de86188e4f7e7916a028e2
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Jul 23 11:10:22 2008 +0200

    dix: rename classic accel _scheme_ to lightweight to avoid confusion with
    classic accel _profile_
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit d40183c665d458ac0a6e7952fbe986776a17fda7
Author: Simon Thum <simon.thum@gmx.de>
Date:   Wed Jul 23 09:28:06 2008 +0200

    dix: add legal statements to ptrvelo.{c|h}
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit ec10eccd56be8b947cd63cae0687b8319857fe60
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jul 28 09:33:04 2008 +0200

    GLX: Unreference drawables bound to the old context, not the new one.
    
    Apart from the obvious reference counting issue, this fixes
    http://bugs.freedesktop.org/show_bug.cgi?id=16867 .

commit 6ab8d6010adfd5ad6f1e1094a26c84f0aff934b1
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jul 28 09:32:59 2008 +0200

    AIGLX/DRI1: Pay more attention to return value from DRIGetDrawableInfo().
    
    Could have crashed otherwise if the num(Back)ClipRects variables referenced by
    the caller weren't pre-initialized to 0.

commit b3e981c9d4ff31263a43b47f83cf8db4c2b5aeff
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jul 28 09:32:54 2008 +0200

    Fix Makefile.am crack.
    
    Looks like an artifact from early modularization.

commit 3575d9584edf35ec1720bc3755b6576a56613685
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Fri Jul 25 16:46:44 2008 +0930

    config: note that HAL options must be strings.
    
    Only strings are parsed by the server, all others are ignored. Doesn't matter,
    specifying int options as strings works fine anyway.

commit 54651ff5ec54f4c621e060b19f31d77d519ef158
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Jul 24 17:41:48 2008 +0930

    xkb: remove superfluous inputInfo.keyboard treatment.
    
    Really not necessary, we can just walk the list and spare us the special
    treatment of the VCK.

commit 70bd8261223366dae9dfdbb999691328d85f093c
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Jul 24 17:38:16 2008 +0930

    xkb: use PickPointer/PickKeyboard in _XkbLookupAnyDevice.

commit 47160edec7f0d9129576d83f1593a5549879a893
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Jul 24 12:12:45 2008 +0930

    xfree86: warn some more about potential missing input devices.
    
    Put out a warning if xorg.conf has InputDevice sections, but these aren't
    referenced in the used ServerLayout. This is only performed if AllowEmptyInput
    is enabled.
    The reason behind this is that the server used to auto-add the first
    mouse/keyboard sections if none where referenced. Now, with HAL and AEI
    enabled by default, setups that relied on this auto-adding break and are left
    without input devices. The least we can do is warn them.

commit f30b0823dbfc5902e54b337b5b6b570ebf216584
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Jul 24 09:56:00 2008 +0930

    xfree86: if AllowEmptyInput is on, warn the user that we rely on HAL now.

commit ad4cd2e241691427689591f7769a1184c8c1c7f5
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Wed Jul 23 17:40:28 2008 +0930

    xkb: don't send core events on SlowKeys.
    
    Core events don't happen until later in the DIX, so pump device events down
    instead. This makes modifiers work again when SlowKeys is enabled.

commit 7d9dece74fc2bf130ceb8818ced5d9e3ac526900
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jul 21 22:12:45 2008 +0930

    dix: fix up enter/leave system once again.
    
    Two corrections
    1. the "detail" field has NotifyVirtual, etc., not the "mode" field. This was
    a clear bug.
    2. don't set/unset the flags for NotifyGrab or NotifyUngrab. Clients are
    expected to deal with multiple enter/leave events per window if the mode is
    not NotifyNormal.
    
    Testable with TCL menu boxes (such as used in gitk):
    tk_optionMenu .menu globVar Val1 Val2 Val3 ValJunk
    pack .menu
    
    Thanks to Michel Dänzer for pointing this out.

commit 2ce434f54bc0d6050ef115e310df62c035e84bf2
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jul 24 18:44:16 2008 -0400

    Clean up unused definitions from glx headers.

commit ae67508392261ae47858692668a0c192ef4a9d7b
Author: Mathieu Bérard <mathieu.berard@crans.org>
Date:   Fri Jul 25 10:05:30 2008 -0400

    Fix AddExtension now that CloseDownProc can be NULL.

commit eff25430b4a391409e39337962ff7697165d23c7
Author: Daniel Drake <dsd@laptop.org>
Date:   Thu Jul 24 21:06:34 2008 -0500

    Don't abort if swrast library is not present
    
    GLX is enabled by default, but the current swrast behaviour causes X
    to abort with fatal error if the swrast dri library dlopen fails.
    
    Handle the case where the swrast library is not present, and do not
    register the GLX extension unless at least one screen has a usable
    GL provider.

commit 62b5690415786c4a6e8bac464aa8db578beb74f5
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 24 16:13:10 2008 -0400

    Remove some more MEMBUG garbage.

commit 036822584b26854e2f486f1bea84d8d19d9324de
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jul 24 16:03:58 2008 -0400

    Drop xf86CommonSpecialKey() and atKeynames.h
    
    These are AT scancode specific, should really be part of xf86-input-keyboard.
    Remove from server, move to xf86-input-keyboard.

commit f3ff2386016ced7e677817e9761a535f0f385813
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 24 15:28:07 2008 -0400

    Sync is built-in and mandatory.

commit 3fcf4d3eb89fecaa2be7b5ac4933b693c9c3d97e
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 24 15:09:05 2008 -0400

    XC-MISC is built-in and mandatory.

commit 9757106bba8f7bea99c5211817fc6b5fde4e6f66
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 24 14:59:14 2008 -0400

    Remove all empty extension reset hooks, replace with NULL.

commit 6bcde69585fcc8f8dbfe81c115649f19274922fa
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 24 09:13:26 2008 -0400

    Allow extension closedown hook to be null.

commit f65c50c4e902c7b5619fb7bbee8462434d809ec7
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 24 09:07:42 2008 -0400

    Bigreqs are built-in and mandatory.

commit d6228cb22aa89b90834d80d98b91862c1fc01b54
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 24 09:00:22 2008 -0400

    Shape extension is built-in and mandatory.

commit 990fc643ae90c034187707e7de414d80640ec6da
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jul 24 15:02:40 2008 -0400

    Ugh, remove trailing backslash.

commit 806e8cf3c01f955411445a7095f0957ea9a9b22a
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jul 24 14:25:24 2008 -0400

    Remove SPARC muldiv code.  Was used by ELF loader, which is no more.

commit dff1a609bb4c0171e2abb92b54c16e739aec9ca2
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jul 21 18:29:08 2008 -0400

    Drop the glx resize hook and stop chaining PositionWindow.

commit 24dddcd0ef845f4120f8588dc63ec754338ffac8
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jul 21 18:16:38 2008 -0400

    Drop unnecessary linked list of contexts from GLXDrawable.

commit 5c1e254cc85e9ad409b0217780545c29f62d5feb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 24 03:01:45 2008 +0300

    Remove xorgcfg
    
    Us shipping a GUI configuration utility (especially as part of the
    server!) was pretty pointless.  There was pretty much nothing it could
    configure which wasn't already runtime adjustable: if you could get a
    server up with functioning input and output, there wasn't much xorgcfg
    could do for you.
    
    Au revoir.

commit b74927c3844bc2650d95f604fe782d95ade067f1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 24 02:42:13 2008 +0300

    Remove ioport
    
    I don't know why we would possibly be shipping this.

commit 8c0518379089d230060e9ff672ba5eba34198325
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 24 02:40:02 2008 +0300

    Remove kbd_mode
    
    We only built this on BSD and Solaris, and if such a tool is generally
    useful, ship it with the OS.

commit 0d785bd635d135fcd67b4c9c88f5c8217e9b9240
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 23 13:43:09 2008 -0400

    Unifdef hpux.

commit 5035741fd4cb4918957064a8c9ded9c7c31b4e22
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 23 13:38:38 2008 -0400

    Unifdef __osf__

commit bd8bd2c700e6ccac53b47c45766c0a3a08a59344
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 23 13:36:35 2008 -0400

    Unifdef AIX.

commit 5f5eed7f790db2f0ae0cd0f5c5ee5a312079c0b0
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 23 13:27:24 2008 -0400

    Unifdef DGUX.

commit 856db05b58b71c5ff22af727aba435a8c356abfa
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 23 13:25:37 2008 -0400

    Unifdef sgi.

commit ab6557fcd4bb4fd580bb1727dc8764f7dfb2cb30
Author: James Cloos <cloos@jhcloos.com>
Date:   Wed Jul 23 13:17:33 2008 -0400

    Optimize commit 331cc3f0799a54910a99484264f76569beeee55a
    
    Reorder to minimize comparisons

commit b699364b1c807d29666633523f5b5a608a07a8ee
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 23 11:43:59 2008 -0400

    Unifdef VXWORKS.

commit 2e3c43d306616f8accdeaffec9c108ba88324805
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 23 11:35:06 2008 -0400

    Assume __GNUC__ >= 3.
    
    gcc 3.0 was seven years ago.  Get with the times.

commit 0c1c9d75089aac0cf673820db83801d3cab5bfc7
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 23 09:11:40 2008 -0400

    Remove some broken debugging scaffolding.

commit 0ff5bc404842f7264a8e77f9e2a0bd8d0b051356
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 23 09:09:11 2008 -0400

    Unifdef QNX.
    
    Again, hasn't worked since at least 7.0.

commit 331cc3f0799a54910a99484264f76569beeee55a
Author: James Cloos <cloos@jhcloos.com>
Date:   Wed Jul 23 00:01:43 2008 -0400

    Fix LookupColor
    
    Using strncasecmp(3) with the lenght of the user-supplied colour name
    will result in a false positive when the db key starts out with the
    same string.
    
    Eg, blue will also match BlueViolet (aka blue violet).
    
    Since the shorter strings occur first in the database, avoid such
    errors by treating a 0 result from strncasecmp(3) as a positive result
    when the key’s length is longer than the supplied string’s.

commit bc3c03a3f3c091026310f0e8d55321cec570a0c5
Author: Pierre-Loup A. Griffais <pgriffais@nvidia.com>
Date:   Tue Jul 22 17:34:37 2008 -0700

    Don't return BadAlloc when trying to set a PictureFilter with no parameters when a filter with parameters was previously set.
    
    Signed-off-by: Aaron Plattner <aplattner@nvidia.com>

commit 92fdd01d8e46dd4b41338754e1a34e9d3c387d4a
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Wed Jul 23 01:07:29 2008 +0200

    [Xephyr] various X86_64 build cleanups

commit 5de1867fbb0a336ff3fdc92cbf734849f6111b1b
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Wed Jul 23 01:00:26 2008 +0200

    [Xephyr] Fix #15839
    
    Make sure the _XSERVER64 macro is not defined in Xlib client code.
    That macro is meant to be define only on pure server code, when necessary.

commit d692e1a63e4718d3b6d486582c19f30259b813a7
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jul 22 10:21:22 2008 -0400

    Build fix.

commit d8937ce58137ad675f1ead8f2345eaed0ca63c8a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Jul 22 16:52:50 2008 +0300

    autogen.sh: Pass --force to autoreconf
    
    Ensure we get all files installed when running autoreconf by passing
    --force to overwrite previously-generated ones, which fixes running it
    from tarballs.
    
    Also revert Peter's local changes to pass arguments to configure, all of
    which are the default now anyway, AIUI.

commit 880625eef5d8b168df3e42836fa1b763c51a91b5
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Jul 22 14:34:28 2008 +0930

    xfree86: plug memory leak, free driver's private data when deleting the device.

commit 67d7821ae783d3f123b6ba7203abf847374a1e36
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 21 11:48:24 2008 -0700

    dix: reset potential lastSlaves when disabling an SD
    
    Unplug a mouse, then warp the pointer and the warp pointer code will try
    to update the position of the last slave device associated with the
    master. That pointer will be stale and the X server will crash.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 8c8c4fdf34bfc9d54ebea99fb0af14cad167b4a0
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Jul 21 16:39:43 2008 -0400

    EDID: Various reduced blanking fixes.
    
    - Use a single common function to compute reducedness.
    - Call it from both the old-school and new-school mode validation paths.
    - Define monitor reduced-blanking support in accord with EDID 1.4.
    - Attempt to filter RB DMT modes away from the "standard" EDID pool if
      the monitor doesn't claim RB support.

commit e8cd77e14d3fa40e5cf1174acaf925362b2e0a11
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Jul 21 16:15:03 2008 -0400

    EDID: For standard timing blocks, prefer DMT timings if they exist.

commit 6ba70091e2325f534a37ef185fea568d2c43edec
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Jul 21 15:40:34 2008 -0400

    EDID: Correct DDCEstablishedModes to conform to DMT.

commit facb255fa9267e343cbc91f841f1b64e5dc99e98
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jul 21 16:05:53 2008 -0400

    Need to unref pixmaps backing pbuffers too.

commit d5ae85b5b722821499d5796cf0973ecb6ec125f1
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Jul 21 15:28:50 2008 -0400

    Fix embarrasing GLXPixmap leak.

commit c74ddc87c995c73109827717a49f14846c7c4024
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Jul 21 15:10:20 2008 -0400

    EDID: Add quirk to clamp max pixel clock to single DVI link speed.
    
    On some panels you end up with all of:
    - No range descriptor
    - No description of physical connectivity
    - Native panel size mode in standard timings list
    
    In principle you're supposed to use the timings for that mode from the DMT
    spec, but in practice the DMT spec has timings for both 1920x1200 normal
    and 1920x1200RB, and the standard timing field gives you no way to
    distinguish.  And, of course, the non-RB timings don't fit in a single
    DVI link.

commit 55803473adb0a0975fea81035402bf6b4ec0e30b
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Mon Jul 21 10:32:57 2008 +0100

    Bump inputproto to 1.9.99.2 for XI_PROP_ENABLED

commit 69de40ee45a6e046be79b735cd1540f63b87aee9
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jul 21 17:05:04 2008 +0930

    dix: shift the duplicate button mapping check to ProcSetPointerMapping.
    
    XI 2 allows two buttons to have the same button code.

commit 0dbfe0ebc69c307c0626ba824de15d03de1251d4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Jul 21 03:50:15 2008 +0300

    Revert "Try nvidia before nv under the assumption that people who install it usually want to *use* it, too."
    
    Per mailing list discussion.
    
    This reverts commit 66fb253082ea42179180303393e48846208987fa.

commit 6b5206e7cb8e5279816b48f014d47d3f03f16972
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 18 15:38:10 2008 +0300

    dix: Remove insane BC hacks
    
    If your DDX needs a 1bpp mode and doesn't set it up, your DDX is
    incompetent.

commit 66fb253082ea42179180303393e48846208987fa
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Jul 8 02:39:00 2008 -0700

    Try nvidia before nv under the assumption that people who install it usually want to *use* it, too.

commit 376620460ec50cb98a1e3746629b7f73c2e926d7
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Jul 20 16:53:01 2008 +0200

    Drop some more configure-generated files from the tarball

commit 35346a42271dfe65fe0a86dc522701028bf6daf6
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Jul 20 16:40:59 2008 +0200

    Don't put xf86Build.h in the tarball (bug#9277)
    
    This file is generated by configure, we don't need to ship a stale
    version in the tarball.
    X.Org bug#9277 <https://bugs.freedesktop.org/show_bug.cgi?id=9277>

commit 43c6d5a6f83dfdf8596c8d0faf8ac1a64f73a8c1
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Jul 20 16:30:24 2008 +0200

    distcheck fixes
    
    Still seems to fail because hw/xquartz has too long filenames

commit 92b0a04ffd630a89705fc73d587182a62c34cd84
Author: James Cloos <cloos@jhcloos.com>
Date:   Sat Jul 19 18:21:37 2008 -0400

    Fix compile failure
    
    This fixes a compile failure by ensuring that mouse-cfg.c
    can see the MTYPE_ constants.

commit 0b45ba488d8a3e901b83e445d17e7e9a67047b6c
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jul 18 10:54:10 2008 -0400

    Drop the FONTCACHE extension.
    
    This appears to have been dead code since X-TT was merged.

commit b85392e66b4cbfcc95897ac342f19ac8ab04d4cc
Author: Søren Sandmann <sandmann@redhat.com>
Date:   Thu Jul 17 23:10:11 2008 -0400

    Give priority to clients that are receiving expose and configure events

commit 3b687ffe1649449b3d182f5e7690274c6c96916a
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Jul 17 18:16:59 2008 -0700

    Make xstrcasestr prototype return value match the implementation

commit f7bfa4ae971b43c3ed81cc84e6d1e071c413f04c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 17 23:03:57 2008 +0300

    configure.ac: Remove non-existant directory
    
    Oops.

commit 16e40ecf43ea7df349e54f757db0223764d752ee
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 17 22:37:31 2008 +0300

    Remove dead code, useless #defines, et al

commit b0a99fb02bb7290266d7dddee4de0b9959fb3c52
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 17 21:42:17 2008 +0300

    configure.ac: Fix release date
    
    Instead of putting something that's always wrong, at least just put
    unreleased, which will be more obviously wrong if it's, well, in a
    release.

commit 711720650cc192022f0d91f5cf94292d48dbc891
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 17 21:39:46 2008 +0300

    Everyone has urandom
    
    If you don't have urandom, please just add a fallback to /dev/random,
    rather than building our own random generator.

commit 446fe9eecddd1337f9d5164dd7c301e1ba3dfe32
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 17 21:37:50 2008 +0300

    Dead code removal
    
    Remove a whole bunch of code that was never built, be it entire files or
    just dead ifdefs.

commit 0564b5454ac101d9e1218767bbbc2c2d9f3e0696
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 17 20:46:27 2008 +0300

    XFree86: Restore AllowMouseOpenFail usage text
    
    This was incorrectly stuck behind the XFree86-Misc define, so got
    deleted with the rest of misc: restore it unconditionally, as it should
    be.

commit 6c7c0ffeb71610ee00fc92b32fd2b1cc70383e38
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 17 20:45:01 2008 +0300

    KDrive: Delete rafts of unused code
    
    Most of this stuff was gone with the last real hardware drivers that
    used it.  Au revoir.

commit ad7a7ae290b05f007062161418c929d9cebeef78
Author: Julien Cristau <jcristau@debian.org>
Date:   Thu Jul 17 18:51:05 2008 +0200

    XF86BigFont is disabled by default
    
    3c19ec47b434d4ca84db58363cc053cc0b6aa413 did that,
    but pretended to make it 'auto'.

commit 058100fd19ed33a3100d18a9ca56fdcffac361b2
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Jul 17 09:35:30 2008 -0700

    Remove more Lynx leftovers
    
    A couple #if defined(Lynx) && defined(sun) had become just if defined(sun),
    resulting in wrong settings for Solaris builds, so they're now just deleted.

commit 47833eef35b20a2eb0a74782edbb0877fd491c4c
Author: Mathieu Bérard <mathieu.berard@crans.org>
Date:   Thu Jul 17 11:59:24 2008 -0400

    Drop a bunch of #ifdef Lynx.

commit af2138bfce34a28312b26106eaf9561d96712ee0
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 17 10:39:29 2008 -0400

    Nuke some ancient code for commandline-challenged OSes.
    
    This appears to have been dead code even in 6.7.

commit b9a0cee026361189dce63b87c738bd1d17e02830
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 17 10:32:35 2008 -0400

    Drop hw/xfree86/os-support/lynxos/
    
    This has never worked in any modular release, clearly no one cares.

commit d87f170bd99f7908eb14272ac42c8963d089f54f
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jul 17 10:29:52 2008 -0400

    Remove XF86Misc code from xorgcfg.

commit e3ff8501749209ee2dd324d35ae16e37510e0574
Author: Jie Luo <clotho67@gmail.com>
Date:   Thu Jul 17 10:27:24 2008 -0400

    Remove duplicate load of freetype font renderer.
    
    libXfont will do this for us in FontFileRegisterFpeFunctions.

commit 8441e26266701776f1416bec864ae2949355da76
Author: Jie Luo <clotho67@gmail.com>
Date:   Thu Jul 17 10:23:37 2008 -0400

    Remove freetype from the list of autoloaded modules.

commit 5d11ae7a69e3a7611c667be4628a15a4b514f72c
Author: Jie Luo <clotho67@gmail.com>
Date:   Thu Jul 17 10:22:29 2008 -0400

    Fix color lookup.
    
    OsStrCaseCmp returned inverted comparison sense from normal strcasecmp.

commit 478d3918d5b23fba1a7e3aaea766dfa785e5a0a6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 17 03:29:26 2008 +0300

    XFree86: Remove remnants of XFree86-Misc
    
    HandleMessage: dear god, no.

commit 95000e34df9ba066905430eb0eb39a616567183e
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 16 16:37:14 2008 -0400

    Build fixes

commit affec10635343668839994ea2bac16c1d4524200
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 16 14:44:33 2008 -0400

    Remove loadable font renderer support.

commit acc91054316208844742495dea0b80a860ef02bb
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 16 14:24:47 2008 -0400

    Remove font module support from xorgcfg.

commit a82e6efb7b9b2ab9a1597b002f375c5ee105e7f5
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 16 14:19:04 2008 -0400

    Remove the numVideoScreens xprintism.
    
    This was to account for cases where you had video and print screens in
    the same server.  Lunacy.  Leave the slot in ScreenInfo, but rename it,
    and stop looking at it.

commit 1a573e402ec112913a404f092b5b97d8d9210f94
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 16 13:41:53 2008 -0400

    Update the Allow*Grabs documentation for xf86misc removal.
    
    The API to turn the grab-break keys back off is gone now, so don't
    say it exists.

commit 55644d2f1cddf1777587f213ed581b6087d9fdad
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 16 14:23:34 2008 +0300

    Make --enable-debug usable again
    
    Enable region debugging causes assertion failures (should really look
    into that, though), and I don't need four messages every time I move my
    pointer.

commit 22e64108ec63ba77779891f8df237913ef9ca731
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 16 06:25:26 2008 +0300

    XFree86: Remove XFree86-Misc extension
    
    Its last remaining purpose in life has been destroyed by input
    properties.  Au revoir: it's been fun, by which I mean awful.

commit b8dd07f855c555af56cbf0f69df799f424da2cca
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 16 03:00:25 2008 +0300

    HAL: Remove grotesque open-coded strcasestr
    
    Not only was this pretty ugly, but it didn't even work on systems
    without strcasestr anyway, due to the define not being in dix-config.h.
    Lack of strcasestr is handled transparently with the version from
    FreeBSD now anyway, so, huzzah.

commit ad87c72edcc0d1f56658e0c4e73af335c8d5a516
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 16 02:59:51 2008 +0300

    DIX: Add strcasestr from FreeBSD
    
    Add strcasestr for use on systems which don't have it.

commit c3c901cf44cf16bb33c4176494361b429099a372
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 16 02:54:41 2008 +0300

    configure.ac: Fix SHA1 handling
    
    Fix and marginally simplify the SHA1 handling.  First, we allow people
    to override it.  Secondly, we try for libmd.  Then, we try for OpenSSL
    with pkg-config.  In a last, desperate move, we try libcrypto on its
    own.  This allows the server to, y'know, _link_ when using OpenSSL,
    instead of failing because we only have -lcrypto, and not -lssl.

commit 69b57dc651e12a0d9a5a4295b185c62d5c0df63f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 16 02:03:36 2008 +0300

    dix: Actually build str(n)casecmp if we don't have it
    
    Remember to add stuff to dix-config.h when you add new AC_DEFINES,
    people ...

commit dcf6293030126509d7d6c61d131222037d5ed7db
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 16 01:57:00 2008 +0300

    strcasecmp: Actually use the right license
    
    Forgot to update the license when I committed the FreeBSD version, so it
    still had an old SGI license.  Sorry.  Sorry.

commit 441f084bfe87a6ea1c94ec63f82888b8b3d81d89
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 2 19:52:58 2008 +0300

    config: Don't attempt to use D-Bus when not strictly necessary
    
    If we have D-Bus but have explicitly disabled it, don't build it.

commit 35c89f3f5b8fa222e37b799d5bb01595e8f30d0c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 16 01:43:58 2008 +0300

    XFree86: Remove mysticism from Makefile.am
    
    The variables were always the same, so just shove them in with the rest
    of the plebs.

commit b89a59248a4a0ff06b9a0ddee45881efc6063063
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jun 27 12:20:56 2008 +0300

    XFree86: Delete OSMouse code
    
    This should be moved into the mouse driver, if anything.

commit d0de5ea96d084fc5da87d8f323ddfc08fe9c03ba
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jun 25 17:56:28 2008 +0300

    XFree86: Remove useless debugging code
    
    Also remove documentation which told you how to use a non-module-aware
    GDB, albeit only with old, non-shared, modules.

commit 4b1273c9c2da113f634be80caa28e81df3beae98
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jun 25 17:51:12 2008 +0300

    XFree86: Delete empty file & function
    
    xf86InitXkb() has been empty for as long as I can remember.

commit 3a54f3f48fa1c0d60604c3ee767c569b5ec23430
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 12 01:05:04 2008 +0300

    XFree86: Clean up init a tiny bit (no code changes)
    
    Reshuffle and delete.

commit ddcefb50dda9e398647d1c84c7153127ed26a4d2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jun 11 15:14:26 2008 +0300

    XFree86: Remove trailing whitespace

commit e6f35f28fb3526b911101bde4aa761de8b055aef
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jun 11 15:13:21 2008 +0300

    OS/KDrive/XFree86: Sanitise colour initialisation
    
    OsInitColors always just returned TRUE, so just remove calls to it and
    insane special-case logic.  Remove unused kcolor.c implementation, and
    merge oscolor.h into oscolor.c since it was the only user.  Remove
    open-coded strncasecmp in oscolor.c.
    
    Since we no longer need to call OsInitColors after reading the config
    file, just call PostConfigInit() from one place, and move PM handling to
    one place so we can install the signal handlers earlier.

commit 11f9e3520249a603b95e64503ee759998ff17feb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jun 11 15:09:46 2008 +0300

    DIX: Add strncasecmp from FreeBSD, make strcasecmp args const
    
    Add strncasecmp (as we're now using it) in case someone doesn't have it,
    and also change strncasecmp args to be const, in accordance with
    everything else.

commit ae38151ddda9984effca5bb7c582540061201dce
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon May 19 08:35:05 2008 +0300

    configure.ac: Add GLX_SYS_LIBS for Xvfb and Xnest
    
    This fixes the linking for these two when using DRI2, which requires
    DLOPEN_LIBS.

commit ccec16e519c143f4c0017a37e93ebc52ac472e4e
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jul 15 11:24:08 2008 -0400

    Bug #7300: Move xf86RAC to hw/xfree86/common

commit 9111944b292355f7478b4ae75bead8dc25edbbcb
Author: Julien Cristau <jcristau@debian.org>
Date:   Tue Jul 15 10:36:38 2008 -0400

    Bug #16674: Make sure RANDR reports refresh as 0 if pixel clock is 0.

commit 3f3f66de669caf3606eec8c5f8d405a283cbf12d
Author: Brad Smith <brad@comstyle.com>
Date:   Mon Jul 14 22:20:41 2008 +0200

    Fix the configure tests for swap16/__swap16 macros on OpenBSD.
    
    BSD systems need <sys/types.h> included before <sys/endian.h> for
    macros to work.
    <https://bugs.freedesktop.org/show_bug.cgi?id=16531>

commit 11ee0ae9390a608a232ff94abcc0cbcf9ed7b70a
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jul 14 10:20:11 2008 +0930

    xfree86: append, not prepent, new input devices to xf86InputDevs.
    
    If devices are prepended to the list, their wake-up order on resume is not the
    same as the original initialisation order. Hot-plugged devices, originally
    inited last, are re-enabled before the xorg.conf devices and in some cases may
    steal the device files. Result: we have different devices before and after
    suspend/resume.
    
    RedHat Bug 439386 <https://bugzilla.redhat.com/show_bug.cgi?id=439386>

commit 5bcc45e07e8726a5442567472dd29cfb5c901f2d
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Sun Jul 13 18:40:53 2008 +0930

    Xi: expose Enable/DisableDevice through XI_PROP_ENABLED property.

commit c9eb0e870c87d291311491452adf7f91a911e24b
Author: Simon Thum <simon.thum@gmx.de>
Date:   Thu Jul 10 22:33:39 2008 +0930

    Add support for multiple pointer acceleration schemes. #8583
    
    Available acceleration schemes:
     - xorg classic scheme.
     - the new "Predictable" polynomial accel scheme.
    
    X.Org Bug 8583 <http://bugs.freedesktop.org/show_bug.cgi?id=8583>
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit e7abe1676a6a4e4249504b8c9660cbad70569199
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Sun Jul 13 18:41:53 2008 +0930

    Xi: protect against NULL handlers, don't try to dereference.

commit 2bbb12c355308d10bf123911044fbdf6ae7fb59c
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Sun Jul 13 20:23:14 2008 +0930

    Xi: remove ChangeDeviceControl for CoreCtl.
    
    If you want to set a device to core, attach it to a master device.

commit 18ff17756c988b6c21b76bf898e45685649d07bb
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Jul 10 19:23:14 2008 +0930

    Xi: GetDeviceProperty reply includes deviceid.

commit c3267106fb599213555829cb76df7848c4ebe23b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jul 9 10:02:41 2008 -0700

    XQuartz: Use CFEqual to compare keyboards
    (cherry picked from commit 5538e43b9ae7d06d2f48842b065810ce74286eb6)

commit 90dd2de845ae12153296f6f1bff0c87f79c57854
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Jul 7 10:55:58 2008 -0700

    XQuartz: Some fd handoff cleanup.
    (cherry picked from commit 9c20a4804d97e67a988f00f49866997209cce518)

commit 26d8030c3836816de8c12b2cb9d67315e5c887eb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Jul 4 19:23:21 2008 -0700

    XQuartz: Remove deprecated keyboard code.
    (cherry picked from commit 69cfc1a21e12bb38a6130dea2e5f20f1e6a3ee7c)

commit 5cfcbd54d98cc77ee02a3a099ebbad9af511a0ee
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jul 2 00:47:08 2008 -0700

    Set machine dependent defaults for ppc64
    (cherry picked from commit 0733ef2e8abda99cfd62966e73017949e9cd507f)

commit e69b9f9ca45c0c6bfb93ea9143737116bf1f2453
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jun 25 11:51:27 2008 -0700

    XQuartz: Set noPanoramixExtension earlier to avoid a possible race.
    (cherry picked from commit 49668e8a88137e9f258eae970826883b88b7d8ba)

commit 8d2e2e1d856efec4459de2a20af642dc1ec9b8a5
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jun 11 11:44:45 2008 -0700

    Xquartz: Removed include directive for removed header
    (cherry picked from commit e65a36d57f338410c5a5b02cb5ae1214a81d072d)

commit ebd70c82fdbe483d149ac9bdb5a64cc6e0c10e0a
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Jul 10 14:38:34 2008 -0700

    Add LoaderShouldIgnoreABI to allow drivers that roll their own ABI checks (i.e. nvidia) to perform the check before ScreenInit.

commit c42427f63f0e0495e56909ee99ad1e3c4321c39b
Author: Ander Conselvan de Oliveira <ander@mandriva.com.br>
Date:   Wed Jul 9 10:50:21 2008 -0300

    Fix incorrect test regarding keyboard map.
    
    In the map stored in each keyboard device, the first line refers to
    minimum keycode, i.e., the 0th line refers to keycode 8. When not
    using XKB the wrong test caused some keys to be interpreted as
    locks ('m' for instance). The had to be pressed twice to generate
    both KeyPress and KeyRelease events.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit e4054e5cb3d919dfc83021be3f2b9036d0e5a2be
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Jul 10 11:03:31 2008 +0930

    Xi: pack the property stuff into a struct, make handlers a linked list.
    
    We may need more than one handler to deal with a property (e.g. one in the
    driver, one in the DIX), so get the handlers into a linked list and call them
    one-by-one. This is of course slightly less entertaining than the hilarious
    WRAP/UNWRAP game we play in other parts of the server.
    
    XIRegisterPropertyHandler/XIUnregisterPropertyHandler are the interface
    drivers/the DIX should use to attach themselves to the device.
    
    XIDeleteAllDeviceProperties destroys everything, including the handlers.

commit 2039c6ea43244339659323d05d96c14e41996c20
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jul 7 22:10:17 2008 +0930

    Xi: add support for input device properties.
    
    Basically just copied from randr properties, with minor changes only.
    Each device supports arbitrary properties that can be modified by clients.
    Modifications to the properties are passed to the driver (if applicable) and
    can then affect the configuration of the device.
    
    Note that device properties are limited to a specific device. A property set
    on a slave device does not migrate to the master.

commit 4ab01fe5db7fb330b1ec463aa49b77859527e597
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Jul 10 16:27:36 2008 +0930

    Revert "Xi: add support for input device properties."
    
    Note to self: don't mix up branches with half-finished cherrypicks.
    
    This reverts commit 666838fcc8b71fdeae160844160187f345cbf4a6.

commit 666838fcc8b71fdeae160844160187f345cbf4a6
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Mon Jul 7 22:10:17 2008 +0930

    Xi: add support for input device properties.
    
    Basically just copied from randr properties, with minor changes only.
    Each device supports arbitrary properties that can be modified by clients.
    Modifications to the properties are passed to the driver (if applicable) and
    can then affect the configuration of the device.
    
    Note that device properties are limited to a specific device. A property set
    on a slave device does not migrate to the master.

commit acce27093571497a0626cee1cdb61ddf751dbc40
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Jul 8 16:02:13 2008 +0930

    Xext: store the GenericMasks in the resource system.
    
    This fixes a severe issue - when the client died the event mask didn't get
    unregistered and a future event would dereference dangling pointers. By
    storing the event masks in the resource system we can free them when the
    client dies.

commit db86b8839f286e0e2efb5638b8ab2fe608707655
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Jul 8 15:12:45 2008 +0930

    dix: free GenericMask allocations when destroying window.

commit 08e2c625f620688d35f3b443ffb878e8e991ff57
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jul 9 20:07:59 2008 -0700

    Remove README.font, since it's just an old text copy of xorg-docs/sgml/fonts

commit 5e847c1d4fc30a0d263a861a76982660f11998cd
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Jul 7 17:08:01 2008 -0700

    Improved driver selection when autoconfiguring driver without xorg.conf
    
    - Allow returning multiple drivers to try for a given PCI id (for instance,
      try "geode" then "amd" for AMD Geode hardware)
    - On Solaris, use VIS_GETIDENTIFIER ioctl as well as PCI id to choose drivers
    - Use wsfb instead of fbdev as a fallback on non-Linux SPARC platforms

commit 235fea0e1a2101fb76a54e6505db321674530c60
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Jul 7 15:21:59 2008 -0700

    Update bsd & solaris descriptions in README.OS-lib

commit d8af9d9ab1cd98c07fdf42490dcc0cab3c655b89
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon Jul 7 13:14:49 2008 +0200

    Export xkbfile.h in the SDK
    
    It's needed by xkbsrv.h

commit d78bebb20a00e8519788c75c90b467a5750c78be
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Fri Jul 4 04:04:19 2008 -0300

    Remove unused function and variables.

commit a8c4727f01949da0ae266369f0d12a96c2bf0da5
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Fri Jul 4 04:03:46 2008 -0300

    Fix typo in the last commit.

commit 3164288b121990a5990747c0f92d4af13b1c929a
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Fri Jul 4 03:55:59 2008 -0300

    Remove deprecated function miPointerPosition().

commit d1031a8972490ebf0ef6dc2762036a7a7172466b
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Fri Jul 4 03:46:21 2008 -0300

    Update README.OS-lib to reflect reality.

commit f72500c4a09cce5dbbd16639b1951a4bf943e4ac
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Fri Jul 4 03:45:18 2008 -0300

    Nuke libc wrapper remaining stuffs.

commit 3fd5fab5663fbdce2fc0b5377155aedf9a70b6c2
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Fri Jul 4 02:51:42 2008 -0300

    Remove inexistent function headers.

commit 0b9ef835a0fe900c121b84e43989591e58ab1126
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Jul 4 07:29:32 2008 +1000

    modes: fix initial xorg.conf mode selection.
    
    This was all kinds of broken, we ignored user preferred modes for multiple
    monitors and also for side-by-side configurations.

commit e317943c125d7fdbe62c750324640eb30c88fa15
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Wed Jul 2 12:23:03 2008 +0930

    xfree86: AllowEmptyInput is now enabled by default if hotplugging is enabled.
    
    Remove AEI check from configImpliedLayout as the setting isn't actually parsed
    at this point anyway (written by Sasha Hlusiak).
    
    Resurrect checkInput() and check for devices there if AEI is false (this also
    creates the default devices if required).
    
    Set AllowEmptyInput to enabled by default if hotplugging is enabled.

commit fe5cf7cb00fd926cefff933adbdbceea7353f4c2
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Jul 1 13:18:54 2008 +0930

    xfree86: handle missing Screen lines in the ServerLayout #16301
    
    If no Screen is specified in the ServerLayout section, either take the first
    one from the config file or autogenerate a default screen.
    
    X.Org Bug 16301 <http://bugs.freedesktop.org/show_bug.cgi?id=16301>

commit 6674b87a7dca7d6ffd9dd9af888c5256b13d7877
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 29 20:05:27 2008 +0930

    xfree86: move declaration of configured_device to start of function.
    
    Last I checked C doesn't allow declarations halfway down a block.

commit 1e96782011f0b4ba6ed1d3d3df118964a58d15fd
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jul 3 20:00:22 2008 +1000

    dri2: bump libdrm numbers as 2.3.1 is released without ttm interface

commit 1771edcb44b564f83f509748b4e4cd5b7586e2a8
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Jul 3 18:57:09 2008 +1000

    modes: check the crtc is valid before using its desired modes.
    
    this fixes a crash I was getting on radeon rotate when gnome is running.
    I'm sure g-s-d was doing something bad, but really not crashing ftw.

commit 689292e58cc5242cbfeaa29fcf65b6dcd9dfabb9
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jul 2 11:25:50 2008 -0400

    Fix GLX in Xvfb and kdrive.

commit 9a73bca859be12721ef62304b1422c455d4aec49
Author: Chris Ball <cjb@laptop.org>
Date:   Wed Jul 2 09:46:06 2008 -0400

    Remove KdOffscreenMarkUsed() as all its callers are gone.

commit b84a27fd9fdcb579437cfa38f10cb12cf55dc7c3
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jul 2 06:25:03 2008 -0700

    VBO: Regenerate files based on recent changes to gl_API.xml
    
    Since GL_ARB_vertex_buffer_object protocol isn't supported yet, these
    changes are innocuous.

commit 703a9645f3d547144ea62dd81c41f5356a5f87d8
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jul 1 17:50:48 2008 -0400

    Auf wiedersehen, KAA.

commit c8216aede6c4ac41976947521d884fa010913204
Author: Jeremy Uejio <jeremy.uejio@sun.com>
Date:   Tue Jul 1 13:37:12 2008 -0700

    Sun bug #6685465: Xephyr uses wrong or bad colortable in 8-bit mode
    
    <http://bugs.opensolaris.org/view_bug.do?bug_id=6685465>
    
    This bug is caused by Xephyr not handling the RGB byte order correctly
    of the server where Xephyr is displaying on. The previous code just
    assumed that the order was RGB and did not take into account that
    Xservers may use different order (such as BGR).
    
    The fix is to add a function to calculate the byte order and bits
    to shift based on the visual mask and the visual bits_per_rgb (which
    is usually 8, but could be server dependent).  Since the shifts won't
    change once the display connection has been made, I can cache these
    values so that Xephyr doesn't have to keep recalculating them everytime
    it tries to translate the Xephyr colormap entries for Xephyr clients to
    the actual server colormap entries (i.e. calling the function
    hostx_set_cmap_entry() repeatedly for every colormap entry).

commit 2e8daee05343b2853b677acf4554def0ceeada00
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Mon Jun 30 17:29:35 2008 -0700

    Work around the DIX losing mmWidth/mmHeight for RandR 1.1 DDXen.
    
    RandR 1.1 has a physical size for each mode.  It used to be that the DIX would
    remember these modes and pass them back up to the DDX when changing the screen
    configuration.  The DDX uses RR_GET_MODE_MM to query the driver for the physical
    dimensions of the screen, allowing it to preserve the DPI.
    
    With RandR 1.2, the physical dimensions are stored as part of the output, rather
    than per mode.  The DIX only uses the sizes passed in from the DDX to select the
    mode pool for the "default" output, and forgets the physical sizes.  Then, when
    reconfiguring the screen, it makes up a new RRScreenSizeRec using the dimensions
    from the output, screwing up the DPI.
    
    This change works around this problem by ignoring the DIX and querying the real
    size from the driver.

commit e2bbf2d248a2d2a2db4adfe9d1bda94cf184d8bd
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jul 1 12:01:56 2008 -0400

    Don't try to load DRI2 if built without it.

commit 66d7c9de82b5e733e4995f079a96efe612fca881
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jul 1 10:55:54 2008 -0400

    Declare xf86InterpretEEDID() properly.

commit e4335e876d254e446a965259e845ad955da5b5c2
Author: root <root@samich.home.cworth.org>
Date:   Mon Jun 30 15:29:04 2008 -0700

    Revert "XInput ABI is 2.1, not 3.1."
    
    This reverts commit 76576c87b0de106e006d1cfa59d42d3a483e966c.
    which was an incorrect revert of previous ABI bumps. Those
    responsible for the accidental ABI bumps in both directions
    have all been sacked.
    
    This allows xf86-input-mouse to build again, for example.

commit 6447f80c17077f924b2d58e07b38d32429edcb9b
Author: Carl Worth <cworth@samich.home.cworth.org>
Date:   Mon Jun 30 13:16:49 2008 -0700

    Use AC_CHECK_LIB before PKG_CHECK_MODULES for openssl
    
    Previously, the code was using PKG_CHECK_EXISTS before PKG_CHECK_MODULES,
    (to cater to OpenBSD systems that include openssl by default but without
    a .pc file). But this meant that systems that didn't have openssl installed
    at all would not get any error message at configure time.
    
    Now, if the SHA1_Init function is found in -lcrypto without any additional
    flags, then that's used. Otherwise, pkg-config is used to find the right
    flags to link against libcrypto. And if that fails, a nice error message
    is now generated.

commit 76576c87b0de106e006d1cfa59d42d3a483e966c
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Jun 30 16:10:37 2008 -0400

    XInput ABI is 2.1, not 3.1.

commit bed12dd3df0129b7f28d0a42d470266bd3ae6b38
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Jun 21 16:07:54 2008 -0400

    Do EEDID in RANDR 1.2.

commit 4fc18b5fc31aa287e807ee520dc9117296e3d306
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Jun 21 16:07:36 2008 -0400

    Hexdump the whole EDID block if extensions present.

commit b4fbc31e109f1efe78613597f9a91d5363523493
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Jun 21 16:00:05 2008 -0400

    Actually fetch all blocks of EEDID if asked to.

commit 211e2bdcc677122145998829a7f26610c7c567e6
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Jun 30 10:29:17 2008 -0400

    Bump ABI minor numbers for the devPrivate ABI functions.

commit d6b8d9eaffaf3f976db330bc35da3d30eb656bac
Author: Dan Nicholson <dbn.lists@gmail.com>
Date:   Fri Jun 27 17:16:35 2008 -0700

    DRI: Ensure we have the DRI headers from Mesa
    
    Change the DRI configure check to look for the dri pkg-config file. This
    prevents people who built an Xlib libGL from bombing later in the build.

commit 7ddfb2f1587da3ec1cd27ae270e42700adf4f560
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jun 26 21:23:31 2008 -0400

    Fix a leak of window devPrivates in window.c/CrushTree().

commit 15e4b6c57484b6afb790c7dc1db9f529ba2219cf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 24 13:46:40 2008 +0930

    input: for non-device events (e.g. DevicePresence) use MAX_DEVICES as id.
    
    Using id = 0 only worked pre-MPX since XInput didn't allow XOpenDevice for the
    core devices (0 and 1). Now we can now legally register for events so we may
    overwrite our device-independent classes with the ones selected for the VCP.
    
    So, increase the EMASKSIZE to MAX_DEVICES + 1 and use MAX_DEVICES as the ID
    when we don't have a device.

commit f0c56ffd980db19bea271aeebf118bd931f6f40d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 24 12:58:49 2008 +0930

    dix: don't dereference dev->key if it doesn't exist.
    
    This may happen if we check for a passive grab on a floating pointer device.

commit 01f0b9c9784c55c94104bafa6dd545b373c64104
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 25 19:23:20 2008 -0700

    xf86GetOptValFreq wants a pointer to double, but maxPixClock is an int

commit 7ce6dcef118139d0ccfc136b9a07f5bf0c078d70
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 25 15:06:49 2008 -0700

    Don't log null device name in XkbDDXLoadKeymapByNames

commit cbc20d92de92aad5ca240310a9156ccf97c24a01
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Jun 25 09:52:36 2008 -0400

    XTrap delenda est.

commit a81b5ce452766bbc4b2ac0849711284ba8591b46
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 25 13:23:09 2008 +0930

    dix: free memory associated with the EventList. #16507
    
    Un-deprecates CloseDownEvents.
    
    X.Org Bug 16507 <http://bugs.freedesktop.org/show_bug.cgi?id=16507>

commit 3a2beb2f867fd47dc5a7723dcac345ea0b0ecf3d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 25 13:12:41 2008 +0930

    dix: InitEventList does not need to be _X_EXPORT.

commit 385943e0e97463ce4681a9b6a4a40d7e3c91e51e
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Tue Jun 24 23:13:32 2008 -0300

    Set --enable-builtin-fonts as default.
    
    Some reasons to embed fonts by default:
    1. X server doesn't pick a good default font path so it's easiest just
    to built in the core fonts and let new X hackers more happy. Developers
    and distro guys are wise enough to just set --disable-builtin-fonts
    when they want.
    
    2. Seems that this is by far the most popular FAQ
    (http://www.x.org/wiki/FAQErrorMessages).
    
    3. No one gave a good argument to not do this:
        http://lists.freedesktop.org/archives/xorg/2008-May/035479.html

commit f3b29efc4d7bb346cdd3fd79e780f1022c8f46e8
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Tue Jun 24 23:07:49 2008 -0300

    Remove NOFONTSERVERACCESS macro
    
    dix: this is semantically different but it goes through the same path in
    the code.

commit 2ff7eb4995b663cf12a01124745de600f38d0bfc
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Tue Jun 24 22:09:34 2008 -0300

    xfree86: kill INHERIT_LOCK_STATE macro.
    
    I don't know how this survived so long. Google didn't show
    anything usable related with this.

commit a3ec22627355fc08730ad7e90022e374763d333f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Jun 24 20:32:24 2008 -0400

    Fix a leak in the code that parses the protocol names.
    
    Also added some comments.
    Reported by Ben Gamari (bug #16492).

commit a4cb25f8c816adc3bdf6a28d5beb558e8be40121
Author: Ben Gamari <bgamari@gmail.com>
Date:   Tue Jun 24 12:08:35 2008 +0930

    dix: free FocusPrivates when deleting a window. #16493
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>
    
    X.Org Bug 16493 <http://bugs.freedesktop.org/show_bug.cgi?id=16493>

commit 32a7bbbba6fec0535a8faa1d6d2ecebe786bcc81
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 24 09:28:05 2008 +0930

    xfree86: fix up leftover allocation of xf86Events.
    
    Thanks to Eamon Walsh for spotting this.

commit bcc88a1d46c7ba469c4e2861875f84f8c77d4b15
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 22 22:34:30 2008 +0930

    xkb: remove unused variable is_core.

commit 9ed9d98dec58d1f7468d02c4b951811b8e1ca7c1
Author: Julien Cristau <jcristau@debian.org>
Date:   Tue Jun 24 22:36:32 2008 +0200

    x86emu: fix build, fallout from 9719354

commit e9b4f3cd856e2401675452c387b4155246239f91
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Jun 23 16:18:20 2008 -0400

    Fix "warning: suggest parentheses around && within ||".

commit 8910dde96ec4318c9c44fb9717b6b52fad56cd1d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Jun 23 14:51:38 2008 -0400

    Fix "warning: assignment discards qualifiers from pointer target type".

commit 95d4ede538fbb68049ba3efa0acb0e9712e5cb01
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 20 23:49:32 2008 -0400

    Fix "warning: passing argument 1 of `modeIsPresent' from incompatible pointer type".

commit fa1545eeda2a7feebc006840a44d390177634231
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 20 23:47:22 2008 -0400

    Fix "warning: passing argument 1 of `xf86addNewLoadDirective' from incompatible pointer type".

commit 2725ba1fca45e5ba241695e24333d8efab1f862b
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jun 24 14:41:32 2008 -0400

    Also remove xorgconfig from configure.ac.

commit 9719354ae04a41e9834ac9ba8fd9e895092ba4f1
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jun 24 14:37:06 2008 -0400

    Check for __amd64__, not __x86_64__.
    
    Spiritual revert of 1fa4de80fcfc697b5e5879cc351fb3e9dbf6acbe.  Intel's C
    compiler claims to be gcc-compatible; if they're not defining the same
    macros as gcc then that's their bug, not ours.  Even if we were to do
    this aliasing we should do it once and for all in servermd.h.

commit 249c892784ca5e8c75863dd82097ca2bedec4723
Author: Roland Bär <roland@verifysoft.de>
Date:   Tue Jun 24 14:13:02 2008 -0400

    Bug #11857: Avoid running off the end of a MAXCLIENTS-sized array.

commit 9e5b3deafb97ec1f83e6bfe067bc68df7385bc6a
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jun 24 14:08:04 2008 -0400

    Bug #11842: Fix emulation of int1A PCI BIOS services.
    
    Use only %di to name the PCI register to read/write, rather than %edi.
    DOS is only expecting the base PCI config space anyway, and the BIOS
    might be using the high bits of %edi.

commit d34430414ac0e77eec61ab0ac9ef427b236eb639
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jun 24 13:32:55 2008 -0400

    Remove xorgconfig.  Use X -configure instead.

commit 574c62e305e5380bb1b0f4bfec4f7cc3e3f03ada
Author: Owen Taylor <otaylor@fishsoup.net>
Date:   Tue Jun 24 12:40:47 2008 -0400

    Bug #15369: Don't reduce Over to Src for transform + RepeatNone.
    
    Only do no-src-alpha optimizations for a RepeatNone source if we can
    easily probe that we won't sample outside the edges of the source.

commit 100afae578e59e31b65a6264c281ba7deea5ac39
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jun 24 10:52:31 2008 -0400

    Bug #15586: (Correctly) refuse to redirect the root window.

commit 4c4e06af7950df509fa02099788be66cf37a4d01
Author: Paul Bender <pebender@gmail.com>
Date:   Tue Jun 24 10:44:47 2008 -0400

    Bug #15665: Fix building without Composite.

commit 59510a76436c739fd9421f01cc4210607d9e7f57
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jun 24 10:40:36 2008 -0400

    Remove some default modes that really shouldn't be in the default set.

commit b622f6dc5d8d70d17be0374a85a9b16b43a62a01
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon Jun 23 23:45:57 2008 +0200

    kdrive: fix building with --disable-xv (bug#16488)

commit 3b587826924c60f6736dc5faf584b964fde1b4da
Author: Jesse Ruffin <jesse@eloquentpeasant.net>
Date:   Mon Jun 23 14:35:20 2008 -0400

    Bug #16302: Fix GLX drawable refcounting in DMX.

commit c8d066a15142678041c1d82ccf530dcdb2ea74ca
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Jun 23 13:59:48 2008 -0400

    Implement bswap in x86emu.
    
    Yes, this is a 486+ instruction and thus not strictly legal in vm86
    mode, but enough BIOSes use it (looking at you VIA) that we might as
    well implement it.

commit b55fbca4f0705aeff1c69d3ef851c5ff5af6ed94
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jun 20 13:27:32 2008 -0400

    Bug #12414: Create full-fledged pixmaps in fb24_32ReformatTile().
    
    ... instead of creating pixmaps that only fb knows about, which will
    have no devPrivates for any other subsystem and thus cause havoc if
    (when) they leak out.

commit 155fcecb320dbcfb899d6bcd78048ce0993bf28b
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon May 19 08:09:33 2008 +0200

    Various messages clean-ups.

commit 41a65e110409a290288180e8e1517f053f877586
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon May 19 06:12:04 2008 +0200

    Fix ipc check on OpenBSD

commit ce4d4b3c1b0e25f64d6f781b09528b2f3ae33207
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon May 19 05:19:01 2008 +0200

    build fix

commit 19c7e9da55646f1f6e05c28cd71865cd8d84e1ff
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon May 19 02:24:17 2008 +0200

    preserve errno around the SIGIO handler

commit 0a81d476388c51f8aa723400dffc375e112ea97a
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon May 19 02:20:44 2008 +0200

    Remove RCS Id.

commit c0d7ad9c88172d753b932069743ae65f75de3aa9
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Thu Jun 19 16:51:18 2008 +0200

    Let code build with gcc 2.95

commit 219dd2d44a9da40427ad48b0f09b981fe0551f4b
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun May 18 13:53:32 2008 +0200

    sprintf() -> snprintf()

commit cfcb3da75e807dec225cc7ea469e04d2db10bf73
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 18 11:37:00 2008 -0700

    Make button down state a bitmask. Master buttons track union of slave buttons
    
    Mixing usage where some parts of the code treated this field as a bitmask
    and other parts as an array of card8 was wrong, and as the wire protocol
    wanted bitmasks, it was less invasive to switch the newer counting code use
    booleans.
    
    Master devices track slave buttons by waiting for all slave buttons to be
    released before delivering the release event to the client.
    
    This also removes the state merging code in DeepCopyDeviceClasses -- that
    code was changing master device state without delivering any events,
    violating protocol invariants. The result will be that existing slave
    button state which does not match the master will not be visible through the
    master device. Fixing this would require that we synthesize events in this
    function, which seems like a bad idea. Note that keyboards have the same
    issue.
    
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 3cc5ae6a4f725483612c00fc8bcc2c61607f66a8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 18 16:14:42 2008 +0930

    dix: don't attempt to send Enter/Leave events if we have a keyboard.
    
    Dereferencing into dev->valuator could crash the server, although it looks
    like I could only reproduce this by having a keyboard send an event after it
    was created and the WM was still replaying. Or so.

commit 528b4e36ade482df99747081688ae52cfaeb28eb
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Wed Jun 18 22:34:02 2008 +0100

    Set driverPriv immediately on CreatePixmap.
    
    If it's NULL anyway, we bail, if not, it lets
    ModifyPixmapHeader know about the private.

commit 068fa63496c7c363706f0d356b5132bc591c04c6
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Jun 18 09:23:09 2008 +0930

    dix: fix a crash when the client has a different byteorder.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit d21155a3e9b51df946766926bc6155c8972c4439
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 15 20:00:41 2008 +0930

    input: fix up usage of button->down, used to be a bitmask, is now an array.
    
    device->button->down used to be a 32-byte bitmask with one bit for each
    button. This has changed into a 256-byte array, with one byte assigned for
    each button. Some of the callers were still using this array as a bitmask
    however, this is fixed with this patch.
    
    Thanks to Keith Packard for pointing this out. See also:
    http://lists.freedesktop.org/archives/xorg/2008-June/036202.html

commit 2b9c829bdebd16910bdf48b9d64862e3d34f5b7f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 18 09:55:53 2008 +0930

    Xi: don't drop the grab status in XExtendedGrabDevice().

commit 4f3ed54dc9ea7780ff03378b13de0fddfdec2e15
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 17 10:43:36 2008 +0930

    mi: remove trailing whitespaces from misprite.c

commit 79dd600942bbac3c6b531f284b42c7b2c822da90
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Jun 17 19:09:44 2008 -0400

    SELinux: Add an extension alias under the OS-agnostic "Flask" name.

commit 656d3d7623c6b83024e9cdc60d1257f4d87aa268
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Jun 17 17:55:11 2008 -0400

    SELinux: Bring server-side name registry up to date.

commit f3490d3eba94c7d9e760d6d21991ab6677196c2b
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Jun 17 10:35:24 2008 -0400

    Bug #15169: Make the server build again on Alpha.
    
    Still won't work until the kernel makes the resource files actually exist.

commit 8c9234a163eceda2abc0a2523e0f5587ea399935
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 15 10:01:28 2008 +0930

    Xi: avoid double button mapping.
    
    Button events were mapped once in GetPointerEvents and then again in
    UpdateDeviceState. While it might make sense to just fix up UpdateDeviceState,
    it turns out to be better to leave the raw button number in the event because
    DGA reports raw device events without button translation, and so when it calls
    UpdateDeviceState, the button down counts get scrambled and buttons get stuck
    down.
    
    See also:
    http://lists.freedesktop.org/archives/xorg/2008-June/036201.html
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit d894e86aa5bea81147c4a7ad8630bcfb04156792
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 15 10:55:08 2008 +0930

    randr: remove superfluous check against uninitialised variable.
    
    Thanks to Eamon Walsh for pointing this out.

commit 5544c51447f551dfc6df64438873a7ce64743976
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 22:49:47 2008 -0400

    Fix "warning: the address of ‘newTypes’ will always evaluate as ‘true’".

commit 2391c409a2840d61fed93832650c0d6c82ebebdf
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 22:48:17 2008 -0400

    Fix "warning: unused variable `s'".

commit 61dafe384a88fc397d7cd55cb23f4fdc3fb0645c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 22:47:10 2008 -0400

    Fix "warning: unused variable `tsize'".

commit 37a64b02df02d42a19d4b777930dc5e457d97d63
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 22:41:58 2008 -0400

    Fix "warning: ‘rc’ may be used uninitialized in this function".

commit e90fcd8294fe763c97610d39cab50f2836f87dca
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 22:26:43 2008 -0400

    Fix "warning: no previous prototype for ‘miRROutputGetProperty’".

commit 0b00bbca5df140edbfaffab627bd82165f1b1420
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 22:22:22 2008 -0400

    Fix "Warning: no previous prototype for `SecureRPCInit'".

commit 1c2f038d69605b0ed1067e47dc75ca6f216991f5
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 21:59:09 2008 -0400

    Fix multiple warnings in os/xdmauth.c.

commit 384ebe02b354bf1ad0a2ac25e4b5290f2e795ea1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 21:49:01 2008 -0400

    Fix "warning: label ‘done’ defined but not used".

commit 720e44f9730b9e275579483c2a34b16bba77e146
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 21:42:37 2008 -0400

    Fix "warning: no previous prototype for ‘XevieExtensionInit’".

commit 9d871e19c9dee5d3ee7f123249e8890417d83093
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 21:35:29 2008 -0400

    Fix "warning: unused variable ‘pDev’, `pPointer'".

commit 60f64af075e8ac3e63586452f2f3d338a05785f0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 21:23:31 2008 -0400

    Fix "warning: passing argument 1 of 'pixman_fill' from incompatible pointer type".

commit c448460fdc23262f2b711a32599090c85c70447a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 21:05:26 2008 -0400

    Fix "warning: pointer targets in assignment differ in signedness".

commit 17ed6242e73c5f733601b15732ab30c23acf14d2
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 21:03:17 2008 -0400

    Fix "warning: assignment from incompatible pointer type".

commit 02a8b118cd07d98f12aab8325d8443125703ba7d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 21:01:50 2008 -0400

    Fix "warning: implicit declaration of function ‘miPointerGetScreen’".

commit 2d7ba09dc4b5eff5dba8d7867f285111574b1737
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jun 13 16:39:40 2008 -0400

    Make devPrivates lookup functions ABI instead of static inlines.
    
    This is required to preserve compatibility across changes to the
    internal representation of the privates list.

commit 9e0e558f263a132babf8c91d31230831653f19c1
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jun 13 11:17:49 2008 -0400

    Fix unterminated endif.

commit 6bbfadb9094bb6437a6825b8293d13a32e041aff
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jun 13 11:00:50 2008 -0400

    ... and stay dead.

commit f31bd087e8a7f65cd588bd1d022bb18e72b2a60c
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jun 13 10:35:07 2008 -0400

    Death to mfb.
    
    Anyone still interested in 1 or 4 bpp framebuffers, talk to fb.

commit af86c3b7ce705c1711c8cf8bf05a7a02b8afccf6
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat May 24 21:16:34 2008 +0300

    clean .gitignore

commit 3108980f5e78c129b23ff32f72564cf9a746c693
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Jun 13 15:58:56 2008 +0300

    glx: drop unused cleargc

commit 23b55a61f89f69454a3b0e3413b1f07d5fdf43aa
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Jun 13 11:13:56 2008 +0200

    AIGLX/DRI1: Switch to server context for calling pScreen->GetImage.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=16292 .

commit d15b3790307053587df8daed1936ff6923881b63
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jun 12 16:00:50 2008 -0400

    Remove xgl.
    
    This code hasn't been updated with anything even resembling what anyone is
    shipping in nearly thirty months.  It hasn't built out of the box since
    7.1.  Most of its features over AIGLX are accomplished with DRI2 and
    friends.

commit c37a93b4850866c713e3cbf39a08bbc9645e24d4
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Jun 12 14:54:56 2008 +1000

    modes: make aspect choosing work on single output case.
    
    In the single output enabled case we never enter the loop and test
    never gets set and so we fail to match a good mode.
    
    This was causing my 2560x1600 to end up at 2048x1536.

commit 23e71ef71a178505494d4b410f9314acfff81524
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Jun 12 09:04:24 2008 +1000

    dbe: fix DoS reported by iDefense.
    
    This isn't a security problem just a user could DoS themselves for fun or profit.

commit 390b155135a451fa728b73c8107aea91dfd56ed1
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 11 18:21:33 2008 -0300

    Welcome to hotplug era.
    
    `rm -rf xorg.conf` does not imply an error message. Maybe a warning.
    
    checkInput() is defined but not used.

commit 6e018f6a30dab1259b8fdc1ae4c84056b2acf362
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 11 18:10:55 2008 -0300

    No need for inputPending field in xf86Info.

commit 881e551de92e5664f92ef1961092e35cd7a77b15
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 11 18:03:33 2008 -0300

    CopyGetMasterEvent() can be static.

commit 656949cbe24648a5b58f7df6ed49b25af0b47601
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 11 17:57:19 2008 -0300

    Remove more unused things.
    
        In function ‘miSpriteCloseScreen’:
        warning: unused variable ‘pDev’

commit 84db8837d0faaac008be61df9f1261cd3028e923
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 11 17:47:00 2008 -0300

    Remove unused xf86DeviceCursorUndisplay() function.

commit dba5455f06c439c7e7d399f30dc7067e98e6e50b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jun 11 11:41:34 2008 -0400

    Un-K&R shm extension.

commit 9171206db349a0c6fda719746be0b15049d57aaa
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Jun 10 12:23:03 2008 -0600

    CVE-2008-2362 - RENDER Extension memory corruption
    
    Integer overflows can occur in the code validating the parameters for
    the SProcRenderCreateLinearGradient, SProcRenderCreateRadialGradient
    and SProcRenderCreateConicalGradient functions, leading to memory
    corruption by swapping bytes outside of the intended request
    parameters.

commit 5257a0f83d5f3d80d0cd44dd76d047bac3869592
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Jun 10 12:22:30 2008 -0600

    CVE-2008-2361 - RENDER Extension crash
    
    An integer overflow may occur in the computation of the size of the
    glyph to be allocated by the ProcRenderCreateCursor() function which
    will cause less memory to be allocated than expected, leading later to
    dereferencing un-mapped memory, causing a crash of the X server.

commit c5f69b297b1227cb802394fa90efdbe1de607f3c
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Jun 10 12:21:26 2008 -0600

    CVE-2008-2360 - RENDER Extension heap buffer overflow
    
    An integer overflow may occur in the computation of the size of the
    glyph to be allocated by the AllocateGlyph() function which will cause
    less memory to be allocated than expected, leading to later heap
    overflow.

commit 063f18ef6d7bf834225ddfd3527e58c078628f5f
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Jun 10 12:20:43 2008 -0600

    CVE-2008-1379 - MIT-SHM arbitrary memory read
    
    An integer overflow in the validation of the parameters of the
    ShmPutImage() request makes it possible to trigger the copy of
    arbitrary server memory to a pixmap that can subsequently be read by
    the client, to read arbitrary parts of the X server memory space.

commit 95d162c4389857d960da9b0158345c1714e91f31
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Jun 10 12:20:00 2008 -0600

    CVE-2008-1377 - RECORD and Security extensions memory corruption
    
    Lack of validation of the parameters of the
    SProcSecurityGenerateAuthorization SProcRecordCreateContext
    functions makes it possible for a specially crafted request to trigger
    the swapping of bytes outside the parameter of these requests, causing
    memory corruption.

commit 656d5d98855eb608ec6581f8c574f343a216ea32
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 11 17:32:59 2008 +0930

    kdrive: fix wrong use of &, should be | instead.
    
    Fallout from 26e7e69ab893d1f2b35213250ada40ec90944f62

commit 6528eb885dea0326aacdd026d44d82ab07f4a4fd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 11 15:01:36 2008 +0930

    Xext: init firstValuator to zero, otherwise core XTest events may get lost.

commit 6ab311c92d036dc63ee92ab4bb231f5f61ebe69f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jun 9 11:45:57 2008 +0930

    dix: Call RealizeCursor during InitializeSprite.
    
    RealizeCursor should be called when the cursor is allocated. However, when the
    root cursor is allocated, no devices exist yet, and thus RealizeCursor is
    never called. This may lead to segfaults lateron in DDXes like Xnest that
    actually need to do something for each cursor, and lateron rely on that
    DDX-specific data for each cursor has been initialized.

commit e083b5a07507d53de0d1d365ef1565346284c997
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jun 9 11:23:53 2008 +0930

    xnest: wrap the xnest cursor sprite funcs around the mi funcs.
    
    Modelled after the xfree86 code. Call miDCInitialize to init the SW rendering
    engine, then take the pointers, store it in a xnest-local variable, and put
    the xnest-specific sprite funcs in place. In the xnest sprite funcs, call
    through to the mi sprite funcs after doing xnest-specific stuff.

commit ea6a02c048e8589e99ee3b459f3612eb3d041558
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jun 9 11:22:33 2008 +0930

    mi: protect mipointrst.h against multiple includes.

commit a3a7c12fcf8e4ac1418f9ea53f76091f309a721b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 8 23:38:45 2008 +0930

    xfree86: Fix up xf86ScaleAxis
    
    Some driver still call it, so we might as well work correctly. Always
    resetting X to the Sxhigh is sub-optimal.

commit f8431a62d57ab3118a0b409bce977db8261e2930
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Jun 10 02:15:25 2008 -0700

    XQuartz: Under the new startup model, we no longer need to do the foreground/background dance.
    (cherry picked from commit 4505bae5d7341e1241be50c25cb3d1b941701de4)

commit c180a52332385b98635068d63a8fe0bba4835be7
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Jun 10 10:47:37 2008 -0700

    XQuartz: Removed code path for old startup
    (cherry picked from commit a9ee6b0d00fab01a78408a85e6542e88c19fda7c)

commit 49751fee3b82ebc4917bfb168ec78aad7874f1f1
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Tue Jun 10 15:40:48 2008 +0200

    glx: copy msaa visual capabilities

commit 5170c169db78cad3fe47dee4e438b48e67f0c7d1
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Jun 10 01:39:15 2008 -0700

    XQuartz: Fixed the "laggy" startup under the new model.  This was caused by xinit blocking expecting SIGUSR1 and our stub never sending it.
    (cherry picked from commit ee92aced10d0743c4658e53b58b5d9f5a094a415)

commit 01ace5f3fd56bc789ad7448059fcf907ef19a1c8
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jun 4 18:28:20 2008 -0700

    XQuartz: Updated icon with more rsolutions and made it more dark-background friendly
    (cherry picked from commit d8cf5623faab952a0f1196c8fe10baa09d1fc089)

commit 607b0d09ea003f87cfb3331e59e13495a483832a
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Mon Jun 9 09:52:04 2008 -0700

    CreateColormap returns Success on success, not TRUE.
    
    Fixes a problem where enabling color index overlays disables the RENDER
    extension.

commit 2854abd39d4deb79c9ee9bcc931fad969392cfc5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 8 23:20:11 2008 +0930

    xnest: fix up sprite funcs to stop compiler warnings.

commit c68ca0c7b2c72df0501d26bf7f640029ff2d9568
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 8 23:14:20 2008 +0930

    xnest: switch to using EventList rather than xEvents.

commit 34429d16d319ef2709c22a5c22f45d0e82c78b20
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 8 23:08:34 2008 +0930

    xnest: call miDCInitialize rather than miPointerInitialize.
    
    This unfortunately gives us a lots of artefacts, so cursor rendering cannot be
    assumed complete. But it's better than crashing.

commit a7d4bec884c24c0e1792fd7d6677cdd0a69978e3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 8 23:03:20 2008 +0930

    mi: remove leftover old license comment.

commit 585125685b5f09245021c8ee15f57950fe6cdd20
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 8 22:43:47 2008 +0930

    ephyr: some whitespace changes.

commit 782394fe53220deafed06ad282b5f9ce42964c42
Author: Julien Cristau <jcristau@debian.org>
Date:   Fri Jun 6 12:10:35 2008 +0200

    mi: Fix typo in comments about deprecated functions

commit 6b96281100f2118fe9d99536c33d48298a5bce7b
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Jun 6 11:01:03 2008 +0200

    EXA: Fix exaGetPixmapFirstPixel() crash if the driver has a CreatePixmap hook.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=16243

commit d25ffcfbfcfe8e059f2889873c9dbe76a28ad00c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jun 5 15:29:35 2008 +0930

    mi: protect against possible NULL-pointer dereference.

commit 874dcdb3bdb9320aae252d3c7927d412685059d5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jun 5 15:38:48 2008 +0930

    dmx: remove a ifndef XINPUT, XINPUT is always defined now.

commit 52752911ea8470dd8805f5e6c3febb9e1e1cc4b3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 4 17:04:16 2008 +0930

    dmx: don't free event list after use.

commit 5c5e58124581b845a6bfa7a2991a4e0ee7f7ebdb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 4 16:58:31 2008 +0930

    dmx: add an XFlush.
    
    Beats me why we need it, but without it we get segfaults lateron.

commit 246c10441bbf62646b77993b55233d5ceb93a81f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 4 16:37:25 2008 +0930

    dmx: fix false memory allocation.
    
    beNumVisuals and the number of GLX Visuals can be significantly different.

commit 17cd26225749a1daf7460b44e52f43082399b265
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 4 16:05:36 2008 +0930

    dmx: don't dereference a nullpointer.

commit 75eb635e3543fcb731331d01f50e62b696967667
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 3 22:25:33 2008 +0930

    dmx: add stubs for DeviceCursorInitialize, DeviceCursorCleanup

commit 3ff2f3a00ef3c484d1d53569b6cbc1f25dc6bd35
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 3 22:17:14 2008 +0930

    dmx: for now, don't acknowledge SDs.

commit 5bcd9e8953dfb5f13e90baeebea1f6eac797644b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 3 22:01:43 2008 +0930

    dmx: learn about the existence of IsXExtensionPointer and IsXExtensionKeyboard

commit 8da8a0fec4b1b9d9208635dedb2f449dc99e0004
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 3 21:59:33 2008 +0930

    dmx: claim we support XI 2.
    
    We don't really, yet, but at least we get the full device list this way.

commit 6f1d5147cb394b7c83c4c1447c78890fa2b40a45
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 3 21:36:03 2008 +0930

    dmx: fix a segfault caused by GC devPrivates never being initalised.

commit d10ba4591a599a317093ffcbdd7cece11ab6de26
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 3 21:28:26 2008 +0930

    dmx: some more build fixes.

commit 8d4d0b47a07a298a20ffae9fefe96c8c7ca9dccc
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Thu Jun 5 09:19:16 2008 +0930

    gl: include assert.h if we're compiling with DEBUG.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 8644aa47177bf20f3aa85181032ce75c08270fc5
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Thu Jun 5 08:55:09 2008 +0930

    mi: minor build fix when compiling with debug enabled.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit fbf4b5f16ac23359872361c8c95a617fe8c92292
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 4 11:10:46 2008 +0930

    dix: set dst->mapWidth when allocating a new map.

commit ff3adf3e564d94fea18e48f966de40a7ded1279e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 4 11:10:11 2008 +0930

    xkb: reset xkb_cached_map on CloseDownDevices.
    
    Could lead to some invalid pointers in the second server generation.

commit 40855d8000b9b9f4e6c6b4317542378ecf516345
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jun 4 12:19:28 2008 -0700

    XQuartz: Removed async debugging sleep
    (cherry picked from commit 7812a8bdf9fab651ea5c07b852b2999547ec628d)

commit ee86b751192b690973ee2a1446a406bc721ce8eb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jun 4 12:01:19 2008 -0700

    XQuartz: use a condition variable to signal when darwinEvents is ready rather than polling
    (cherry picked from commit ff1c443cadf11d12a7d939e51194f6105153870e)

commit 38da26cd36957a45b2a47ef124282f7d863a9fd3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jun 4 11:35:24 2008 -0700

    XQuartz: Don't forget to destroy the mutex and cond after we're done with them
    (cherry picked from commit c3558bb8cd889e5b957190e9f5d23afad1e17b72)

commit ea40fcf4344c6e918d3be34354528940b05a70f3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Jun 4 11:18:52 2008 -0700

    XQuartz: Fork for trigger
    (cherry picked from commit dd0f8a0f59593d7831fe09a2a086fcd57c84910e)

commit 2393dae6ffff7db8281a7977039450e8754cc19f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Jun 3 00:06:26 2008 -0700

    XQuartz: Switched over to new startup path for testing.  Cleaned it up a bit.  Server still crashes when using the icon to launch =/
    (cherry picked from commit 7f840e9dc180421eaa9b0ea3ab993fdd5b2466e5)

commit 45b661c67aca1a728f1793dd94d701488f1f196c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 4 13:39:39 2008 +0930

    dix: Fix build with --disable-xinerama #16204
    
    X.Org Bug 16204 <http://bugs.freedesktop.org/show_bug.cgi?id=16204>

commit 26e7e69ab893d1f2b35213250ada40ec90944f62
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jun 2 11:04:41 2008 +0930

    kdrive: don't post motion event if there was no motion. #16179
    
    Based on the patch by Tomas Janousek.
    
    X.Org Bug 16179 <http://bugs.freedesktop.org/show_bug.cgi?id=16179>

commit ac1db454497ff1839aa7f7ee0649ede112824ed9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jun 2 10:40:10 2008 +0930

    xfree86: suspend signals while removing a device (corrected version).
    
    Block/Release is now symmetrical.

commit 95ecaa411aefbcd8e2e00814132cb07b4be4e5bf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jun 2 10:38:45 2008 +0930

    Revert "xfree86: suspend signals while removing a device."
    
    Left the signals blocked hanging after removing a master device.
    
    This reverts commit 74372fd0049676787904f1f9f80f836b97f5f60e.

commit 5ba07cb54803b8c63e25e8ca1f1787860f684612
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Sun Jun 1 18:31:52 2008 -0300

    kdrive: changes ephyr API according mpx merge.
    
    This fix host-cursor in Xephyr server.
    
    Signed-off-by: Tiago Vignatti <vignatti@c3sl.ufpr.br>
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 5a3d06b8f42473cea3741dc722a775deaa2b73f6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jun 1 15:20:42 2008 +0930

    xkb: delete default rules when devices are closed.
    
    We only have one set of default rules options in xkb. When the second keyboard
    is brought up with Xkb options specified, these new options overwrite the old.
    In future server generations, the rules used for the VCK are a mixture of the
    default ones and ones previously specified for other keyboards. Simply
    resetting the xkb default rules to NULL avoids this issue.
    
    Reproducable by setting XkbLayout "de" and XkbVariant "nodeadkeys". In the
    second server generation, the VCK has "us(nodeadkeys)". This again produces a
    SIGABRT when the first key is hit.
    
    I could not figure out why the SIGABRT happens. This patch is avoiding the
    issue rather than fixing it.

commit 5ebe76f13fb6e96cebe5a386024a73eceeb828ff
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat May 31 22:13:03 2008 +0930

    config: init dev to NULL to shut up a valgrind warning.

commit a7ae9cbd78193fdafcafd5d7af1f6fabbb434628
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat May 31 20:44:58 2008 +0930

    dix: don't read valuators past numAxes.

commit f79ad5674ed41c3626e8055cd2bac0135de928c6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat May 31 18:46:35 2008 +0930

    kdrive: fix up callers to KdQueueEvent, need to pass xEvent, not EventListPtr

commit 58d12c99abc4d06cb8b43386d4bcd126f0bedf83
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat May 31 18:45:11 2008 +0930

    mi: Remove #ifdef XINPUT, kdrive otherwise won't get events.

commit 942086fc965fc9a24be2db4f537f0ff54db51083
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat May 31 18:17:49 2008 +0930

    dix: ProcQueryPointer doesn't need special grab handling, PickPointer does it

commit 6cecae0e8651b1fa58b3cd0e0a636db46f56f6a6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat May 31 13:12:53 2008 +0930

    dix: Remove superfluous comment.
    
    This code can handle devices with < 2 valuators now.

commit 105d28652d1fb80dd8ce8511e2605dccc8812e99
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 30 15:20:35 2008 +0930

    Xext: use GPE/GKE from XTestFakeInput #16145
    
    This commit fixes two problems:
    1) XTFI used to assemble the event itself, then passed it to the device. It's
    much easier to just pass the variables into GPE/GKE and let the DIX do the
    rest.
    
    2) XTFI would pass the VCP/VCK as default device to event processing. As a
    result, updating LEDs would be updated on the VCK, not on the actual keyboard.
    Instead, we now pass the events through the last-used SD, thus toggling the
    LEDs on the last keyboard that sent through this MD.
    
    Also some cleanup in XTFI to merge validity checks a bit closer together
    rather than having several different sections.
    
    This breaks XTestFakeMotion with Xinerama though.
    
    X.Org Bug 16145 <http://bugs.freedesktop.org/show_bug.cgi?id=16145>

commit 341a61b608873c77b1a17fe7d145ed3ad716e5a3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat May 31 12:01:47 2008 +0930

    mi: reduce noisyness. DebugF is enough if device ID can't be changed.
    
    Also - printing out the event type is actually helpful.

commit 62c1a32976d571f3ced1812b8b96ed5a8e658b4a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat May 31 10:24:37 2008 +0930

    dix: null out dummyDev, otherwise Xephyr dereferences random pointers.
    
    SendEventToAllWindow eventually causes a IsInterferingGrab(), which attempts
    to dereference dev->deviceGrab.grab.

commit 150c2f55a508ed24b230f68e30ec140c0901d9ae
Author: Julien Cristau <jcristau@debian.org>
Date:   Fri May 23 03:09:04 2008 +0200

    Add xkbstr.h and xkbsrv.h to sdk_HEADERS

commit f9bcecbe51e4cf0cb2d82ad953f8c6741ed5558b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 29 17:42:49 2008 +0930

    Xext: only free events in case of core motion events.

commit 8cf7755a85f5c1e5da7805c12b7511581a368782
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 28 18:05:25 2008 +0930

    Require x11proto 7.0.13, xextproto 7.0.4 and inputproto 1.9.99.1

commit 9b544fa40062b342ff3aa75f8f21d0bd4cec80ab
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 28 12:27:07 2008 +0930

    mi: ansify.

commit 64677f6a167a5bee99e5dfb599a3c3a6fb5dffe7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 27 21:01:26 2008 +0930

    xfree86: fix offset error in EDID parsing. #15964
    
    X.Org Bug 15964 <http://bugs.freedesktop.org/show_bug.cgi?id=15964>

commit c8af7ce35a900ac9b898f51c1b95dabad3ba1d76
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Fri May 23 13:50:39 2008 -0300

    Correct a NULL pointer deference
    
      The problem happens if Monitor/Card combo doesn't provide EDID info,
    and the XFree86-VidModeExtension extension is used.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 3a1278907ea8059546c7b9ab0c02714832c693e3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 26 18:01:07 2008 +0930

    xfree86: Bump XINPUT ABI to 3.0.

commit 0050165a67bb462e0bf644a11644ad9d587c62bb
Author: Simon Thum <simon.thum@gmx.de>
Date:   Mon May 26 17:56:08 2008 +0930

    input: change dxremaind, dyremaind to floats for better acceleration #9156
    
    X.Org Bug 9156 <http://bugs.freedesktop.org/show_bug.cgi?id=9156>
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 26c1958c322be3ac4dfec9ba2c41c5202bd03709
Merge: 5fe5778 2958610
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 26 17:37:31 2008 +0930

    Merge branch 'master' into mpx

commit 5fe57787faa2ea4f2f57b25455d200bf924206d6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 26 17:23:34 2008 +0930

    dix: store the absolute values in the motion history.
    
    The core protocol requires absolute values and it's a bit hard to get them if
    we only have relative ones in the history. Switch the motion history to
    absolute, and if we really need the relative values, we can probably generated
    them from the abs. ones in the future.

commit 1883485edd7eb90c0b76bca41c71e26ae2c0b91a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 26 16:35:23 2008 +0930

    If core motion history is required, scale back to screen coords and INT16.

commit 0b88510069bdf6d020d73b424f62c2923c0db4a4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 26 13:53:45 2008 +0930

    Ensure the motion history is merged for master devices.
    
    Add each event to the master's MH as well as to the SDs. In the MD, store
    min/max and the actual value. When retrieving the MH, rescale all coordinates
    to the current coordinate range and only post those valuators that are
    currently active on the device.

commit d22c25bda450f6f1dfa634f0f72b32c4bec429cd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 26 09:26:18 2008 +0930

    dix: Allocate MD's motion history to be large enough for potential valuators
    
    Since we can't predict how many valuators may be in a future SD attached to an
    MD, we need to preallocate a history buffer that is large enough to keep
    MAX_VALUATORS coordinates per event.
    
    In addition, the history buffer needs to memorize the coordinate ranges at the
    time, thus requiring MDs to store (min_val, max_val, current_val, time)
    instead of (current_val, time) for each motion history entry.
    
    This commit only fixes the allocation.

commit 0877de13ac6ddfb55108aa3456d47f970c6c442c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun May 25 22:49:54 2008 +0930

    Remove GetMotionProc from ValuatorClassRec.
    
    With the MD/SD device hierarchy we need control over the generation of the
    motion history as well as the conversion later before posting it to the
    client. So let's not let the drivers change it.
    
    No x.org driver currently uses it anyway, linuxwacom doesn't either so dumping
    it seems safe enough.

commit 00b4339168c10dd4ce026deb8e04bfb63dfd11dc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun May 25 22:34:11 2008 +0930

    dmx: remove some #if 0'd code.

commit 096117cf023dc92dcadc91677931fc6ad1feb4a0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun May 25 10:38:33 2008 +0930

    Xi: reset motion history when swapping device classes.
    
    This isn't really the correct solution, but it'll have to do until I figured
    out how to transfer the history over correctly.

commit 29586101dc11d498b212510f8dedbfeca7f8c859
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat May 24 20:01:41 2008 +0200

    EXA: Only record damage generated by rendering operations.
    
    Recording damage from other operations (e.g. creating a client damage record)
    may confuse the migration code resulting in corruption.
    
    Option "EXAOptimizeMigration" appears safe now, so enable it by default. Also
    remove it from the manpage, as it should only be necessary on request in the
    course of bug report diagnostics anymore.

commit f6d61d3d86971d6a202b46ff2fab8c8799a4d057
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat May 24 20:01:36 2008 +0200

    EXA: Don't migrate twice in exaImageGlyphBlt.
    
    exaPrepareAccess already handles migration.

commit d73304398255e0c3b03a497a8d4a2f8d900eef44
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat May 24 20:01:31 2008 +0200

    EXA: Don't suggest exaCopyDirty be inlined.
    
    Leave the decision to the compiler toolchain.

commit 3baf3b42e079b4e7b61c1e20df305db0724d21f8
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat May 24 20:01:21 2008 +0200

    EXA: Specify region used for source pixmap migration in exaCopyNtoN.
    
    Avoids excessive migration overhead in some pathological cases. See
    http://bugs.freedesktop.org/show_bug.cgi?id=15845 .

commit ba557e0263eee0b75847c596f31c71492611b22c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat May 24 17:23:10 2008 +0930

    Xi: remove deprecated comment.
    
    Axis clipping wouldn't be necessary here, it's already performed in GPE.

commit e6cbb1e11e5da1a8b9001853c25f4e5a052e7110
Author: Julien Cristau <jcristau@debian.org>
Date:   Fri May 23 23:00:40 2008 +0200

    xfree86: fix build on GNU/kFreeBSD
    
    GNU/kFreeBSD defines __FreeBSD_kernel__, but not __FreeBSD__.
    Unify preprocessor conditionals between variable declaration and use.
    Debian bug #482550.

commit 6c72961d8fa1ab1543f1b3e2cc7d34ff6d254bf8
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri May 23 22:39:35 2008 +0300

    glx: fix memory corruption with r5g6b5
    
    should cherry-pick to xserver-1.5

commit 21a8052fdca2115668dfc747b0b58db437b4eb6d
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri May 23 22:39:09 2008 +0300

    glx: fix forgotten swrast -> SWRast

commit 877e6c35ff1f0f110627590ac0f12fddf47de506
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri May 23 22:38:36 2008 +0300

    glx: missing swrast is fatal

commit 1345c93ad4be875951256dae87bc4fd9a1b5e08a
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri May 23 22:38:11 2008 +0300

    glx: drop stray glcore.h include

commit ae0504d34d245f15b2f098a63ad1a9e1c4daef35
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri May 23 22:40:03 2008 +0300

    kdrive: need not export symbols for glx anymore

commit 7082929ef7db20b507dce5a8cec043e787d0b55e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri May 23 02:27:58 2008 -0700

    XQuartz: A 2 second delay for launchd socket connections should be sufficient.
    (cherry picked from commit 2bb4251b3c6b30dbf1a556e1b51e6f03f02d2529)

commit 5a388b27a094c71b4214aa744b2ba0fdda7fd607
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri May 23 02:10:14 2008 -0700

    XQuartz: Add the launchd fd to AllSockets as well
    (cherry picked from commit 83f72529394be5871671d73b6ef4f8bc83708f8a)

commit 77b688a73025238ed9fe286a2bae8f78da65fce3
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri May 23 02:32:28 2008 -0700

    XQuartz: Don't need launchd checking in configure.ac anymore since its functionality has been removed from libxtrans and into the mach startup code.
    (cherry picked from commit 1e1f4fb717d2f3a3227be2a034d28d6a4f29b5d1)

commit 225dddbaeded4d64fcc104da538449e5c4dedd2d
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri May 23 01:39:02 2008 -0700

    XQuartz: Move the launchd display grabbing into mach_startup
    (cherry picked from commit c3866c98d23020d2151977ee1177b6054d05832e)

commit 3a22190061c7ebefee85564b0def5e1112c07ae8
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon May 19 03:13:09 2008 -0700

    XQuartz: Fixed a few issues with fd passing... still not working =(
    (cherry picked from commit 7dd351271522b475d8017e4bd1618f12817ee2fa)

commit 3ae0f4fc832462444d03024c5fbb867f19d5e960
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 23 15:02:43 2008 +0930

    dix: update valuators > 2 as well.
    
    master->last.valuator[x] for x > 2 is undefined. For all other devices, it's
    the respective device's last valuators.
    
    If the lastSlave did not have a valuator that is to be updated now, it is
    reset to 0.

commit 0d1b41ace38bc918e2cc2a0a6ad107c76346fd00
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 23 13:32:33 2008 +0930

    Xi: update device valuators based on the event.
    
    Event is always absolute, update the device's valuators (always absolute too),
    and then change the deviceValuator event to reflect the device's reporting
    mode.

commit 7eec1c23a34591064ea64499acb24f22ada08dfa
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 23 13:23:02 2008 +0930

    dix: don't allow relative data in deviceValuators.
    
    In GPE, we don't care about the device mode. Let's put the absolute values
    into the deviceValuator event and worry about relative valuators on the other
    side of the EQ.

commit 75551a2ef949c2cfb53fdc4b97f3964a5e2f45f5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 23 12:55:50 2008 +0930

    Revert "dix: Correct values in the device axisVal are calculated in GPE"
    
    We can't rely on GPE to update device->valuators->axisVal. If a SIGIO occurs
    during event processing this may have incoherent results.
    
    This reverts commit f6645ddbf754c80e9a8b1672519534a887622270.

commit fe59b1a62b2c7f467d20132db4913317bbf308eb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 23 12:51:52 2008 +0930

    dix: more device scaling insanity.
    
    Assuming master->last.valuators is in screen coords, SD's are always in device
    coordinates.
    
    1. If an event comes in, scale masters->last to the device, drop into device's
    last->valuators.
    2. Apply motion from the actual event
    3. Scale back to screen coords, check if we may need to cross screens
    4. Drop screen coords into master->last
    5. Rescale to device coords, drop into deviceValuator event and SD->last
    6. Drop screen coords into ev->root_x/y
    
    Whoopee...

commit 6c9e9f8a40e20fb1761440acd2755f5fd31f4d44
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 23 11:51:53 2008 +0930

    input: instead of lastx/y, use a last.valuators[] array on the device.
    
    During GetPointerEvents (and others), we need to access the last coordinates
    posted for this device from the driver (not as posted to the client!). Lastx/y
    is ok if we only have two axes, but with more complex devices we also need to
    transition between all other axes.
    
    ABI break, recompile your input drivers.

commit fb146cbb0f28e4e480e5d16d61476ac46b5d00ce
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 23 12:00:13 2008 +0930

    dix: coreEvents doesn't have meaning here, use master instead.
    
    We mustn't clip x/y if we are attached, otherwise we can't change screens.

commit fc1cc0adcb91fdfa4c547bf379a85f9558c959ff
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Fri May 23 00:33:18 2008 +0200

    dix: Cleanup of GetPointerEvents
    
    Changed all the checks for x&y valuator so the more complex
    calculation is only made once.
    Added TODOs for valuator/axis 2 and above for future correct
    handling of relative reporting of these.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit a0241d5380bb5d8b10865f8ea81a9a011de4aaf1
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Fri May 23 00:36:11 2008 +0200

    dix: Correct clipAxis so it can handle devices with value ranges properly
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit f6645ddbf754c80e9a8b1672519534a887622270
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Thu May 22 23:33:45 2008 +0200

    dix: Correct values in the device axisVal are calculated in GPE
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 7f85acdf70c67c567de688439e25081be5a7d5df
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 22 23:27:15 2008 +0930

    dix: fill valuators with the correct values depending on the device mode (GPE)
    
    valuators[] is passed from the DDX. Depending on the device mode, update it
    with either absolute values or relative values. The deviceValuator event sent
    to the client will then contain the respective values.

commit 1a3f351c50cba66f71a73239318174b09fd9b63b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 22 23:25:20 2008 +0930

    dix: when floating a device, create a new cursor sprite.
    
    This is essentially necessary to allow calls to miPointerGetSprite etc. to
    work for floating slave devices.

commit e0fbe404a436aef24624a3a15e8405a9ca38aadb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 22 23:24:29 2008 +0930

    mi: handle sprite even for floating slave devices.
    
    We still don't render it, but we accept all the other calls to update it's
    internal state.

commit 0f15875a271889ae3cc4997ad15f787ea28b3a08
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Sat May 17 19:24:00 2008 +0200

    Make all conversion handling in GPE.
    
    This isn't quite finished yet, but at least it gives us the ability to use a
    tablet as a normal mouse - with all the scaling in place.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 74372fd0049676787904f1f9f80f836b97f5f60e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 22 18:02:10 2008 +0930

    xfree86: suspend signals while removing a device.
    
    Getting a keyboard event while halfway through freeing memory can be
    unpleasant.

commit 30e9a33f7d1972dcf1c29c7455b2cea4e5857913
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 22 16:00:21 2008 +0930

    xkb: fix crash caused by uninitialised variable.

commit e837244947fbb18192e9056c070ce439ef24d1a3
Author: Dan Nicholson <dbn.lists@gmail.com>
Date:   Wed May 21 16:14:55 2008 -0700

    Actually enable building GLX without Mesa source

commit ea4ec9e9983e25d94a3edf8a77ed2ad1db193284
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue May 20 13:59:09 2008 +1000

    int10: add pci_device_enable support on Linux

commit 4230b92744d54528f48ddc3b096a265b488053c9
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 21 17:58:15 2008 -0400

    Clean up remaining afb references.

commit 20ea99c655140e101f2d20cfab78fb22765fec62
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed May 21 17:03:25 2008 -0400

    Death to afb.
    
    Planar framebuffer people, please talk to wfb for all your 1988 hardware
    needs.

commit c76fddeea28b4f88db97a2a3487d7a57cd9d578c
Author: Dan Nicholson <dbn.lists@gmail.com>
Date:   Wed May 21 10:51:15 2008 -0700

    Fix up paths for GL/glx -> glx renaming

commit c3eb5b80d8cc7ca6a425ccf359718d1ef3d5af55
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 21 13:33:36 2008 -0400

    Move GL/glx on level up now that it's the only thing left under GL.

commit a8a9b40e554dd0c184866978889a39519afc466a
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 21 12:34:07 2008 -0400

    Move the windows GL files to the xwin DDX.

commit e5aad4bc087036489e2af576628aa9b612054a6e
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 21 11:44:12 2008 -0400

    Get out of the mesa symlinking business.
    
    This copies over the files generated from mesa/src/mesa/glapi.  There's
    a corresponding mesa commit that makes it easy to generate the glapi files
    straight into the xserver tree when the XML definitions change.
    
    The only few files that are copied from mesa but aren't generated are
    glapi.[ch] and glthread.[ch].  Everything in there is technically DRI
    driver API and the whole setup is still a bit fragile, but it's not a new
    problem.
    
    The --with-mesa-source configure option is still around since other
    parts of the server (XGL and DMX - grep for MESA_SOURCE) need that,
    but for common case of building with GLX and AIGLX support, that
    option is no longer needed.

commit f558c7d4d1d87affe1ce4aec2e62ff64545f2bc8
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 21 10:18:16 2008 -0400

    Use LD_EXPORT_SYMBOLS_FLAG when linking Xnest.

commit 77ff8fd5072fa57158463bfd84656389eeb7b503
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 21 10:17:53 2008 -0400

    Drop glcore GLX provider.
    
    Obsoleted by the DRI swrast driver.

commit 61eaef22359ae2abcee7dcd73ee8610a83776fc7
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue May 20 16:56:27 2008 -0400

    Stop symlinking glcontextmodes.[ch] from mesa.

commit 88f43e5d06fb5543bc40ca060b2c5d8e2673afad
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed May 21 18:13:47 2008 +0300

    glx: drop drm.h, sareaHandle from swrast loader

commit 255142b61eb73843b16c2afdb95aa4d1f27e4f0d
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Jan 3 17:53:56 2008 +0200

    drop xprint remnants: InitGlobals

commit 641ce9c706ce3cbf726fb3fc9623161bb96ba127
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Jan 3 17:28:04 2008 +0200

    drop xprint remnants: xpstubs

commit 5c5a1eaf68eb11053fd5b99d24eb8024b6d5b218
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 21 21:51:27 2008 +0930

    Replace UniSA with full Uni name in Author affiliation.
    
    Big boss says UniSA isn't unique enough. Who am I to argue?

commit 7509fb498c02fe1cebe4139612b8871ec877c130
Merge: 2ae3bed dfb7de6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 21 16:25:35 2008 +0930

    Merge branch 'hwcursor' into mpx

commit 2ae3bed33731d800bb28a968e3a1c8066d179740
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 21 15:51:35 2008 +0930

    mi: shut up compiler warning (return w/o a value)

commit 8b3d26f5b6caff1766669deb0e2100d2dee3f185
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue May 20 12:39:28 2008 -0700

    Short-circuit PanoramiXTranslateVisualID after verifying that the visual actually exists first.
    
    This allows using PanoramiXTranslateVisualID to test whether a given visual made
    it through PanoramiXVisualConsolidate.

commit 6ff6465931c397f72db27a4fd0ca0dcac0609537
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue May 20 16:36:22 2008 -0400

    Add loader for the swrast dri driver.

commit 4056595fc77c20052e226b402e38a2a914dca123
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 20 18:57:31 2008 +0930

    xkb: remove superfluous checks in if statement.

commit 925e895b869e461a9e7f135891463c56ee633cd6
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon May 19 18:43:29 2008 -0700

    Restore return type on xf86SetScrnInfoModes
    
    Seems to have been accidentally lost by commit 	76943fec860315f3c93539e59a59080b8a7b3e75

commit 7a550cefd9417c22a4397ea4d103ddc347ab1a0f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 20 11:07:39 2008 +0930

    dix: shut up two compiler warnings.

commit f9edecd1b53a2e234def9cbd954a47c4bda2bebc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 20 11:07:17 2008 +0930

    mi: sync declaration and definition of mieqResizeEvents.

commit e73a03d589b47ac9131f3932da7f78d2fef7bfb5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 20 10:54:32 2008 +0930

    fb: shut up two compiler warnings.

commit 99d28c3ef37aeffe7d8ec41e45a650ba248c6958
Merge: fc7e256 0178b6a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 20 10:20:14 2008 +0930

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	Xext/xprint.c (removed in master)
    	config/hal.c
    	dix/main.c
    	hw/kdrive/ati/ati_cursor.c (removed in master)
    	hw/kdrive/i810/i810_cursor.c (removed in master)
    	hw/xprint/ddxInit.c (removed in master)
    	xkb/ddxLoad.c

commit 0178b6a4abed0df3e90ba393709ed566105e7c2c
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon May 19 11:22:19 2008 -0400

    Fix reduced-blanking mode filtering in RANDR 1.2.
    
    If the monitor isn't reduced-blanking (either through EDID logic, or
    config file setting), then remove RB modes from the default pool.  Any
    RB modes from the driver and config file pools will stick around though;
    you asked for them, you got them.

commit bb687465d0c5aef3cc1c865e6ea67c01a8b417fb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon May 19 02:45:47 2008 -0700

    XQuartz: First stab at SCM_RIGHTS passing the $DISPLAY launchd fd from the stub to server
    (cherry picked from commit cccee9cfc29f85cca635df3b8dd54199b45c4df8)

commit 4b69d22bcb79210225379da2cefb0cd8d5ffa10e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun May 18 23:51:06 2008 -0700

    XQuartz: Fixed dropped code in the !XKB blocks, disable XKB support until we figure out a solution for xkeyboard-config
    (cherry picked from commit 2a72309c061f7060480d150791019ce232481462)

commit e997df8cd3c4222ea9fc3f0ebda728c4d1f15df5
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun May 18 23:31:41 2008 -0700

    XQuartz: Cleaned up ListenOnOpenFD...
    (cherry picked from commit 6fb587d3d5fbbaee9e46cdce24d03e5d1c66d58a)

commit 738672858d9399ecbc170500c15f90bf657502d2
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun May 18 23:02:12 2008 -0700

    New XQuartz icon thanks to Simone Karin Lehmann
    (cherry picked from commit c27e0c8f3c5108192362735db8a80bf3a9a1cc3a)

commit 4be2104c801340075e030d06d24ceb4d8a6d6549
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu May 15 12:26:32 2008 -0700

    XQuartz: More work towards Mach-IPC startup... started working on FD passing
    (cherry picked from commit 27fbfeacfa16d620801ac3492b25c1e50aec8588)

commit 82c4075d4ba3bea03341c80b754b0f9d2f62a826
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon May 19 03:15:11 2008 +0200

    xfree86: fix initial output positions with Above or LeftOf and rotation
    
    The fix in fa19e84714aa84a2f2e817e363d6440349d0b619 was incomplete,
    as it was still using the wrong output's initial rotation to compute
    the position.

commit 7dca84f3ee7265119fb81d598d7d2f7363e25f1f
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon May 19 11:16:08 2008 +1000

    cursor: don't dereference NULL pointer is devPrivates not yet set.
    
    This fixes a bug on server recycle with ati zaphod.

commit 5af5db5033582a84b616d5c50f4288adb0210459
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat May 17 14:51:09 2008 -0700

    XQuartz: Ok, pass XQUARTZ_USE_XKB since it breaks worse without it... but we have issues when we have the keyboard configs installed... need to figure out what to do there...
    (cherry picked from commit 301262b07024ad960f22d99a1267fe137f5c3fce)

commit 2408303d79297385063cae557195bd5fd3698478
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat May 17 14:56:53 2008 -0700

    XQuartz: Added functionality to add a file descriptor to the connection list after the server is already running.
    (cherry picked from commit 543c2cd68d1ffef65d4644b860faad7191c6b9da)

commit 01612fe612aa27262fc3c8167f52e0376941f1ef
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu May 15 07:08:21 2008 -0700

    XQuartz: Disable xkb since it doesn't work after getting xkeyboard-config installed
    
    Need to setup configs for the quartz keyboard
    (cherry picked from commit c28fecc621b1803a4d4536afbc724d141de9e6ee)

commit 1d09deaa6e5a75420ea4f24f6b5533f0ebc3ba28
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu May 15 05:49:43 2008 -0700

    XQuartz: Made DarwinSendDDXEvent a little more robust to context switching diring server init.
    (cherry picked from commit 5626b0949b1a6bdd2fa3ec2ef53a688084349b87)

commit adc62f62b9f08aa6633718989ab61b61e3c1e8e2
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed May 14 01:33:43 2008 -0700

    Xquartz: Xquartz stub now can send Mach IPC to start the server.
    (cherry picked from commit 55a3bca8ea42f8677897f94bf0a429bdc08c6696)

commit 93c082a060bfa8d2a204c0c57ec3507a8edea087
Author: Brad Smith <brad@comstyle.com>
Date:   Sat May 17 13:14:31 2008 +0200

    OpenBSD doesn't define __x86_64__, simplify tests.
    
    Seeing as this code seems to be specific to OpenBSD I don't think
    __x86_64__ should have been added there at all. It appears to have
    been added wherever __amd64__ existed before which is wrong. I
    think that part of the commit should be reverted but also all four of
    the checks should be __OpenBSD__ && __amd64__ instead of two one
    direction and two flipped.

commit 895d4e274d2b4638f0e6838dfee0e543311dba34
Author: Brad Smith <brad@comstyle.com>
Date:   Sat May 17 13:05:58 2008 +0200

    BSD's also have /dev/urandom.

commit aad1c37b0951eae216ac323c5d8bfc6fbcf096bd
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri May 16 10:52:41 2008 -0400

    RANDR 1.1 compat: remove senseless comparison against the virtual size.

commit 14726b776d6cebb7d864b6ffa7554e1ce5637d5c
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri May 16 10:51:32 2008 -0400

    xf86SetDesiredModes(): Skip disabled CRTCs first thing.

commit 459f34b089aca4f4eee9752600c3a9e4f4e343ab
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri May 16 10:48:00 2008 -0400

    Fix initial mode selection even harder.
    
    The first guess used to be "is the preferred mode for one output the
    preferred mode on all outputs".  Instead, do "find the largest mode that's
    preferred for at least one output and available on all outputs".

commit 96111c154713600dd534dd82104ac18b91466202
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri May 16 10:31:58 2008 -0400

    Redo RANDR compatibility output selection.
    
    Old logic was just the first one that happened to have an associated
    CRTC.  The new logic tries to find one that's definitely connected, has
    probed modes, and has the largest candidate mode.

commit a4bbe1c8bca08f3df5ff7e50444af6aef7ec8b25
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri May 16 10:25:12 2008 -0400

    Re-add sync range inference from legacy setup to RANDR 1.2.

commit f52f6c5c7efc281f9ac204fbaa4f71383df7463d
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon May 5 14:37:07 2008 -0400

    Fix hal shutdown crash.
    
    Removing the device invalidates its ->next pointer.  Copy it aside before
    destroying the device.

commit 99e4531f7c3fafce065dfd21f65bad1cf190c3f1
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri May 16 08:16:01 2008 -0400

    The great kdrive purge.
    
    Most of these drivers didn't work.  ati was the only one that even came
    close.  The igs, ipaq, itsy, pcmcia, savage, sis530, trident, trio, ts300,
    and vxworks directories have never built since modularisation, so clearly
    no one can miss them.

commit fc7e2566cc076c0d979f74871bc436df43401058
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 16 16:59:34 2008 +0930

    Xext: fix typo in condition.
    
    Fall-out from dc3aba8a559d4304844ee1cc306c577a63b82762.
    We must free the event if it is NOT an extension event.

commit 6fb76acc4524d6af4bfb6bc6d862c1ee2bbb8baa
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 16 19:22:32 2008 +0930

    mi: remove miPointerUpdate() -> replaced by miPointerUpdateSprite().
    
    In the xnest and vfb DDX we don't need the call anyway, it's performed by
    mieqProcessInputEvent.

commit dfb7de6571345061d1cd88ab915064fc376529fd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 16 20:56:04 2008 +0930

    mi: don't call from miPointerMoved into the spriteFuncs for anything but VCP.
    
    Calling ->MoveCursor for anything but the HW-rendered VCP causes the
    SW-rendered cursor routines to be started, including mallocs, etc. Since
    miPointerMoved is called during SIGIO, this is a bad idea.

commit f611719edce2ae51dca8e53947a3938b53c20b00
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 16 19:49:29 2008 +0930

    xfree86: always render first cursor in HW, all others in SW.

commit 48ba58feacedf9781db81c82adbb37197d9a5cd1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 16 19:22:32 2008 +0930

    mi: remove miPointerUpdate() -> replaced by miPointerUpdateSprite().
    
    In the xnest and vfb DDX we don't need the call anyway, it's performed by
    mieqProcessInputEvent.

commit 622d7c1d899a6146773a2ebd1d632a805f24025e
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed May 14 14:49:09 2008 -0300

    Restructure and organize the code.
    
    It was removed and simplified some conditionals. We don't need test for
    pDev->isMaster inside xf86CursorSetCursor() because only MD enters there.
    
    In the last chunk, ScreenPriv fields were being assigned without need, so
    that code was wrapped inside the conditional to avoid it.
    
    I also tried to make the identation more sane in some parts that I touched.
    
    Signed-off-by: Tiago Vignatti <vignatti@c3sl.ufpr.br>
    
    Minor modification, part of the original patch led to cursors not being
    updated properly when controlled through XTest.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 5af90025fee6a92e7d94642978feed21f902d0cb
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed May 14 02:45:49 2008 -0300

    Remove redundancy.
    
    The only function that cat set SWCursor before xf86DeviceCursorInitialize()
    is xf86InitCursor() when VCP and is created.
    
    Signed-off-by: Tiago Vignatti <vignatti@c3sl.ufpr.br>
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 9fc94edfe3df4c4a84ad70714c0a4ef8bbf57fc9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 16 16:59:34 2008 +0930

    Xext: fix typo in condition.
    
    Fall-out from dc3aba8a559d4304844ee1cc306c577a63b82762.
    We must free the event if it is NOT an extension event.

commit 5127942f80983b2e053dddd5c5747d0c3d2f9d6d
Author: Brian Rogers <brian_rogers@comcast.net>
Date:   Fri May 16 10:08:04 2008 +0930

    DGA: pass nevents to UpdateDeviceState. #15936
    
    Missing parameter caused event processing to go nuts when checking valuators.
    
    X.Org Bug 15936 <http://bugs.freedesktop.org/show_bug.cgi?id=15936>
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 28378d26b4bae377ef1212f6a51cda9b5529f1b5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 15 11:09:15 2008 +0930

    Xi: assemble button/modifier state before updating the device. #15934
    
    The state field of the event must specify the state of the devices before the
    event occured. With the code as it was, the state would also include the
    event (e.g. state from a button press event would show the button as pressed)
    Gathering the state before updating the device should fix this.
    
    X.Org Bug 15934 <http://bugs.freedesktop.org/show_bug.cgi?id=15934>

commit 7cabf81c8638739a15a1be6baa3fc569f38e7589
Author: Eric Anholt <eric@anholt.net>
Date:   Thu May 15 13:24:27 2008 -0700

    Add necessary include for COMPILEDDISPLAYCLASS.
    
    Fixes build after 07f69023b0e75d98a4be8f0d1c3dd9391b8149a0.

commit 07f69023b0e75d98a4be8f0d1c3dd9391b8149a0
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed May 14 16:07:51 2008 -0400

    Move defaultDisplayClass to xdmcp-only visibility.

commit 166177e36bfc7bd1df03663ad89500cff056d563
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed May 14 16:02:05 2008 -0400

    Simplify default font path setup.

commit 2efe1abb6fc786a4f86464978ae0d23fc7347a98
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed May 14 15:53:11 2008 -0400

    Remove global argc/argv variables.
    
    Was only used in the logging code anymore, and uselessly so there.

commit 6c27b911222cdee9a057de0be7e8b2eff8b1ff2a
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed May 14 15:44:04 2008 -0400

    Restore compression of duplicate log file entries.
    
    This undoes the workaround for bug #964, which was an Xprintism.

commit 937e5aae33d3b5112b5d10d605e25f57b48caa3f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 14 22:30:15 2008 +0930

    dix: don't undisplay cursor if we don't own a sprite.
    
    Sometimes we didn't have a cursor when coming back from suspend. Reason was
    that the suspend caused the server to lose the device that was attached to the
    VCP, and a RemoveDevice() would then set the cursor to NULL.
    Solution: only set the cursor to NULL if we actually own the sprite.

commit cbb4e80eb7cc8dc2aff5e5268b49cdb7b3c3d5fa
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed May 14 01:13:15 2008 -0700

    XQuartz: More work on the Mach-IPC startup path
    (cherry picked from commit 49cd0b185fd6c99b07357a74734b6a4023faca84)

commit 3b57c59bb08c9a3211f4ae57d9e2fb569d61bf2f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue May 13 10:40:20 2008 -0700

    Xquartz: More work on the new Mach startup
    (cherry picked from commit 6237acf75d3310d7d4f262556b677557c2907284)

commit e435acc84cb9477455ad005cee658630cbd363a2
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon May 12 17:57:07 2008 -0700

    Added missing to EXTRA_DIST
    (cherry picked from commit e39613f4633ed992bc276b70833a703560e528f9)

commit f7d6d20ad64b235700185784d317417a94d1814b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon May 12 13:36:35 2008 -0700

    XQuartz: Cleaned up the about box.
    (cherry picked from commit 0279a5970694937e949ba533330ea48961c4edba)

commit b37e1f1f5ccc5a48df665449b0e31c4d25cc323c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon May 12 11:34:06 2008 -0700

    Don't need the fink-friendly printf in the DDX anymore.
    (cherry picked from commit fe2279440450c795d67ba5a2234b0797d0bfe39c)

commit 68b4f250eef441a3d75e3b9b2665a51d3a1538d6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 14 16:18:48 2008 +0930

    dmx: fix build.
    
    Just because it builds, doesn't mean it works.

commit 00db0f35acc00cb771ab1c23f35b0db1c25d81bb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 14 15:29:28 2008 +0930

    dix: InitAndStartDevices doesn't need a window parameter.
    
    Leftover from the old pointer-keyboard pairing code, obsolete and gone now.

commit da728f2127aaa5c1ed5d22bb9f3d0c8ff19e4933
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 14 15:17:05 2008 +0930

    dix: don't use serverClient in AddInputDevice, use the one supplied instead.
    
    We pass in the client that wants to create the device anyway, lets use the
    parameter instead of hardcoding the serverClient.
    
    Wow. I hope this is merge detritus, otherwise it'd be a sign that I didn't
    have enough coffee that day.

commit a6659291c798f417a76d9aa7944694ff27c01fa7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 14 09:42:50 2008 +0930

    mi: protect against NULL-pointer dereference.
    
    Required by the recent patch to use a NullCursor instead of UndisplayCursor().

commit 7cdc19b29d93bf15cecfd6b69e269fab2501bca0
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue May 13 16:39:30 2008 -0700

    When XKB fails to open rules file, log the file name, not the NULL file pointer

commit dc3aba8a559d4304844ee1cc306c577a63b82762
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 13 14:37:26 2008 +0930

    Xext: emulate XI events from core events when faking input.
    
    We need XI events for event processing, so lets get rid of the pure core
    events ASAP.

commit 8b3802d32041547fd6ed5393a56281c5c83d260e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 13 13:47:52 2008 +0930

    Xext: core button events have rootX/Y unset too.

commit ed65e8b4f02a6da7f1c5d85984a9ccf6a94d0181
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon May 12 18:49:34 2008 -0700

    Check for strcasestr and workaround it on systems without it

commit 8234af6c6a3ade13f7720743bde79957c7df3f6c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 13 11:17:39 2008 +0930

    xfree86: remove Ubuntu-ism.
    
    Additional #include was required due to broken libc headers or something like
    that. Remove it, there's more to the world than ubuntu alone.

commit 59b8d29b3a91c65787dfadb5610342a62e85c48c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 12 21:22:54 2008 +0930

    Xi: Fix up ProcIVector, got out of sync with the protocol.
    
    When the opcode squash happened in the protocol, the processing vector got out
    of sync for a few requests. As a result, client and server would interpret
    requests differently, leading to a couple of BadLength problems.

commit 1fc1a2897e9185838c29d9ffff07c39d2fdf174f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 12 20:14:05 2008 +0930

    Remove UndisplayCursor API.
    
    We can achieve the same thing by simply displaying a NullCursor, there's no
    need for a separate API.

commit 913989d643595030e67e7c0a758a16ae0da62ed9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 12 20:05:43 2008 +0930

    mi: don't try to display a cursor for devices w/o cursors.

commit 248a1df63430717550adb0e79068d8f9fcfacb0b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 12 20:05:21 2008 +0930

    render: don't dereference cursor if cursor is NULL.

commit c50b5d978981b13cdb22a9ad41c1b64f90cebe51
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Sun May 4 13:45:27 2008 -0700

    Bug #14692: Allow drivers to have a say in Xinerama visual consolidation.
    
    Create a new exported global variable, XineramaVisualsEqualPtr.  Use this
    pointer to decide whether two visuals are equal during visual consolidation.
    This pointer can be wrapped, which allows drivers and extensions to control
    which visuals are consolidated.  A wrapper can reject the visuals without
    calling down, but must call down and return that result if it deems the visuals
    equal.  This ensures that all layers agree that the visuals are equal.
    
    Pass the screen of the other visual into the VisualsEqual callchain.
    
    Don't free PanoramiXVisuals since we need it for PanoramiXTranslateVisualID.
    
    Don't skip the first visual on the other screen in PanoramiXMaybeAddVisual.
    
    Skip the loop in PanoramiXTranslateVisualID if screen is 0.

commit 86678e7cc2b021851ff508433fa160170f500c51
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon May 12 14:53:37 2008 -0400

    Fix fbdevhw initialization for PCI drivers.
    
    graphics/fb%d, not graphics:fb%d.  Thanks sysfs.  Thysfs.

commit 1c8bd318fbaf65890ef16fe26c76dd5e6f14dfde
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon May 12 14:15:11 2008 -0400

    X n'est pas une print API.

commit f9fae16456c30479b0cb9317e57200af36795785
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon May 12 10:36:44 2008 -0700

    XQuartz: Added some version checking protection so we don't trigger an infinite exec loop with new /usr/X11/bin/Xquartz and older X11.app
    (cherry picked from commit 78032815aeb10c22ff45b49702e9c9df82ab471c)

commit ac4e33a9cd0ca2f0ec76181d11d5b90b82690c05
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon May 12 09:27:27 2008 -0700

    XQuartz: More startup work... listen if we're the actual server
    (cherry picked from commit 3b0afb47c3d8ad922cb2315ed8034f4d77d4a249)

commit a7800d9355377ac02833613c2ffc2423beec9970
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri May 9 16:44:31 2008 -0700

    XQuartz: Starting to work on the new Mach IPC startup stuff for better launchd, ApplicationServices, and Dock support
    (cherry picked from commit 9b67fca9b7d3050d3d5582a5210270db7eb2ed05)

commit 04211c3532ca078420e3745a5eac3d9de120bc32
Author: James Cloos <cloos@jhcloos.com>
Date:   Mon May 12 03:03:13 2008 -0400

    Prevent the -wm command line option from causing a SEGV
    
    The -wm (when mapped) option for the BackingStore support has been
    causing the server to dereference a NULL pointer.
    
    This has probably been the case since backing store has been
    implemented on top of Composite.
    
    It looks like (some of?) Composite didn’t expect its WIndowPtr
    argument to be the root window.
    
    In Composite’s compCheckRedirect() function we now avoid calling
    compAllocPixmap() and compFreePixmap() when the pWin pointer’s
    parent member is NULL, as is it the case with a server’s root window.
    
    This addresses:
    
    https://bugs.freedesktop.org/show_bug.cgi?id=15878

commit 7e768c08f7809b8dba4db1931e63314e2b6e1cfa
Author: James Cloos <cloos@jhcloos.com>
Date:   Mon May 12 02:53:59 2008 -0400

    Clean up whitespace

commit 3b6735528efc6d69ab7a7cd63dd09c87db7ef115
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon May 12 16:36:42 2008 +1000

    pci: don't do this pci stuff when we don't have hw access

commit 9dfb525f6c91acab5d1a65765a046bf9ee2aa082
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun May 11 23:17:27 2008 +0200

    kdrive: allow disabling Composite
    
    KdInitOutput() used to enable Composite when it was disabled by default,
    but now this hack prevents ``-extension Composite'' from working.
    Remove it, as Composite is enabled by default anyway.

commit 1a01e96c6d15ef17a8b5ab1afa361fb12476a25e
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri May 9 15:38:44 2008 -0700

    Return a valid X error when stuck in font alias loop
    
    Part of fix for Sun bug 4258475
    <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=4258475>

commit 7b3066d9b9099135d9c49e0682161d5568fc535b
Merge: 2a3d142 315f089
Author: Drew Parsons <drew@emerall.com>
Date:   Sat May 10 00:01:15 2008 +1000

    Merge branch 'master' of git://anongit.freedesktop.org/git/xorg/xserver into upstream-experimental

commit 2a3d1421e0cc18822ae8f478fcc272e16a9e9340
Author: Drew Parsons <dparsons@debian.org>
Date:   Fri May 9 23:20:11 2008 +1000

    Disable D-BUS from Xprint.
    
    Use dummy config functions to replace those from config/config.c, and
    therefore do not link Xprt with $CONFIG_LIB.
    
    Works around an endlessly spinning loop in dix/dispatch.c::Dispatch()
    (WaitForSomething() not waiting) when built with dbus, which was
    causing Xprt to use 95% cpu.

commit 315f089056da67d4c463ed002eb2b74e38493b49
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu May 8 19:46:03 2008 -0700

    XQuartz: Reorganized some of the build system in prep for the Mach IPC startup work.
    (cherry picked from commit 2232c91d5c277673929eab2abb5e0495c00877cb)

commit 28ac79450c69219dc501e072c6e5028e7136380d
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu May 8 19:47:40 2008 -0700

    Updated .gitignore for new Xquartz layout
    (cherry picked from commit cd4d2355e227549a3410485a130549dd91ccdcfe)

commit a07c5ad172b343ef26d2b41ff25f143950441c23
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu May 8 16:57:42 2008 -0700

    XQuartz: Set bundle version to 2.3.0
    (cherry picked from commit 8a0524b30e1e860f3ae35741c116fc8da28aef79)

commit 05f23ed3ea6ee0f052aee41b6573325fe0063fd8
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue May 6 16:12:41 2008 -0700

    XQuartz: Fixed some issue in our bundle creation
    (cherry picked from commit 330ffad5477e32c5ab9ed338bc628bd5ae9f4c98)

commit 90b963c0da2b33bdc21483f1a089b95c7e717333
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue May 6 16:07:33 2008 -0700

    Set CSRG_BASED on OSX
    (cherry picked from commit ff085deba18682caa2f93d61a75b38db87d747b1)

commit ff013b0da4e6d33b2b69ce1212e9bd62050574e1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 8 16:58:31 2008 +0930

    config: override xkb_{r,m,l,v} with Xkb{r,m,l,v} if the latter is set.
    
    The HAL spec says that input.xkb.{rmlv}* can be sent, but if the user
    specifies a X-specific {rmlv}, then this is overridden through the use of
    input.x11_options.Xkb{RMLV}.
    However, the way how the server parses options--by ignoring capitalisation,
    underscores and spaces--the HAL and the x11_options would override each other.
    
    So we simply filter the options, letting Xkb{RMLV} override xkb_{rmlv} and
    only actually add them to the device after parsing _all_ options.
    
    * rmlv ... rules, model, layout, variant
    
    See Bug 13037 <http://bugs.freedesktop.org/show_bug.cgi?id=13037>
    (cherry picked from commit fc35d1e3be201e3821413bb2eeb8d43e1e56ba17)

commit 901978ebe0f446532255701cd536e246e805a55b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 8 14:05:56 2008 +0930

    config: remove trailing whitespaces.
    
    It makes my vim look ugly. Put "let c_space_errors=1" into your .vimrc.
    (cherry picked from commit 1f54c05cf8a6b82e5fc6362f7f8e8fdc2444b9e8)

commit 1c54c148895225e4ab3c781fe57d09e5f64353aa
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri May 9 00:26:16 2008 +0300

    Revert "GL: Make errors non-fatal"
    
    Turns out this just caused segfaults further down the line.  Oops.
    
    This reverts commit 268d61e00cf4bc52c05f19eda7ab4f6accce12c8.

commit f17ba5d5849c92603f453195aca384844ca76d74
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu May 8 16:04:24 2008 -0400

    Bug #13104: Remove broken XAA a1 glyph fast path.

commit ddaecfa13cefee7c66b39b606c8640c6544d4943
Merge: 9c2e087 cf20df3
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu May 8 14:33:58 2008 -0400

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit fc35d1e3be201e3821413bb2eeb8d43e1e56ba17
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 8 16:58:31 2008 +0930

    config: override xkb_{r,m,l,v} with Xkb{r,m,l,v} if the latter is set.
    
    The HAL spec says that input.xkb.{rmlv}* can be sent, but if the user
    specifies a X-specific {rmlv}, then this is overridden through the use of
    input.x11_options.Xkb{RMLV}.
    However, the way how the server parses options--by ignoring capitalisation,
    underscores and spaces--the HAL and the x11_options would override each other.
    
    So we simply filter the options, letting Xkb{RMLV} override xkb_{rmlv} and
    only actually add them to the device after parsing _all_ options.
    
    * rmlv ... rules, model, layout, variant
    
    See Bug 13037 <http://bugs.freedesktop.org/show_bug.cgi?id=13037>

commit 1f54c05cf8a6b82e5fc6362f7f8e8fdc2444b9e8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 8 14:05:56 2008 +0930

    config: remove trailing whitespaces.
    
    It makes my vim look ugly. Put "let c_space_errors=1" into your .vimrc.

commit 1a314a1ef06222977e7ccb94331ce31c17534b2a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 8 13:16:48 2008 +0930

    Revert "config: deprecate (and ignore) the use of input.xkb.whatever options."
    
    daniels:
    "Hrm, I'd prefer to have input.xkb.{m,l,v,o} be the primary keys, and
    have input.x11_options be a backup for that, rather than the former
    being deprecated, for the reasons I listed earlier ..."
    
    see http://bugs.freedesktop.org/show_bug.cgi?id=13037#c51
    
    This reverts commit 26188875de1ccc84ac60bfb251e3ec43de2b9e22.

commit cf20df39cc78203d17b99223908af388ecbf7d0e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed May 7 22:24:19 2008 +0300

    XKB: Actually explain keymap failures
    
    When something went wrong building a keymap, try to explain to the user
    what it actually was, instead of the dreaded 'Failed to load XKB keymap'
    catch-all.

commit 641a5f955b7b3ae04eeb6bc45fb30b0b531898e4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed May 7 22:29:04 2008 +0300

    Build: Ensure xf86DefModeSet.c ends in an empty line
    
    This shuts up a warning.

commit 268d61e00cf4bc52c05f19eda7ab4f6accce12c8
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed May 7 22:28:45 2008 +0300

    GL: Make errors non-fatal
    
    GLX, there's more to the world than just you.  If you fail to load the
    software renderer, don't bring the entire server down.
    
    The error path probably needs better testing on this one, but it seems
    mostly okay to me.

commit 9c2e0871cfbe54e73eec1f790a7e383d08555055
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed May 7 13:21:26 2008 -0400

    Bug #13104: XAA: Adapt to glyph storage changes.
    
    Glyph bits are now stored in a proper pixmap, not just hanging off the
    end of a GlyphRec.

commit 26188875de1ccc84ac60bfb251e3ec43de2b9e22
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 7 13:13:57 2008 +0930

    config: deprecate (and ignore) the use of input.xkb.whatever options.
    
    These options are still sent by some HAL implementations (e.g. HAL on FC8),
    and may overwrite the options set in the x11-input.fdi file.
    For a more detailed description of why see Bug #13037, comment 42.
    
    X.Org Bug 13037 <http://bugs.freedesktop.org/show_bug.cgi?id=13037#c42>

commit b6a0c6d4864f73a18beb841b16e9be56f2fcd77e
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue May 6 17:06:34 2008 -0700

    Allow using libmd instead of libcrypto for SHA1 hashing in render/glyph.c
    
    Builders can force one or the other by passing SHA1_LIB & SHA1_CFLAGS
    to configure

commit 718652eaf9221e0eeec2c971dd7baa97f827451b
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue May 6 17:52:37 2008 -0400

    Bug #13104: Don't let XAA glyph pixmaps anywhere near video memory.
    
    Since glyphs are stored in pixmaps now, they can make their way into VRAM,
    which invalidates a bunch of fast-path assumptions in the XAA code.  Thus
    you end up doing color-expands or WriteBitmap from la-la land and your
    aliased glyphs go all funny.
    
    Since XAA isn't ever growing the ability to do sane glyph accel, just force
    glyph pixmaps into host memory by catching them at CreatePixmap time.

commit a85d3ac87cc354093bb1e88697c44254e7721bb9
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue May 6 02:59:13 2008 -0700

    XQuartz: Fixed typo
    (cherry picked from commit 56b7988d2662caa4d31094695b414080e4470ed4)

commit 077ced6384abad78253e857091e78f3685965b9d
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue May 6 02:47:03 2008 -0700

    XQuartz: Added uncommitted files
    (cherry picked from commit e414ec462cfc63f8eb7f504f526f5a2c73f51e69)

commit 80e502c5d1f7e9221c6ae40716d6402fd28d8806
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue May 6 02:28:36 2008 -0700

    Fixed up dist
    (cherry picked from commit f225222ba2bf4f03425107f258d60b73c88efaec)

commit 7295e544332b0fa929f651304f9d4aca3db4a33e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue May 6 00:06:19 2008 -0700

    XQuartz: Move server bits into bundle and setup stub in /usr/X11/bin/Xquartz in prep for startup rewrite
    (cherry picked from commit 453a982e6382cff06ea27abba225440b07068f50)

commit d41d677ab4118e73140ea2392e0d48eb361af1cf
Author: Ben Byer <bbyer@bushing.apple.com>
Date:   Mon May 5 20:55:08 2008 -0700

    Xquartz: experimental embedding of Sparkle.framework
    (cherry picked from commit b7a1a640cef8c69442859cbf89034ad362a19684)

commit 9e0d73fd8a43647b648ec5b2f0bcaae30c03259c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 6 17:52:15 2008 +0930

    xfree86: call SetCursor for the VCP when switching between SW/HW rendering.
    
    We need a manual call to SetCursor when we switch from SW to HW rendering and
    the other way round. This way we display the new cursor after removing the old
    one.
    In addition, we only update the internal state for the VCP's sprite. This way,
    when we switch back to HW rendering the state is up-to-date and wasn't
    overwritten with the other sprite's state.
    
    The second part is a hack. It would be better to keep a state for each sprite,
    but then again we don't have hardware that can render multiple cursors so we
    might as well do with the hack.

commit e4ebfed1785597b48b68e1bbdde3e5c4061b749f
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue May 6 16:46:37 2008 +1000

    xf86edid: fix typo in debug output

commit b9c1a57e7a98dea63cd362f714411547e728a85a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 6 14:51:23 2008 +0930

    xfree86: switch between to SW cursors if more than 1 sprite is available.
    
    Switches back to HW cursors when sprites other than the VCP are removed.
    The current state requires the cursor to change shape once before it updates
    to SW / HW rendering (whatever is appropriate), e.g. by moving into a
    different window. Until this is done, the cursor is invisible.

commit 3df88c17e315b5ae580096e4bc88920d1f452e83
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 6 11:50:20 2008 +0930

    xfree86: re-enable hardware cursor (for a single cursor)
    
    This commit enables HW rendering for cursors again, but only for a single
    cursor. Other cursors can be created, however they will not be visible.

commit 6acc2acd0db2826add7c47e94e4061d169a41f88
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon May 5 15:32:26 2008 -0700

    Rootless: mi doesn't let us resize root, so we need to do it ourselves...
    (cherry picked from commit c1ec36e28cff857664090cc8792db1ae93b783fa)

commit efa65a0317e12c9ad34fa00fe90bf5eae9fa2670
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 21:52:58 2008 -0700

    Rework composite overlay window code to fix several resource management bugs.
    
    The composite overlay window code had several misunderstandings of the
    workings of the X server, in particular error handling paths would often
    double-free objects. Clean all of this up by using resource destruction as
    the sole mechanism for freeing resource-based objects.

commit 6c1accce87c9bd640c1b4bbc49bae7d44b1cc97b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun May 4 21:51:08 2008 -0700

    Empty the borderClip of manual redirect windows. (bug 15823)
    
    Thanks to Owen Taylor for root-causing this one.
    
    If a TreatAsTransparent window has any area in the borderClip, that will be
    added to the totalClip region for use by other windows. That's wrong.
    Instead, simply empty the borderClip for TreatAsTransparent windows right up
    front.

commit d500eeb9458336780d77baf8b7db96e1f7ff4f0d
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Sun May 4 10:26:25 2008 -0700

    Xephyr: Handle depth 30 and reject higher depths rather than crashing.

commit f4a68f3701889950d3b98842d021f357f3913fea
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri May 2 17:35:57 2008 -0700

    XQuartz: Fix mouse input offsets earlier since GetPointerEvents does not like negative (x,y) values
    (cherry picked from commit 8d9eab3a2ec5955cc2698fdcb1fa6ed12b2aadb7)

commit 96fa7da3b87e2f9187ec13dad259beefdc17cd94
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri May 2 16:53:45 2008 -0700

    XQuartz: Avoid a possible crash at startup due to unfavorable context switching.
    (cherry picked from commit ff10c37bdd09656cf2f7ee9577f5552caa1ffdb8)

commit 6f63724b28c8b3fd85314fb95d1e4f363b610e19
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 2 14:56:58 2008 +0930

    xfree86: don't try to repaint the cursor before cursors exist.

commit 334456952930cb3e55c02fcdada2d0c074cd0520
Merge: 8e56fd9 3b8d534
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 2 11:00:14 2008 +0930

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	Xi/exevents.c
    	dix/devices.c

commit a338007be6fd4302af012109d959f43ac7eab2b1
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu May 1 18:02:59 2008 -0700

    XQuartz: Adjust the screen origin offset properly for multimonitor setups
    (cherry picked from commit f2020b9836bacd0593ac0b4c8541e32714ab02a9)

commit 8e56fd9728d63a7a48ef44503425c6e25c7c9ffb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri May 2 10:22:06 2008 +0930

    dix: continue to check for invalid valuator ranges.
    
    In an ideal world, the drivers would init all axes with NO_AXIS_LIMIT. In the
    real world, this is an ABI break, so let's just leave the old check in.

commit 3b8d53452cd6c74d32d7759964a7cd9ee775f161
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu May 1 15:10:52 2008 +0200

    EXA: Fall back in CompositeRects if the driver can't accelerate Composite.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=15780 .

commit 01c61f3d972fc2f4e5bb536dd00d8b6bbeb0fb3d
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Thu May 1 01:02:39 2008 -0300

    xorgcfg: Fix a crash if xorg.conf doesn't have a Files section.
    
    This patch only creates a Files section if required, so if no entries are
    added, an empty Files section will not be created.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 6899ff81e8f668382e3e2f9afdd9cdf51d0e0f7d
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Wed Apr 30 16:38:42 2008 -0300

    Fix an off by one read error in drmSIGIOHandler().
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit ec0419b50534006a272278b79ee51538193661cb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 30 17:30:57 2008 -0700

    XQuartz: Moved some relevant stuff from darwin.h to darwinEvents.h
    (cherry picked from commit 1fcf74a436f2e19cceb3f285b89859025d94c040)

commit 28d1e21f1523d475cb757d3cfa33737ed62c534d
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 30 17:30:32 2008 -0700

    Dix: Cleaned up sanity checking in Get{Pointer,Keyboard}Events
    
    XQuartz was crashing because the Appkit thread was trying to GetXXXEvents while the Xserver thread was exiting.
    This adds some more sanity checks and avoids that crash
    (cherry picked from commit 34ec4bd6acb834c0e3f9a5042a0cc3f52c6f3a68)

commit ce36ae526d88d20ff67cd6cb429fb06f48d231f6
Author: Kazuhiro Inaoka <inaoka.kazuhiro@renesas.com>
Date:   Wed Apr 30 11:58:32 2008 +0300

    Add M32R architecture support (bug #10020)
    
    Still needs autotools support, so this won't actually _build_: it's just
    a starting point.

commit a0e6a7d4f507c5c0a0b11adb10394af58a0a6e07
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 30 17:57:48 2008 +0930

    dix: resize EQ to minimum size to avoid reallocs during SIGIO.
    
    When a new device is added, calculate the event size needed if a DCCE event is
    sent and set the EQ's event size to this minimum. This avoids reallocs when a
    event is sent (which may happen during a SIGIO).

commit b71b51c982706501b6229532ce342752207426bb
Author: Ben Byer <bbyer@bushing.apple.com>
Date:   Tue Apr 29 23:37:58 2008 -0700

    xquartz: created darwinTablet, to represent tablet events
    (cherry picked from commit 50641bce730ee03738fa0c4beb8125b34fda556f)

commit 519581b0bab5cc6dac397877da485745f18c2120
Author: Ben Byer <bbyer@bushing.apple.com>
Date:   Tue Apr 29 23:00:09 2008 -0700

    xquartz: remove unused params from DarwinEQInit
    (cherry picked from commit 299a056737168ca1faefd675dce6d6ab13176be9)

commit d70487a4c09cfeb90d996ab40a23a74b2c15be6f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Apr 29 23:59:26 2008 -0700

    XQuartz: Fix to tablet-event handling code; we now scale
    more conservatively (to match Linux's Wacom driver) and
    we now receive all tablet-related events.
    (cherry picked from commit 588683cecca2cfc65a28de035cd6ee3d64ff59d2)

commit fea39c94bcc8b635d37530d8a27ee92acab484fe
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 30 13:17:14 2008 +0930

    dix: fix typo from last commit.

commit ffaccc2dc91f4ca4ea10da010206a0a7d2b5540c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 30 11:45:19 2008 +0930

    input: replace -1 as default axis limit with NO_AXIS_LIMIT define.
    
    This allows easier refacturing of the coordinate limit handling. Grepping for
    -1 is boring.

commit 00acb40f2bc5bb4a1977b9b08db75630677ff787
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 30 11:29:03 2008 +0930

    dix: fix typo in clipAxis.
    
    Check needs to be (min_axis < max_axis), not (min_axis < min_axis)

commit f65a1a62f9eac2f6620d5d469dbf6c79b2eadab7
Author: Hong Liu <hong.liu@intel.com>
Date:   Tue Apr 29 09:00:11 2008 -0700

    Keep rotation wrappers in place while transforms are in use
    
    LeaveVT/EnterVT cycles will free/realloc shadow frame buffers. Because of
    this, the presense/absence of that data is insufficient to know whether
    the screen function wrappers are necessary. Instead, the 'transform_in_use'
    flag should be used.
    
    This patch also adds 'xf86RotateFreeShadow' for drivers to use at LeaveVT
    time to free the rotation data; it will be reallocated on EnterVT.

commit 18b33dd4ff46f63bad70b493b1d0b0758c961ada
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 29 15:24:55 2008 +0930

    Xi: stop excessive use of _X_EXPORT.

commit 2b179c32ac40f5258d95ae16da96a79fa8eea696
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 29 15:15:16 2008 +0930

    include: add declaration for CopyGetMasterEvent to shut up compiler warning.

commit ff36753755360aaa16ab8604a0ab78123884b57d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 29 14:53:41 2008 +0930

    mi: call the custom event handlers for both MD and SD.

commit ec2fca7e6f7ce8fdf33d959b7adeaae935ec4b37
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 29 14:40:44 2008 +0930

    xfree86: DGA needs to call into Xi.
    
    Two steps: first use UpdateDeviceState() instead of replicating the device
    changing code. And emulate XI events instead of core events.

commit 8208b842b7dd3b30bafdd74147bdfa63bc00cc40
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 29 14:19:42 2008 +0930

    Xi: add IEventBase global variable. Stores event base for X Input events.

commit 46340b740640b76b52b8e69bc67f9201c7e974c3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 29 14:17:48 2008 +0930

    Xi: change UpdateDeviceState to be _X_EXPORT.

commit 3a922c5d07509703a3eeda2bbec6f332e6b0ffac
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 28 17:32:54 2008 +0930

    Xi: apply ValuatorEvent data to the device's valuators.
    
    After UpdateDeviceState, the device has the current position in absolute
    coordinates, the event has the correct valuator data to be delivered to the
    client.

commit f2a20294fe26f4c9d245d24d065331fefd8f830d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 28 16:56:22 2008 +0930

    dix: store all valuators as they come from the device in the valuator events.
    
    The event's sequenceNumber is mis-used to determine whether the values are
    relative or absolute.

commit d5ab89f4f1acbe2614036e8934122185ac0f81ee
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Apr 28 15:52:24 2008 -0700

    XQuartz: Unset CFProcessPath... blech
    (cherry picked from commit ce4fbfbc75c62a092214d140c7550279aebe69ef)

commit 0c2312b21b6700c1425baccaf9c26150b4f0fd6a
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Apr 28 15:28:21 2008 -0700

    XQuartz: xprIsX11Window can be called from the Appkit thread (see X11Application.m)
    (cherry picked from commit 22cf72437601c07b8a6c744b4f2f1f4cd6713e60)

commit c3dc4bdbb018c0606d561e2dfb9a36e9297fa312
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Apr 28 15:42:02 2008 -0700

    XQuartz: Disabled DPMS extension
    (cherry picked from commit 1448fed9b6d484f471b9b2982c76ca921a9273b9)

commit 07382a70c7ac9807dfb31821a4763bea2309bde6
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Apr 28 12:36:54 2008 -0700

    XQuartz: Added thread debugging to xprFrame.c
    (cherry picked from commit 41542502b321c697271c1752525b600872b6df96)

commit 8349732a6720652bfbad7874a952be73a0e8e77b
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Apr 28 21:09:35 2008 +0200

    EXA: Try to accelerate non-antialiased text via the glyph cache as well.
    
    Treat 1 bit glyphs and masks as PICT_a8 in the glyph cache. We're not able to
    accelerate them otherwise.

commit a65d530040bb561ba88c5d8c71633a7c0bf11e89
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Apr 28 21:03:12 2008 +0200

    EXA: Accumulate glyphs whenever possible, for full benefits of the glyph cache.

commit e7eaac59c424a205dd106fc7d70734ff4b390f28
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Apr 28 21:00:55 2008 +0200

    EXA: Glyph cache upload tweaks.
    
    Track damage after using UploadToScreen directly.
    
    Don't waste any effort on empty glyphs.

commit cc08c06665ffe29ad44d023d75d0f86e5338875d
Author: Owen Taylor <otaylor@huygens.home.fishsoup.net>
Date:   Mon Apr 28 21:00:55 2008 +0200

    EXA: Use UploadToScreen() for uploads to glyph cache
    
    When possible, use UploadToScreen() rather than CompositePicture()
    to upload glyphs onto the glyph cache pixmap. This avoids allocating
    offscreen memory for each glyph making management of offscreen
    areas much more efficient.

commit 13fd2256300b61d88b840952d838f834523f5dd7
Author: Owen Taylor <otaylor@huygens.home.fishsoup.net>
Date:   Mon Apr 28 21:00:55 2008 +0200

    EXA: Clean up debug messages

commit fcb5949928f1c27f67f40c094c3c673786574422
Author: Owen Taylor <otaylor@huygens.home.fishsoup.net>
Date:   Mon Apr 28 21:00:54 2008 +0200

    EXA: Fix overlapping glyphs in glyph cache
    
    Allocate each cache at a different vertical position in the
    per-format pixmap. Fix width/height confusion when choosing
    the cache for a glyph.

commit 40eb14c9482457969e0bde97c49edad536285e02
Author: Owen Taylor <otaylor@huygens.home.fishsoup.net>
Date:   Mon Apr 28 21:00:54 2008 +0200

    EXA: Add exaCompositeRects()
    
    Add a function to composite multiple independent rectangles
    from the same source to the same destination in a single
    operation: this is useful for building a glyph mask.

commit 54184110f6f3e5d7276d5431e739a4fcf0c3523e
Author: Owen Taylor <otaylor@huygens.home.fishsoup.net>
Date:   Mon Apr 28 21:00:54 2008 +0200

    EXA: Use a single large glyph cache pixmap
    
    Add back exaGlyphs(); the new version copies the glyph images
    onto a single large glyph pixmap and draws from their to the
    destination surface. This reduces the management of small
    offscreen areas and will allow us to avoid texture unit setup
    between each glyph.

commit e9734306088e12f2cd68bf347ecf8415be4f0268
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Apr 28 11:47:49 2008 -0700

    XQuartz: More startup / threading house cleaning.
    (cherry picked from commit 72653c24c00dfba64ce35a3d400598bcd77defc1)

commit 4b46fc931e61bec0abd6a86062e46dd7a408e745
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Apr 28 10:50:51 2008 -0700

    XQuartz: Updated Localizable.strings
    (cherry picked from commit d8d9c866b90fb24c93bd6e25fa90f8f2bf58ad34)

commit 4017ebe5bfa7a261cd1135801756c44e9fe93ca1
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Apr 27 00:01:14 2008 -0700

    XQuartz: Added missing Xquartz.man.pre to EXTRA_DIST
    (cherry picked from commit 03e707987f7f32e47dd0355c6d16bfb9169a379b)

commit 53dba5381fdd8f644e16aaa0ecb05df4dc615b23
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 28 11:37:52 2008 +0930

    dix: if alloc of a master keyboard fails, remove the master pointer.

commit 1fab51edfc82e1ef60dfa29fd5d93478066a3998
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 28 11:37:21 2008 +0930

    mi: guard against NULL-pointer dereference.

commit b5004722a208479a4bc762ff428bf4cbeb430d53
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 28 10:26:01 2008 +0930

    Xi: Only return VCP, VCK and floating SDs to Xi 1.x clients.
    
    This is better than the approach implemented with
    8973a3f7983240407dd6da59b3643f40e6a3d83a which disabled XI altogether for 1.x.
    Instead, return a device list that resembles a traditional XI setup on pre XI
    2.0 servers. If the client tries to open a device other than a floating SD,
    return a BadDevice error.

commit 0bd28315afc3b7223f8ff9f17597db09500a9388
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Apr 26 23:00:42 2008 -0700

    Xquartz: Added missing to EXTRA_DIST
    (cherry picked from commit f4b963256feb03e9e6b5521bdefeb390e9a49688)

commit ef1c52053755fa14b4ca98b22c506f73f5f4a4b7
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Apr 26 19:21:05 2008 -0700

    XQuartz: Cleaned up startup and thread creation a tad.
    (cherry picked from commit c861fe00e112b21ee0156d09a6cd5281642a1dcc)

commit b114d4e861885cc5b49cd81b33ad825461811b3e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Apr 26 17:04:49 2008 -0700

    XQuartz: Don't subtract the titlebar off of the pointer_y
    (cherry picked from commit 00a9567acce2b27a649cbebd4790e3043688a7d8)

commit 684b5d8382bf0bc6cd55774226ee362e81c0adbf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Apr 26 19:55:59 2008 +0930

    Xi: whoops, stray ! caused a bit of memory mess.

commit 87071b604c4b7c3c79ab784e2c09ff691e2bc5ad
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Apr 26 19:37:57 2008 +0930

    Revert "Xi: disable XI for clients < XI 2.0"
    
    Turns out some programs don't like this change. gnome-settings-daemon crashes
    hard if you tell it that XI doesn't exist. So, tell them we have XI, but leave
    the other change (the one that pretends no devices are available).
    
    This reverts commit 8973a3f7983240407dd6da59b3643f40e6a3d83a.

commit 7447a30fb27ed50a20a85b5a2de9afe7dea8cfa5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Apr 26 19:03:13 2008 +0930

    Xi: if a pre-XI2 client tries to list the devices, pretend we don't have any.
    
    XI 1.x isn't supported anymore, so let's pretend we don't have any devices.
    This stops clients from opening them and thus stops interference.

commit 8973a3f7983240407dd6da59b3643f40e6a3d83a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Apr 26 17:48:52 2008 +0930

    Xi: disable XI for clients < XI 2.0
    
    Sorry. With the huge changes in the device handling I honestly don't know how
    to support XI and XI2 alongside. So let's just pretend XI doesn't exist if a
    client doesn't request it supporting XI2.

commit b304b0a65cc57127cdea103f2c5114e4ea79af41
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Apr 26 17:38:55 2008 +0930

    Xi: add versioning support.
    
    Remember the version the client sent to us, so we can adjust our replies
    accordingly. This requires the client to use the {major|minor}Version fields
    in the GetExtensionVersion request. However, they were padding before, so we
    must assume they are garbage if nbytes is non-zero. If nbytes is zero, the
    client is probably a new client and we can handle it correctly.

commit b9ca7896356f79ee27be5d5aa62052f6984282b0
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Apr 25 17:54:36 2008 -0700

    XQuartz: Added some pseudoramiX debug traces
    (cherry picked from commit 5bee1585a399eab0a7b6fc80ad476d81b5d227d3)

commit e251c9e75afdc5e32f2bc9801712272358934266
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 16:49:35 2008 +0930

    Remove all traces of #ifdef XINPUT and the matching bits from the configure.ac

commit 1d0438de176551aaeff549664f00b8bd83d465af
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 16:28:58 2008 +0930

    Xi: remove RemoveOtherCoreGrabs()
    
    PickPointer() returns grabbed devices, so we can't get a double grab anyway.

commit be5ff2b8d8a392eb8611e1fcd6da4752d68a7f9d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 16:25:13 2008 +0930

    Xi: remove some superflous code

commit 0209e46249b61974a6e3ed54a51cc36dfaf0064f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 24 23:48:11 2008 -0700

    XQuartz: More multi-monitor work... reverted Ben's workaround (worked for side-by-side only) and added more debugging.
    (cherry picked from commit 515b8b855ac5d2d5aef881053f73b2ad07a6dd2e)

commit b65dbd350b8518bb90bed9cdc64dd900bc75d20c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 24 21:14:04 2008 -0700

    XQuartz: Cleaned up multi-monitor support.
    (cherry picked from commit c05abf0a19b0ef0fc4ace9400a095ce2521456bc)
    (cherry picked from commit 9112f290434c246d3e797551aaaf3a89d2006b23)

commit b093bf3ec37367172be3b44a04f0f43890ba7d7d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 15:15:31 2008 +0930

    dix: don't search for grabbed devices, PickPointer does it for us now.
    
    Follow-up to 93ee33830778b9ec85ad81496572677a30022b09.

commit 6198bad07edc51ff4a264a9361c5e9b6c74647a6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 15:02:40 2008 +0930

    dix: remove misleading (stale) comment

commit 93ee33830778b9ec85ad81496572677a30022b09
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 15:02:13 2008 +0930

    dix: let PickPointer() return devices that are core-grabbed by the client.
    
    If the client currently holds a core grab on any device, this device has
    priority, even over the ClientPointer.

commit f5ac98747de921d48f36d4f3f66dbe73e26a6760
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 14:50:24 2008 +0930

    Standardise copyright headers for all new files created as part of MPX.

commit 3fc67b4205851dcffcc431a07a885828549bd9cf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 11:37:32 2008 +0930

    Xi: remove leftover chpkpair.h file.
    
    Used to contain declarations for ChangePointerKeyboardPairing request
    handling.

commit 89add4ee986e38b833bb58750b3e5a664efb6f4a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 11:19:12 2008 +0930

    dix: remove obsolete InitWindowPrivates().

commit dcdc66fcfc7957aa7875fbf74fa3a55989a9a187
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 11:14:32 2008 +0930

    dix: add mi.h include to stop compiler warning

commit 97552413d213337e4bff8c89b06d58a09d722b05
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 11:13:05 2008 +0930

    dix: remove "unused variable" compiler warning.

commit d9c38e84cc492b931a2238757d438f562946e5bc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 11:04:02 2008 +0930

    dix: remove pairingClient definition.
    
    This variable was used originally to determine which client is allowed to
    change the pointer-keyboard pairing. For now, we just let anyone change it and
    see how that works out.

commit c14b858aeced81ff43723644f2de0f5c43f55755
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 11:02:12 2008 +0930

    Xi: fix two compiler warnings
    
    unused variable in exevents.c
    implicit declaration in warpdevp.c

commit 6015b7a81252cd1729e6f4045f9b0c885c95b183
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 10:41:30 2008 +0930

    Xi: handle requests through a dispatch handler.
    
    Same principle as e.g. in the RandR extension, rather than having a load of
        if (type == XI_whatever)
    use an array of function pointers.

commit cb8cb87bc6decf75832c3724687000ecb658226e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 25 10:09:50 2008 +0930

    Xi: remove unused #define DISPATCH

commit 5869e3f5551e7e2d18e06a2f220b77d8c4161db1
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 24 19:39:27 2008 -0700

    darwin gots /dev/urandom, too yo!
    (cherry picked from commit bf0144f38034bc59f108bb2c5270ff37fbe70e10)

commit b1ae7c79db78cc3b789701f81328669f9f8ed80f
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Apr 24 19:02:43 2008 -0700

    Bug 14247: If pkg-config can't find openssl.pc, just link with -lcrypto
    
    X.Org bugzilla #14247 <http://bugs.freedesktop.org/show_bug.cgi?id=14247>

commit 1daae4574c19a122baf73b6f9457b0d383b1bc66
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 24 18:22:05 2008 -0700

    Added missing HAVE_LAUNCHD to dix-config.h.in
    (cherry picked from commit 1b4b73cefbc2f3e3f6d0cb84ea202f84fb60abb5)

commit 63853e4ad211945ed25541223207a78f83766ced
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 24 18:21:42 2008 -0700

    XQuartz: Compile in missing glx source that we still need
    (cherry picked from commit c611335dee267e41dcd1733a6bb5206b102f804e)

commit ae982a27e4059fecd4048d245e6aa02f8dcc97d0
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Apr 24 16:37:29 2008 +1000

    glx: test for valid read and draw privates before using them
    
    this should fix a bug where f-spot exiting blows up the X server

commit f377141912594f87144d6d7f7fdd279a101d8e6c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 24 13:30:28 2008 +0930

    Xi: don't attempt to send to a NULL window.
    
    Only applicable when the server comes down/restarts. In this case,
    WindowTable[i] may be NULL. Let's not try to send an event then.

commit aec485f2dcc87b340759d67b60e7dee7931aaec5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 24 13:29:46 2008 +0930

    dix: NULL out WindowTable after freeing all the windows.
    
    CloseDownDevices() tries to send PresenceNotify events. If the windows are
    already freed, then we are accessing dangling pointers.

commit 9ab4e2fd8eaa87dbd16835affb1aa54dcb1a619e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 23 11:38:08 2008 +0930

    xfree86: don't free the config-file related information in DIDR. #15645
    
    In DeleteInputDeviceRequest, leave the conf_idev (which is shared with
    xf86ConfigLayout.input) alone for devices that were specified in the
    ServerLayout section of the config file. This way, in the next server
    generation we are left with what was the original config and can thus re-init
    the devices.
    
    This is an addon to 6d22a9615a0e6ab3d00b0bcb22ff001b6ece02ae, an attempt to
    fix Bug 14418.
    
    X.Org Bug 15645 <https://bugs.freedesktop.org/show_bug.cgi?id=15645>
    X.Org Bug 14418 <https://bugs.freedesktop.org/show_bug.cgi?id=15645>

commit 7dc40c8eca90ec1bfab84b6f54418b64c0e62d63
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 24 12:47:29 2008 +0930

    xfree86: Don't free master devices.
    
    The previous check works in the master-branch, but doesn't work with MPX. We
    actually copy the SD's information into the MDs public.devicePrivate, so we
    need to explicitly check whether a device is a MD before freeing the module.

commit cc13f87cd8ac54223fdb0b3d3c043dc9b9be5a42
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 24 11:43:47 2008 +0930

    Xext: XGE: change function definition to have return value on separate line.
    
    This seems to be the common style in most parts of the server.

commit d0890c40b9a9c7965c08608e6950c078a29aac16
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 24 11:32:36 2008 +0930

    Xext: add a few lines of comments to XGE.

commit 745b90cde1007383ec8c887f02439a34ab427f31
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 24 11:27:22 2008 +0930

    Xext: re-do the XGE versioning handling.
    
    Basically the same approach RandR takes. Remember which one the client
    requested, send back the one the server supports. Also divide XGE server
    version (now defined in geext.c) and the client's version (still in the
    protocol definition).

commit 5f3e5b3462bb02e828c70d0e1890b5a83d399d42
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 24 11:03:23 2008 +0930

    Xext: remove trailing whitespaces in geext.{c|h}

commit d09c520b322ba5c5f4d6b630a7c0c62e56732f82
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 23 10:22:34 2008 -0700

    Moved Apple GL bits into our DDX subtree
    (cherry picked from commit c9356f32892978faecb30f7b7af7488820ce37ff)

commit b05b416c622063b84747702a54ffd9a802d6fc11
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 23 09:59:48 2008 -0700

    XQuartz: No need to include indirect.c a second time
    (cherry picked from commit 41ed532525da85d1bd2c20af5ffa28ac6d1f4996)

commit 565492c70a280d7e749500c5c0073bdcaf175c86
Author: Ben Byer <bbyer@apple.com>
Date:   Wed Apr 23 06:00:57 2008 -0700

    xquartz: build fixes for GLX/DRI2 fallout (note: not guaranteed)
    (cherry picked from commit 85a5796b667461bf1fafc68c07b3a704cd8efd5b)

commit 6f6505db51763d902142a8161e71cad44f52560c
Author: Ben Byer <bbyer@apple.com>
Date:   Wed Apr 23 03:43:51 2008 -0700

    glx / xquartz:  we still need glxcontentmodes.[ch] kthx
    (cherry picked from commit 27545fd37f8c703b72f7cfc329778abc1ceabfa0)

commit 4e3a8af5751ff88c0cadd612821b0ef349d250c5
Author: Ben Byer <bbyer@apple.com>
Date:   Wed Apr 23 03:39:41 2008 -0700

    xquartz: clean up linker line for main binary
    (cherry picked from commit 821d7400f2ff917497b2ee58ceef2b69c2d47ec7)

commit 3685b171da51f853bfdb312d36622dfa03ee75be
Author: Ben Byer <bbyer@apple.com>
Date:   Tue Apr 22 23:53:23 2008 -0700

    xquartz: remove vestigial aglGlx.c
    (cherry picked from commit 40bd041e4255f26fcbdf0831e68619ae0f46ab39)

commit f6e22d69af6bc8f63c3a46535a09e217696a679f
Author: Hans de Goede <j.w.r.degoede@hhs.nl>
Date:   Wed Apr 23 12:28:30 2008 -0400

    Prefer glxvisuals with stencil buffer for default visuals
    
    The first fbconfig which has a depthbuffer > 0  and doublebuf is choosen
    when associating fbconfigs with the visuals, indepenent of stencil bits.
    This happens to work ok on intel as there all fbconfigs with a
    depthbuffer > 0 also have stencil bits.
    
    This patch fixes this by first trying to get a fbconfig for default X visuals
    with both stencilbuf, depthbuf and doublebuffering, and if that fails fallback
    to trying to get one with only a depthbuf and doublebuffering.

commit 00effad583713e882c3f2518bcd3da51bf4db716
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Apr 23 17:46:30 2008 +0300

    xephyr: XEPHYR_DRI is identical to XF86DRI

commit 6a9f7f28ec455d2879ca1a315ce77c48af49e7f4
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Apr 23 17:46:15 2008 +0300

    xephyr: sync with mesa

commit 7ffc68c5cc7108c9e56af25f9f9b4398f5b027df
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Apr 23 17:45:54 2008 +0300

    xephyr: libGL is client lib

commit a27c244d72603e27766ff3900ab28fe094f7397e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Apr 23 17:45:37 2008 +0300

    xephyr: Makefile cleanup 2

commit d4d19b2f22002b1579438cb9cf08dd580c7ec005
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Apr 23 17:45:19 2008 +0300

    xephyr: Makefile cleanup 1

commit cdc4571b580a8f4fd279404215bff0fb9a5b4816
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Apr 20 17:06:26 2008 +0300

    drop TOGCUP remnants

commit 6cd9287aed3c128d9c10b9b042ba7b864143d522
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Apr 20 16:58:51 2008 +0300

    drop EVI remnants

commit a88c6b66465c039bf92a54a496516fee4d900784
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Apr 18 17:47:16 2008 +0300

    glcore: drop GLcore (files)

commit dd7a53f8f21e41e1ab43f7e684ba586abc97ef7e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Apr 18 17:47:01 2008 +0300

    glcore: drop GLcore (build system)

commit 567d389d47dee233a973b101e04ce41c47a68f34
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Apr 18 17:46:18 2008 +0300

    glcore: build from mesa, dlopen from xorg
    
    * The GLcore interface is disposable
    * GLcore is installed in DRI_DRIVER_INSTALL_DIR which is overloaded for
      GLX_PROVIDER_INSTALL_DIR

commit efb723e166e5fa89e90c7b400fb4c7979b1f50c0
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Apr 18 17:45:53 2008 +0300

    glcore: prepare for dynamic loading
    
    glcore gets linked with -ldl, -lpthread for s3tc and glapi
    xserver needs
            DLOPEN_LIBS - to dlopen the glcore dso
            LD_EXPORT_SYMBOLS_FLAG - to export symbols for glcore to use
    
    the ld flag is added to kdrive only when GLX is enabled, the net overhead for
    Xephyr is ~155KB, could be reduced with --dynamic-list.

commit fbad87f2ae9f97fcb43546b0fa35f1100415dfec
Author: Julien Cristau <jcristau@debian.org>
Date:   Tue Apr 22 23:50:11 2008 +0200

    autoconfig: don't call closedir() when opendir() failed
    
    If opendir() fails, return from matchDriverFromFiles() immediately.
    Ubuntu bug 217647.

commit 76381092e8f650ec7d1f058fa4c8a7348893f775
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 23 02:22:14 2008 -0700

    XQuartz: Make sure QuartzAudioInit() gets run.
    (cherry picked from commit bb3d034675b70e22e78df5554cab0ec2a3d913d0)
    (cherry picked from commit 824b31c7f8144a67a320442abd3d854e99d2bfe2)

commit 275cdc1c74b7e43ecd931d312469fecc8d998ed1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 23 16:16:15 2008 +0930

    xfree86: pass correct value to mieqEnqueue (merge detritus I guess)

commit c3659cb414ef05da8fa09009b2b82a3deeeb4f3a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 22 21:54:02 2008 +0930

    dix: always send FocusIn events if mode is NotifyUngrab.
    
    In the case of a NotifyUngrab, the flag for the device may already be set but
    we still need to send the FocusIn event.

commit 00815b3e5223e822f306db45cd4884a22ac9f7ed
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon Apr 21 14:34:39 2008 +0200

    Don't set DRI2=yes if we can't find dri2proto or libdrm

commit e77f65768efbf05cdf363a2f41f036f74eaa45de
Author: Ross Burton <ross@burtonini.com>
Date:   Tue Apr 22 18:07:46 2008 +0100

    Reuse the existing framebuffer mode in kdrive/fbdev
    
    When starting up kdrive/fbdev, if the current framebuffer mode is sensible use
    that unless told otherwise.
    
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>

commit c4fd1121531b0cba1a3e90fa747871d784365c7e
Author: Ross Burton <ross@burtonini.com>
Date:   Tue Apr 22 18:05:53 2008 +0100

    Add mediumraw support to the linux kdrive driver
    
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>

commit 455383db95618a05ebdbeae78423e08065f0e14e
Author: Ross Burton <ross@burtonini.com>
Date:   Tue Apr 22 18:04:31 2008 +0100

    Enable the epson kdrive driver
    
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>

commit 82b37d35af13a9f402755e167493ab256b664b9c
Author: Ross Burton <ross@burtonini.com>
Date:   Tue Apr 22 16:38:14 2008 +0100

    Add support for AVR32

commit 20a90bef8b4993f06cf76ad05e3d4c974e1614f6
Author: Ross Burton <ross@burtonini.com>
Date:   Tue Apr 22 16:37:02 2008 +0100

    Add a default touchscreen path
    
    When enabling the touchscreen, open /dev/input/touchscreen0 if no path was
    specified.

commit b44e89f4683ffcfd75eaf39f1f37d7461db44689
Author: Ross Burton <ross@burtonini.com>
Date:   Tue Apr 22 16:28:39 2008 +0100

    Update to tslib 1.0
    
    Update the pkgconfig checks to tslib 1.0, and fix the LIBS definitions.

commit 3848422d2354b7a5302fda92b05b0d728190e050
Author: Ross Burton <ross@burtonini.com>
Date:   Tue Apr 22 16:25:23 2008 +0100

    Fix build when XKB is disabled.

commit 744d0cfda74f8283801cc2d6c5eda48402455bc3
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Apr 21 22:06:38 2008 -0700

    add missing DARWIN_GLX_LIBS in configure.ac
    (cherry picked from commit a033c0b3dbb3b963261faa39f0236457cb00ff44)

commit 8190ef87547b704848231bde10b1cdffc6442790
Merge: 179a082 2ddbfd3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 22 18:04:05 2008 +0930

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	Xext/EVI.c
    	Xext/appgroup.c
    	Xext/cup.c
    	Xext/mitmisc.c
    	Xext/sampleEVI.c
    	dix/window.c

commit 179a082c26f9e562492ee2e59e7f44f949f39f9c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 18 21:13:10 2008 +0930

    Xext: route event through master if required (XTestFakeInput)

commit fb784d99c521823339bf00b70b9824f735d88875
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 18 20:57:42 2008 +0930

    mi: fix typo in comment.

commit 8209fdbc7c7f2dd068b30ff184b5fbf00db78686
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 18 20:53:57 2008 +0930

    Xext: Update sprite on fake input only for MDs and floating SDs.

commit 2ddbfd345786aa39b6ccaed82a1ca5c145284ee3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 22 16:31:44 2008 +0930

    xnest: re-enable XKB support. #10015
    
    XKB was disabled in 08928afb0500d46b0caa0a1d1244dee2ed80e6a0, with the comment
    "Disable XKB, as we can't yet use it". Seems like "yet" is over, running GNOME
    and changing XKB settings seems to work in Xnest now.
    
    X.Org Bug 10015 <https://bugs.freedesktop.org/show_bug.cgi?id=10015>

commit a8b8700c7345b89953c8b63cb5c347a95e6ab988
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Apr 21 23:44:37 2008 -0700

    XQuartz: Fixed cmd-tab to bring all windows forward.
    (cherry picked from commit e48e2ce931228f4dfa36c39b8ec8c72a58025b1b)

commit a368ab757edf36ed7bbda023673d28883ce11231
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Apr 22 15:13:57 2008 +1000

    GLcore: make googleearth not crash the server on sw-rendering.
    
    I don't think this is the 100% correct answer as I get log spam saying
    (EE) DoSwapInterval: cx = 0x98b8998, GLX screen = 0x96dd780
    (EE) AIGLX: cx->pGlxScreen->swapInterval == NULL
    
    but thats better than X exiting in my book.

commit 449723510a1f9d024e23d9eb33795cac27f9443e
Author: Egbert Eich <eich@pdx.freedesktop.org>
Date:   Tue Apr 22 13:30:03 2008 +0930

    xkb: use the correct device instead of an uninitialised "dev". #15614
    
    X.Org Bug 15614 <http://bugs.freedesktop.org/show_bug.cgi?id=15614>
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit ba87c25321c3378fd1ad0c55dcb0af0a6e82a540
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Apr 21 20:03:08 2008 -0700

    Make rootless use dixLookupClient rather than deprecated LookupClient.
    (cherry picked from commit 582b5b01f9697b66489ea906a2ecb8bfc5915571)

commit 8822110d7d6b684f373fc883aeb7cab9734e9ddb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Mon Apr 21 20:08:05 2008 -0700

    Fixed dixLookupClient to work with client=NullClient as it did in the 1.3 branch
    (cherry picked from commit e41ccc64702f856e5e09dfa652fe73c14b8a0225)
    (cherry picked from commit ce5a5f93990647de85e535734ee6bb430ad591cb)

commit 5ffb6a2fe8db5871eaf26b8535af1588c43f33d3
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Apr 21 19:55:54 2008 -0700

    Nuke a call to deprecated LookupClient, and hopefully prevent a
    null-pointer dereference, too!
    (cherry picked from commit 3d28e9f953709914e18807bc74c241333671cb30)

commit 590688131d89595bdc78ca562ee88df86c9012a6
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Apr 20 22:18:45 2008 -0700

    XQuartz: Fixed quit dialog to be more conforming with HIG.
    (cherry picked from commit 14c6b837bb03bd0956f90882f550847f13d0ca09)

commit d20b3ac22d960fa44632cc4a14be079daa2d5a33
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Apr 20 22:18:19 2008 -0700

    .gitignore: Added Xquartz stuff
    (cherry picked from commit 0a9a3bec2de8d1f442493e13cf9f039902a4928f)

commit 570b0dca261920c9b01b4eb11fe9b9987b1c636a
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Apr 21 17:52:10 2008 -0700

    Fix for pointer-offset issue when using a multi-display environment on X11.app.
    (cherry picked from commit 9a7e14286ced55c5e2a4512e2629e03836443009)

commit 3f081b4de55e1378728a24d069bf06575ffca2d8
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Apr 21 11:22:07 2008 +0200

    EXA: Set pixmap->accel_blocked on the screen pixmap, too.

commit 26c1801a27b81fdd988d5bd210ba0e76ecc274ae
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Apr 21 11:03:27 2008 +0200

    EXA: Update sys_pitch/fb_pitch in exaModifyPixmapHeader.
    
    exaModifyPixmapHeader now also only evaluates arguments that have a
    meaningful value.

commit 4fa89fbe18c929e0d36305ab47e7e17841309ffd
Author: Jordan Crouse <jordan.crouse@amd.com>
Date:   Mon Apr 21 12:09:00 2008 -0600

    xf86: Change AutoConfig driver for PCI ID 022:2091 to 'geode'

commit 6c95fae1e9d6b0eb64bc78eced05a6e9f5faf02e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Apr 21 10:45:11 2008 +0200

    EXA: Offscreen memory eviction improvements.
    
    * Make sure available areas are considered to have no eviction cost. This seems
      to help for https://bugs.freedesktop.org/show_bug.cgi?id=15513 but I'm afraid
      that may just be coincidence.
    * Only calculate eviction cost of each area once for each eviction pass.
      Safeguard against potential (though unlikely) division by zero.
    * Cosmetic enhancements: Name eviction cost related variables 'cost' instead of
      'score' to emphasize that smaller values are better, update Doxygen file
      comment to the way eviction works now.

commit 40c6be1408a1f0b236fdb28af27ae18aea0d578f
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Apr 20 20:36:44 2008 +0200

    Minor xorg.conf manpage fixups
    
    Use __libmansuffix__ instead of __oslibmansuffix__ which isn't getting
    replaced, and rewrap some text to get __xservername__ replaced in the
    description of Option "Accel" (cpp doesn't like the preceding quote).

commit 4bcfed2f9cf5dbf682d3bc98873ba97c4efdff44
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sun Apr 20 08:35:42 2008 -0700

    Revert "Removed XWin DDX"
    
    This reverts commit 6550078b0925f754e3eec3bbce94dbfe5de8c419.
    
    Doctor, I'm starting to get a pulse...

commit 14396fdebac1868df17559220ed7aaa34c34251e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Apr 19 23:31:05 2008 -0700

    XQuartz: Cleanup turning off COMPOSITE
    (cherry picked from commit 8f920fca6f9149185649d52569d33bf81b6c6857)

commit d13828797fe22856b07e08a55d2b9375902194bf
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Apr 18 20:38:31 2008 -0700

    XQuartz: Cleaned up some casting to get rid of compiler warnings
    (cherry picked from commit 6f1c85b96550adf0bc34efb6ca649b87bcc1b18c)

commit 6550078b0925f754e3eec3bbce94dbfe5de8c419
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Apr 19 09:29:46 2008 -0700

    Removed XWin DDX

commit 587c010a1cd733fded4d49dc339df0634bda8be6
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Sat Apr 19 09:27:21 2008 -0700

    Rootless: Kill off rlAccel

commit d3d00d92586c3e1cbc88087c930b65c8b3832fcc
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Sat Apr 19 12:54:40 2008 +0200

    Removed fbpseudocolor.h from sdk_HEADERS.

commit 5bdc4198795ffd011bb07cffe3817e4cded87f60
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Apr 19 04:06:19 2008 -0400

    Remove fbpseudocolor
    
    "An experimental pseudocolor emulation layer.  Not fully completed,
    currently only works for 16bpp."  That was almost four years ago.
    It still doesn't work, only one driver even attempts to use it, it
    contains an ad-hoc implementation of damage, and should really be
    done up in Composite now anyway.

commit 60ff56050b64183cb6e58f54223c8a3ddc2e704b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Apr 18 22:17:53 2008 -0700

    Revert "Optimize dixLookupPrivate for repeated lookups of the same private."
    
    The patch was wildly unsafe for SIGIO, and made everything full of
    crashy crashy fail.
    
    This reverts commit 9b30cc524867a0ad3d0d2227e167f4284830ab4e.

commit ed9dabb47c467dbf49836b631d5d6bda4b0d98b0
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Apr 18 20:30:43 2008 -0700

    Last of the spam... I promise...
    (cherry picked from commit 45ebee4f729b148a75e925a4863b4eb850c88f8e)

commit 49f2bb4681fdee9e45f952ef0ac9c34a090117de
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Apr 18 20:25:38 2008 -0700

    XQuartz: More sanitization of the namespace
    (cherry picked from commit bc50d41f9d1aec04f0de0478cbd5036f1fe9b81e)

commit c2f0d020b5d7950267aa3df391a7a72b9ae5883b
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Apr 18 20:10:57 2008 -0700

    XQuartz: Removed unneccessary include
    (cherry picked from commit 45ff59e69eddfcceafced31cf6e73e381d0f6914)

commit 5183fea6d38de4bcf657e9c2a983dfd81a2a223f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Apr 18 20:06:17 2008 -0700

    XQuartz: Handled sanitization of namespace better
    (cherry picked from commit 8cb23d672177da919257c885804cecd18cf9af88)

commit edd3fb784bad893550ee270e0a09f22f99783cf5
Author: Ben Byer <bbyer@bbyer.local>
Date:   Fri Apr 18 17:17:01 2008 -0700

    random flailing
    (cherry picked from commit 7fb9b2dc615a3bd1a3c087438af7a8b88265cfaa)

commit a7503615a6893749d512f75d37646273f31b9dbf
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Apr 18 19:56:41 2008 -0400

    Death to TOG-CUP.
    
    If you still care about 8bpp visuals that much, fix Composite to provide
    synthetic visuals.

commit 4da9ec16e9725ebb9817b49e33ea1035b6aff09a
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Apr 18 19:54:09 2008 -0400

    Remove appgroup mentions from configure.ac

commit 25827fde68d3bb02a2b7e05fae53a1d97edf1f76
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Apr 18 15:32:04 2008 -0700

    Nuke the MIT-SUNDRY-NONSTANDARD extension.
    
    This extension provided bug-compatibility with pre-X11R6, but has been
    stubbed out in our server since 2006 to return BadRequest when you actually
    asked for it.

commit 13adef8a17d8815f4db2aaac30ae04438e125343
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Apr 18 19:01:06 2008 -0400

    Finish deleting EVI

commit eafaf40fb3368ca7e4cf48336fdb7a6c9f536bfa
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Apr 18 18:50:05 2008 -0400

    Death to APPGROUP.

commit f6617b4127125516583f321c961d70f762f728be
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Apr 18 18:28:01 2008 -0400

    Death to Extended Visual Information.

commit 3b93631e59ca4d312d318eac4015e0a79ad6351f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 18 11:31:54 2008 +0930

    dix: remove coreOnly check. Core pointer must generate XI events now.
    
    This flag was only used when an event is generated by Warp[Device]Pointer.
    Since the VCP now happily generates core events, this flag is obsolete.

commit e0eaf8e5e3fa7a11c087851dff93f50f6907c4a5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 18 10:57:47 2008 +0930

    Xext: Let XTestFakeInput update the sprite for XI events.
    
    Since XI devices can have their own sprite now, we need to update the sprite
    coordinates too when processing an XI event.
    Note: This doesn't deal with the device hierarchy correctly yet.

commit cb0168b4ac5c59cdce6f0a6d89ddd9f30d93b5f3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 18 09:48:06 2008 +0930

    Xext: xtest.c: death to tabs+spaces indendation, remove #define XINPUT

commit eebdf69e9a52e071e0467a1f99de135df4d1eabc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 18 09:22:37 2008 +0930

    xkb: mixing up src and dst in a memcpy is suboptimal.

commit aa6687322de85a2d1025a3ae851fb290a089b2d3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 15 23:03:06 2008 +0930

    Xi: when copying button classes, copy xkb_acts as well.
    
    This should be the last piece in the quest for the class copy.

commit c14f5dc237a31b13d98ae2d0d6143bd91083cf13
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 17 20:21:45 2008 -0700

    XQuartz: Forgot to commit xprEvent.[hc] ...
    (cherry picked from commit 70e543baf2508d636f01b2b7e8cb05172195b68c)

commit 22bb7608a025a4ec0f442637810b20e2cb0b0820
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Apr 17 17:04:08 2008 -0700

    Added XKB support for Xquartz
    (cherry picked from commit 56dc1215202746590dbe8758411f47e8876e1317)

commit 652479dba38470273313dc46f17e3bcb1bc5e383
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 17 15:49:13 2008 -0700

    XQuartz: Moved some rootless-specific cruft into xpr
    (cherry picked from commit 31625cc03b58317120c2ac7877e227e2322e1de8)

commit 2a1ba20af98c0e9a6a7f1a50d32058dcc9759c21
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 17 15:23:00 2008 -0700

    XQuartz: Use a mutex to ensure we only have one thread calling mieqEnqueue at a time.
    (cherry picked from commit 7b087c965bce9f440ab5233d6383aa4a7de969b8)

commit 55f80d754525398378de1ef28aa562bd29ee750f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 17 14:21:31 2008 -0700

    XQuartz: A little more debugging output from threadSafety
    (cherry picked from commit f6fbdbf838ab77c3a4635f0b2356b1bbb060ff5b)

commit 0d61f6fca1efeb4f68488e323d1c0508b9b7a711
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 17 13:17:58 2008 -0700

    XQuartz: Fixed some missing prototypes
    (cherry picked from commit 95056afc562cfe58b116f5c36e4624018e79ff4a)

commit dbd4c031565d269fef90af23386ff045ec78688c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 17 13:12:56 2008 -0700

    XQuartz: Added framework for asserting which thread we're in.
    (cherry picked from commit 00beb982510e7a82d77e1f1d43e77c84d7bf74c2)

commit fa0645b452cbebd1800a63f1c95cb77fef4ab211
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Apr 17 12:27:12 2008 -0700

    removed Xquartz debugging code that leaked into master.  Our Bad.

commit a3d40f0549f6c6f49fffc286bcdaad758fa92367
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 17 11:56:48 2008 -0700

    XQuartz: Include version info for CrashReporter
    (cherry picked from commit b4992755c3e29086c5939683c38fa8fd7d2e6754)

commit 6d11712c2a35b243c19eea3b26622d18c2446dbe
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 17 11:06:54 2008 -0700

    XQuartz: Use strerror(errno)... cause I like text more than grepping header files
    (cherry picked from commit 1b4c37d8f9b517fbec5b94ed4e4a5e86a31472a5)

commit dcf4f917cc9488de72711255bbb030d9aa8f8bfb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 17 11:03:31 2008 -0700

    merged darwinKeyboard.[ch] into quartzKeyboard
    (cherry picked from commit 57bb07320908b74facea0a97822bb19ed6f960a9)

commit 582397cd024c68df65ab9dececd6d2c40a5a261b
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Apr 17 02:31:53 2008 -0700

    oops, missed a spot
    (cherry picked from commit 19872a6aeb8ee9cb0e33e4b4ffd794c9dbefe0cf)

commit 0bd1c369cce05d5a4da5e3fd7033aea8c68460ec
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Apr 17 02:30:36 2008 -0700

    formatting cleanup
    (cherry picked from commit 769acd29348abf9e5b0bebfca6ae695d345f3077)

commit 700e14c22616b209867e4ea4d1811e53ca996164
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Apr 17 02:21:33 2008 -0700

    delete debugging spew
    (cherry picked from commit f04f3af86a91d0cafbc86a0d71aeb0599d685f07)

commit a440eebf2541ae0bb06bf65281b5facff2f04e00
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Apr 17 02:21:11 2008 -0700

    add support for horizontal scrolling (buttons 6 and 7)
    (cherry picked from commit f525a4a432ebd0545ad1dd0a7ad84ad3e47e8b61)

commit 612e901ef6aa3edc54b39e55e8040cda0e5ab7b6
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Apr 17 01:32:56 2008 -0700

    enable keyboard map debugging -- it's going to x11-debug.txt, anyway ... so no harm
    (cherry picked from commit ab662c736e0654e2b4347091f0d9e87f26034216)

commit 5bdfbfbedcbd9ff61cbb0b678cbf7ce7889a5826
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Apr 17 01:29:46 2008 -0700

    darwinKeyboard: refactor slightly so that we're not cutting and pasting code from dix, kthx
    (cherry picked from commit a8a090b853e811b9843a5732572cbbe542224f32)

commit 58e42683c9e998f6b8a55d5653b9caec7b6acf96
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Apr 17 00:19:56 2008 -0700

    hack to Xquartz to prevent xmodmap from wiping out our valid modmap, per daniels
    (cherry picked from commit cab54466a61281cfafc12825017c23d720cd75f4)

commit cd3470a0cffbd6b8cec7c44227b33307c9e227ae
Author: Ben Byer <bbyer@apple.com>
Date:   Wed Apr 16 22:48:54 2008 -0700

    kludge: miEqEnqueue wants a device, even if we're passing custom messages,
    so give it one
    (cherry picked from commit a494ff04b2a14470eaf5a23c7cf6dbdea182c6d1)

commit 966ae1781f3ca563e15a9a1b8cab6fab94e07fe9
Author: Drew Parsons <dparsons@debian.org>
Date:   Mon Mar 10 22:54:49 2008 +1100

    Create dix/libXpdix.la for Xprint-specific build of libdix.la
    
    (cherry picked from commit 4e2c6dbabdbbaaca213fd08edd422de15d0900cc)
    
    required because of commit 7c0709a736c0f3aa011de67dd2c2962585ab146e,
    which made requestingClient in dix specific to Xprint only.
    Add to XPRINT_LIBS in hw/xprint/Makefile.am in front of
    $(XSERVER_LIBS) to override definitions in libdix.la for standard xservers.
    
    Follows 571206832d454771e3c638c7515767958365c19c (providing -DXPRINT
    to xprint subdirs).
    
    Note it may be possible to restructure the code so that
    requestingClient is stored elsewhere than in dix. See discussions
    following http://lists.freedesktop.org/archives/xorg/2008-March/033844.html
    If this is done it may be possible to revert this commit (if not 571206...).

commit 571206832d454771e3c638c7515767958365c19c
Author: Drew Parsons <dparsons@debian.org>
Date:   Mon Mar 10 13:48:05 2008 +1100

    Define XPRINT in XPRINT_CFLAGS (configure.ac)
    
    -DXPRINT had only been set for Xprt in hw/xprint/Makefile.am
    After commit 7c0709a736c0f3aa011de67dd2c2962585ab146e it is also
    required for ps/PsArea.c and PsFonts.c to ensure ‘requestingClient’ is
    defined, so make it a global Xprint definition in configure.ac.
    (cherry picked from commit 28a6719fd486d9a9cecad0b057d9ea7c59c66055)

commit 9b30cc524867a0ad3d0d2227e167f4284830ab4e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Apr 17 16:10:10 2008 +0200

    Optimize dixLookupPrivate for repeated lookups of the same private.
    
    This gives me a 20% speedup for EXA text rendering, though I still seem to burn
    quite a lot of cycles in here...

commit 886af8f3849a0fcfc6b63a9695107ce26d7a6955
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Wed Apr 16 16:20:19 2008 +0200

    EXA: Avoid some fallbacks in exaCopyNtoN.
    
    In some cases we can still do the copying in hardware even if the
    dimensions of the pixmaps are out of range. This is true when the boxes
    that we're to copy are all in the card's range.

commit dc10f0a0e243b7ba38d02a4e2c43027563aead7c
Author: Julien Cristau <jcristau@debian.org>
Date:   Thu Apr 17 11:13:47 2008 +0200

    Fix composite on !darwin
    
    2ffdb0eb641ab6949783b4eb574f77e7486ac929 changes the default value of
    COMPOSITE to 'auto', but doesn't set it back to 'yes' as appropriate.

commit 8716d081fdf61ddf956c30aff7697c70507911fd
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Apr 3 16:29:43 2008 -0700

    XQuartz: Don't enable rootless accelerated functionality... crashy...
    (cherry picked from commit cdb4c291d8c10c3a9ea59d8e79275a30d2ea82b4)

commit 2ffdb0eb641ab6949783b4eb574f77e7486ac929
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 16 21:54:00 2008 -0700

    XQuartz: Don't use composite.
    (cherry picked from commit 6d3d344b5b95b6dc4166556d03cfd8c9576dc3f0)

commit 757a1bf3a3d72e17eeb362f825124c4ba40cc080
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 16 21:48:52 2008 -0700

    Xquartz: Don't need to link against rlAccel since we don't use it
    (cherry picked from commit 180ec128adef11a9a90cea1189dc31ac5de8359f)

commit ab8c6a3c5acb2a3bf288f1d6339b09a125bbb930
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Apr 14 19:12:00 2008 -0700

    Update ac_define_dir macro in acinclude.m4 to 2008-04-12 version

commit b907258ebe62642af088f6e2970a45a68cf4be19
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Apr 16 12:07:51 2008 -0700

    Update dolt from upstream, fixing fallback to libtool.

commit e1e189f8538f2b77ae0cf0d846d3899061e4c4b7
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Apr 15 14:49:51 2008 -0700

    Include pciaccess in the xorg-server.pc Requires line.
    
    This pulls in the include path for pciaccess.h, which is needed by, among other
    things, xf86.h.

commit 9e7ced94a5e3a14762fe934aa69d91f0831cf5ca
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Apr 15 12:06:07 2008 -0700

    XQuartz: Removed a call to RootlessReorderWindow from the Carbon thread
    (cherry picked from commit cb27d5ca8230707b276763c0ec20e586203144c9)

commit 51c8fd69ec9292f5e18cdc7f60e1716fbd6ae61a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 15 15:09:40 2008 +0930

    dix: free the unused device classes when closing a device.
    
    This also requires to NULL-ify all pointers while we're actually using them,
    otherwise we'd try to free them twice.

commit 48d33ab9b672b3b3ca308000cdbd573d1e368ff9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 15 14:29:53 2008 +0930

    dix: float attached devices _before_ disabling the master.
    
    It also helps if we're actually providing the correct argument to
    AttachDevice...

commit 4cf9c5909d926ec322ed1c7df47f95bd872bb607
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 15 13:56:11 2008 +0930

    Xi: fix up button count.
    
    Some leftover code from the previously used alloc/free device classes left us
    with a incorrect button count. So a button release didn't come through if
    a different pointer was moved after the button press.

commit 35982bc109d424c464551ab22ec90af69908c884
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Apr 11 11:09:13 2008 -0400

    Make DRI2 a serverlayout/serverflags option.
    
    Add xf86DRI2Enabled() to export the value of the setting.

commit f133d85778462134f366389bde7673bff7845fa8
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Apr 14 11:43:51 2008 +0200

    EXA: Update pixmaps' accel_blocked field in ModifyPixmapHeader.

commit bb8868540f017b121d698da45e552ffb55a57cea
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Apr 14 09:58:49 2008 +0200

    EXA: Teach exaCompositeFallbackPictDesc() about x8r8g8b8.

commit 1a9d7205cd5640eb65f019336097d86301942ea7
Merge: 90f491c 6866e84
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 14 16:25:58 2008 +0930

    Merge whot@wombat:~/potoroo/xserver into mpx

commit 3e12c5bb67f3049156475d5cbf4e899aaded76bb
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Apr 14 11:45:12 2008 +1000

    glx: silly nitpick...
    
    even though i and j are the same, we use i to derefence visuals everywhere else

commit 97565c0f394f16d042c614695c8b7b4ac354f2a3
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Apr 14 11:40:38 2008 +1000

    glcore: make visualRating GLX_NONE - note GLX_NONE is not == 0
    
    Finally glxinfo returns the set of 3 visuals and glxgears works again for me on
    sw rendering

commit c61087c82784633e522bd9392172b43656bdf45e
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Apr 14 10:47:28 2008 +1000

    glcore: zero fbconfigs before filling them in.
    
    I'm not sure this the complete proper solution, perhaps it should explicitly fill
    in ever field.
    
    This at least makes glxinfo on glcore return sensible information, it doesn't make
    gears work yet though.

commit 6866e84e3c607d00d88eab2249c2619d6707c1a4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 19:57:51 2008 +0930

    Xi: store feedback classes in devProviates system as well.
    
    This is a follow-up to cb48d880856fd196ab8e8de5eb1f14944a1b4fff.

commit cb48d880856fd196ab8e8de5eb1f14944a1b4fff
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 19:48:28 2008 +0930

    Xi: store unused classes in devPrivates.
    
    Rather than freeing/allocing classes each time the device capabilities need to
    swap, store them in the devPrivates system.
    When a class is unused, it is pushed into the devPrivates, and later recovered
    when needed again. This saves us a lot of memory allocations/frees, admittedly
    on the cost of some memory.

commit fde3c836628b6cdec3e5d107d6b1b99bc8b86912
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 17:08:51 2008 +0930

    Xi: copy the KeySyms.map over from the source.

commit 3c4c9938f31755c5a59995fdcfa138c99db76bbf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 16:52:14 2008 +0930

    Xi: Fix pointer handling in KeyClassRec copy.
    
    We don't free the class anymore, so just store the previous pointers, do the
    memcpy from the SD and then restore the pointers.
    Plugs a memleak too, before xkbInfo was never freed.

commit 755f9e5d7898056cf3bead69ce25a10e23995582
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 16:49:25 2008 +0930

    dix: Ignore focus for passive grabs if the event is a pointer event.

commit 6faf5b97b92953c331d6540ceb18fd0a77197fea
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 15:42:33 2008 +0930

    Xi: fix up modifierKeyMap copying.
    
    Setting it to NULL isn't correct either. The correct behaviour is to realloc
    it to the size necessary (or newly alloc it/free it).  Otherwise we have a
    memleak.

commit 3106ba1116e3b9d893f66a93e4a91cc61e23226a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 11:48:06 2008 +0930

    xkb: two fixes to avoid server crashes.
    
    - map can be NULL in some cases, so don't try to dereference it.
    - don't default to inputInfo.keyboard
    
    This is firefighting, I presume something in the class copy may have gone
    wrong to get a NULL map in the first instance?

commit 415c6df0da1197d487456b4c48e2e28e7ded8b8e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 11:46:44 2008 +0930

    Xi: copy feedback classes first, in some cases xkb relies on kbdfeed.
    
    XkbInitIndicatorMap (in XkbInitDevice) calls XkbFindSrvLedInfo. This accesses
    the devices kbdfeed struct, which is all nice and dandy if it is NULL. When
    copying the device classes however, kbdfeed may not be NULL and thus
    XkbFindSrvLedInfo goes on its merry way to do whatever it does.
    
    By copying kbdfeed first, we avoid XkbFSLI to reference the "old" kbdfeed
    struct of the previous SD.

commit 961f6660902163e99727c2dcc1a039f32b083859
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 09:31:16 2008 +0930

    Xi: modifierKeyMap needs to be set to NULL when copying classes.
    
    Otherwise we have a double reference to the same memory area.

commit bf6679cba40a936d46008c886d204ed521a4971a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 08:28:07 2008 +0930

    Xi: copy the XkbSrvLedInfo too when copying device classes.

commit 4219e94c2f7d431be433eceddfe79760a1ee31a1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Apr 13 08:27:31 2008 +0930

    xkb: Add XkbCopySrvLedInfo, deep-copies a XkbSrvLedInfoRec.

commit 1fa4de80fcfc697b5e5879cc351fb3e9dbf6acbe
Author: Matt Turner <mattst88@gmail.com>
Date:   Sat Apr 12 20:39:18 2008 +0200

    Check for __x86_64__ when we check for __amd64__
    
    It seems Intel C Compiler neglects to define __amd64__, __amd64, or
    amd64, but *does* define __x86_64__.

commit b1f3f42840ec01db417345a0740b59ad5e4471cb
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Apr 11 17:49:51 2008 -0700

    Xquartz: Added applicationShouldHandleReopen:hasVisibleWindows to handle dock icon clicking
    (cherry picked from commit 55d9973b053f25bb95b26e00351dc5531caf5b04)

commit eabcfce0a68d504d11be9479f09e66f574dd2f21
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Apr 11 09:51:26 2008 -0400

    Stop building mfb/afb/xf1bpp by default.

commit 0dab6fa3582b70ccd0f01459902415c28dbc81ff
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Apr 11 09:47:51 2008 -0400

    So long, and thanks for all the cfb.

commit 059b4876e6350aa1110648788cdfbb3f45b4d66d
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Apr 11 09:46:48 2008 -0400

    Add doltcompile to .gitignore

commit 6d22a9615a0e6ab3d00b0bcb22ff001b6ece02ae
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Feb 22 11:01:51 2008 +1030

    dix: Call DeleteInputDeviceRequest from CloseDownDevices (#14418)
    
    The DDX (xfree86 anyway) maintains its own device list in addition to the one
    in the DIX. CloseDevice will only remove it from the DIX, not the DDX. If the
    server then restarts (last client disconnects), the DDX devices are still
    there, will be re-initialised, then the hal devices come in and are added too.
    This repeats until we run out of device ids.
    
    This also requires us to strdup() the default pointer/keyboard in
    checkCoreInputDevices.
    
    X.Org Bug 14418 <http://bugs.freedesktop.org/show_bug.cgi?id=14418>

commit 90f491cf8eb869f27c4278b26c1bb84432b12d63
Merge: cbe01b3 b4380d8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 11 08:29:52 2008 +0930

    Merge whot@wombat:~/potoroo/xserver into mpx

commit 3c337e18b933881e22b0d03312511f1d23a8640b
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Thu Apr 10 21:36:19 2008 +0200

    Fixed configure.ac for autoconf 2.62.

commit 13dcde6bf994fae09c67c3edce9de42df61ef043
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Apr 10 11:08:49 2008 -0700

    Fix dolt to error out on compile error, and not print errors on race to mkdir.
    
    Both of these changes have been submitted upstream.

commit a7e3ad1c6b455bda7c4abb352a20845d1d4574a0
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Apr 10 10:33:11 2008 -0700

    Remove NDEBUG (assert() disable) define from the X Server.
    
    A few pieces of code were abusing this define for other purposes, which are
    converted to #ifndef DEBUG instead.  There should be no ABI consequences
    to this change.
    
    The rationale is that having the define in xorg-server.h also disables
    assert() drivers, which is unexpected, and also difficult to avoid since
    xorg-server.h is included in their config.h, and you can't put a #undef in
    config.h.  As for removing it from the server instead of moving it to an
    internal header, we probably shouldn't have unnecessary assert()s in
    critical server paths anyway, and if we do we could #define NDEBUG in the
    specific cases needed.

commit b4380d8030927c940ddaea83c4cf24e0b9eb7b96
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 19:25:43 2008 +0930

    dix: don't free MDs classes on init.
    
    The device classes aren't deleted anymore on a class change, so there's no
    need to store the MD's original classes. We should however restore the MD to
    sane defaults when disconnecting the last device, consider this as TODO item.

commit 04dff74ffdf727015e3721aae4ea13acc498cd1c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 19:22:59 2008 +0930

    dix: Rework Enter/Leave semaphore system.
    
    Instead of a simple counter, use bits to keep track of which device is where
    etc. When device enters a window (or sets focus), the bit matching the device
    is set, when it leaves again, it is unset. If there are 0 bits set, then
    Leave/Enter/Focus events may be sent to the client.
    
    Same theory as before, but this should get around the insanity with
    Grab/Ungrab special cases. Those cases are basically untested though.

commit a88386ee277d136caaaeec305f8753f23f9b6274
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 14:36:57 2008 +0930

    Xi: only DeliverFocusedEvents if the event is not a pointer event.
    
    A pointer device may have a focus class, but even if so, pointer events must
    be delivered to the sprite window, not the focus window.

commit 48249425275cc90242497aee9968e5f1ffc86698
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 14:36:10 2008 +0930

    Xi: dont copy FocusClassRec if the master already has one.
    
    Blindly copying will override the focus setting of the master. If there's XI
    applications running, they may set the SD focus, while leaving the
    MD's focus as it was. In this case, after a class swap we still want to get
    the MD's events to the same window as before.

commit bce6091c6b04ff2db704ae4f161179d21dcbec59
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 09:59:45 2008 +0930

    dix: Extend IsKeyboardDevice() to not include pointer devices.
    
    If a pointer devices has key classes as well, don't register it as a keyboard
    device. Let's see how much that change will break.

commit cc7dab2d04da4ca164eeec1a3296df1706585466
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 09:58:50 2008 +0930

    dix: Dont deliver grabbed pointer events to a focus window.
    
    If an pointer event is being processed during a device grab, don't deliver it
    to the focus window, even if the device has a focus class. Reason being that
    some pointers may have a focus class, thus killing drag-and-drop.

commit df2545b98d888924209cb889a68737c15f1aa209
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 08:50:43 2008 +0930

    xfree86: Sanity check before retrieving the paired device.
    
    Some pointer devices send key events [1], blindly getting the paired device
    crashes the server. So let's check if the device is a pointer before we try to
    get the paired device.
    
    [1] The MS Wireless Optical Desktop 2000's multimedia keys are sent through
    the pointer device, not through the keyboard device.

commit 5a4c6621aaf4e886f2c3b633e837ba359fedf921
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 08:29:05 2008 +0930

    Xi: some extra checks for validity of kbd and mouse.
    
    Floating SDs are paired with themselves, so the paired device may not be a
    proper keyboard or mouse. Put some extra checks in to avoid dereferencing a
    nullpointer later.

commit 8e0a6529303a52acc10905dd47c72a0d60979676
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 08:25:36 2008 +0930

    dix: When floating, set sprite to NULL before calling InitializeSprite.
    
    InitializeSprite won't create a new one if it already exists, with the result
    of overwriting the master's sprite. This master sprite is then assigned to the
    floating slave, and freed when the slave is reattached later.
    Setting the sprite to NULL forces InitializeSprite to alloc a new one, and
    this one can be freed without further repercussions.

commit e7211eb0b3d10323dab681bcb18580405ea18ab2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 10 08:08:54 2008 +0930

    Xi: When attaching, check for ptr -> ptr and keybd -> keybd.
    
    Some pointer devices have key classes (e.g. MS Optical Desktop 2000). The
    previous test was performed as Error if ptr -> keybd or keybd -> ptr. This
    doesnt work with such devices. New test is Succeed if ptr->ptr or
    keybd->keybd.

commit 7909ebe7f163716520f843fae11ac7bdeffcb57c
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Apr 9 10:43:25 2008 -0700

    dolt: add FreeBSD support (this and ppc have been submitted upstream).

commit b4842d8dc3b1619033c5c123c8adc6e164098dc3
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Apr 9 16:17:35 2008 +0200

    dolt works on powerpc Linux.

commit 0d1746995d91b55e40f233f0c38b56bafe896d38
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Apr 9 13:37:59 2008 +0200

    Fix off-by-one error in ProcXResQueryClients().
    
    Fixes memory corruption reported at
    http://bugs.freedesktop.org/show_bug.cgi?id=14004 .

commit 6d031cbdefd8072b61645955f01b470a3e6858c1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 9 14:36:26 2008 +0300

    configure.ac: Do the dolt
    
    Use dolt instead of libtool whereever practical.  See:
    http://lists.debian.org/debian-devel/2008/04/msg00286.html

commit b19027fbaea4c3a146926e862983e0e3411fff3d
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Apr 9 14:27:58 2008 +1000

    quirk: add quirk for ACR 640x350 default mode is wrong
    
    RH #440186

commit 1f8188656a075dc7b1bb27a0795b5bd43610bbc8
Author: Ben Byer <bbyer@apple.com>
Date:   Tue Apr 8 20:37:25 2008 -0700

    add missing dix-config include
    (cherry picked from commit 126e9bc8c480b403dedc44c1e8c4fe1476340ed9)

commit cbe01b3083eb65c9d4259b1071683febebf11600
Merge: 5ffbcfe 389dae7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 9 10:46:46 2008 +0930

    Merge whot@wombat:~/potoroo/xserver into mpx

commit 3f51f493b6daf2464e6c2ba5a924219b88a9e57e
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Apr 8 17:02:56 2008 -0700

    XQuartz: Fix issue where clicking on an X11 window might send that event to an X11 window in another space.
    (cherry picked from commit df21312c8b0e9ef0c809bfc57cdf64f27db0d8a7)
    (cherry picked from commit 2d4194a8d124e7a9c7cd1b83635ba6957aa4ae1c)

commit 389dae73cc0f3693f49807fd2de146c454ba9783
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 9 08:26:00 2008 +0930

    Xi: If device "to" has a class but "from" doesn't, free the class in "to".

commit 60c38d248c1a89392c2c6695c3802f4b54e4c00b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 9 07:46:53 2008 +0930

    Xi: plug memory leak, free previous motion history before allocating new.

commit ea05cf0813b2b7c8cd2151cb935820753ae7997a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 8 22:09:11 2008 +0930

    Xi: check if source has a key class before copying.

commit 08073862f8c4e1219b6459708ffd28e2bc35885f
Author: Hasso Tepper <hasso@estpak.ee>
Date:   Tue Apr 8 13:00:38 2008 +0300

    configure.ac: Fix monotonic test harder
    
    This was only introduced in a later version of POSIX, so define that
    version to get it from more conformant systems.

commit 5ffbcfec3d37d3b627a78acfa00dbafc5948df82
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Tue Apr 8 14:42:00 2008 +0930

    dix: Ensure Proximity events don't kill the server.
    
    Add Prox events to the if-clauses with the other events
    that are usually sent from the input devices.
    Ensure that the event deliverers won't try to deliver
    events of type '0' (some extended events doesn't have
    an equivalent core-type)
    
    Small modification by Peter Hutterer.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 32e4a88ae613c7200d84d5621344b418b656346b
Author: Peter Hutterer <whot@potoroo.wearablelab.ml.unisa.edu.au>
Date:   Tue Apr 8 08:42:58 2008 +0930

    xkb: don't overwrite CtrlProc in the second run of XkbFinishDeviceInit.
    
    XkbFinishDeviceInit is called once when the device is initialised, but also
    when a class copy causes the key class of a device to change. In this case,
    overwriting the CtrlProc of the KeybdFeedbackClass with XkbDDXKeybdCtrlProc
    sets up a nice recursive loop of XkbDDXKeybdCtrlProc calling itself until the
    cows come home.

commit 6271df6953bea462be7e9e01744e5dd46841e867
Author: Peter Hutterer <whot@potoroo.wearablelab.ml.unisa.edu.au>
Date:   Tue Apr 8 08:42:58 2008 +0930

    xkb: don't overwrite CtrlProc in the second run of XkbFinishDeviceInit.
    
    XkbFinishDeviceInit is called once when the device is initialised, but also
    when a class copy causes the key class of a device to change. In this case, overwriting the CtrlProc of the KeybdFeedbackClass with XkbDDXKeybdCtrlProc sets up a nice recursive loop of XkbDDXKeybdCtrlProc calling itself until the cows come home.

commit 726dcd9e4ebfb09c0685450dca6e9fae7e773814
Author: Adam Tkac <atkac@redhat.com>
Date:   Mon Apr 7 10:20:02 2008 -0400

    Fix Xvfb input when building against current X sources.

commit 0f87b41a432a6472a15ec0c9dee997e3bddbd0f2
Author: Hasso Tepper <hasso@estpak.ee>
Date:   Mon Apr 7 14:09:04 2008 +0300

    configure.ac: DragonFly BSD support
    
    Add support for DragonFly BSD, which is just the same as FreeBSD for all
    of these cases.

commit 6b1a27023e48b661c4bb3b61181ac57608d8e448
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Apr 3 14:50:05 2008 -0400

    EXA: Fix TS origin computation when implementing RenderComposite with tiling.

commit fd06e8f8c1d82a9d91931e8532bee0fd9c9ca9ab
Merge: b46a009 6c0cfe3
Author: Peter Hutterer <whot@potoroo.wearablelab.ml.unisa.edu.au>
Date:   Mon Apr 7 07:56:41 2008 +0930

    Merge branch 'master' into dcdc_rework
    
    Conflicts:
    
    	Xext/xevie.c
    	dix/dispatch.c

commit 539bf3c2836727e7560c64144071b086f8ea32fe
Merge: 3ab33e7 6c0cfe3
Author: Sascha Hlusiak <saschahlusiak@arcor.de>
Date:   Mon Apr 7 00:10:16 2008 +0200

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 3ab33e7cd46c25dfc461b2a1b13e138225a94524
Author: Sascha Hlusiak <saschahlusiak@arcor.de>
Date:   Sun Apr 6 23:23:47 2008 +0200

    Remove stale code
    
    The jstk code for Joysticks is not used by any module, was never actually compiled and uses an API
    that is deprecated these days.
    
    No reason to keep it.

commit b46a00918691cbd5ca80b6d3acae7614f93e073b
Author: Peter Hutterer <whot@potoroo.wearablelab.ml.unisa.edu.au>
Date:   Sun Apr 6 09:02:57 2008 +0930

    dix: sprite may be NULL, don't dereference it then.
    
    In some rare cases (e.g. when the init fails) a device's sprite is NULL,
    dereferencing it to xfree the spriteTrace is a bad idea then.

commit 638a50552e3e2190eac9721deb72e7365bdd52e4
Author: Peter Hutterer <whot@potoroo.wearablelab.ml.unisa.edu.au>
Date:   Sun Apr 6 08:36:21 2008 +0930

    dix: remove debug error message about XI->core type conversion.

commit 8f38feb3e464986dc523dabd3447ba13263a3a4a
Author: Peter Hutterer <whot@potoroo.wearablelab.ml.unisa.edu.au>
Date:   Sat Apr 5 20:37:09 2008 +1030

    Xi: add comments for DeepCopyDeviceClasses, ChangeMasterDeviceClasses.

commit 6c0cfe3d43b177c4cfaf7e228f32c655f9a98459
Author: Julien Cristau <jcristau@debian.org>
Date:   Fri Apr 4 19:01:40 2008 +0200

    Fix the clock_gettime check for glibc-based non-Linux systems
    
    We need to define _POSIX_C_SOURCE on glibc, not just Linux, so add a new
    test for the __GLIBC__ macro.

commit cc7c045bae01d90d8f1b750080ba48a96e983c68
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Apr 4 12:58:12 2008 -0400

    Fix PCI config space cycles from int10 emulator.
    
    The top bit of 0xCF8 is an enable bit, not part of the domain.  Sending
    cycles to domain 128 instead of domain 0 is rarely the right thing to do.

commit d1de3dda8efe501d4192c8a99c34ab4265316c32
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Mar 17 14:22:39 2008 -0700

    Fix clock_gettime presence detect on FreeBSD.
    
    For non-Linux, _POSIX_C_SOURCE and friends restrict symbols defined rather
    than enabling defines of symbols.  Additionally, CLOCK_MONOTONIC was
    apparently added to the standard around 2000 anyway, not 1993.

commit ec17900f52bbd25d07566834756e5c7e832e0463
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Apr 4 10:46:45 2008 -0400

    Convert __DRIconfigs after we've made sure createNewScreen succeeded.

commit 16a8ce75585ea360c39e0ffce4f7bb26a359b754
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Apr 3 16:44:32 2008 -0400

    Only autoload RECORD if it was enabled.

commit d0395a753079f291a78d9ab86810b5f84f237491
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 4 15:05:26 2008 +1030

    Xi: realloc to->valuator instead of allocing it blindly.

commit 502689847b86be5619da7134646d55a1ac322a2c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 4 15:01:53 2008 +1030

    Xi: ALLOC_COPY_CLASS_IF should only alloc if to->field doesn't exist.

commit 035b1b6995e670ce5593e8aceb08f9ec812c70ea
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 4 15:00:06 2008 +1030

    Xi: remove duplicate copying of kbdfeed and ptrfeed.

commit 52fc7aed18930fc9e6bcfdd5dbc28ae559978288
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 4 14:47:23 2008 +1030

    Xi: only alloc memory for feedback classes if it doesn't already exist.

commit 4eb87c8693b57d9354832c76417797394656333e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 4 14:20:18 2008 +1030

    Xi: don't free device classes before copying them.
    
    First commit in a series to come.

commit f0915fb3c4a9712200882440a64d11dc595a02bb
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Apr 4 09:29:51 2008 +1000

    quirk: add quirk for ACER EDID

commit 2e42b67b82db0f9128dd00e339b9dfdd9fe6d667
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 2 18:05:34 2008 -0700

    XQuartz: Change reporting of space change to debug log rather than stderr
    (cherry picked from commit ed15556a9fc4ebdb88f42961052fc8456082165f)

commit c737d04c758e03e32f692a31ed2a665ccbafa931
Author: Ben Byer <bbyer@apple.com>
Date:   Tue Apr 1 00:40:46 2008 -0700

    The AppKit thread should not be calling directly into the X server
    functions to change state when the keyboard is reloaded; instead,
    pass it as an event.
    (cherry picked from commit 7e653f806ff5508aace059312156f319a9ed4479)

commit 15b0084f1ab23042190d8beeb3f088b92dee5a10
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 23:31:25 2008 -0700

    formatting cleanup for X11Application.m (no code changes)
    (cherry picked from commit eb083d3f68f459d90417558da1ed00729b749950)

commit e9e2d88436597875f102085d216dc0a8fce1450a
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 22:55:24 2008 -0700

    moved and renamed QuartzMessageServerThread to
    DarwinSendDDXEvent to make more clear what it actually does.
    (cherry picked from commit bee2b377efc930e25017636e5112093a3a6549c7)

commit c1be4e3379d8780dff20390939b657ca0973995a
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 21:04:37 2008 -0700

    shovelling code around ...
    (cherry picked from commit 2143182ba49195bbb2e9163ea6872fd68e7a4a85)

commit 985c631b2e1f113039e6e620f030505435fd9815
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 20:18:58 2008 -0700

    just a bit of juggling headers around -- we're preparing
    to call our Xquartz-specific event handlers directly
    as mieqHandlers
    (cherry picked from commit 4aedba5aa727e22316e8ca456f7218bea9ee0313)

commit 89f1d880e83e32b72d35c4dbd6795defa6efa847
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 19:47:28 2008 -0700

    nuke DarwinEventQueue
    (cherry picked from commit 1e0ec02202eeaffae480048b91bf02140ee29f8a)

commit 8944b77ec0c18476a25ba3179bcc45b338be22b8
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 2 17:47:42 2008 -0700

    continue with gutting darwinEvents.c
    (cherry picked from commit c34fce7051b996633291dddc061b696ff737f3fb)

commit aa6d12e93e8661da841192ef7c3aa7c6a7731c7f
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 2 17:46:59 2008 -0700

    turns out we weren't actually using these files. oops
    (cherry picked from commit bfec44d7b4baf0ad0aae55c8209bc60ac93c5b58)

commit 6c5962e44730395f81cdb333322c9ad5242c32d4
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 18:15:18 2008 -0700

    remove vestigal DarwinEQPointerPost etc
    (cherry picked from commit a25704c423598d596fd7f2ed4290d4b860bd5d5f)

commit c6f0d5d1e51326e5110d27918d834eb0096df7db
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 17:48:09 2008 -0700

    gut darwinEQEnqueue, and make it just call mieqEnqueue (for the moment)
    (cherry picked from commit a9e081a60ca227c0d96d4613075d97d6b762366a)

commit 5b6c273eaa53d7b554d69c2b4865988068e73a26
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 17:08:45 2008 -0700

    add prototype for DarwinEventHandler
    (cherry picked from commit 9a03ae33c4f9de830f15eabf3b994882ead7c000)

commit 3713be8b470b1ac0fcb4f1e4c6b79c526b2196db
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 16:30:16 2008 -0700

    add logging of current thread ID to DEBUG_LOG macro
    (cherry picked from commit 5848510cc5a8091b30230ab920d904ca6b159480)

commit 1400a51ae70d8e498d9ae3975f58ba7c1768ca6f
Author: Ben Byer <bbyer@apple.com>
Date:   Mon Mar 31 16:24:01 2008 -0700

    Begin to move all of our Xquartz DDX-specific event handlers
    to miEQ, in preparation to remove the DDX-specific code entirely.
    (cherry picked from commit 3f4447b95f73a82b3aa0f7b0d1640aba5fb0d1bc)

commit 8746daa6732d9837f66d925f2fd74818ecbf8ba2
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Wed Apr 2 15:01:33 2008 -0700

    XQuartz: Fixed missing close-paren in preference pane text.
    (cherry picked from commit ea37e151dc6032d2a1a33cef809f2a7d507aae35)

commit b5a0a865c3045cc08c33388320d4ec3ab7065efb
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Apr 2 19:21:41 2008 -0400

    Pick up dri2proto from the standard proto header include path.

commit 8cde0af3c57f0375ba8ba77af9fdf74b79d9496d
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Apr 2 19:06:40 2008 -0400

    Send the GLX_EXT_texture_from_pixmap attributes to the client.

commit 7c20f65fea3dd3170cde89d7113d85f377671bfb
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Apr 2 18:00:06 2008 -0400

    Add @XORG_CFLAGS@ to satisfy xf86* includes.
    
    Pointed out by Hasso Tepper.

commit b13ab156894074fb38cc812738bc7aeeebd9614d
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Apr 2 12:38:36 2008 -0400

    dri2: Unbreak glcore visual setup.

commit b31de6a59044f91f8230aa581c9ca8540289c168
Author: Xiang, Haihao <haihao.xiang@intel.com>
Date:   Wed Apr 2 16:29:30 2008 +1000

    dri2: fix crasher if DRI2Connect fails

commit ebc56aca8bdfec1918cac3c8380895dfddea48ce
Author: Hong Liu <hong.liu@intel.com>
Date:   Wed Apr 2 10:43:19 2008 +0800

    Bug #15160: quirk Proview AY765C
    
    prefer first detailed timing

commit 9500033b9ecdfaf5a56a4355ffc94d74cb17ca17
Author: Goneri Le Bouder <goneri@rulezlan.org>
Date:   Tue Apr 1 20:19:40 2008 +0200

    xfree86: don't crash in AutoConfig if the primary device is not pci
    
    Only call matchDriverFromFiles() if we found a pci device.
    Debian bug#472823 (http://bugs.debian.org/472823).

commit 37b1258f0a288a79ce6a3eef3559e17a67c4dd96
Author: Thomas Jaeger <thjaeger@gmail.com>
Date:   Tue Apr 1 15:27:06 2008 +0300

    XKB: Fix processInputProc wrapping
    
    If input processing is frozen, only wrap realInputProc: don't smash
    processInputProc as well.  When input processing is thawed, pIP will be
    rewrapped correctly.
    
    This supersedes the previous workaround in 50e80c9.
    
    Signed-off-by: Daniel Stone <daniel@fooishbar.org>

commit a4d034941100c6ca3b7cc4e59952c2745b9306cc
Author: Ben Byer <bbyer@bushing.apple.com>
Date:   Fri Mar 28 20:47:44 2008 -0700

    Add code to track 5 valuators for pointing device, in preparation
    for supporting tablet input in Xquartz.
    (cherry picked from commit 22c8849ea819eb70a14b2e06330b11b22aa63ebc)

commit 6648867d8bd1e86458d2ade77a3ee4567c3d6a97
Author: Ben Byer <bbyer@bushing.apple.com>
Date:   Fri Mar 28 18:27:02 2008 -0700

    add debug statements so we can see if/when our Xinput stubs are getting called.
    (cherry picked from commit 6e160bbe15dd2c2b8685847c06831cb6aebc6f74)

commit 19ff23ab0e72a27d05ed4470f75a0934d6f6c1d1
Author: Ben Byer <bbyer@bushing.apple.com>
Date:   Fri Mar 28 18:25:03 2008 -0700

    Remove calls to InitValuatorAxisStruct -- these are now handled in dix by
    InitValuatorDeviceClass.
    Add InitProximityClassDeviceStruct call to prepare for tablet support.
    (cherry picked from commit 1bd980a5b114f5320360943214f8f9f23b29c1e3)

commit 9f56fc580646a519875b5a1452738d8c6e1fa860
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Mar 31 17:34:07 2008 -0400

    XSELinux: Add a request to get a client's context from a resource ID.

commit c40e0b51f0d9ef5e1f30f233d7db1e6db9d6681b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Mar 26 19:28:09 2008 -0400

    Implement DRI2 direct rendering and update AIGLX to DRI interface changes.
    
    Get rid of glcontextmodes.[ch] from build, rename __GlcontextModes to
    __GLXcontext.  Drop all #includes of glcontextmodes.h and glcore.h.
    Drop the DRI context modes extension.
    
    Add protocol code to DRI2 module and load DRI2 extension by default.

commit 8074676d2df8d577b443e3fa5e22d7c71c944bd1
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Mon Mar 31 21:24:59 2008 +0200

    EXA: Optimize the eviction scanning loop in exaOffscreenAlloc.
    
    Reduce the cost of the inner loop, by keeping a set of pointers to the
    first and the last areas in the series, subtracting the cost of the first
    area from the score, and adding the cost of the last area while walking
    the list.  This commit also moves the scanning loop from exaOffscreenAlloc
    into a separate function.
    
    Idea by Michel Dänzer.

commit 93d876891dbba41b920a9a29a5de77f647f43928
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Mon Mar 31 21:15:50 2008 +0200

    EXA: Improve the algorithm used for tracking offscreen pixmap use.
    
    Replace the current score keeping algorithm with a rolling counter that's
    incremented in ExaOffscreenMarkUsed, with the previous value being stored
    in the area.  exaOffscreenAlloc uses the difference between the counter
    value and the value in the area when deciding which area to evict.
    It now also takes the size of the areas into account, and favors evicting
    smaller areas.
    
    The credit for these ideas goes to Michel Dänzer.

commit 7034484f0887ea0f8ab956515f2d9301ea5842ce
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Mar 28 10:23:36 2008 +0200

    gitignore: Add two more bits
    
    Get slightly better at ignoring vim swap files, and let people keep
    local changes if they want to.

commit b8ea9f2a25aad88aee77a68f8e20ac07276f0dab
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Mar 28 17:00:08 2008 -0700

    XQuartz: Fixed names of enums to be more consistent
    (cherry picked from commit c309a08806daf5d716a860c709e51eacad2c745a)

commit bd28839eb866a9e6dc3ff80f13a67611da7eaf64
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Fri Mar 28 17:02:02 2008 -0700

    =?utf-8?q?XQuartz:=20Another=20Expos=C3=A9=20fix:=20F9=20doesn't=20raise=20all=20windows
    
    =20(cherry=20picked=20from=20commit=20b9cffa20debae73737c674bf75ab65db1bd74556)?=
    MIME-Version: 1.0
    Content-Type: text/plain; charset=utf-8
    Content-Transfer-Encoding: 8bit

commit 933ffcdf7d2eaaf7caabfe6f861f04bcb149918f
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 28 17:53:55 2008 -0400

    Compile fix.

commit 9e8451d869a4032ddb7de6a62920a3a7b0b1acc1
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 3 17:38:53 2007 -0500

    Add E-EDID segment selection.

commit 0b4aef4d6df7a5525d381de035fbbf78c5fffeef
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 3 16:00:00 2007 -0500

    Refactor DDC2 code to allow for proper segmented addressing.

commit 88ece11d6c45c6f4b94f7fb2da64a46e879d7c27
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 3 15:47:39 2007 -0500

    Start E-EDID support in the DDC module.
    
    Since there's no way to safely know how many blocks xf86DoEDID_DDC2 would
    return, add a new xf86DoEEDID entrypoint to do that, and implement the
    one in terms of the other.

commit b5f98fcea2024c67e598947782913982072cf4fb
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Mar 28 14:01:34 2008 -0400

    XSELinux: Add xorg.conf option for permissive/enforcing/disabled.
    Patch by Joe Nall.
    
    The option goes in the "extmod" subsection.
    TODO: Make it easier for extension modules to handle their own options.

commit 415e49b940bba2d08870db410ebb47d2add5d836
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Tue Mar 25 23:01:02 2008 -0700

    XQuartz: Sanity-check the removal of the 256-color option
    Fixes the 'one-time-preferences' bug in 2.2.0_rc1
    (cherry picked from commit 38cbd13490fc21724e8eef0ec7e1a20a9cc2e39d)

commit c1d37efe9aae5f2895b3437418f7e4bb2eb3400f
Author: Ben Byer <bbyer@bushing.apple.com>
Date:   Tue Mar 25 19:25:00 2008 -0700

    xquartz: copy in new stubs from Xi/stubs.c to replace our old
    Xinput stubs.  Hey, it's a start.
    (cherry picked from commit 566412b4aece24ae6af8c7c835986b685aa456a2)

commit c4a616a741e15865ce0ff98781c6f1dca4d62887
Author: Ben Byer <bbyer@bushing.apple.com>
Date:   Mon Mar 24 22:43:10 2008 -0700

    prevent "fake mouse clicks" from generating spurious extra events
    (cherry picked from commit bd85a24969427e41389688663ead2d4dd41c9999)

commit c747030a49dd289e873e2b686cd129d840e55468
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Mar 27 15:18:39 2008 +1000

    quirk: fix LPL monitors properly.
    
    no point having a h cm fix when we really want to copy the sizes from the
    other place.
    
    RH BZ 435216

commit 9df915b84d45d39aed7557c98883b20a66da2e96
Merge: 47eb658 333e712
Author: Sascha Hlusiak <saschahlusiak@arcor.de>
Date:   Tue Mar 25 17:50:50 2008 +0100

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 333e7123dc484888d79c0f5aa3977bd72f1eb341
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Mar 25 12:48:22 2008 -0400

    Fix that last commit.
    
    I can apply patches, really.

commit 47eb658e802775021e3efec109f95431cca188ca
Author: Sascha Hlusiak <saschahlusiak@arcor.de>
Date:   Tue Mar 25 17:37:25 2008 +0100

    Support to pass arbitrary options via HAL hotplugging
    
    Parse "input.x11_options" and pass every key/name pair to the driver.
    Remove check for input.capabilities, because that's part of the fdi files.
    
    Thanks to Dustin Spicuzza <dustin@virtualroadside.com> for the patch.

commit e7a364425547103a98acabfc67d16e1ae0c2967f
Author: Sascha Hlusiak <saschahlusiak@arcor.de>
Date:   Tue Mar 25 12:32:33 2008 -0400

    Fix getValuatorEvents to compute number of valuators correctly.

commit f028e245a7932362656701c08fcfbfa8e8949077
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Feb 28 19:45:21 2008 -0500

    Bug #10016: Implement WM_CLASS hints in Xephyr.

commit 862ff9ac92037e13629329eb6ba50ff6bd2c5f71
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 24 13:37:42 2008 -0400

    Bug #11510: Fix build without RECORD.

commit 87bfd3bd96c714a1c252d42408b5a1a4ff9dab06
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 24 13:33:38 2008 -0400

    Bug #11508: Fix build without XV.

commit 536f2ff5382aaaace3b55481e15366bb15d87801
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 24 12:22:19 2008 -0400

    Bug #13962: Re-arm the DPMS timer when re-enabling DPMS.

commit 4217ba0cf0c9bbea3774760e836ab372acf3237c
Author: Julien Cristau <jcristau@debian.org>
Date:   Sat Mar 22 17:31:08 2008 +0100

    xaa: use xf86ReturnOptValBool instead of xf86IsOptionSet
    
    The latter doesn't return the option's value, just whether it's present
    in the configuration.

commit 6b9d2bb1f7f87acbf275027af9c2982e91e5faed
Author: Julien Cristau <jcristau@debian.org>
Date:   Sat Mar 22 17:28:48 2008 +0100

    exa: use xf86ReturnOptValBool instead of xf86IsOptionSet
    
    The latter doesn't give you the option's value, it just tells you if
    it's present in the configuration.  So using Option "EXANoComposite" "false"
    disabled composite acceleration.

commit 63859473965f911515bc6e8d87b32a65ec41eb73
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Fri Mar 21 19:31:31 2008 -0700

    XQuartz: Disable 256 color option and fullscreen option
    (cherry picked from commit 7c1964338a33558d3f25e369dfca99e3ef9d10f9)

commit 93daa3a3bf1a981757024847882ce92b6bdaae83
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Fri Mar 21 19:11:59 2008 -0700

    Xquartz: Added separate preference tab for quartz-wm settings
    Added FFM and "Focus on new window" options
    (cherry picked from commit 6841d078b7cb0b0db3db948d26b4d5ec7747deb8)

commit c49e11268322712c211f29d51d664d3f8a59b00b
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Fri Mar 21 18:07:38 2008 -0700

    XQuartz: Initial framework for dealing with spaces on OS-X
    (cherry picked from commit 9831324998f9d1f05ff944c58c5bf60dcae17355)

commit 4c76607b699431183ee7e88fa7818cb7644a5a02
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Mon Mar 17 23:57:41 2008 -0700

    Rootless: Removed safeAlphaXXXX() in favor of using fb/pixman
    (cherry picked from commit f03202ad15457c98be7ca78cc59bac88cf5f1966)

commit 87c64cfd6901083da5a9375d0bde65691d374b5b
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Fri Mar 14 17:31:54 2008 -0700

    =?utf-8?q?Apple:=20Xserver=20half=20of=20the=20Expos=C3=A9=20bug-fix=20(requires=20updated=20libXplugin=20from=20Apple...=20coming=20with=202.2)
    
    =20(cherry=20picked=20from=20commit=2037be23e8c1d8e5c7a1157e9d66ef3f30a4c472c5)?=
    MIME-Version: 1.0
    Content-Type: text/plain; charset=utf-8
    Content-Transfer-Encoding: 8bit

commit 3bbd77ff98478153afe3251de9ba11d757218213
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 20 20:03:02 2008 -0400

    XSELinux: Do a check for whether background "None" is allowed.

commit e323bb426ce8a072d119cb2720b773241259c137
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 20 19:42:09 2008 -0400

    XSELinux: Correctly handle some permission bits that are used more than once.

commit da973e962d09854b571320dee7dd9569060bc39e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Mar 20 09:18:29 2008 -0400

    Fix RandR 1.2 driver interface conversion of two colour cursors to ARGB
    
    This patch (and not setting HARDWARE_CURSOR_BIT_ORDER_MSBFIRST on big endian
    platforms) fixes it for me with the radeon driver and doesn't break intel.
    
    Correct patch this time :)

commit f8c1eb29e28818895d744c4e1d6897353d51790b
Author: Alex Deucher <alex@cube.(none)>
Date:   Thu Mar 20 09:14:41 2008 -0400

    Revert "Fix RandR 1.2 driver interface conversion of two colour cursors to ARGB"
    
    This reverts commit 267352579612155adfd4743432d6569b2cdeebde.
    
    Pushed the wrong patch.

commit 267352579612155adfd4743432d6569b2cdeebde
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Mar 19 19:12:37 2008 -0400

    Fix RandR 1.2 driver interface conversion of two colour cursors to ARGB
    
    See bug 11796

commit 060a99444ee25a684b0ab9b4819bf8e855aea2d8
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Mar 19 16:04:16 2008 -0700

    Make Xevie private symbol names less generic
    
    Makes it easier to figure out what you're seeing in the stack trace
    instead of wondering where in the server "ProcSend" is.

commit f37046984d7839faefa4d716624e4a85ddde9634
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Mar 19 14:06:53 2008 -0700

    Xevie cleanups, byteswapping fixes & request length check fixes

commit edad0a9dfebcce5c54b2f9c32bd9d45549e20c51
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Mar 18 17:51:21 2008 -0400

    Apply __glXDisp_GetVisualConfigs message patch
    From http://bugs.freedesktop.org/show_bug.cgi?id=13863
    
    Problem was that the glxcmds.c __glXDisp_GetVisualConfigs
    function left garbage in the tail end of the message used for extensions.

commit cdadd2ff9bade318caac5c1d9bcdc8a001347da9
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Tue Mar 18 14:00:15 2008 +0100

    [Xephyr/DRI] correctly route motion events targeted at GL drawable

commit afd7428690d87097117ab20335658f6d59d60103
Author: Jesse Barnes <jbarnes@jbarnes-t61.(none)>
Date:   Mon Mar 17 14:55:44 2008 -0700

    Cleanup logic in xf86PrepareOutputs
    
    Should have done this in the first place.  Since we're checking for the absence
    of the get_crtc callback in the first place, we'll short circuit the later call
    and disable the output, so the ugly "continue" block is unnecesary.

commit ba85caacb565b9aa0aeace52a362350304b0566d
Author: Jesse Barnes <jbarnes@jbarnes-t61.(none)>
Date:   Mon Mar 17 14:13:09 2008 -0700

    Make xf86SetDesiredModes aware of current output configuration
    
    By adding a new output callback, ->get_crtc, xf86SetDesiredModes is able to
    avoid turning off outputs & CRTCs if the current output<->CRTC mappings are the
    same as the desired configuration.  This helps avoid flickering displays at
    startup time, which speeds things up a little and looks better.

commit bee2ddf35f75086cee951142098637f2c756b96b
Author: Jesse Barnes <jbarnes@jbarnes-t61.(none)>
Date:   Mon Mar 17 08:33:01 2008 -0700

    Fail CRTC configuration if !vtSema
    
    Unless we check for vtSema before calling into the CRTC and output callbacks,
    we may end up trying to access video memory that no longer exists, leading to a
    crash.  So if we don't have vtSema, return FALSE to the caller, indicating that
    we didn't do anything.
    
    Fixes #14444.

commit db248ffb840a0c113b6eb508a0fa1e74e752474d
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Mar 16 18:46:11 2008 +0100

    test for the presence of pci_system_init_dev_mem() before calling it.
    
    This avoids creating a dependency on -current libpciaccess for
    BSD systems other than OpenBSD (which don't otherwise need it).

commit aa231f28d56402d7daea6cbd3002fbf760f79497
Author: Donnie Berkholz <dberkholz@gentoo.org>
Date:   Fri Mar 14 18:41:25 2008 -0700

    Xephyr: Build fix: Port across XF86dri.c changes from Mesa.

commit a955c3b587b22b8bf20cb6bedbbec4ad5fcb32ac
Author: Donnie Berkholz <dberkholz@gentoo.org>
Date:   Fri Mar 14 18:41:07 2008 -0700

    Xephyr: Distribute ephyrdriext.h in tarballs.

commit 090b26db767d296e7a3452da83b136d1caa0ed01
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Mar 14 21:58:27 2008 +0200

    XkbCopyKeymap: Fix broken indentation
    
    An astute observer will note that the entirety of XkbCopyKeymap is indented
    with spaces, and no tabs whatsoever, and not commit changes which break the
    otherwise consistent indentation.
    A non-astute observer will note the breakage when the commit mail comes
    through with clearly broken indentation.
    A polite, non-astute, observer will then fix it.
    
    C'est la vie.

commit 88bec0915e3867f8dbf859a3dfbb771d0d07092d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Mar 14 21:54:13 2008 +0200

    mi: More meaningful assert crashes
    
    When we fail an assert in miregion.c (which happens every now and then,
    though I haven't yet checked up why), at least generate a segfault, so
    we'll get a backtrace.

commit 57d48d94b8947c571925e6fd4c9bf041fbd1b2ac
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 14 14:37:42 2008 -0400

    Fix a stray use of ALLOCATE_LOCAL.

commit 824853772241acf64bc37ac8b85254194741ae13
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 14 14:24:21 2008 -0400

    RANDR 1.2: Fix initial mode aspect ratio match in a corner case.
    
    Actually more like in the mainline case, where the ideal mode happens to
    be the very first aspect match on the first monitor.  But let's not
    split hairs.

commit 1b9878ffcfc0c0dbc4a6e674827fe508ba77db4b
Author: Bart Trojanowski <bart@jukie.net>
Date:   Thu Mar 13 17:42:16 2008 -0400

    Bug #14332: Fix PCI access cycles from x86emu.
    
    The address written to 0xcf8 contains the PCI slot address to send the
    config cycle to.  However, we would ignore that and always send the
    cycle to the device whose BIOS we were running.  This breaks some
    integrated graphics platforms that have explicit knowledge about the
    system's host bridge, for example.

commit f7abe05b3306ed9a6f2cf5e3e45ed524d725d029
Author: Doug Chapman <doug.chapman@hp.com>
Date:   Thu Mar 13 17:40:34 2008 -0400

    Bug #14091: Fix build (and runtime) on ia64.

commit 5d7437c29e686a081b20823450d78c4c2f4e0aec
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Mar 13 17:37:12 2008 -0400

    RANDR 1.2: Fix the RANDR 1.1 screen size estimation to approach reality.
    
    While the ScreenRec's notion of size in millimeters would get updates,
    the RANDR 1.1 notion wouldn't, so your screen would appear to be square
    and probably at some ludicrous DPI.

commit 61c3f63a75d8b0cc47ffed4a0e30147fab2ae8f4
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Mar 13 17:34:54 2008 -0400

    RANDR 1.2: Don't report a square resolution to RANDR 1.1 clients.
    
    It can't possibly do anything useful, and older versions of Gnome (and
    proably others) get very confused by it.  So do the drivers, for that
    matter.

commit 06c0372c3a1b45005eb6d50406f77f4e93f1de1e
Author: Mark Kettenis <mark.kettenis@xs4all.nl>
Date:   Wed Mar 12 21:45:37 2008 +0100

    OpenBSD support for libpciaccess.
    
    xserver and libpciaccess both need to open /dev/xf86, which can only
    be opened once.  I implemented pci_system_init_dev_mem() like Ian
    suggested.  This requires some minor changes to the BSD-specific
    os-support code.  Since pci_system_init_dev_mem() is a no-op on
    FreeBSD this should be no problem.

commit 2036851125226065891f13583ade3ce559e7bd37
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Mar 10 19:29:07 2008 +0100

    Return randr interface version in xf86CrtcScreenInit()
    
    Necessary to allow drivers to be run-time backwards compatible when using the
    modes/ functions w/o providing their own copy.

commit c7536f4b87e089a7e7c43026b189922fec70c565
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Mar 11 13:11:04 2008 -0400

    Silence REGION_INIT() warning.
    
    Evaluating the address of a BoxRec as a boolean gives this warning:
    
      i830_driver.c:2317: warning: the address of 'ScreenBox' will always
      evaluate as 'true'
    
    which is pretty annoying.  This patch compares the address to NULL to
    avoid the pointer->bool conversion and gets rid of the warning.  Seems
    like a lame hack, but the warning is worse.

commit cc05255191413b3f376edbc600122ff085f45f7b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Mar 11 00:51:43 2008 -0400

    Make WriteToClient take a const void * like any decent IO write function.
    
    Enough with the casting.  Doesn't break API or even ABI, but does make
    a lot of silly casts superfluos.

commit bc504ffbba3dec2e3467bab8ba1ac25db6dd317e
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Mar 11 00:35:31 2008 -0400

    DRI2: Add DRI2AuthConnection().
    
    DRI2 uses the same authentication scheme as XF86DRI, so implement this
    entry point so DRI2 protocol code can access it.

commit b2657ec5981122e7cc0bda0d8802aec63cde9014
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 6 16:51:57 2008 -0800

    XkbCopyKeymap was mangling doodads and overlays

commit ab9b0b36ac8ac72fc48c0abd91a83de49a18313c
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 10 13:40:00 2008 -0400

    Add the "amd" driver to magic driver selection.

commit 0f6aaf636b7ac4c98467284ff7baf1b83e0b72e7
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 10 09:14:20 2008 -0400

    Bug #14927: Fix the math for xf86NumDefaultModes.

commit 01c2e01f2aee580438b74bfb9da8f584f3878e6b
Author: Kristian Høgsberg <krh@sasori.boston.redhat.com>
Date:   Sun Mar 9 21:40:27 2008 -0400

    GLX: Track changes to DRI_TEX_BUFFER extension.
    
    We now just pass in the __DRIdrawable.

commit acedc03367e9e69f03b4838f0f0e8d8a8e872b9b
Author: Kristian Høgsberg <krh@sasori.boston.redhat.com>
Date:   Sun Mar 9 21:39:19 2008 -0400

    DRI2: Return event buffer head index in DRI2CreateDrawable.
    
    And pass it to the DRI driver in AIGLX.

commit 911f0c147699d3b8d97491be2ef6d2e4a6682a0b
Author: Julien Cristau <jcristau@debian.org>
Date:   Fri Mar 7 23:24:06 2008 +0100

    Programs in hw/dmx/examples/ want client-side xkb headers.

commit 9abaad115cb6245b12b2adb3552ace99b634ab4a
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Mar 7 14:12:28 2008 -0500

    Fix DRI2 texture target for GLX_EXT_texture_from_pixmap.
    
    Thanks to Dennis Kasprzyk for pointing it out and for reminding me to
    commit it.

commit 3bf7ff70323d533a3a05c0f3e22393e63beada99
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 7 09:25:06 2008 -0500

    Size xf86DefaultModes explicitly.
    
    i.e., don't check for the end of the list by ->name == NULL, since that
    won't work now.  Fix the consumers of xf86DefaultModes to use the new
    explicit size as well.

commit 3fcb6445dc08f42488287162e3b7009d405e9c5b
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 7 08:29:49 2008 -0500

    Fix segfault when a monitor exists but has no modes.
    
    Thanks to Zhenyu Wang for finding this.

commit a8d760f567b19268329c4682495caa591f08a854
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Sun Mar 2 20:13:11 2008 -0800

    Get modes code building with old X servers again.
    
    This change uses XORG_VERSION_CURRENT < 7.0 to mean "server newer than 1.2"
    since XORG_VERSION current went backwards at some point.

commit ca616b902b2c5d0f046c7a042c11f045479e373a
Author: Jesse Barnes <jbarnes@jbarnes-t61.(none)>
Date:   Thu Mar 6 13:47:44 2008 -0800

    Allow RandR get output property to call into drivers
    
    In order to report accurate values to users of the RandR property interface,
    it's sometimes necessary to ask the driver to update the value (for example
    when backlight brightness changes without the server's knowledge, due to hotkey
    events or direct sysfs banging).
    
    This patch wires up the core server code with a new xf86CrtcFuncs callback,
    get_property, to allow for this.
    
    The new code is available under the RANDR_13_INTERFACE define, which in turn
    depends on the RANDR_12_INTERFACE code.

commit 34b69e3bc0e6462eb60029fbcb4f5479494007a2
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Mar 5 23:56:49 2008 -0500

    Fix distcheck.
    (cherry picked from commit 2a47accff8dccded4dfe031f9366c028ba927824)

commit 8e562fe26ff77c03be0855afb08e43f3ed0bd4b9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Mar 5 15:11:41 2008 +1030

    Xi: remove false memset from DeepCopyDeviceClasses.
    
    It's wrong, needs to be different, but I haven't had enough coffee to figure
    out what it needs to do yet.

commit d4101140f4e569f18554cf0cbf43138d08bd1277
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Mar 4 22:39:41 2008 -0500

    xselinux: Implement polyinstantiation support and related protocol.

commit cf984dcc156958d4f8d98110e7add150628ce97e
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Mar 4 16:03:04 2008 -0800

    Make sure SIOGLIFCONF buffer is properly aligned for socket structures

commit 27e7dacbf7ef17712be31ff90f98ee3a5c5cf909
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Mar 4 11:38:34 2008 -0500

    Make xf86InitialConfiguration slightly smarter.
    
    Old heuristic was to find the first monitor that expressed a preference,
    then attempt to get all other monitors to agree.  This doesn't work
    particularly well when the two sets of modes don't precisely intersect,
    you get overlapping-but-not-identical output geometry and things go wrong.
    
    New heuristic is:
    - Exact user preference, if given
    - Exact output preference, if the same for all outputs
    - Best (largest) mode of modes common to all outputs:
      - with the same aspect ratio as all outputs (may be NULL)
      - with 4:3 aspect ratio
    - Then the old heuristic to try to get something lit
    
    Note that it is simply not doable to have a reliable initial output guess if
    you insist on trying to clone all outputs together.  It's far too easy to
    end up with displays that simply don't have modes in common.  We need to
    switch to right-of placement someday, once we're not limited to CRTC size
    limits and we have working multi-GPU in RANDR.

commit 95df04b744c6a3498a9a9e2ea9bb03ee780e60f8
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Mar 4 10:59:24 2008 -0500

    Remove all mention of the vga driver from the config logic.

commit 7b4f3616f75a541b819d99c28bb6cb73761b6066
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Mar 4 18:29:15 2008 +1030

    Xi: add deviceid to QueryDevicePointer request.
    
    Why not, we had the padding anyway.
    Suggested by Jim Gettys on the X.Org mailing list.

commit 056a2ce02ce85013e89055ee44a7aa3eabedac09
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Mar 4 02:44:48 2008 -0500

    XACE: Check the return value of the selection create hook call.

commit 4f2cd0ed96d3b10c78774c721c2ffbfb0556dddd
Merge: 23ae68a 453661a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Mar 4 18:11:10 2008 +1030

    Merge branch 'master' into mpx
    
    This merge reverts Magnus' device coorindate scaling changes. MPX core event
    generation is very different, so we can't scale in GetPointerEvents.
    
    Conflicts:
    
    	Xi/opendev.c
    	dix/devices.c
    	dix/dixfonts.c
    	dix/getevents.c
    	dix/resource.c
    	dix/window.c
    	hw/xfree86/common/xf86Xinput.c
    	mi/mipointer.c
    	xkb/ddxBeep.c
    	xkb/ddxCtrls.c
    	xkb/ddxKeyClick.c
    	xkb/ddxList.c
    	xkb/ddxLoad.c
    	xkb/xkb.c
    	xkb/xkbAccessX.c
    	xkb/xkbEvents.c
    	xkb/xkbInit.c
    	xkb/xkbPrKeyEv.c
    	xkb/xkbUtils.c

commit 72f2197545e734cd0aa785d05a57b2fc0351a763
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Mar 4 02:02:54 2008 -0500

    dix: Convert selection list to a linked list.
    
    Fixes a bug where pointers were being invalidated after a realloc.

commit 0bd0f90d7c7928052197da7119177e5a1c9eee2c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Mar 4 03:47:36 2008 +0200

    XKB: Fix initial map setting on startup
    
    Due to an unwitting sense inversion when eliminating XkbFileInfo, we were
    setting the complete wrong keymap on startup (non-XKB map if we had an XKB
    map available, or the XKB map if we didn't have any available).  Invert the
    sense properly, and add two small bits that also went missing in that commit.

commit 613852ce6a821ce6f6382fc14629f517776a3701
Author: James Cloos <cloos@jhcloos.com>
Date:   Mon Mar 3 16:10:04 2008 -0500

    Fix some documentation typos

commit 3f23139137e024e09d207be05a61968100cf53e8
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Mon Mar 3 13:05:12 2008 -0800

    Add cscope files to .gitignore

commit 708f07753ff22ade54e9ee8885e4198fff363b87
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 3 15:49:48 2008 -0500

    RANDR 1.2: Inherit PreferredMode from the global configuration, if any.
    
    If you don't do this, then Modes "800x600" in the Display subsection will
    be dutifully ignored and the driver will start at whatever resolution it
    feels like.

commit 605e6764dfd3e9cb917b9cfcd92fe89857c1a1c9
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 3 15:45:17 2008 -0500

    Fix Motif menu drawing in Xnest.
    
    See also Red Hat bug #229350, OpenSolaris bug #6366490.

commit 3b73d62791d925c465ec855f96981d151dd3c179
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 3 15:43:22 2008 -0500

    xf86DDCMonitorSet: Honor the DisplaySize from the config file.
    
    We honor sync ranges and pixel clock settings from the config here, no
    reason to ignore DisplaySize.

commit 7c16b68ab879f5b4b1aedfc6b2aadbe56193dd19
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Mar 3 15:09:11 2008 -0500

    1.5 has branched, start 1.5.99.x.

commit f7ab2d3821e6bccc943f088e308fd58395a186d2
Author: David Nusinow <dnusinow@debian.org>
Date:   Sun Mar 2 18:36:25 2008 -0500

    Add missing file from previous commit.

commit b5ce0e1d0b861dc5521fcd9db6287ed6da817726
Author: David Nusinow <dnusinow@debian.org>
Date:   Sun Mar 2 17:12:02 2008 -0500

    Bug #13860: Ensure that the DRI mode is in octal format.

commit c934366424b0d20e013c84e6b94b226b20e7baa2
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Mar 2 19:27:53 2008 +0100

    use UTILS_SYS_LIBS to pass SYS_LIBS to utils/ioports correctly

commit 2bb9c1f36f685044b837f42076dec2ea7d22d034
Author: David Nusinow <dnusinow@debian.org>
Date:   Sat Mar 1 18:44:58 2008 -0500

    bug #10008: Make Xvfb.1 document the correct default depth

commit b0b9c811cda3e35a8f6d0813483f750602c55ff6
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Mar 1 20:24:50 2008 +0200

    fix typo

commit 3d642905477f4b1ec3223f1fbe0d0d37e959ec81
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Mar 1 16:18:18 2008 +0200

    clean some "unused" warnings

commit e7a6f79754816976d92857d55840262cccff80a6
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Mar 1 16:16:29 2008 +0200

    glcore: split mesa and X in build system

commit cdd46aa3cd2e720558186cdbe48d871ab385fcdd
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Mar 1 15:57:57 2008 +0200

    configure: minor cleanup
    
    - dmx
    
    - darwin: remove from xorg options
    
    - xephyr: libxv is client lib

commit 8af2c39bcc4ddc4693d5a2597c9622fa17b6c272
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Sat Mar 1 16:54:01 2008 +0100

    Fix big mistake in commit fd41f46ac62033a724bd1f4612f19448a21c1224.
    
    - When a mode is deleted, the name pointer is also free()'ed.
    - This leaves other modes with an invalid pointer.

commit ef60632e200853680282016e32a7a9fb01882852
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 29 18:00:27 2008 -0500

    dix: Modify callers of property and selection API to use new interfaces.

commit cc76ea6e3ac6a405f0c198c4e62be40aa8d2b546
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 29 17:55:31 2008 -0500

    XACE: Add generic support for property and selection polyinstantiation.

commit 34bf308a9e66f1a2f48630a15b1802afad50ec24
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 29 18:00:23 2008 -0500

    dix: Refactoring of selection code to allow for polyinstantiation.
    Introduces dixLookupSelection() API.
    Removes NumCurrentSelections from API.

commit d5715f7beaad6816db27b01b67d7a3c69164d106
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 29 16:16:12 2008 -0500

    dix: Refactoring of property code to allow for polyinstantiation.
    Introduces dixLookupProperty() API.

commit c0e1959f285d7a7df66f42d55912a5a595decd0f
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 29 16:45:11 2008 -0500

    On second thought, revert that, it'll make large pixmaps painfully slow.
    
    Need to just fix the callers.

commit 4a44fe7c8678360d0549cf0e0d63870f3623b1db
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 29 16:43:14 2008 -0500

    Bug #10465: Use calloc() for allocating PixmapRec's.

commit 5d5fcc7198ca54fa9dc24fe974763eff9fddabee
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 29 16:42:04 2008 -0500

    Bug #10464: Set pixel value to 0 before FindColor()

commit 8f0a4282f0ac33625eda9466e3db0bcef64e403a
Author: Chris Wilson <chris@chris-wilson.co.uk>
Date:   Fri Feb 29 16:39:29 2008 -0500

    Bug #10463: Always initialize reference pixel before AllocColor()

commit b7eb92774a58639aff3f26bb28a3dcff910c3fb6
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Jan 12 01:22:05 2008 -0500

    EDID 1.4: Print additional CVT support data in the log.

commit 31014d88aff8dc8a502cf0f26e4cde141e1a92f5
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Jan 12 01:03:44 2008 -0500

    EDID 1.4: Decode additional CVT support information.
    
    Table 3.28: Display Range Limits & CVT Support Definition

commit d1c48955f80692a32ab6adcee1384e3d298f471a
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Jan 12 00:30:58 2008 -0500

    Fix CVT abuse in DDCModesFromStandardTiming.
    
    CVT is enough different from GTF that it should not be used on monitors
    that aren't expecting it.  This brings us closer to what the spec says
    the correct behaviour is.

commit 26c2e95fa5bf30726356cf4bdd0fea32a771a179
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Jan 12 00:09:34 2008 -0500

    Nuke a duplicate SYMFUNC(xf86CVTMode)

commit ca5625b911e65fdfd410247b3eff57fedcfc1f79
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Jan 12 00:08:00 2008 -0500

    Add xf86GTFMode().
    
    This should probably be shared like xf86CVTMode().

commit 4cb4817c1072e1d31333db47d95f71d08bf0d1dc
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jan 11 23:38:48 2008 -0500

    Remove the duplicate copy of xf86cvt.c

commit e65e51a99b17a0510782775f010e9820ca567fcb
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jan 11 23:19:20 2008 -0500

    Constify the built-in mode tables.

commit 6828d8fc2b464e0755f46e3fbdeb07be0c38b620
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jan 11 22:57:42 2008 -0500

    Clean up DisplayModeRec handling in many places.
    
    Use xf86DuplicateMode() instead of rolling our own, and change
    malloc+memset to calloc.

commit 85617b56e5e00e7b8c7d8ce5b49af289056921a7
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jan 11 22:55:37 2008 -0500

    Remove some #if 0 guarding code duplicated in xf86Modes.c

commit fd41f46ac62033a724bd1f4612f19448a21c1224
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jan 11 22:38:21 2008 -0500

    Allow xf86DuplicateMode() to work correctly on read-only modes.
    
    Before this it was meaningless to try to mark DisplayModeRec tables
    const, since the mode name would be emitted as a pointer to an
    anonymous string constant, and therefore would have to be fixed up by
    ld.so and so couldn't live in .rodata.  With this change the standard
    mode lists can live in .rodata, and modes duplicated from them will
    have their names filled in on the fly.

commit 8ac19d16a030ec416e30d3650cf43e024ada167f
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jan 11 21:58:21 2008 -0500

    Add several comments documenting our EDID failures.

commit 13bfa5937d43392f686b76a99ea6331e3dce5987
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Feb 29 15:10:36 2008 -0500

    GLX: Adjust to changes in DRI driver interface.

commit d04ea267a4a51c16088d9ef429681a1edde536b1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 28 21:53:16 2008 -0500

    xselinux: Don't require device "read" permission for XQueryPointer.
    
    These keyboard and pointer state polling calls are a real problem.

commit 3fb17a3e647e926688c91a49a9b5b97f37dbc367
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 28 21:52:57 2008 -0500

    xselinux: Log messages to both libaudit and Xorg.0.log.

commit 4d91b1d5e422c5c460b1b7050baa9487a59b8aa8
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 28 21:52:32 2008 -0500

    XACE: Adjust the location of the COMPOSITE creation hook.
    Avoids incrementing the refcnt if the hook fails.

commit 5675ae1f72145e9b719c613023da525731b42461
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 28 18:12:52 2008 -0500

    XACE: Call the creation hook to properly label COMPOSITE window pixmaps.

commit 27bcf40cda1d7c52b189cc76528f1f51cbe1d5eb
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 28 16:43:43 2008 -0500

    XACE: Fix instances of DixUnknownAccess at hook callsites.

commit 453661a9e193a511cf5e54e6d330454163817316
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Feb 27 20:43:50 2008 +1030

    Xi: swap the control attached to a ChangeDeviceControl request. Bug #14170
    
    Just swapping the request's data isn't enough, we need to swap the actual
    control as well.
    
    X.Org Bug 14170 <http://bugs.freedesktop.org/show_bug.cgi?id=14170>

commit aebd9dc252449747416b23c740a550d914275399
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Thu Feb 28 01:22:31 2008 -0300

    Oops, there's one more parenthesis.

commit f616735f17a681e3add866bf199540327c322490
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Feb 27 22:46:14 2008 -0500

    xselinux: Prefix a few remaining error messages with "SELinux".

commit e40cc5305bec656108077ab13fcc8e6e82b3707a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Feb 27 22:29:15 2008 -0500

    xselinux: Don't throw BadAccess if DixUnknownAccess is passed in to a hook.
    
    The avc will still appear, however, so that the callsite can be fixed.

commit 3b1df47bd400be9dca34b5e5d1ac2b117f8cc4ed
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Feb 27 22:28:54 2008 -0500

    XACE: Require "manage" permission for XKBSetNames.

commit 08afc70513e5496cc5cd8b76c8658c4292119e4b
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Feb 28 10:45:41 2008 +1000

    quirks: another LPL panel with the cm/mm wrong

commit f6d51797a523ecc2d4a8f18b2681160fcd5d1d55
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Wed Feb 27 23:44:39 2008 +0100

    EXA: Let the driver decide what repeat/extend types are supported.

commit 41aea6194bd29ab34cc166b3fd90eee64299ddf8
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Wed Feb 27 17:06:27 2008 +0000

    More checking for failed contexts/drawables

commit 43e46a654fa7cf69f0c8bcb7f583008d96a98686
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Wed Feb 27 16:58:21 2008 +0000

    Fix context sharing between direct/indirect contexts

commit d74b0327e8355546e6b41e8ce684f461d65fa9dc
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Feb 27 09:48:10 2008 +0100

    [Xephyr/GL] unbreak the build
    
    Don't touch Xephyr DRI stuff when not compiling in a DRI environment.

commit 2257e20900460d85254734b595238e7ad5ee55c8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Feb 27 17:15:28 2008 +1030

    dix: set dev->key to NULL after freeing it in CloseDevice. (Bug #12830)
    
    Otherwise XkbRemoveResourceClient may try to dereference it lateron.
    
    X.Org Bug 12830 <http://bugs.freedesktop.org/show_bug.cgi?id=12830>

commit 3f0681fb0b2d0744c2ef892883ae5359b43a4a9a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Feb 26 23:14:29 2008 -0500

    xselinux: Stub out selection protocol requests.

commit 4632ea22580c31d44b0786321668d9e78f02900e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Feb 26 22:00:52 2008 -0500

    xselinux: Rip out the selection code in advance of polyinstantiation support.
    
    This resolves an issue where BadWindow errors were being thrown.

commit c8e979b3b800e4c58be454daa0213285d4ee6510
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Feb 26 21:34:22 2008 -0500

    security: Register resource names in the server-side name registry.

commit d12b7b6632fb4cf41d2e28c7792eaa503f25404a
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Feb 27 07:08:00 2008 +1000

    xf86Crtc: add higher level modesetting entry point.
    
    For kernel modesetting work we need a bigger stick to beat the modesetting path

commit dcc077c753137f37aa58231f1df3c4adb92b2c4b
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Feb 26 12:13:06 2008 +0100

    AIGLX: Switch to server context for calling DamageDamageRegion().
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=14518 .

commit 23ae68a4c74a2ec90b4130c37b0d0aec3f4082ce
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Feb 26 15:12:36 2008 +1030

    dix: before copying the classes the first time, set the VCK's classes to NULL.
    
    XkbFinishDeviceInit does the following:
      xkbi->kbdProc= pXDev->kbdfeed->CtrlProc;
      pXDev->kbdfeed->CtrlProc= XkbDDXKeybdCtrlProc;
    
    If we directly copy the device classes for the VCK, pXDev->kbdfeed->CtrlProc
    at the time of copying is still XbkDDXKeybdCtrlProc. So at some point
    XkbDDXKeybdCtrlProc is called, and calls itself, and calls itself, and...
    
    Setting the device's classes to NULL seems to fix things. The memory isn't
    lost, it gets stored into the devPrivates and freed at device closing time.

commit ce9fb2f8c4610016e49321018fc9b24729380afc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Feb 26 13:19:54 2008 +1030

    Xi: MDs return the paired device's ID in attached field of ListInputDevices.

commit c46f7b62d2bf9f35937cfef98325ed904895396a
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Mon Feb 25 18:14:08 2008 -0300

    Fine, we don't need pciInit() anymore. Nuke, nuke, nuke...

commit a9050d54249ed9f54c6fe59143b846c9c7548f59
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Mon Feb 25 18:10:18 2008 -0300

    Jesus, pciInit() was called 32 times in my machine without need!
    
    xf86scanpci() will always call pciInit() before any other function, so
    there's no need to guarantee it after.

commit 81272f7ec9a3465e1d102c2ce627a45f92268857
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Mon Feb 25 17:39:33 2008 -0300

    Some doc clean up:
        clean up legacy things in os-support/bus/Pci.c.
    
        Put InitOutput() comment to its right place.

commit 7c582dd6de27d2f4fedf73319d2dea2bfb240efa
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Mon Feb 25 17:31:37 2008 -0300

    remove lnxPciInit() unused function.

commit 9727db88d57089be6483104de435626cdbad883a
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Mon Feb 25 17:08:07 2008 -0300

    No more "-scanpci" given that we already have it in libpciaccess.
    
    (Yeah, lets nuke dead code!)

commit f19f7b8e53ed6609fc1fdd272de5521417946209
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Mon Feb 25 17:07:07 2008 -0300

    Clean some garbage caused when pciaccess was merged:
    
        FindPCIVideoInfo() function isn't need anymore.
    
        xf86scanpci() is being called only once so we don't need permanent
        (static) variables there.
    
        restorePciState() is not used for now (until we find why multiple
        cards aren't working).

commit d61f481a4455dd2a94674d2b7b26429cf9dcece3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Feb 25 17:52:45 2008 +1030

    Xi: remove GetPairedPointer handling.
    
    obsolete, ListInputDevices provides this information now.

commit 27b21278939a06ab6a22c9902f202eae6c5fae72
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Feb 25 17:00:42 2008 +1030

    Xi: remove ungrab handling of ExtendedUngrabDevice request.
    
    This can be done by UngrabDevice, no need for separate codepaths.

commit 4b50e71bf127c8e0f289e3b76c786f0398effe65
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Feb 24 20:25:13 2008 -0500

    Bug #13736: Fix %bx in VBEGetPixelClock to match spec.
    
    Reported by Yannick Henault.

commit 6dc369028d3ca741de57ad78febf2f5f82e0696e
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Sat Feb 23 00:01:02 2008 -0800

    XQuartz: Quit now properly warns the user
    (cherry picked from commit ed3d7b3959c2a0cb63e37210455bcc6cf195b807)

commit e6a4cde16dc99ea02ac93da1d1b9517b1073d159
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 22 18:36:29 2008 -0500

    Use the client-side XKB headers for the config utilities

commit 347db49ebe4596db16455ea8a1a608cfa826c5c7
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 22 16:05:33 2008 -0500

    s/via/openchrome/ in the autoconfig logic.
    
    Xorg's via driver is effectively dead anyway.

commit 69f782676797744815ff76b8a11b11178066f501
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 22 16:04:35 2008 -0500

    Match Xephyr DRI definitions to the ones in xf86dri.h

commit 060a66b6e2feddba43ed207b6fcf2cf1f7fe39fd
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 24 15:55:58 2007 -0500

    Normalize swapped dispatch for Fixes{ChangeSaveSet,SelectSelectionInput}

commit 24bebdded44a9e184455b4fee7800257fee81efb
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 24 15:07:49 2007 -0500

    fbFillRegionTiled() is now dead code.
    
    Only ever called from the old PaintWindow* screen hooks, but those are
    gone now.  As a pleasant side effect, fb loses its #ifdef PANORAMIX.

commit ee21aba6be0078949204e315ddfffd99de60c2f1
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 24 13:13:19 2007 -0500

    Fix Xinerama's consolidated visual handling.
    
    Formerly the code claimed it could only handle up to 256 visuals, which
    was true.  Also true, but not explicitly stated, was that it could only
    handle visuals with VID < 256.  If you have enough screens, and subsystems
    that add lots of visuals, you can easily run off the end.  (Made worse
    because we allocate visual IDs from the same pool as XIDs.)  If your app
    then chooses a visual > 256, then the Xinerama code would throw BadMatch
    on CreateColormap and your app wouldn't start.
    
    With this change, PanoramiXVisualTable is gone.  Other subsystems that
    were using it as a translation table between each screen's visuals now
    use a PanoramiXTranslateVisual() helper.

commit a4202b898f07dd733590ae5adb21e48775369781
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Feb 22 18:22:58 2008 +0100

    XKB: Actually use the keymap we compile at startup
    
    During XkbInitKeyboardDevice, we compiled a keymap and promptly threw it away;
    brief inspection revealed the embarassingly simple problem.  Sorry.

commit c14fd2a5cb3f45d5c4502e09f55f5e3732c5e698
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Thu Feb 21 15:33:02 2008 +0100

    [Xephyr/GL] properly route expose event on GL drawables
    
    When an expose event happens on an host GL window paired with an
    internal drawable, route that expose event to the clients listening
    to the expose event on the internal drawable.

commit 437c78ef9ff1177e04b3d6781b5805d89b2ab81a
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Thu Feb 21 15:29:27 2008 +0100

    [Xephyr/GL] don't crash when the host returns a NULL server string

commit f343265a289724c81017f089c024a7618267c4e3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 15 19:53:45 2008 -0500

    XACE: Make the default window background state configurable per-window.
    
    To recap: the original XC-SECURITY extension disallowed background "None" if
    the window was untrusted.  XACE 1.0 preserved this check as a hook function.
    XACE pre-2.0 removed the hook and first abolished background "None entirely,
    then restored it as a global on/off switch in response to Bug #13683.
    Now it's back to being per-window, via a flag instead of a hook function.

commit 7c2f0a8befb310707ea923dbcdfde84521e52c88
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 15 19:17:40 2008 -0500

    Remove COMPOSITE ifdefs around WindowRec bitfield as it has no ABI effect.

commit 5cb9e15562a32c1f102d94d5e15d5fd298baff3f
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Feb 20 10:36:06 2008 -0800

    EXA: Fix Render acceleration in copy and tiling cases.
    
    Code shuffling in a634c9b03494ba80aeec28be19662ac96657cc23 broke this by
    leaving pSrcPixmap = NULL.

commit f14a62f823e257f92745bbcde11838f2ddd32ac8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Feb 19 21:44:10 2008 +1030

    dix: set evlen to the size of the reallocated memory.
    
    What a good idea this is... I'm very proud of myself.

commit 67a78e84a81571cedaf7fd214a21ce1bbdc4fb3b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Feb 19 21:31:50 2008 +1030

    Revert "xfree86: plug a memory leak in xf86LoadModules."
    
    This reverts commit 3abce3ea2b1f43bd111664d4a57e5ccd282acab0 and
    6cbaf15e6109ba77819c4070f5b46c78237ec460.
    
    The memory returned to xf86LoadModule was allocated in doLoadModule, which
    calls the respective module's PreInit. As it turns out, input and output
    drivers store a pointer to the module elswhere, so freeing it in
    xf86LoadModule is a bad idea.
    
    For further reference: hw/xfree86/common/xf86Helper.c
        Input drivers: xf86InputDriverList[blah]->module = module;
        Output drivers: xf86DriverList[blah]->module = module;
    
    Unloading the module would not look pretty then.

commit 5f5ec5db35e82ddd9659763875e5d6c63cf1b691
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Tue Feb 19 00:00:11 2008 -0800

    XQuartz: unsetenv("DISPLAY") before startx if X11.app can't connect to it.
    Also fix casting to silence warning.
    (cherry picked from commit a5cbf78471ec6e6ad672dc00118fc7edbd6ddc7c)

commit 750d70267679ddee10590c80ec621d890bd3d4a7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Feb 3 10:25:15 2008 +1030

    dix: Ensure enough memory for ClassesChangedEvent for a new device.
    
    Before we enable the device through the driver, we size it up and make sure
    that the events in the event list contain enough bytes for a possible
    ClassesChangedEvent lateron.

commit 74628d639719815c1beff4cac84662fa41c55925
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Feb 3 10:15:40 2008 +1030

    dix: change GetEventList to return length of list and set parameter in place.
    
    Changing DDXs to use new prototype too.

commit 77dba004a9aaf35f183f61ff6875a491a52aa030
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Feb 3 10:10:46 2008 +1030

    dix: add InputEventListLen and SetMinimumEventSize
    
    The latter is used to increase the amount of allocated memory for the event
    list. This will be needed for ClassesChangedEvents that can be of more or less
    arbitrary size (larger than 32 anyway).

commit 6cbaf15e6109ba77819c4070f5b46c78237ec460
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Feb 19 12:02:22 2008 +1030

    xfree86: guard against NULL-pointer dereferences in xf86LoadModules.
    
    Should have been part of 3abce3ea2b1f43bd111664d4a57e5ccd282acab0, but I
    forgot to git-update-index before I committed.
    
    Thanks to Bill Crawford for pointing it out.

commit 3fe64d8d271aea0863bf01b0376f3eceec0c90b5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Feb 3 09:56:19 2008 +1030

    Move input event list initialisation and storage from DDX to DIX.
    
    Rather than letting the DDX allocate the events, allocate them once in the DIX
    and just pass it around when needed.
    
    DDX should call GetEventList() to obtain this list and then pass it into
    Get{Pointer|Keyboard}Events.

commit 09a8fc5c7a79ca22fc23224bb544f2e709681f3f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Feb 3 07:47:18 2008 +1030

    Xi: make SizeDeviceInfo public and re-use from CreateClassesChangedEvent.

commit 3abce3ea2b1f43bd111664d4a57e5ccd282acab0
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Mon Feb 18 18:13:10 2008 +1030

    xfree86: plug a memory leak in xf86LoadModules.
    
    LoadModule() returns the only reference to a fresh piece of memory (a
    ModuleDescPtr). Sadly, xf86LoadModules dropped the return value on the floor
    leaking memory for each module it loaded.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 6dc71f6b2c7ff49adb504426b4cd206e4745e1e3
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Mon Feb 18 17:52:37 2008 +1030

    xfree86: plug memory leak in InitPathList.
    
    All the failure paths were very diligent in freeing the "fullpath" temporary
    string, but the success case was not. All the content only got strdup()d, so
    it's not live memory anymore.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 1bec6ad8977cefa49cc297a310f5eb0b7cd0b8bc
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Mon Feb 18 17:46:04 2008 +1030

    xfree86: plug memory leak in xf86LogInit()
    
    xf86LogInit allocates a piece of memory, stores it in lf. LogInit() will then
    effectively strdup it, but lf is never freed again.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 6d9d18bf7708eb9e640ef732b5dc4c99aa6d5feb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Feb 18 17:25:15 2008 +1030

    dix: add support for WindowAccessAllowAll in device access checking.
    
    AllowAll is the last check before the parent window is checked. This allows
    to override a DenyAll in the parent window in a simpler way than before (the
    previous method required all devices to be in the permit list).

commit 088067c891a78670d9509f48f56bf3ff9c16a30d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Feb 18 16:46:07 2008 +1030

    Xi: even if ChangeDeviceHierarchy fails, we may need to send an event.
    
    Changes are committed instantly, so if at least one change was successful, we
    must send an event to the client, even if subsequent ones fail.

commit 660739c6bc84cb74f43a277052ce163fae654417
Author: Benjamin Close <Benjamin.Close@clearchain.com>
Date:   Fri Feb 15 13:36:34 2008 +1030

    dix: Handle the case where a device cursor was removed correctly
    
    In the case that the device cursor was the first in the list of cursors
    the window knew about, unsetting the cursor could lead to a segfault
    due to pPrev being NULL. Instead catch the condition and correctly remove
    the node from the list. Since there is no cursor now set on the device,
    we simply return success as the parent windows cursor will propogate
    down later.
    
    Signed-off-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit 24db28230120ecc2b65b25164b6e7b407970f9e2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Feb 18 16:16:19 2008 +1030

    dix: set num_events to 1 by default. (no RawDeviceEvents anymore)
    
    This should have been part of acb412d5399f865b5048fdd683147cea0f19f0c1.

commit 45d00433e7bfbab476dd02ec92a9fbee40af5dad
Author: Dan Nicholson <dbn.lists@gmail.com>
Date:   Tue Jan 15 19:43:16 2008 -0800

    glx: Use glapi sources from the mesa tree
    
    With recent mesa HEAD, the glapi sources used only in the xserver glx
    module are carried in the mesa tree. Previously, these were generated
    separately and committed to the xserver tree.
    
    The build is changed to symlink these files like the other mesa sources.
    This reduces the chance for mismatches between mesa's glX API and the
    xserver's glX API.

commit fbd776894658e7afb2c55dc8582b2a3efab78a3c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Feb 16 20:01:18 2008 +0200

    XKB: Ditch XkbFileInfo
    
    Sorry about the megacommit, but this touches on a lot of stuff.
    
    Get rid of XkbFileInfo, which was pretty seriously redundant, and move the
    only useful thing it had (defined) into XkbDescRec.  defined will be removed
    pretty soon anyway.  Is the compat map pointer non-NULL? Then you have a
    compat map, congratulations! Anyhow, I digress.
    
    All functions that took an XkbFileInfoPtr now take an XkbDescPtr, _except_
    XkmReadFile, which returns an XkbDescPtr *, because people want to deal in
    XkbDescPtrs, not XkbDescRecs.

commit e5f002eddef1abe324033a3155f01d048536a48d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Feb 16 20:00:47 2008 +0200

    XkbProcessOtherEvent: Don't depend on now-removed header
    
    We don't do XKBsrv.h anymore.

commit 2d256f098ae05033ad76672d5ebdb9dfa7e6b995
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Feb 16 19:57:37 2008 +0200

    XKB: Always set size correctly in XkbCopyKeymap's geometry routines
    
    We were forgetting to set the sizes for sections and rows and a couple of
    other misc bits in XkbCopyKeymap's geometry.  Sort that out, and add a
    couple of clarifying comments along the way.

commit ab79110a84b2d299ecae0605fa535edbebd99565
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Feb 3 23:48:57 2008 +1100

    XKB: Remove support for pre-built keymaps
    
    Don't load prebuilt keymaps anymore.

commit 1332343910a1880854bae21a790cff198855cd24
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Feb 3 23:43:18 2008 +1100

    XKB: Remove usage of client-side types
    
    Since we're no longer sharing with Xlib, don't pass Displays and XPointers
    everywhere.

commit 534fc5140b039a8c98ab715d0a6740d513b41209
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Feb 3 23:30:22 2008 +1100

    XKB: Remove a bunch of mad ifdefs
    
    We have SEEK_SET and size_t, seriously.  Also use DebugF instead of
    ifdef DEBUG, and ditch a couple of random bits that were never used.

commit 0f12a448dcbbbf1f40aa98d09c9d25ee511c5bbf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Feb 3 23:15:39 2008 +1100

    XKB: Deprecate XKBSRV_NEED_FILE_FUNCS
    
    There's no point in having the function definitions be conditional, so
    whatever.

commit 68bd7ac1930b5cffb6657b8d5f5bf8ae58eae8d9
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Feb 3 23:12:15 2008 +1100

    XKB: Move headers into the server tree
    
    We need to start breaking the XKB API to enforce sanity, so drag whichever
    headers we need to do so into the server tree, as the client API is set in
    stone, being part of Xlib.

commit 37867626e314e74031378a8a4ff06f69b899a3b2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Feb 1 14:41:04 2008 +1100

    main(): Remove uncredible failure
    
    NO, NO, NO.
    
    NO.
    
    The only way this could possibly be worse is if you were viewing it in
    Comic Sans.

commit e4eb7e5842f0f56f07e9cf3b16249c172d0a975d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jan 30 23:24:14 2008 +1100

    XKB: Delete xkberrs.c
    
    Get rid of the XKB errors code to save a bunch of space.

commit a48cc88ea2674c28b69b8d738b168cbafcf4001f
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Sun Feb 17 18:47:28 2008 +0100

    Fix rotation for multi-monitor situation.
    
    - The (x,y)-coordinates of the crtc were not being passed as xFixed values, which made it an obscure bug to find.
    - Fix bug #13787.

commit 70c0592a97c7dc9db0576d32b3bdbe4766520509
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Sun Feb 17 11:21:01 2008 +0100

    Resize composite overlay window when the root window changes.
    
    - This allows some compositing managers to work, even after randr12 has changed the root window size.
    - Thanks to ajax for figuring out the best place to put this.
    - Example:
    	- xf86RandR12SetMode() calls EnableDisableFBAccess().
    	- That calls xf86SetRootClip() which in turn calls ResizeChildrenWinSize().
    	- The final step is the call to PositionWindow().

commit b95059c20746a71e60ef152bb627e1d5c2210d75
Author: Jeremy Huddleston <jeremy@tifa-2.local>
Date:   Sat Feb 16 01:33:13 2008 -0800

    Added Xquartz.plist to EXTRA_DIST
    (cherry picked from commit 70f9495e0c1f1459507064b673fe57b1c90d3c2c)

commit d103820bb8635c63b34b85b45cad95ed9c152d90
Author: Jeremy Huddleston <jeremy@tifa-2.local>
Date:   Sat Feb 16 00:35:50 2008 -0800

    Fixed unescaped newline in EXTRA_DIST
    (cherry picked from commit 567c172c4d400fdfe69e7b096a3877fce5c2de9f)

commit a7d936c4ac8e3d7227ecbfe0ddc6cc257b450458
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Mon Feb 11 16:09:03 2008 -0800

    XQuartz: Fixed EXTRA_DIST to include localization
    (cherry picked from commit 1b338c2a9330c85490a7c24d52adf24b124b70e6)

commit 0ffb6a3ad010e80fe8f973fc228d549f9dd3effd
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Feb 14 22:20:56 2008 -0500

    GLX: Implement support for TTM BO based TFP when available.

commit 879515b1399f87a47010532af70f34b9b09e2a9b
Author: Kristian Høgsberg <krh@sasori.boston.redhat.com>
Date:   Mon Feb 4 13:13:35 2008 -0500

    Add GLX provider for DRI2.

commit b71dc54352bc56a889823040ec19c1d8e118a1f3
Author: Kristian Høgsberg <krh@sasori.boston.redhat.com>
Date:   Mon Feb 4 11:58:24 2008 -0500

    Add DRI2 module.

commit 005e31d3de04e7003f84a94d30f2b75a9636266e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Feb 15 00:01:32 2008 +0000

    AIGLX: Refactor code common between __glXDRI{drawableDestroy,releaseTexImage}.

commit cd78f0d0fc08e4e2339ed09dad1a12802de7729c
Author: Pierre Willenbrock <pierre@pirsoft.de>
Date:   Thu Feb 7 21:28:28 2008 +0100

    AIGLX: Fix crash after client using GLX_EXT_texture_from_pixmap died.

commit 3e0353c78571890f849a1db47b0540aacc6793bc
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 15 06:42:48 2008 +1100

    Bah, macros are hard.

commit c38feeb1492d9a47379b2e4d77dbadd8c421d17f
Author: Maarten Maathuis <madman2003@gmail.com>
Date:   Thu Feb 14 18:52:47 2008 +0100

    Fix typo in commit b8b7cdf6df3d338c50db670ce4cfd245f9fa8844.

commit b8b7cdf6df3d338c50db670ce4cfd245f9fa8844
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 15 01:31:46 2008 +1100

    Silence useless debug spew from XFree86-Misc extension.

commit 4573cb2ce4b859744118d9a33de3599f033cdd2b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Feb 13 20:16:56 2008 -0500

    security: Revise set of permissions granted to untrusted clients.
    
    Bug #14480: untrusted access broken on 7.3.

commit e99aadbc2635e87543fc9980d8156c3ede83544f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Feb 13 19:46:29 2008 -0500

    xselinux: Add use to permission map for devices.

commit ae43d835bdaef96c3c73d7cee5b105f07340833d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Feb 13 19:39:49 2008 -0500

    XACE: Change access modes for some device-related requests.
    
    Opening a device is not really "reading" it.
    Requests that globally configure a device should require "manage" access.

commit 921c298c4cdd2c879403ebdacbef48129058cad4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 14 09:48:19 2008 +1030

    Xi: QueryDevicePointer doesn't have a shared field anymore.

commit b885588756450e2fa25fdd191e300e1c5dd37ec3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 14 09:47:31 2008 +1030

    Xi: remove FakeDeviceData calls. And one leftover from GrabAccessControl.
    
    FakeDeviceData needs more thoughtful integration.

commit c99a9a97290c51bf2843f42d5683888cea8a3ff6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 14 09:43:49 2008 +1030

    Xi: remove raw device events.
    
    Need to be better refined.

commit b35a9efa16d9e14378a95c11fa39171b78710996
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 14 09:41:49 2008 +1030

    Xi: Remove files for GrabAccessControl.

commit b81c330f70c4a4c8f37216aa4856c7f8db93a375
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 14 09:32:54 2008 +1030

    mi: remove RawDeviceEvent's ID changing.

commit acb412d5399f865b5048fdd683147cea0f19f0c1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 14 09:27:51 2008 +1030

    dix: Don't generate RawDeviceEvents anymore.
    
    These events have been removed from the protocol pending some more refinement
    and more thoughtful integration.

commit ba69904148acf755bec8fbda2eb869144f0ef7d4
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Feb 3 22:49:23 2008 +1100

    Simplify dlloader a bit more.

commit f750ce53ac450824d0c792d11eafdf311cf8abc0
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 17:33:48 2008 +1100

    Remove some braindamage from ModuleDesc.
    
    Yay dead code elimination.

commit e91ff09568c5579818b6641e88e95c6fe122cbe7
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 17:21:34 2008 +1100

    Friends don't let friends call xf86AddModuleInfo.
    
    That code only existed to leak memory.  It can go now, thanks.

commit 0bdd20a0454c94f902fd4874855125bf7510fcf5
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 16:15:58 2008 +1100

    Eradicate the VTInit code.
    
    "This option should rarely be used."  Never sounds like a better idea.

commit 24089b06243101b1bff4f2fd79fcbfd6a93992d5
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 16:11:13 2008 +1100

    Don't bother warning people about the keyboard driver rename, just do it.

commit 2aaf6ac134fa9f61984b1c03929c7b596c971cc8
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 16:10:23 2008 +1100

    Don't even attempt to parse -bpp in xfree86 DDX option parsing.
    
    This hasn't been valid since 1999.  Get with the times, man.

commit ef77e4c4419703b5a802f3eee92476a43f788a86
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 16:03:01 2008 +1100

    Remove useless commentary from environment and argument processing.

commit f3b3b37ec6197f8884417fbc26630d3a28f2e319
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 15:36:11 2008 +1100

    Use strerror instead of errno values in user strings.

commit b740b865e4c156a40adc6b63fcf215156fc9151a
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 15:16:01 2008 +1100

    Silence an error message in ConfigureWindow that never happens.

commit 89d3249c3e7611b22414bc84b10ca60aab4b9a77
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 15:11:27 2008 +1100

    Silence FreeResource()

commit 238b816469355159eea98600ca900e3baa8fa313
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 15:08:03 2008 +1100

    X.Org Group -> X.Org Foundation

commit 9113fa3de36e84bbae2727cace82b1cf0d709a86
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 15:03:57 2008 +1100

    Silence the harmless FreeFontPath error message.

commit 7c0709a736c0f3aa011de67dd2c2962585ab146e
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 14:59:58 2008 +1100

    requestingClient is an xprintism, hide it for other servers.

commit 62cfe8863823c0994f20555cb35ee3bacb9e5225
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Feb 1 14:57:25 2008 +1100

    Redact all mention of PanoramiX from user strings.

commit eb8dc11d19dd0b5354de408578ab0cfb865df672
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jan 31 21:45:14 2008 +1100

    Remove some MAX* #defines that never get used.

commit 2ce35f6d45c3e1761d33b786520ff5ba56a3c518
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jan 31 21:39:48 2008 +1100

    Simplify critical output flushing.

commit 3eaecdd66e791e0f3d86b23ce10be057ca44c044
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jan 31 21:36:14 2008 +1100

    Disable Record by default.

commit aa5216e89797b600f382c04e3eaa657e808a5c3e
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Jan 31 12:05:08 2008 +1100

    Rip out useless indirection in the callback list management.

commit 0d492b2166c4026b9078ffd86d89a31ebe590be4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Feb 12 19:59:10 2008 -0500

    XACE: Move the selection access hook to its own function.

commit 4be69e41c07b784f75918141eead70415c0ec4a4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Feb 11 16:03:25 2008 -0500

    Revert "Bug #8937: Extension setup functions not called on server resets"
    
    This reverts commit 5e946dd853a4ebc2722ae023429ce5797de3d7a6.
    
    The devPrivates rework makes this workaround unnecessary.

commit 8a244c2bc04a4184535e42d1f2f8c9e3e55678b4
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Mon Feb 11 12:09:41 2008 -0800

    XQuartz: Fixed layout of Applications->Customize menu
    
    Now resizing it won't produce weir overlaps of the widgets.  Thanks to
    Pelle Johansson for his help showing me how to do this.
    (cherry picked from commit ef3498e92d13c82633fdbe8120396bfbe1e7489a)

commit 3570ca1cb76f084272f7d8bd22c4cfdf03201a77
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Sun Feb 10 18:27:52 2008 -0800

    XQuartz: Added option for setting quartz-wm click-through preference
    (cherry picked from commit bf54c267cba97b2b3b9a621da0575776a388b2cb)

commit 8004e160fa8cc75a3f1b7385fee64e5864b3b50a
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Sun Feb 10 16:34:40 2008 -0800

    XQuartz: Converted interface to nib 3.x format
    (cherry picked from commit 656aaab95773bd70fc3504b68bf7e1d292891d93)

commit 0b0a09797302ac2171db5df20fc5110aafc8efbb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 7 15:48:04 2008 +1030

    xkb: when copying the keymap, make sure the structs default to 0/NULL.
    
    It actually does help if a pointer is NULL rather than pointing to nirvana
    when you're trying to free it lateron. Who would have thought?
    (cherry picked from commit 7a97ca667405a42d008265c3a870210cc1da97dd)

commit 7018f280406eb0ef899a4046de274cfdd582881b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 7 15:48:04 2008 +1030

    xkb: when copying the keymap, make sure the structs default to 0/NULL.
    
    It actually does help if a pointer is NULL rather than pointing to nirvana
    when you're trying to free it lateron. Who would have thought?

commit 66f8001b61d12eaf4905ac71ccbb3f304914d00d
Author: Bart Trojanowski <bart@symbio-technologies.com>
Date:   Thu Feb 7 21:26:54 2008 -0500

    X86EMU: handle CPUID instruction
    
    After trying to switch from X to VT (or just quit) the video-amd driver
    attempts to issue INT 10/0 to go to mode 3 (VGA).  The emulator, running
    the BIOS code, would then spit out:
    
            c000:0282: A2 ILLEGAL EXTENDED X86 OPCODE!
    
    The opcode was 0F A2, or CPUID; it was not implemented in the emulator.
    This simple patch, against 1.3.0.0, handles the CPUID instruction in one of
    two ways:
     1) if ran on __i386__ or __x86_64__ then it calls the CPUID instruction
         directly.
     2) if ran elsewhere it returns a canned 486dx4 set of values for
         function 1.
    
    This fix allows the video-amd driver to switch back to console mode,
    with the GSW BIOS.
    
    Thanks to Symbio Technologies for funding my work, and ThinCan for
    providing hardware :)
    
    Signed-off-by: Bart Trojanowski <bart@jukie.net>
    Acked-by: Eric Anholt <eric@anholt.net>

commit de16a8c53046764dbdf26a87acc5c984ef00d818
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 7 20:14:16 2008 -0500

    XACE: Correct some protocol error values in the colormap routines.

commit 31934132a490b1b8ae73010c44e0b23217d8dab2
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 7 16:32:06 2008 -0500

    xselinux: Use the device name in debugging output.

commit 6dcb7d732bfeadc214228d68c5a13eef30248eb1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 7 16:00:52 2008 -0500

    xselinux: Split devPrivate state into subject and object records.

commit 2259b144f0fd4855085a656111a0c64246733e78
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 7 14:35:02 2008 -0500

    xselinux: Add getattr and setattr to the permission map for properties.

commit 9d5edebe9664f4ac35b82830e000a72d5ca9cbe4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 7 21:22:50 2008 +1030

    Xi: finish XKB initialisation before copying the keymap.

commit 96eafa3d4f05997dac8be6a8d66a92410511824c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Feb 5 16:01:56 2008 +1030

    xkb: when copying sections, make sure num_rows is set too.
    (cherry picked from commit 41991fb991313202e8e6b513fe928ba14f8fcb87)

commit 5c30327275509576b7848a5f842e7a1bffabe980
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Feb 5 21:06:05 2008 -0500

    XACE: Push the dix "structure" includes down to the security modules.

commit bb1a577a6822f781f1e38d2434a13914e74f89aa
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Feb 5 20:07:08 2008 -0500

    XACE: Move the property access hook to its own function.

commit 019ad5acd20e34dc2aa3b89cc426138db5164c48
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Feb 5 15:44:41 2008 -0500

    XFixes: squash a pointer/integer size mismatch warning.

commit d3c36fe721edc55636438bc3e0e7a6c03f62784e
Author: liuhong <liuhong@devlinux-hong.sh.intel.com>
Date:   Tue Feb 5 10:54:58 2008 +0800

    validate mode clock for probed modes
    
    Some modes claimed in monitor EDID data may not be supported by
    the monitor. So also validating the max clock for probed modes.

commit 4b5b6e7baab58072a983d2ec136965f404c3a74a
Author: liuhong <liuhong@devlinux-hong.sh.intel.com>
Date:   Tue Feb 5 10:54:10 2008 +0800

    fix max clock unit
    
    max clock from EDID data is in MHz, while we need KHz to validate modes.

commit a56ef7aaa4b6ac13c8181f68fc7dad3ca89e6973
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Sat Feb 2 23:04:46 2008 +0100

    dix: Move motion history update until after screen crossing and clipping
    
    Cross screen and clip the coordinates before updating the motion history
    so that it will have the same contents as the events that are reported.

commit a0284d577aabea8406b72dd63773e341430ebe56
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Sat Feb 2 23:03:51 2008 +0100

    dix: Skip call to clipAxis for relative core-events
    
    Relative events that generates both core and extention
    events will have its axis cliped and screen changed by
    miPointerSetPosition when the events are processed. For
    absolute and non core-generating relative events the
    axis must be clipped if we shouldn't end up completely
    outside the defined ranges (if any).

commit d9e23c4ff1607a62164b34717ef9afd352ce2b94
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Sat Feb 2 22:57:32 2008 +0100

    Bug # 10324: dix: Add scaling of X and Y on the reported pointer-events
    
    Restore the rescaling code for x and y axis when generating
    motion events.

commit f04c0838699f1a733735838e74cfbb1677b15dc4
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Sat Feb 2 22:45:31 2008 +0100

    Bug # 10324: dix: Allow arbitrary value ranges in GetPointerEvents
    
    Don't use a possitive value as a marker for if a max-value
    is defined on the valuators. Use the existence of a valid
    value range instead. This will also make it possible to
    define arbitrary start and end-values for min and max as
    long as min < max.

commit 12e532403210c15a25200ef448bfe9701735ab20
Author: Magnus Vigerlöf <Magnus.Vigerlof@ipbo.se>
Date:   Sat Feb 2 22:44:31 2008 +0100

    dix: Always add valuator information if present
    
    Send valuator information for all event types, not only for
    MotionEvents and absolute button events.

commit 41991fb991313202e8e6b513fe928ba14f8fcb87
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Feb 5 16:01:56 2008 +1030

    xkb: when copying sections, make sure num_rows is set too.

commit 521a7f26e088029707fb9a2bb80c9ddc734a3f8b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Feb 5 18:34:31 2008 +1030

    mi: Only UpdateSpriteForScreen if we actually changed the screen. (Bug #12650)
    
    X.Org Bug 12650 <http://bugs.freedesktop.org/show_bug.cgi?id=12650>

commit 10617dc0fb7166ccd5b2e92fa708390c2d7d0d27
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Feb 1 14:24:04 2008 +1030

    xfree86: stick two more checks in for num_valuators < MAX_VALUATORS

commit c68f063be639f39c2facbb496e8455e8e3771b41
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Fri Feb 1 14:13:29 2008 +1030

    xfree86: don't call xalloc from signal handlers when posting events.
    
    Reviewed-by: Peter Hutterer <peter@cs.unisa.edu.au>

commit e5e531ce96264518f278f572a4d0bfcd345aa618
Merge: 6c38682 1692dcf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jan 31 16:36:17 2008 +1030

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	dix/events.c

commit 6c38682084e24b18bac0ea75729b1183aeb01600
Author: Benjamin Tissoires <tissoire@cena.fr>
Date:   Thu Jan 31 15:51:32 2008 +1030

    kdrive: AddInputClient takes a ClientPtr.

commit 1692dcf197470d074f69d5af1608cb2ff1d08872
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jan 30 13:04:58 2008 +1030

    dix: print out event type if a bogus pointer event occurs.

commit d954f9c80348de294602d931d387e5cd1ef4b9a5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jan 30 10:39:54 2008 +1030

    xkb: don't update LEDs if they don't exist. (Bug #13961)
    
    In some weird cases we call this function when there is no SrvLedInfo on the
    device. And it turns out null-pointer dereferences are bad.
    
    X.Org Bug 13961 <http://bugs.freedesktop.org/show_bug.cgi?id=13961>

commit df325be394e1f75c396b2768f81373f2989aef7c
Author: Coleman Kane <cokane@cokane.org>
Date:   Tue Jan 29 09:47:00 2008 -0800

    Bug 13101: xorg-server has a typo in hw/xfree86/os-support/bsd/i386_video.c
    
    X.Org Bug #13101 <https://bugs.freedesktop.org/show_bug.cgi?id=13101>
    Patch #12360 <https://bugs.freedesktop.org/attachment.cgi?id=12360>

commit 94f412cb7e954fe872fed979057cbdfbef953c6f
Author: Julien Goodwin <julien@studio442.com.au>
Date:   Sun Jan 27 12:30:16 2008 +1100

    Loader: Fix verbosity confusion
    
    'Loading foo' is verbosity 3, whereas 'already built-in' is verbosity 0.
    This means that gdm's log would just be full of bare 'module already
    built-in' messages.

commit 442838fcb3bf07ac57553ae5600d9e6c59a559bb
Author: Julien Goodwin <julien@studio442.com.au>
Date:   Sun Jan 27 12:27:26 2008 +1100

    xorg.conf.man: Fix monitor/output confusion in monitor positioning
    
    On the Intel driver at least, LeftOf/RightOf/Above/Below in xorg.conf refers
    to output names, not monitor names.  Fix nomenclature in xorg.conf.man.

commit 5b8641a5fdc112c19e78ca2954878712e328d403
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jan 29 10:01:37 2008 +1030

    xfree86: fix AlwaysCore handling. (Bug #14256)
    
    Assume AlwaysCore being set by default, just like the other options.
    
    X.Org Bug 14256 <http://bugs.freedesktop.org/show_bug.cgi?id=14256>

commit 975ab11799c819a81da1dfe83505194410dbcb95
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Jan 26 09:39:54 2008 +1030

    config: don't reset connection info on disconnect.
    
    If dbus is restarted, we try to connect again and this is difficult if the
    busname and/or busobject is not set.
    (cherry picked from commit 210eeef495770c1883c842ff003c28ce25f279d4)

commit 7dde5a694a06efed0a9186f05d33f5be6f5dba71
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 25 13:54:47 2008 +1030

    config: check connection != NULL before getting dbus' dispatch status.
    
    (cherry picked from commit d23266522390a4ef7203ae7c062b2b920e45f9d7)

commit f0ba7707161b8866e6fde32d6f25be6afcdecb48
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 25 13:45:22 2008 +1030

    config: only shutdown libhal if the connection is valid.
    
    Thanks to libdbus' extensive use of assert we won't just get an error, it'll
    bring the whole server down for us.
    (cherry picked from commit fb07fab2c07e7b0834724541dc47bfba02ba8574)

commit 2cb0ebec2b85d96289c23c17cfdcdf97ef6877d2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 25 11:48:13 2008 +1030

    config: add a debug message, fix a whitespace error.
    
    (cherry picked from commit 7732898aaa70e076000f6e6aa9420482896ed996)

commit 4fc2d3cef8d7868b025aa14af7ed4b730e8f2c49
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Mon Jan 28 12:18:43 2008 -0800

    Rootless: RootlessEnsureFrame: Added check for !IsRoot
    This was causing an issue with Apple-DRI and was reported here:
    http://trac.macosforge.org/projects/xquartz/ticket/51
    (cherry picked from commit 116800279d2ec783c63f43d3902627edde6a4cff)

commit 16b0614c8c441eb1692bde9e58fadf54a9c6f00f
Merge: 1a88aed e915a26
Author: David Nusinow <dnusinow@debian.org>
Date:   Sat Jan 26 16:13:25 2008 -0500

    Merge commit 'upstream/master'

commit 0ac175597712edfeae676f536746a4d26d625e30
Merge: 210eeef e915a26
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Jan 26 13:55:07 2008 +1030

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	Xext/sampleEVI.c

commit e915a2639752bc0ea9e6e192e020cc2031c08063
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jan 25 19:22:19 2008 -0500

    xselinux: Move the extension to extmod instead of being built-in.

commit 210eeef495770c1883c842ff003c28ce25f279d4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Jan 26 09:39:54 2008 +1030

    config: don't reset connection info on disconnect.
    
    If dbus is restarted, we try to connect again and this is difficult if the
    busname and/or busobject is not set.

commit f6a78ee143e3a3ad69538adf2b9675d724468ffa
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jan 25 18:04:10 2008 -0500

    XACE: Remove the extension code entirely, XACE is completely static now.

commit 7724c30a751c653ca3e2e8a6752af27bc37de3f0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jan 25 17:28:17 2008 -0500

    XACE: Stop using fake requestVectors in favor of a simple hook call.

commit f82329b0811469ddae5c44dcfffa38185c11a67c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jan 25 16:20:46 2008 -0500

    XACE: Don't need to actually register a protocol extension.

commit d23266522390a4ef7203ae7c062b2b920e45f9d7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 25 13:54:47 2008 +1030

    config: check connection != NULL before getting dbus' dispatch status.

commit fb07fab2c07e7b0834724541dc47bfba02ba8574
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 25 13:45:22 2008 +1030

    config: only shutdown libhal if the connection is valid.
    
    Thanks to libdbus' extensive use of assert we won't just get an error, it'll
    bring the whole server down for us.

commit 7732898aaa70e076000f6e6aa9420482896ed996
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 25 11:48:13 2008 +1030

    config: add a debug message, fix a whitespace error.

commit 46794d0c9665f07913980830d038c88d00407612
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jan 24 19:49:13 2008 -0500

    xselinux: Rename SelectionManager to more generic SecurityManager.

commit 466f6552190d1b83d66ebfd71e07921ed6210ee2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jan 23 16:11:31 2008 +1030

    Xi: if deviceid is > 127 assume GE mask is for all devices (XiSelectEvent).

commit 379f057646588fa3211d7ba0ec8d77d2fc0ad246
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jan 23 16:08:37 2008 +1030

    Xext: add GEDeviceMaskIsSet (GE mask checking per device)
    
    If a mask was set for the NULL device, then we pretend the mask is set for all
    devices.

commit 91dc8c43d2343e494c59023484883f4683bdc639
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jan 23 15:45:02 2008 +1030

    Xi: Change window access right check to RecieveAccess in XiSelectEvent.

commit 94a6a65ae7414c8247aa1741ec5c7561e6f4bbe0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jan 23 15:43:48 2008 +1030

    Xext: allow per-device GE masks.
    
    Instead of a single mask per client we allow the storage of a mask per client
    per device.

commit 6ffeecabb7f3f3173864e0f0af21a99bdc5b5044
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jan 24 18:11:49 2008 -0500

    xselinux: Use a privileged bit in the state instead of passing an index
    to the permission checking function.

commit 7ba8e97cbabfef4d614a6a38314830ec0f925471
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jan 24 19:09:58 2008 -0500

    xselinux: Implement "get context" protocol requests.

commit f0bf9a5231d4f612ac916355118484d055715f32
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jan 24 19:02:35 2008 -0500

    xselinux: Whitespace fixups.

commit 734e115871ce98badb8800383c423493802ae3d3
Author: Hong Liu <hong.liu@intel.com>
Date:   Wed Jan 23 21:04:32 2008 +0800

    Bug #12439: add a quirk to use +hsync +vsync for the probed detailed mode.
    
    Samsung 205BW quirk is somehow reworked.

commit cc22b05ea06e08568d0f0abdaccf67bd32662e94
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Jan 22 18:57:11 2008 -0500

    There is no such thing as /dev/cpu/mtrr.

commit 1a88aed5c82c7c131e3d473ef7b8766a418fdf1b
Author: David Nusinow <dnusinow@debian.org>
Date:   Mon Jan 21 21:16:13 2008 -0500

    Add tags/TAGS to .gitignore for ctags usage

commit be6c17fcf9efebc0bbcc3d9a25f8c5a2450c2161
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Jan 21 16:13:21 2008 +0100

    CVE-2007-6429: Always test for size+offset wrapping.

commit ba315ae5ddd00763147a4b0cdcacba7691793dfc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jan 21 23:43:53 2008 +1030

    Xi: add XACE hooks for device creation (ChangeDeviceHierarchy)
    
    AddInputDevice checks for permissions already, so all we do is modify a few
    callers to let AID sort it out.

commit 94a21d757ce58254accbd5dd3a86810aadeec9f0
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Jan 19 13:17:45 2008 +0100

    AIGLX: Fix GLX_EXT_texture_from_pixmap fallback with EXA.
    
    Use pScreen->GetImage to obtain the pixmap contents instead of dereferencing
    pPixmap->devPrivate.ptr directly.

commit e9fa7c1c88a8130a48f772c92b186b8b777986b5
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Jan 18 14:41:20 2008 -0500

    CVE-2007-6429: Don't spuriously reject <8bpp shm pixmaps.
    
    Move size validation after depth validation, and only validate size if
    the bpp of the pixmap format is > 8.  If bpp < 8 then we're already
    protected from overflow by the width and height checks.

commit 6492d513c0022d70f838d1b2561442c7a41e401f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 18 21:44:22 2008 +1030

    dix: if a client has a core grab, return the grab device on QueryPointer.
    
    The correct thing would be to return the ClientPointer. However, if the client
    for some reason has a core grab on another device (e.g. as result of a passive
    grab), return the coordinates of the grabbed device instead.
    
    This makes the use of nautilus a bit saner.

commit cd2ad4c2ed58b49cee085174e77c242048159321
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 18 20:11:55 2008 +1030

    dix: remove some superfluous lines in ProcChangeActivePointerGrab.

commit 8a925d201efac52ef663ea3ff46acc5046178666
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 18 20:06:29 2008 +1030

    dix: free the genericMasks when ungrabbing.
    
    This finally plugs a memory hole created by grabs registering for generic
    events.

commit 8949d81a3c79eef351d7c018c76692dcca74b63e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 18 19:45:54 2008 +1030

    include: mark CoreProcessPointerEvent, CoreProcessKeyboardEvent as deprecated.
    
    ProcessOtherEvent does all the work now.

commit d323fd64206ddb4221daa7cf7504daf62c5e7d90
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 18 19:17:42 2008 +1030

    dix: remove inputInfo.pointer refernce in EventSelectForWindow
    
    If the window being changed is set as the motion hint window for any device,
    the device's motion hint window is set to NULL. Which is kinda what the old
    code did, except that it did it with only the VCP.

commit 883811c2bed9c6fcb706effbf83ddc97518b6f0c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 18 18:48:46 2008 +1030

    dix: remove inputInfo.pointer reference in TryClientEvents.
    
    Unfortunately, this requires a change in the TCE API, and thus a change in all
    callers. Tough luck.

commit 6e17184486c4309ec8b47c7cfd11fef60bb360ac
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 18 17:52:38 2008 +1030

    Xi: Check for DestroyAccess when trying to delete a master device.

commit 23f3f0e27dc90b7b3a375f2a5dd094e6f53552b5
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sun Jan 13 14:00:25 2008 -0800

    XQuartz: Moved SetFrontProcess haco to set_front_process
    So it is done by the other thread...
    (cherry picked from commit 7429379eb1001ee3dc769daa8fe6b3aef1b9cc8a)

commit 8e133d96740d010a4fd969a8188e6e71fb2cafe2
Author: Matthieu Herrb <matthieu@bluenote.herrb.com>
Date:   Thu Jan 17 15:29:06 2008 +0100

    Fix for CVE-2008-0006 - PCF Font parser buffer overflow.

commit 6de61f82728df22ea01f9659df6581b87f33f11d
Author: Matthieu Herrb <matthieu@bluenote.herrb.com>
Date:   Thu Jan 17 15:28:42 2008 +0100

    Fix for CVE-2007-6429 - MIT-SHM and EVI extensions integer overflows.

commit 7dc1717ff0f96b99271a912b8948dfce5164d5ad
Author: Matthieu Herrb <matthieu@bluenote.herrb.com>
Date:   Thu Jan 17 15:28:03 2008 +0100

    Fix for CVE-2007-6428 - TOG-cup extension memory corruption.

commit dd5e0f5cd5f3a87fee86d99c073ffa7cf89b0a27
Author: Matthieu Herrb <matthieu@bluenote.herrb.com>
Date:   Thu Jan 17 15:27:34 2008 +0100

    Fix for CVE-2007-6427 - Xinput extension memory corruption.

commit bbde5b62a137ba726a747b838d81e92d72c1b42b
Author: Matthieu Herrb <matthieu@bluenote.herrb.com>
Date:   Thu Jan 17 15:26:41 2008 +0100

    Fix for CVE-2007-5760 - XFree86 Misc extension out of bounds array index

commit e85130c85f727466fc27be1cfa46c88b257499fb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jan 5 10:47:39 2008 +0200

    Xephyr: One-time keyboard leak fix
    
    Don't leak the originally-allocated keysym map.

commit 0137b0394a248f694448a7d97c9a1a3efcf24e81
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jan 5 10:43:53 2008 +0200

    XKB: XkbCopyKeymap: Don't leak all the sections
    
    Previously, we'd just keep num_sections at 0, which would break the
    geometry and lead us to leak sections.  Don't do that.

commit b99a43dfe97c1813e1c61f298b1c83c5d5ca88a2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jan 5 10:38:16 2008 +0200

    OS: IO: Zero out client buffers
    
    For alignment reasons, we can write out uninitialised bytes, so allocate
    the whole thing with xcalloc.

commit a6a7fadbb03ee99312dfb15ac478ab3c414c1c0b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jan 16 20:24:11 2008 -0500

    Don't break grab and focus state for a window when redirecting it.
    
    Composite uses an unmap/map cycle to trigger backing pixmap allocation
    and cliprect recomputation when a window is redirected or unredirected.
    To avoid protocol visible side effects, map and unmap events are
    disabled temporarily.  However, when a window is unmapped it is also
    removed from grabs and loses focus, but these state changes are not
    disabled.
    
    This change supresses the unmap side effects during the composite
    unmap/map cycle and fixes this bug:
    
      http://bugzilla.gnome.org/show_bug.cgi?id=488264
    
    where compiz would cause gnome-screensaver to lose its grab when
    compiz unredirects the fullscreen lock window.

commit e46f6ddeccd082b2d507a1e8b57ea30e6b0a2c83
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Jan 16 14:24:22 2008 +0100

    Yet another Xv extension byte swapping fix.

commit b0bf4308acb706abc87c51658c2251fa86231c35
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jan 15 19:15:09 2008 +1030

    dix: print out an error when core type can't be converted.
    
    Helps a bit in tracking down bugs.

commit 2a988ed75b7634d7cb6e83bb7aa89bc8768d3a58
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jan 15 19:14:46 2008 +1030

    xkb: don't do core key repeats, XI only is the path to light.

commit 4fd0885978be286a68b689824f1d910f929a52b0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jan 15 18:58:42 2008 +1030

    Xi: remove some leftovers from ProcessOtherEvents.
    
    Core handling not needed anymore here.

commit 32aa252e988be8cbfd4f7e373fb7b7736ef1f5f2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jan 15 15:22:39 2008 +1030

    dix: Process an input event as a single event, instead of two separate ones.
    
    This is a significant shift in how input events are perceived. The common
    approach was to treat a core event as a different entity than the XI event.
    This could result in the XI event being delivered to a different client than
    the core event. This doesn't work nicely if they come from the same device.
    
    Instead, we treat an input event as a single event, that is delivered through
    two separate APIs. So when delivering an event, we first try the XI event,
    then the core event. If the window want's neither, we go to the parent and
    repeat. Once either core or XI has been delivered, the processing stops.
    
    Important: Different to the previous method, if a client registers for core
    button events, the parent window will not get XI events. This should only
    cause problems when you're mixing core and XI events, so don't do that!
    
    Generic events don't fit into this yet, they cause me headaches.

commit 7a0d16ef0a103bcb25fa8a20322685f017aaf5a3
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Tue Jan 15 03:27:16 2008 -0200

    Removed some warnings.

commit 315d6a2b1d2a3de308e98d548afe780c59a784fc
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Tue Jan 15 02:59:56 2008 -0200

    Fix Xephyr compilation without GLX.

commit 0969a9f7497e10794a6534321c10a0e1ac680ad7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jan 15 11:31:12 2008 +1030

    dix: Emulate core events within CheckDeviceGrabs and ComputeFreezes.
    
    This should restore the correct passive grab processing. When checking for
    passive grabs, the core event is emulated and we check first for XI grabs on
    the window, then for core grabs. Regardless of which event activates the grab,
    the XI event is stored in the device's EQ.
    
    When replaying the event, we take the XI event and replay it on the next
    window, again including the emulation of the core event.

commit 1f83f40525acd3aff8f50b3c519bc1f307ff1e19
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Jan 15 10:20:50 2008 +1000

    xf86Cursors: fix memset for non-square cursors

commit e6ea3147bfb686798dac381eb8900f9f18beb88e
Author: Bernardo Innocenti <bernie@codewiz.org>
Date:   Sun Jan 13 19:50:37 2008 -0500

    exa: make the prototype for exaGetPixmapFirstPixel() public
    
    This fixes a warning in amd_drv which is using it.
    
    Signed-off-by: Bernardo Innocenti <bernie@codewiz.org>

commit a83a0c5a144da67dab96a857b849a5692b73245d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jan 13 16:14:29 2008 +1030

    dix: remove obsolete comment.
    
    Pairings don't exist anymore and the documented issue is a non-issue now.

commit 180a5aba4de3104fed8bc4e7d42a1e3a51575318
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Jan 12 21:24:34 2008 -0800

    XQuartz: Fixed copy-paste error with login_shell commit
    (cherry picked from commit 6deec3acc6f8010b5b53a1e55a0a2c4080ba69d2)

commit 6fd4a5e2e4d0be0ba0773df831687e11e1262c72
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Jan 12 11:56:00 2008 -0800

    XQuartz: Corrected copyright X.org Project -> X.org Foundation
    (cherry picked from commit f21631444816fc12b8a534c2cf79e6ac6c2af7c9)

commit f72255639c065d795f7767683e851b1b5b2d9480
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Jan 12 11:35:48 2008 -0800

    XQuartz: added 'login_shell' option to defaults
    so the user can choose something other than /bin/sh
    (cherry picked from commit b549cf18cebd3435d70f62855239484974c455a1)

commit ec24a6b5aa732ec6999a27889d9a33cf80123886
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sun Jan 6 18:29:54 2008 -0800

    XQuartz: Fixed switching into XQuartz via expose.
    (cherry picked from commit 627ed60ce5d7499761028edf379ebd95250d3e04)

commit 6844bd2e63490870bab3c469eec6030354ef2865
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 9 19:52:00 2008 -0800

    More Xv extension byte swapping fixes

commit 38bf01bd1c925614a6e67a38aa3cefc7b8fe3bca
Merge: 4e85c7c 0883e83
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jan 10 13:38:46 2008 +1030

    Merge branch 'master' into mpx

commit 0883e838e25227f0af84d2a90979175724166d16
Author: Peter Harris <peter.harris@hummingbird.com>
Date:   Wed Jan 9 14:52:33 2008 -0500

    xf86misc.c: Avoid use of swapped values

commit 59a63d72a1407a8aaf9878eeff7ee7a66f65a42b
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 9 18:42:58 2008 -0800

    Fix reference to old versions of XFree86 to not say "Xorg 4.2 or earlier"

commit 4e85c7c322faf14c14e4229fa294b8e3d3a4d304
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jan 9 17:36:39 2008 +1030

    Xi: keep a counter of buttons down to avoid duplicate press/release events.
    
    If two devices are attached to the same master device, pressing button 1 on
    each of them leads to two button presses from the same device. Some apps
    really don't like that.
    
    So we just put a counter in place and only send the first press and the last
    release.

commit e070c2cbef0d6fbbafce8d417e8b29231c2fdc50
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Dec 7 20:18:49 2007 +1030

    mi: change infamous "Tossed event ..." error for something more explanatory.
    
    Few whitespace errors fixed.
    Two ErrorF's prefixed with [mi].
    (cherry picked from commit 117458d2db49efd3f04432ff45871b44c7d4ad57)

commit c31aead0fe9fe424120ce221cd9f76cb6d29a5b5
Author: Richard Purdie <rpurdie@openedhand.com>
Date:   Tue Jan 8 12:12:06 2008 +0100

    [Kdrive] make XCalibrate 'orientation aware'

commit 30375cd6d1439a3390b41714fe116aecc94743ca
Author: David Nusinow <dnusinow@debian.org>
Date:   Mon Jan 7 20:57:30 2008 -0500

    Don't log DPMS enabling as being from xorg.conf if it's not

commit 981bb9f1e33e4564d1b59c00c808cc43a2e9497b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 18 13:57:07 2007 +1030

    dix: set the correct number of valuators in valuator events.
    
    (first_valuator + num_valuators) must never be larger than the number of axes,
    otherwise DIX freaks out. And from looking at libXI, anything larger than 6 is
    wrong too.
    (cherry picked from commit 9f6ae61ad12cc2813d04405458e1ca5aed8a539e)

commit 20ace6321ac464d821c67a82c7023f74ae038176
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jan 7 20:08:56 2008 +1030

    dix: don't try to confine cursor on screen restructure if there is no cursor.
    
    Stops segfaulting when using xrandr. Yay.

commit 57a491e6d3ebec464c0c861b02c9ddcb1cc62c3c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jan 7 20:06:32 2008 +1030

    dix: init GrabPrivateKey to correct value.
    
    Merge detritus from last pull.

commit 260505e3c5a18044e97d31ea3bcc0955e46335c8
Author: David Nusinow <dnusinow@debian.org>
Date:   Sun Jan 6 16:37:13 2008 -0500

    Log enabling of DPMS even when it's not set in xorg.conf

commit 7e7622165940934e56ae96ae785a8f88eec1a5cf
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Jan 6 18:23:09 2008 +0100

    Fix the name of the XFree86-Misc extension in the xorg.conf manpage.

commit 59df687835c68eda147de47edfe9bc415c0efb4f
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Jan 6 16:57:45 2008 +0100

    Document the AllowEmptyInput, AutoAddDevices and AutoEnableDevices flags
    
    Add documentation for the new AllowEmptyInput, AutoAddDevices and
    AutoEnableDevices server flags in the xorg.conf manpage.

commit 7d226d6a251cb90765be2b50a1973986c5b7605b
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Jan 5 03:14:07 2008 -0800

    XQuartz: Cleanup for strict-prototyping
    Also fixed DarwinEQEnqueue to match changes to the callback
    And also use dpmsstubs.c rather than copying the code into darwin.c
    (cherry picked from commit 4c5c30a4beb7a427b00b18097f548876ad3c11d7)

commit 11967dce11cd953d123d53bb3389aa257c5158e8
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Jan 4 22:54:26 2008 -0800

    XQuartz: Fixed copyright in About box for 2008.  Happy New Year!

commit aca75f389e2b08096c3cacec03b12a58075cf12c
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Jan 4 12:23:09 2008 -0800

    XQuartz: Flush the debug log for easier debugging
    Also cleaned up formatting in xpr's eventHandler
    (cherry picked from commit 16861d6d4239c7f3918332ef07752f1e211afb23)

commit 57468a696e1259c1e1c185fc60230e1d195defb7
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Fri Jan 4 12:37:55 2008 +0000

    Fix Line drawing with CapNotLast set in PolySegment.

commit 39cb782f28be4efb2621fd8c614f2367eb834412
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jan 3 23:16:06 2008 -0500

    XACE: DeleteCallbackList zeroes out its argument so don't do it twice.

commit 7f376f23db463a65176de632ca6094acb55db951
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jan 3 23:08:49 2008 -0500

    devPrivates rework: Free callback lists after use.

commit de18703d2a25999e391d11b4c82ee018fb87372d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jan 3 23:07:24 2008 -0500

    dix: Fix bug+leak in callback manager DeleteCallbackList function.

commit 20eb26f9d149993ae360a2cbd1b536b68c9f4069
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Jan 3 22:53:36 2008 -0500

    Fix potential crasher in xf86CrtcRotate()
    
    xf86CrtcRotate() is called by randr 1.2 drivers via xf86CrtcSetMode() or xf86SetDesiredModes()
    during ScreenInit() at which point pScrn->pScreen is not set. If a user specifies a rotation
    in their config file pScrn->pScreen is dereferenced and boom.

commit 249b9b30c11e03bb113b37cf4712bf88debf6f05
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 4 13:49:48 2008 +1030

    Xi: remove file for the obsolete ChangePointerKeyboardPairing request handling.

commit e4a214e40d35aa957c83b86b4e4abc86c22fbde0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 4 13:32:53 2008 +1030

    dix: don't free device's devPrivates manually, dixFreePrivates does it.
    
    Merge detritus from last pull.

commit cd0603c2dc5ee000ebce66056bc1a72f99bfb617
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jan 3 21:41:02 2008 -0500

    Bug #13765: Heap corruption in XC-SECURITY extension code.

commit e46d559739e020dc7f6fcbdc6d1fb39c57aab4b1
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Dec 22 15:09:12 2007 -0800

    XQuartz: Cleaned up color map configuration.
    8 bit color still doesn't work, but the -depth command line argument now works properly.
    (cherry picked from commit 6765949c27c053d22882f54337cfd09203aa5383)

commit 17a9714a6789a389d52dbb40fd1eed1e24c04d64
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jan 3 14:46:54 2008 -0500

    Bug #13794: Update MBE extension devPrivates to new interface.

commit b2da44c76d68a76f20e90bccb268ebf65e132b49
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jan 3 18:51:44 2008 +1030

    dix: DoChangeKeyboardControl shouldn't be using inputInfo.keyboard.

commit 9cc41b88dfebb3f1e0a7cb5c224146e651a2cda4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jan 3 18:47:28 2008 +1030

    Xi: ProcXSetClientPointer should directly check for the client from the id.
    
    The window ID includes the client ID anyway, so we might as well just look up
    the client directly instead of trying to get the window first and the client
    from the window.
    
    This also fixes a possible issue with XACE. If the client had permission to
    write on the client but not on the window, the previous approach would have
    failed.

commit 521fdc28d86d091495da3558d26ab4a938250ffe
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jan 3 18:43:18 2008 +1030

    xfixes: switch a few inputInfo.pointer to PickPointer

commit 37194b13554f0d36343cf73324b128b15bb6a338
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jan 3 18:36:33 2008 +1030

    Xi: switch to using "rc" (instead of "err") as returncode.
    
    All the rest of XI uses rc and returns rc in case of error, so make
    mpx-related stuff comply. This stops the rest of XI sending the error
    manually.
    This is just a cosmetic change to be in line with the rest.

commit c7e9b67c547c97b2c943eab555b4fe2844e8a91f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jan 3 18:09:56 2008 +1030

    dix: free ClassesRec when a BadAlloc occurs during CoreKeyboardProc.

commit 8da83836b60f7cdb75d08482f4311fa0e2ab4e1d
Merge: eace889 ae869fc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jan 3 17:04:54 2008 +1030

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	XTrap/xtrapddmi.c
    	Xext/security.c
    	Xext/xprint.c
    	Xext/xtest.c
    	Xext/xvdisp.c
    	Xi/exevents.c
    	Xi/grabdevb.c
    	Xi/grabdevk.c
    	Xi/opendev.c
    	Xi/ungrdev.c
    	Xi/ungrdevb.c
    	Xi/ungrdevk.c
    	dix/cursor.c
    	dix/devices.c
    	dix/dixutils.c
    	dix/events.c
    	dix/getevents.c
    	dix/main.c
    	dix/window.c
    	hw/xfree86/ramdac/xf86Cursor.c
    	include/dix.h
    	include/input.h
    	include/inputstr.h
    	mi/midispcur.c
    	mi/miinitext.c
    	mi/misprite.c
    	render/animcur.c
    	xfixes/cursor.c
    	xkb/xkbAccessX.c

commit ccf6636d2ca8acdaaeb8da34db507a10a082b0de
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 2 19:28:33 2008 -0800

    Kill xf86getpagesize even harder (dummylib & ioport)

commit dfd682b582636a36345144bcf835e3ee46718d90
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 2 19:27:22 2008 -0800

    X.Org bug 4947/Sun bug 6646626: Xv extension not byte-swapping properly
    
    X.Org Bugzilla #4947 <https://bugs.freedesktop.org/show_bug.cgi?id=4947>
    Sun bug 6646626 <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6646626>
    
    Don't use swapped data after swapping it.   When done swapping data,
    send the swapped data, not the address of the pointer to it, to the client.

commit f6666dcc3b1ac60f850ea53c357a9ef61672a52a
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 2 19:19:55 2008 -0800

    Add dixAllocatePrivate stub to dummylib for utils
    
    Normally not necessary, except when building non-optimized/debug causes
    the inline functions from private.h to appear in os-support/libxorgos.la

commit 73f422996016107d5f53492e4197bb05ed9c4bb9
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 2 19:17:54 2008 -0800

    Fix names/types of new vuidMouse{Get,Set}ScreenPrivates macros

commit 895073f6b41d9313cfe748232c492c5e9f76b443
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 2 18:09:26 2008 -0800

    Restore include & typedef needed by dtrace
    
    996b621bec1bbc4fb21970c75eaec62053bc6ccb deleted a couple lines too many

commit 306fde4082044dfecbedd9af41e660bafb3ce438
Author: Brian <brian@i915.localnet.net>
Date:   Tue Jan 1 09:27:44 2008 -0700

    regenerated to add framebuffer object tokens (bug 13800)

commit 5c362c2eb2cfdf1f6d667a3e64a0a7bc4942c950
Author: Brian <brian@i915.localnet.net>
Date:   Tue Jan 1 09:07:48 2008 -0700

    regenerated, adds GL_MAX_3D_TEXTURE_SIZE (see bug 13811)

commit 85365ddf16e2b954d8249b380df53337420ed684
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 17:35:54 2007 -0500

    EDID 1.4: If given a native pixel format, use it when inferring virtual.

commit 312b30cb03e439644ea10e08fa93268116333f0d
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 17:18:30 2007 -0500

    EDID 1.4: First detailed mode is always preferred.
    
    ... so act like it in the modelist generator, not just the parser.

commit 9dbb73033ae60e7ab85f1469a696e2a52f0cb0fe
Author: Colin Harrison <colin.harrison@virgin.net>
Date:   Sat Dec 29 00:02:16 2007 +0200

    Rootless: Fix lvalue error from devPrivates change
    
    Instead of trying to use an invalid expression as an lvalue, use the function
    call instead.

commit 36ff05771b0699aa80ad718e24097bc25cb4fb00
Author: Jurij Smakov <jurij@wooyd.org>
Date:   Fri Dec 28 23:59:53 2007 +0200

    GL: Add GLX compile flags lost in modular X server changes
    
    RISC chips that trap on unaligned loads and stores need to
    define __GLX_ALIGN64.  This used to get added to the cflags
    in the old *.cf files but it no longer does in the modular
    X server.
    
    Also, Alpha needs to pass -mieee to the compiler as well.
    
    This is a simple backport of a patch that debian, and probably other
    distributions, have been applying forever.  To the best of my
    knowledge the patch was written by Jurij Smakov.  See Debian bug
    number #388125.
    
    I just checked and this has been rotting for more than a year in
    freedesktop bugzilla as #8392.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bae459cfc4f17a5ec5f2810e9f913e3ad2d8b8d4
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 16:50:18 2007 -0500

    Don't carp on EDID 1.4 blocks anymore.
    
    Also whine more loudly when we get something other than 1.x.

commit 70b2d6cfeb3bcb7b862a2ae29f6ef7cb84d69486
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 16:39:00 2007 -0500

    Check the gamma value, not its address.

commit 592d814ee09e86e283116a7a1052762c8398e8e5
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 16:37:23 2007 -0500

    EDID 1.4: Additional semantics for display feature bits.
    
    First mode is _always_ preferred in 1.4; the bit that used to mean this
    now means that the preferred mode is also the native pixel format.  The
    old "is GTF" bit now means "is continuous-frequency" instead.
    
    Section 3.6.4, Table 3.14: Feature Support, Notes 4 and 5.

commit 322d0103aee317500057c80d542d7270d69a5731
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 16:28:44 2007 -0500

    EDID 1.4: Alternate color encodings for digital inputs.
    
    Section 3.6.4, Table 3.14: Feature support.

commit f1f43caf7e26a84dbacd4e5d7d47c8b4e4982836
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 16:12:11 2007 -0500

    EDID 1.4: Allow for gamma definition in extension blocks.
    
    Section 3.6.3, Table 3.13: Display Transfer Characteristics (Gamma)

commit 861ee38817523a647e6be10d7e8fe26f66054217
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 16:06:45 2007 -0500

    EDID 1.4: Additional aspect ratio semantics for screen size fields.
    
    Section 3.6.2, Table 3.12: Horizontal and Vertical Screen Size or
    Aspect Ratio.

commit 14b5c8a447db0395fb14b2d404eafb1d8e4fb817
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 15:52:42 2007 -0500

    EDID 1.4: Extended support for digital interfaces.
    
    Section 3.6.1, Table 3.11: Video Input Definition.

commit a948216dccb5ee577a50a42035dc9bc49d0a00c6
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 15:00:41 2007 -0500

    EDID 1.4: Decode CVT 3-byte codes and add them to the mode pool.
    
    Section 3.10.3.8: CVT 3 Byte Code Descriptor Definition.

commit f6df66cc89bcd0a0be2e7bca05839fdd428c1d4c
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 13:55:39 2007 -0500

    EDID 1.4: Trivial support for new detailed sections.
    
    Nothing actually decoded yet, but at least we print what they are.
    
    New in EDID 1.4:
    - Color Management Data (0xF9), Section 3.10.3.7
    - CVT 3 Byte Code Descriptor (0xF8), Section 3.10.3.8
    - Established Timings III Descriptor (0xF7), section 3.10.3.9
    - Manufacturer-specified data tag (0x00 - 0x0F), section 3.10.3.12

commit bac3ecde39cc914ab515991234b7dc2138005b84
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 13:33:39 2007 -0500

    EDID 1.4: Allow for sync range offsets.
    
    Table 3.26: Display Range Limits & Timing Descriptor Block Definition

commit 3b23dd9fd43a28033d0af7b02088b0c6ca433158
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 28 13:29:45 2007 -0500

    xselinux: Fix whitespace warnings.

commit 643c52be32c187a0fdb9a031b1e31d97cd551339
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 28 13:26:26 2007 -0500

    xselinux: Remove "X" prefix on remaining functions and strings.
    
    Should be evident from the context.

commit f4bc333fc1e8d9fa9911771d2072df4df741c553
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 28 11:56:54 2007 -0500

    xselinux: don't FatalError on an invalid class mapping, just disable support.

commit f3780ece528ed3ead809ba6a388fa0f8aab2a775
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 20 20:32:07 2007 -0500

    xselinux: Implement swapped protocol request logic.

commit 1bbf64ab115e2a1121d6f9c0830b1b977f025178
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 20 20:31:34 2007 -0500

    xselinux: Remove unnecessary structure definition.

commit 938da5ee389975f910721f1c2cebc2dcec793117
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Dec 28 12:23:44 2007 -0500

    Add HDMI and DisplayPort connector types.

commit 24105cf6582201a94bc39aeac5a795297018aeb5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Dec 28 15:49:50 2007 +0200

    Input: Don't reinit devices
    
    If a device is already initialised (i.e. the virtual core devices) during
    IASD, don't init them again.  This fixes a leak.

commit 941058f8da0d725f909dc97f68c32ce244a9dc0a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Dec 28 15:48:57 2007 +0200

    KDrive: Xephyr: Don't leak screen damage structure

commit b2f6cd290c43b88f0d08fb29f8657618a067d2a0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Dec 28 15:48:25 2007 +0200

    OS: Don't leak connection translation table on regeneration

commit 190a0506243b39cd8dfc0e12068e3a3f416330f1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Dec 28 15:47:57 2007 +0200

    Config: HAL: Don't leak options on failure to add device
    
    This showed up in Xephyr in particular, which denies new device requests.

commit f44fd3f9e41bf467360ace93ef5b532d8f61fb2c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Dec 28 15:47:21 2007 +0200

    Config: D-Bus: Don't leak timers
    
    TimerCancel doesn't free the timer: you need TimerFree for that.

commit ae869fc7669764729e13fdd70149ed636753f2a3
Author: David S. Miller <davem@davemloft.net>
Date:   Tue Dec 25 22:42:50 2007 -0800

    [SBUS]: Fix build, use getpagesize() instead of xf86getpagesize().
    
    xf86getpagesize() was removed, but this one call site was
    not fixed up.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 009f1e4e55200425de2fe0dbc1f0ac0f431fb4cf
Author: Fatih Aşıcı <fatih@pardus.org.tr>
Date:   Tue Dec 25 23:09:49 2007 +0200

    Config: Don't forget to add xkb_rules option

commit 389e8917f66a489455f1d5c70f44c262717538ad
Author: Fatih Aşıcı <fatih@pardus.org.tr>
Date:   Tue Dec 25 22:59:24 2007 +0200

    Config: Fix a memory leak

commit 743008a4812d6b046211ebcf4eab202687b458d5
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Dec 23 14:27:14 2007 -0500

    Report serverClient resources in the X-Resource extension.

commit beb29c605b8c66e1a18b89668aa421c1519645f6
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Dec 21 02:09:01 2007 -0800

    XQuartz: *REALLY* use CFStringCreateWithCString
    I need sleep!  Why am I making these stupid mistakes... sorry for pointless commit spam.  ugg.
    (cherry picked from commit b16351fc6457aabead328472d16dc25789032940)

commit 5dd895efa305954e2695aa22a9e49acfb65b4d5e
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Dec 21 02:06:47 2007 -0800

    XQuartz: Use CFStringCreateWithCString
    (cherry picked from commit 79782b0e14761dcf5d6635b8eec161b74f06763a)

commit 2c24231fc2027cf5034bb1b6636332687f586726
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Dec 21 01:57:43 2007 -0800

    XQuartz: Reduce code duplication in X11.app
    (cherry picked from commit b81809cd91a9f90b7f2de77b1dcf514cee87c32d)

commit f3042a63be0748bb60567144276d2c61b75ba0b7
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Dec 21 01:24:06 2007 -0800

    XQuartz: Handle Pseudorami init in miinitext
    (cherry picked from commit a585c94fedd4ecbc87524703c01bb128fc2aa951)

commit fa9680a7305d7f906da1bdeb40a0863ef66316e6
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Dec 20 19:38:20 2007 -0800

    XQuartz: Added localization.
    (cherry picked from commit 7a5cc7bfbb296a2c41a580b063324c448f7131db)

commit 603a8b73d46d59e5f9f0be39be8317f3fadfe7e6
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Dec 20 18:29:57 2007 -0800

    XQuartz: Cleaned up command line arguments.

commit 4cf3002b6020024f2fc2ed0cc40a872a066e482d
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Dec 20 18:08:40 2007 -0800

    XQuartz: Kill off server-main.c and launcher-main.c
    Now using xinit
    (cherry picked from commit 5d6ae3d299f72df714117948b3d31dcbddf6c0bc)

commit 1f74bef1ad1399323fc0d2e309b808bf32c622e4
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Dec 20 17:33:38 2007 -0800

    XQuartz: Don't fork to exec app_to_run.
    Plus other housecleaning...
    (cherry picked from commit ae302db472f127be082d05b418ede332fae8ccc5)

commit 2d15d439f844d4016f169664a338595c11b91b77
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Dec 20 15:46:40 2007 -0800

    Xquartz: Use X11ControllerMain()
    (cherry picked from commit a9ac932543374aa2540f5a12cc85ef82c85b0e0c)

commit 1393a97ea97b5f7d7b90e3e8c58b5996b600e0c6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 20 16:23:35 2007 -0500

    xselinux: Send AVC messages to audit system instead of log file/stderr.

commit 42802a8e6b3d3795acc4f8b7597ea5a48619b5cd
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Dec 20 13:17:30 2007 -0800

    Xquartz: General Cleanup
    General code cleanup, whitespace, dead code removal, added missing prototypes.
    Made Xquartz come to foreground later in startup, so it doesn't appear for Xquartz -version
    (cherry picked from commit 36922e8ff4316c93843aa3fe959cf8df3c7d5892)

commit 7ef7727b800fa4715b80a82850d65b88fde5fe6c
Author: Dave Airlie <airlied@clockmaker.usersys.redhat.com>
Date:   Thu Dec 20 10:11:26 2007 +1000

    entity sharing: make !shareable entity non-fatal.
    
    Just because the entity isn't shareable, we should bring down the server.
    Just ignore the extra screen and keep going.

commit 50e80c39870adfdc84fdbc00dddf1362117ad443
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Dec 19 16:20:36 2007 +1030

    include: never overwrite realInputProc with enqueueInputProc. Bug #13511
    
    In some cases (triggered by a key repeat during a sync grab) XKB unwrapping
    can overwrite the device's realInputProc with the enqueueInputProc. When the
    grab is released and the events are replayed, we end up in an infinite loop.
    Each event is replayed and in replaying pushed to the end of the queue again.
    
    This fix is a hack only. It ensures that the realInputProc is never
    overwritten with the enqueueInputProc.
    
    This fixes Bug #13511 (https://bugs.freedesktop.org/show_bug.cgi?id=13511)
    (cherry picked from commit eace88989c3b65d5c20e9f37ea9b23c7c8e19335)

commit d0308b64655360517d83e07e866d103c3f2b389d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Dec 19 18:18:10 2007 +1030

    Xi: specify correct struct when calculating size of GetDeviceControl reply.
    
    This doesn't change much, as the struct previously given has the same size as
    the ones now anyway. Still, we should be pendantic.
    
    Thanks to Simon Thum for reporting.

commit 66b00029e587cec628d0041179a301e888277f8e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Dec 19 18:10:50 2007 +1030

    Xext: remove redefinition of Bool.
    
    Thanks to Simon Thum.

commit eace88989c3b65d5c20e9f37ea9b23c7c8e19335
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Dec 19 16:20:36 2007 +1030

    include: never overwrite realInputProc with enqueueInputProc. Bug #13511
    
    In some cases (triggered by a key repeat during a sync grab) XKB unwrapping
    can overwrite the device's realInputProc with the enqueueInputProc. When the
    grab is released and the events are replayed, we end up in an infinite loop.
    Each event is replayed and in replaying pushed to the end of the queue again.
    
    This fix is a hack only. It ensures that the realInputProc is never
    overwritten with the enqueueInputProc.
    
    This fixes Bug #13511 (https://bugs.freedesktop.org/show_bug.cgi?id=13511)

commit bcad2a5a24f30cfdf9eca31915ed5a55ed094285
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Dec 18 20:19:26 2007 -0500

    XACE: Too many arguments to selection access hook.

commit 7721d3e9217b41aab3a0ee5eaa52f5b53cbb07db
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Dec 18 19:14:26 2007 -0500

    Reference cvt and gtf in the xorg.conf man page.

commit 51fab1eb30691c503f1b4dc98b465f2bc2e1394e
Author: Sam Lau <sam.lau@sun.com>
Date:   Tue Dec 18 11:38:47 2007 -0800

    Sun bug 6278039: Xevie checking wrong size in swapped XevieSelectInput requests
    
    <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6278039>

commit 97c82ce0510808ea9d8a37a0a121e750f6dd8158
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Dec 17 23:11:29 2007 -0500

    XACE: Restore the old background None behavior in response to bug #13683.
    
    From the X11 protocol spec:
    
    "If background None is specified, the window has no defined background."
    
    This means that toolkits and apps cannot rely on the "transparent" nature
    of the current implementation!  At some point before the next release,
    XACE will switch back to a solid background as the default.

commit 9f6ae61ad12cc2813d04405458e1ca5aed8a539e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 18 13:57:07 2007 +1030

    dix: set the correct number of valuators in valuator events.
    
    (first_valuator + num_valuators) must never be larger than the number of axes,
    otherwise DIX freaks out. And from looking at libXI, anything larger than 6 is
    wrong too.

commit 6a5c3e04fa43b98ccffd69ad86dd781602f88d0b
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Dec 17 14:59:12 2007 +1000

    mi: set the private key to a unique non-zero value

commit a18d28a5efbe6021d6c800506cece28a73545aad
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Dec 17 13:49:16 2007 +1000

    damn then my cut-n-paste ate my end of lines...

commit d096bbd01bf7c7e15b5a2c582718f3333e063ddc
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Dec 17 13:45:15 2007 +1000

    Xquartz ate my DMX - thanks

commit bf20c4374aeb5160a0dc372df9b49f1bbc05f078
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sun Dec 16 01:14:32 2007 -0800

    Xquartz: Removed launchd plist and x11-exec.  The relevant code is now in xinit.
    (cherry picked from commit 767b4c9d9daa5d0ea59ac1f0d70146798da631cb)

commit 58c2898b62fbf0d8e0f175de7cc208dc29d93788
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sun Dec 16 01:21:45 2007 +0100

    xfree86: permit access to io port 0xffff on the hurd

commit b4ef8885e1697b83a0dcc9f7fe79155f19241798
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Dec 15 14:00:19 2007 -0800

    Xquartz: Fixed launchd detection

commit ff5abc72fcc459d7eac663e5f8e4d40b28749841
Author: Otavio Salvador <otavio@ossystems.com.br>
Date:   Fri Dec 14 17:59:29 2007 -0200

    registry: XREGISTRY_UNKNOWN needs to be defined even if XREGISTRY isn't enabled
    
    In case XREGISTRY isn't enabled, XREGISTRY_UNKNOWN is used but it's
    not being available. It's now always available.

commit a3f7f7b60e391e6106f5db40b3fe5fbc67ccd836
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Dec 13 20:45:14 2007 -0800

    clarified debug message to indicate that we're sleeping
    (in case we get reports about slow launch times, this will
    help clarify what's happening)
    (cherry picked from commit 2eea3483cf893f8f81bacd434b31408dfb38cb06)

commit e0e59b3bbc4d8e7ac3934a6f6a9e4a15b328c475
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Dec 13 20:44:33 2007 -0800

    we need to link against CoreServices, not ApplicationServices
    (cherry picked from commit ba4d2096e7953ef5b971682f0e28535da968acb1)

commit 062d9234e233fc4c1c617f59093da973c9d3e2ce
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Dec 13 20:40:27 2007 -0800

    fixed bug in x11-exec that prevent icon from showing up
    (cherry picked from commit e1f4a0c20d3a52d98954c4b28d0ec4d44564bc32)

commit 95c02adea80a14e18bb51876bc1418eccdade31d
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Dec 14 15:21:40 2007 -0800

    Xquartz: Fixed cpprules include

commit 86730337001ba4db6d77fe42406695e32784b157
Author: Otavio Salvador <otavio@ossystems.com.br>
Date:   Fri Dec 14 08:46:35 2007 -0200

    kdrive/ati: use operating system input devices

commit e110255501e2f699709e6978f5e52d3be96333c8
Author: Otavio Salvador <otavio@ossystems.com.br>
Date:   Fri Dec 14 08:45:09 2007 -0200

    kdrive/vesa: use operating system input devices

commit 863ba390e9fdf0d37cdf03bf5eebe7fdfe6288f5
Author: Otavio Salvador <otavio@ossystems.com.br>
Date:   Fri Dec 14 00:03:13 2007 -0200

    kdrive/fbdev: use operating system input devices

commit ca59d3f7bdb5f3724ff45ea57912c0b1098a73d6
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Thu Dec 13 00:09:08 2007 +0200

    Xprint: Clean up generated files
    
    Remember to clean generated wrapper files.

commit 5b02a6ca5b31db69d08f2f452494c0f93a6260d9
Author: Bartosz Fabianowski <freebsd@chillt.de>
Date:   Fri Dec 7 02:38:14 2007 +0000

    Input: Fix proximity events with valuators
    
    Initialise num_events to 1, so we always send a proximity event, and then
    optionally valuator events.  Also make sure mieq can deal with valuator
    events sent after proximity events.

commit a14a143832be844b4b890b0160ccb9fc8293c28c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 14 00:57:16 2007 -0500

    Bump server version for devPrivates rework / XACE.

commit a2df51f8e95a814c54b806814020155ac8bd177d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 14 00:53:54 2007 -0500

    Bump video driver ABI and extension ABI for devPrivates rework.

commit 86b2e59bfb79bd042a13c35fbb4ccecec576f629
Merge: 1c1a4bc cb0d7e2
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 14 00:32:24 2007 -0500

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	configure.ac
    
    This is the last pull before merging to master.

commit 1c1a4bc970be061484bb8dcccf945eb08144c656
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 13 19:51:40 2007 -0500

    devPrivates rework: more cleanup from previous merge operation.

commit cb0d7e2c2692a332e2bd5495478ebf9a6cd601d0
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Dec 13 16:23:46 2007 -0800

    Xquartz: Don't hardcode libexec dir
    (cherry picked from commit 67b479ef80cb740a24981335eb8d596744168a62)

commit c39212fd7353fc1a07a30bade90f78356c748e2d
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Dec 13 15:56:31 2007 -0800

    Xquartz: Don't hardcode LaunchAgents dir
    (cherry picked from commit 07a12d71fefd78c380078efa835700f2868ab204)

commit 82e1aff9fbc1d15e3451707e3ccbf4b13eedda94
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Dec 13 15:57:39 2007 -0800

    Modified X11 plist to use x11-exec
    (cherry picked from commit 7d9a11329e476f45e4d9f9aebcb43469321347c7)

commit 1a5910588a60af0c136595e2457d897d9e54ac88
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Dec 13 15:55:28 2007 -0800

    created x11-exec wrapper, which uses LaunchServices to find
    (and then exec) X11.app
    (cherry picked from commit fc04c9759b30d062111d4a7f3f411ed0f18cbde4)

commit c8feb73f5841e7812d8dfdb91f1064e2033d028c
Merge: 9a7ce57 a125ce4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 13 18:38:25 2007 -0500

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	Xext/EVI.c
    	Xext/bigreq.c
    	Xext/cup.c
    	Xext/dpms.c
    	Xext/fontcache.c
    	Xext/mitmisc.c
    	Xext/xcmisc.c
    	Xext/xf86bigfont.c
    	Xext/xtest.c
    	configure.ac
    	dbe/dbe.c
    	hw/darwin/darwin.h
    	hw/darwin/darwinEvents.c
    	hw/darwin/iokit/xfIOKit.h
    	hw/darwin/iokit/xfIOKitCursor.c
    	hw/darwin/quartz/fullscreen/fullscreen.c
    	hw/darwin/quartz/fullscreen/quartzCursor.c
    	hw/darwin/quartz/quartz.c
    	hw/darwin/quartz/quartzCommon.h
    	hw/darwin/quartz/quartzCursor.c
    	hw/darwin/quartz/xpr/dri.c
    	hw/darwin/quartz/xpr/dristruct.h
    	hw/darwin/quartz/xpr/xprCursor.c
    	hw/darwin/quartz/xpr/xprFrame.c
    	hw/xfree86/modes/xf86RandR12.c
    	include/cursor.h
    	miext/rootless/rootlessCommon.h
    	miext/rootless/rootlessScreen.c
    	miext/rootless/rootlessWindow.c
    	render/picturestr.h
    
    Trying to pick up the pieces from the darwin churn here...

commit efcdc0d7010f4e6ec833842cb010a07068edf7ab
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Dec 13 15:38:41 2007 -0500

    Correct the documentation comments in xf86Modes.c
    
    Most of those functions do not, in fact, work with circular mode lists,
    and by this point the API isn't really "proposed" anymore.

commit 1768af38c737f4c14d32f587b51a8ec3d3d6ed5f
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Dec 13 15:06:18 2007 -0500

    Add infrastructure for validating modes by memory bandwidth.

commit 4359193aaa522599c502d012b9c163e993c01d79
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Dec 13 10:59:48 2007 -0500

    Explain a confusing #ifdef.

commit 8cedbb0a53d47b12f03edb726db9d5879c8a63a4
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Dec 13 10:57:35 2007 -0500

    Clean up some #if 0.

commit 9a7ce573636e349ee2967991c7cc1407e80ae524
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Dec 12 20:44:59 2007 -0500

    xselinux: Add new protocol for setting device create context.

commit a125ce4a84f5fb5934fefebd7cfb22a83180874d
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Dec 12 12:20:54 2007 -0800

    Fix dist by including modeline2c.awk.
    
    This was broken by commit cb44b6121c4b7b9dd7ff4ff52aaab914c82ff013, which
    removed modeline2c.pl from EXTRA_DIST without adding modeline2c.awk.

commit 671592343701d8174a70f1ffb9c818784ea3af7a
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Dec 12 10:59:15 2007 -0800

    Get rid of xf86DefModes.c.
    
    It's out of date and not included in the build.  Instead, xf86DefModeSet.c is
    built from vesamodes and extramodes using modeline2c.awk and *that's* what gets
    built.

commit d86e7f2ecc0a0129a722ffaca93dfc7c0c60e842
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Dec 7 20:40:21 2007 +1030

    dix: when getting a bogus event, at least print out the type.

commit eab0c4e49015fe96f6d985316f9c5fa28a7eb1fe
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Mon Dec 10 20:57:24 2007 -0800

    Xquartz: Pre-process Xquartz man page
    (cherry picked from commit dec2633c41dd0adf73264afdf251a6522d6ae76a)

commit 1ff945a8e43e622b39b360ee49efd6ae3b77be67
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Mon Dec 10 20:47:48 2007 -0800

    Xquartz: Make Alt work with Xmodmap again
    (cherry picked from commit 0e017177dcca7185716ca760dcce9ddedc7bfef9)

commit 7d61893b49569a72bccb63f1ae8c9ce4ef4e354f
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Mon Dec 10 20:33:30 2007 -0800

    Xquartz: Removed Xplugin.h from EXTRA_DIST
    (cherry picked from commit a746383eca77c9b9ea2cba0cf1c8fc39c0f7d536)

commit 8f2eff643bf421bc4233fbaa2409b75d9f80d147
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sat Dec 8 23:34:40 2007 -0800

    remove Xplugin.h, because we should use the one in /usr/include
    (cherry picked from commit 3e881032f35f774ff9638678d7e3f77c81f62976)

commit 7b573ed43672b1fac7b4e6df85a657942ab4cba6
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sun Dec 9 12:02:04 2007 -0800

    Xquartz: Added missing link to libconfig.a
    (cherry picked from commit 14ec1cf1cb7ebc183c05e13f9c2b4b4eed679ff3)

commit cd13c4ba5b7a1bdfb419cb492a96a72dccf2681e
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Dec 8 13:18:17 2007 -0800

    .gitignore: added hw/xquartz/bundle/org.x.X11.plist

commit 020b0e92b039d6ddaea0bbdb890b6a01037bf9b6
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Dec 8 11:49:37 2007 -0800

    Xquartz Added quartzKeyboard.h to EXTRA_DIST
    (cherry picked from commit 37c9781fdb672229ceab101b080762e15512943f)

commit 5e016fa9b2bf28971ed1794f4706c6538b1d411c
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sat Dec 8 06:12:46 2007 -0800

    Added darwinEvents.h to EXTRA_DIST
    (cherry picked from commit 45e5247564c423a2bf02cfec1993155858c91a14)

commit 6bb5dacc1710cdbededb9b28ba89a184ecd0931c
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Dec 8 01:41:37 2007 -0800

    Xquartz: Actually add quartzForeground.[hc]
    Sorry for the commit spam... I'm tired and was overly quick to commit... forgot to include a neccessary file.
    (cherry picked from commit e564b7aeaab63e4c943445275af680b3b5898a94)

commit 02df03667052fa6a4e0405b91a005dc48e9b39c4
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Dec 8 01:28:26 2007 -0800

    Xquartz: Actually, it should be org.x.X11 for case-sensitive FS
    (cherry picked from commit c5ccb98d5d461c8a22fc0f3942a607ac90e1e37e)

commit 740cc54f081393d4ffe1a3e91c9e504dfaee3fe9
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Dec 8 01:24:58 2007 -0800

    Xquartz: Use org.x.X11 instead of com.apple.X11 for preferences
    Fixed inconsistency so preferences get read from the correct source.
    (cherry picked from commit a74c38bd9f28735acd602d359d7ca6357aed1e93)

commit 41a0aeaae9b7b2f8cc2468fd1f3ee11287d34828
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Sat Dec 8 00:13:47 2007 -0800

    XQuartz: Fixed "Multiple Dock Icons"
    BAM!
    (cherry picked from commit d0dca8a88506f50b51f41f99a2f1feb6954c8a31)
    (cherry picked from commit 0502955a2af487b51bf22916ac02e497c2d96aba)

commit a1b0346853720e98963910b82603c5cda72bb7f9
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Dec 7 23:26:11 2007 -0800

    XQuartz: Cleaned up configure, X11.app path in launchd script
    Don't hardcode X11.app's path in the launchd plist.
    Only install the launchd plist if we --enable-launchd.
    (cherry picked from commit 6b74c535dc331d1d621b2541492a3336f69d70a2)

commit 1157cfcc5a4e2a7299a4c48df04a1cc8d5093906
Author: Ben Byer <bbyer@bbyer.local>
Date:   Fri Dec 7 21:55:42 2007 -0800

    Just a couple of small uninitialized pointer fixes
    (cherry picked from commit d12b650362da100ceaecb7e859cd4ef1908d4407)

commit 0ad1c359c5b0be63748f5c630c97be88a8cc92ce
Author: Jeremy Huddleston <jeremy@dhcp-38-248.EECS.Berkeley.EDU>
Date:   Fri Dec 7 18:54:58 2007 -0800

    Darwin: Use __APPLE__ instead of __DARWIN__
    (cherry picked from commit 54654815fa5e59b25cfd1fa72610120b72c10175)

commit 85ed0bb44011312dfaa9f2dc31642a0f89ec0bd3
Author: Brice Goglin <bgoglin@debian.org>
Date:   Sat Dec 8 02:53:27 2007 +0100

    Add a missing linebreak after LoadModule: "foo"
    
    http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=454742

commit 4fc288a13f825db942c9dcd64f4abd0265652faf
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Dec 7 17:28:37 2007 -0800

    Check for <sys/sdt.h> as well when determining to enable dtrace probes
    
    Avoids auto-detecting dtrace is present on systems with the ISDN trace tool
    named dtrace installed, but not the dynamic tracing facility named dtrace

commit 67907904f094c803d5faf6fa2ce23c01f9a5a521
Author: Ben Byer <bbyer@bbyer.local>
Date:   Fri Dec 7 01:51:53 2007 -0800

    fixed pathname in GL/apple/Makefile.am
    (cherry picked from commit b6357cec6d837226009c0d2b69026027da36656e)

commit 56f5066d477836a975122f4e5748c0f4fb790175
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Dec 6 20:51:32 2007 -0800

    ALLOCATE_LOCAL is dangerous on Darwin due to memory layout differences
    from Linux, so let's define NO_ALLOCA.
    (cherry picked from commit 7caf51d1a5a86ae884e0087795636222c082962c)

commit c238ef06a270c0c1d48cdb9175b6d5815c7c2a49
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Wed Dec 5 21:36:34 2007 -0800

    Darwin: Dead coded removal
    Kill off assert macro
    (cherry picked from commit d6493abedb2caf03b2bc3a6440b637df67eff081)

commit 3a058456e0ce531b21ae2b37be8868b8e0d56e56
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Dec 7 20:23:36 2007 +1030

    mi: unify ErrorFs, prepend [mi]

commit c5acf401dad6fbca47f2bb870185c1d08ac947a5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Dec 7 20:19:43 2007 +1030

    mi: unify last two ErrorF's in mieq.c

commit 117458d2db49efd3f04432ff45871b44c7d4ad57
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Dec 7 20:18:49 2007 +1030

    mi: change infamous "Tossed event ..." error for something more explanatory.
    
    Few whitespace errors fixed.
    Two ErrorF's prefixed with [mi].

commit 8a8239f2e21795602fcff5281833b350e6b2a286
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Wed Dec 5 21:23:36 2007 -0800

    Darwin: Renamed DarwinModeBlah to QuartzBlah
    (cherry picked from commit 08ebf86d379b1ddfb08df65d29aea5df66de4327)

commit 540439a966cce3fc68a7e4bffdb5bcab1b20725f
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Wed Dec 5 20:55:06 2007 -0800

    .gitignore: Added Xcode user files

commit bc65a243930e4b02f06a861495420b0a120eae8c
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Wed Dec 5 19:43:49 2007 -0800

    Darwin: Flattened quartz into darwin, renamed darwin xquartz
    Leaving xpr unflattened since we want modularity to replace that with xpc (XPluginComposite) at some point
    (cherry picked from commit 48e6a75fbdd0fee86e364f02ace83f20b312a2b2)

commit e00f7061b22001989edf5bd38c2d0cc1566fdd19
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Tue Dec 4 23:18:37 2007 -0800

    Darwin: Cleaned up keyboard interface headers
    (cherry picked from commit 141f69dc3d8d6e7d8ff65607f43700ac11243041)

commit cb44b6121c4b7b9dd7ff4ff52aaab914c82ff013
Author: Andrew Oakley <andrew@ado.is-a-geek.net>
Date:   Wed Dec 5 20:23:05 2007 -0500

    Fix commit aa0dfb3f42f19bb351ca7f1a9507ff5ec4590e96
    From bugzilla bug 13467¹:
    
    Currently the xserver fails to build without this (now deleted) file, as the
    Makefile tries to distribute it.  The patch simply removes the reference to
    modeline2c.pl.
    
    1] http://bugs.freedesktop.org/show_bug.cgi?id=13467
    
    Signed-off-by: James Cloos <cloos@jhcloos.com>

commit 320abd7d1d906807448fa01ad3377daf707f46cc
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 5 19:37:48 2007 +0000

    XKB: Actions: Don't run certain actions on the core keyboard
    
    Don't run VT switches, terminations, or anything, on the core keyboard: only
    run actions which affect the keyboard state.  If we get an action such as VT
    switch, just swallow the event.

commit 85dd8efac1bc0715f03c99d261b1c5d0980623e1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 5 19:36:59 2007 +0000

    WaitForSomething: Ignore EAGAIN
    
    If select ever returns EAGAIN, don't bother complaining.

commit b7f3618f3933a810778093fd47564a1e3bf3fde6
Author: Rich Coe <Richard.Coe@med.ge.com>
Date:   Wed Dec 5 19:36:37 2007 +0000

    OS: Connection: Keep trying select while it gets interrupted (bug #9240)
    
    If we got interrupted (EINTR or EAGAIN) during select, just try again, rather
    than shutting clients down on either of these errors.

commit d8b2cad3771a09860e7be1726f67e684cf7caeec
Author: Rich Coe <Richard.Coe@med.ge.com>
Date:   Wed Dec 5 19:31:07 2007 +0000

    OS: Connection: Don't shut down disappeared clients (bug #7876)
    
    If a client disappears in the middle of CheckConnections (presumably
    because its appgroup leader disappears), then don't attempt to shut it down
    a second time, when it's already vanished.

commit a8e27a108abeba73b2888da4e0604008f4b02045
Author: Kanru Chen <koster@debian.org.tw>
Date:   Mon Dec 3 12:46:45 2007 +0000

    Config: HAL: Fix XKB option parsing
    
    Actually combine the XKB options into a string, rather than just repeatedly
    writing a comma.

commit 2d723bbd0d36f6d7763b4df3298d40720f97fdd0
Author: Peter Harris <peter.harris@hummingbird.com>
Date:   Mon Oct 29 18:05:19 2007 -0400

    Add missing swaps in panoramiXSwap.c

commit 0fccb24aa978b838cf0fb008e9695837e612c529
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Nov 30 20:35:26 2007 +0200

    ProcessOtherEvent: Don't do double translation of button events
    
    We already deal with the button mapping in GetPointerEvents, so don't
    do the remapping again in ProcessOtherEvent.

commit c6cfcd408df3e44d0094946c0a7d2fa944b4d2d1
Author: Hong Liu <hong.liu@intel.com>
Date:   Wed Dec 5 17:48:28 2007 +0100

    Bug 13308: Verify and reject obviously broken modes.

commit 8d0efe4c2a48047680af40e5f6d639f426902e07
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Tue Dec 4 17:59:13 2007 -0800

    Darwin: Rework build system to more accurately reveal code infrastructure and facilitate future modularity.
    (cherry picked from commit e8399fd4d66a2b77b770c277e2fa424229a721b2)

commit cc98a8e2415f12c7a90fd846d1ec858068e8c796
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Mon Dec 3 23:59:19 2007 -0800

    Darwin: RIP dumpkeymap, cr, and fullscreen
    Taking out the trash.
    We don't need dumpkeymap since we'll be getting keymaps straight from the OS. .Xmodmap should be sufficient for any user-needed changes.  If this is not
    the case, please let us know, so we can address any problems you have.
    fullscreen never worked AFAIK
    cr isn't being used and xpr is much better.
    (cherry picked from commit e41af2967e885466c4d194fa4c3b358e6be37c30)

commit 13af2d1efcc83d1412a4c727afddd97577b00f32
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Dec 4 17:36:21 2007 -0500

    Restore xf86getsecs() as not having an ANSI equivalent.

commit 447cd5d411875b62eb1a501bf00e604225b74d26
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 4 19:09:37 2007 +1030

    dix: update comments about inputInfo.pointer.

commit f44d7dcb5fefca3ddfd45e75d0bd0b47ec785e48
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 4 19:07:46 2007 +1030

    dix: change the filters to be per-device.
    
    If we have one global filter, one pointer may change the filter value and
    affect another pointer.
    
    Reproduceable effect:
    blackbox and xterm, start dragging xterm then click anywhere with the other
    pointer (attached to different masterd device!).  The button release resets
    the filter[Motion_Filter(button)] value, thus stopping dragging and no event
    is sent to the client anymore.
    Having the filters set per device gets around this.

commit 0931f40bf1bd6e00b8d95968d761a495b2c9a46c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 4 17:08:56 2007 +1030

    dix: comments, whitespaces, copyright fixes.
    
    Removing my copyright message for now, should eventually be in line with the
    rest of the messages.

commit 09c0c1a3cc4807813774a3c0e28a7ba9a87bb5c7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 4 16:51:52 2007 +1030

    dix: remove #ifdef XINPUT.
    
    No escaping XINPUT anymore.

commit f8d7729df388c142624def36ba6d8c3b15922018
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Mon Dec 3 20:20:05 2007 -0800

    Darwin: Combine launcher and server X11.app
    This should hopefully eliminate confusion some people have over which X11.app is which.
    Now BOTH are in /A/U/X11.app and we intelligently determine whether to execute our app_to_run
    or launch the server.  If arguments are given, we launch the server.  Otherwise if we can
    connect to an X DISPLAY, we execute app_to_run.  Otherwise, we launch the server.
    
    (cherry picked from commit e7026216ccaa8e4fb073800ba947c9909d4faada)

commit 678f786715d76e972f8a77807c9caf3e90c24418
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Dec 4 12:24:47 2007 +1100

    xf86crtc: oh mon could be NULL, so check before quirks

commit a9df4bb555fd91707a68794c2dce24fb06e6cf64
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Dec 4 12:17:29 2007 +1100

    xf86Crtc: pass correct parameter.
    
    quite how this has worked I've no idea.

commit fe25f897c62bb324660217e15dbd3091c808dbba
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 3 18:34:40 2007 -0500

    xf86getpagesize -> getpagesize elsewhere in os-support/

commit b84f2833a681585162b8dabfb02ff62e7e0ef4d6
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Dec 3 14:52:17 2007 -0800

    xf86getpagesize() -> getpagesize() in os-support/solaris/sun_bios.c

commit aa0dfb3f42f19bb351ca7f1a9507ff5ec4590e96
Author: James Cloos <cloos@jhcloos.com>
Date:   Mon Dec 3 16:57:58 2007 -0500

    Remove Perl dependency from the build
    From bugzilla bug 13467¹:
    
    The modeline2c script is the only part of the Xorg server that requires Perl.
    [This] is a simpler replacement that works with any normal AWK.
    
    1] http://bugs.freedesktop.org/show_bug.cgi?id=13467
    
    Bug was posted by Joerg Sonnenberger <joerg@NetBSD.org>.

commit 60086d90168265795e07a60939e9e2fe95c6e15c
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Dec 3 11:30:58 2007 -0800

    Use pkg-config to get -I, -L & -R flags needed for OpenSSL
    
    Still just uses -lcrypto instead of the full library list from --libs

commit b77ca7cc9c23184c4ab367baf1b3ed0acf27c269
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Dec 3 11:29:54 2007 -0800

    Use _X_EXPORT instead of __attribute__((visibility("default")))

commit 1faba797cbfe1a4804b7ea6b47e1ca9d4e4324e4
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 3 14:12:58 2007 -0500

    Death to libcwrapper.
    
    This has been deprecated since 1.1.  Since we're breaking ABI again anyway,
    remove it entirely.

commit 28b93d74a11a1064d68a214fcaa7b0aede864a38
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Dec 3 14:32:53 2007 +1030

    ephyr: miPointerWarpCursor needs the device parameter.
    
    Thanks to Mitchell Quille for spotting it.

commit 004876355b43fb4d3c2bc5653a7dc1bfd3f985ee
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 30 13:56:04 2007 +1030

    dix: Remove RegisterPairingClient and UnregisterPairingClient.

commit f4dc521b38560c8f93b614316a3a5511941a93a9
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Sun Dec 2 18:21:40 2007 -0800

    Darwin: Added {/,/System/}Library/Fonts to DEFAULT_FONT_PATH
    (cherry picked from commit b0069b04dddaa2df6d4cdf86f96fd8a2a257e47e)

commit 0fff01f5660fb3bb9284f97c45dc76154435d02b
Author: Adam Jackson <ajax@aspartame.nwnk.net>
Date:   Sun Dec 2 14:15:36 2007 -0500

    Fix swapped Xv dispatch under Xinerama.
    
    Same-endian dispatch was properly calling through the Xinerama wrapping,
    but other-endian dispatch wasn't.

commit fa47910045c3700d8d668b5e214e5ffc1e8dc3e7
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Dec 2 12:39:05 2007 -0500

    Clean up many #if 0.

commit 83ba1e167c1473ac7d85239a6ee5ed629353cb16
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sat Dec 1 18:28:19 2007 -0800

    added missing call to xcb_connect()
    (cherry picked from commit dc2fb323ee11f081d447605be151024f9e2487f9)

commit 9ad4560b3cbd42e647d6227746d4d037616d57cf
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Sat Dec 1 16:23:23 2007 -0800

    Darwin: Alt is Mode_switch Switching to Mode_switch to maintain compatibility with Tiger X11.
    (cherry picked from commit 8a76c99c0ebbaf7375f3a9c75c4f7921a79024da)

commit f83d758dcc4878849a851c8466f6fa16b2b7cd8e
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Nov 30 16:11:15 2007 -0800

    Darwin: properly implemented xcb check for stale sockets
    (cherry picked from commit f543cb8fbb3d9213cb03396f4252ab9821319993)

commit f54b28eeba119c42d0fcccfbe295306dd670221a
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Fri Nov 30 16:09:23 2007 -0800

    Darwin: Undo focus-hack which didn't work right.

commit f30abe30c5fea10e680aa12f3fe37ee8ce1a0201
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 30 13:52:06 2007 +1000

    edid quirk for MAX 0x77e monitor
    
    From RH bugzilla 306441

commit 6216abe0c1a94efa4b2f0d14e88278f128304cd2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 30 11:34:24 2007 +1030

    dix: avoid activating the VCP/VCK twice.
    
    This may set dev->key-xkbinfo to NULL, causing a segfault in xkb code lateron.
    Spotted by David Huggins-Daines.

commit 9eb8ea9e615ebd8b568711eeca36aa84aa781ad3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 30 11:32:59 2007 +1030

    dix: only freeze the paired MD on a grab, not all other devices.

commit 8a079be0dd0f2ce37868988cde4ac8895522b088
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Nov 29 02:19:22 2007 -0800

    Darwin: #ifdefs around dix-config.h include and NDEBUG/assert.h workaround.
    (cherry picked from commit d2b768890f0878ae4e3fec8f7219e82b79256133)

commit 38397560612424b5b348f34c1a0bea8c47a574be
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Wed Nov 28 23:07:41 2007 -0800

    Darwin: Removed support for darwinSwapAltMeta
    (cherry picked from commit 3d153c8fa40986d194b7701f5eafa0080e32399a)

commit 89c3dfe41e3a17a4f27b20e23623dc5777670feb
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Nov 29 19:57:24 2007 +1100

    modes: use xf86RandR12Index to stop illegal access
    
    xf86RandR12Index set to -1, and if initialised it gets 0 or higher.
    This allows the server to start with xinerama turned on with only one head

commit 725710fd0bc990b2c35e4c76128ef1c668013299
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Nov 29 19:40:53 2007 +1100

    randr: make randr code not segfault when xinerama set

commit e4fe0a3cb789b8757f1c80f606dfe32bccada582
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 29 09:55:24 2007 +1030

    xkb: swap a LookupKeyboardDevice over in favour of GetPairedDevice
    
    The former always returns the VCK, which is obviously wrong if we have
    multiple devices.

commit 23b8ca8a373d919225de9739af7b064f650eceec
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Nov 27 13:20:40 2007 -0500

    RANDR 1.2: Only enable unknown outputs if there are no connected outputs.
    
    Otherwise you end up with a confusing initial geometry, and xscreensaver
    and friends get very angry.

commit edebe76cfdb31072d18a6fcd3ee8f1d95006855f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 27 10:22:44 2007 +1030

    Xi: set DeviceXXXState's length fields to the correct size of the struct.
    
    Setting it to the size of a pointer is an interesting but equally wrong
    approach. Luckily Xlib never used this field anyway so nobody got hurt so far.
    
    Spotted by Simon Thum.
    (cherry picked from commit 0f2398d06ce591724e388b3270800c5e22b3de2d)

commit 0f2398d06ce591724e388b3270800c5e22b3de2d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 27 10:22:44 2007 +1030

    Xi: set DeviceXXXState's length fields to the correct size of the struct.
    
    Setting it to the size of a pointer is an interesting but equally wrong
    approach. Luckily Xlib never used this field anyway so nobody got hurt so far.
    
    Spotted by Simon Thum.

commit 601307615e4955be23fd86a057285074242ad83e
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Mon Nov 26 13:04:57 2007 -0800

    Darwin,Rootless: Makefile cleanup
    (cherry picked from commit 9c6d8a035b712b219833653ac637b89703a9b0c3)

commit 8503072e1c2b89dca786d4afb72aa60a170d2fbd
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 26 16:52:41 2007 -0500

    registry: add missing include statement.

commit 996b621bec1bbc4fb21970c75eaec62053bc6ccb
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 26 15:59:44 2007 -0500

    registry: swap out the DTRACE XErrorDB stuff for the new registry call.

commit 54cb729ecc2d366c1af836cb3d2ffc8e864e9b79
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 26 15:59:01 2007 -0500

    registry: Add a call for DTRACE compatibility.

commit decd5a7c605e42c99b6a4523c8e1833b859d9b24
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 26 15:26:49 2007 -0500

    registry: Rebase registry to use the server config file of protocol names.

commit 9b0e72c8d960d056276f5fa93f3cc2872825711e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 26 15:26:04 2007 -0500

    registry: Add a great big list of protocol names, like the XErrorDB that
    ships with Xlib.  This is considered temporary, until server-side XCB can
    solve the problem programmatically.

commit c0f9e204baf0218466973868c5ea6ed0f78e6b8b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 26 15:24:15 2007 -0500

    registry: rename the SERVERCONFIGdir and relocate it to /usr/lib/xorg
    by default.

commit a344920ae86c1970e4cc34ee91e2f2008d490c49
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Nov 26 11:53:08 2007 -0500

    Allow Virtual to be specified globally in the Screen section.
    
    The Display subsections are optional, and it's confusing to need to create
    them just to set a Virtual size.

commit c6c284e64b1f537a3243856cf78cf3f2324e4c2b
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 26 15:38:20 2007 +0100

    Initialize Mode with 0 in xf86RandRModeConvert.
    
    Asking for trouble if non-initialized values contain random data.

commit a4edfbef022f9635c2c9b9eb229cb622834dc68c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Nov 24 16:16:48 2007 +1030

    mi: only call UpdateSpriteForScreen if the screen actually changed.
    
    If we call it unconditionally, we flip the dev->spriteInfo->sprite permanently
    when using XTestFakeInput (once in CheckMotion as called from the
    processInputProc, another time in UpdateSpriteForScreen when we actually warp
    the cursor). USFS also updates to the screen's root window unconditionally,
    which is not really what we want if we haven't changed screen at all.

commit bf3198c8c56289244c58d36c6869442479fd3481
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Nov 24 15:00:57 2007 +1030

    dix: fix typo

commit 5dabe448bda68a483bf444a4adfed2b25b30f600
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Nov 24 15:00:43 2007 +1030

    dix: Add special treatment of NotifyUngrab for enter/leave events.
    
    In some cases (e.g. using x2x) the previous model broke, with a window ending
    not counting down to 0 anymore. Special treatment for NotifyUngrab seems to
    help here.
    
    Current solution: If a NotifyGrab is to be sent ignore it. If a NotifyUngrab
    enter is sent, only adjust the semaphore if it is on 0. Likewise, do the same
    for a NotifyUngrab leave if the semaphore is on 1. This seems to work alright
    so far.

commit 33b94da6327d3423b4ebc1a58d5894c9904e67c9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 23 16:01:11 2007 -0800

    Re-add call to XFixesExtensionInit for static servers.
    
    This reverts a portion of bcbaf2a0ce34b6c5e41d2831b8b87dbd0617a89b which
    removed the call to XFixesExtensionInit and some cpp lines.

commit f6401f944d327cc5d9a7ee0bbdf4f7fc8eaa31e8
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 23 16:12:49 2007 +0100

    Don't segfault if referring to a relative output where no modes survived.

commit fa19e84714aa84a2f2e817e363d6440349d0b619
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 20 16:54:50 2007 +0100

    Fix initial placement of LeftOf and Above.

commit 184e571957f697f2a125dc9c9da0c7dfb92c2cd9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 20 13:05:26 2007 +0100

    Adjust offsets of modes that do not fit virtual screen size.
    
    Fixes memory corruption if a too small "Virtual" was specified in xorg.conf
    for the selected multi-monitor configuration.

commit a80e64f1503a4d8b11c4a6608d296422c69e3e8b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Nov 17 22:50:07 2007 +0100

    XKB: Generate correct key repeat events (bug #13114)
    
    Make sure we send the correct event for the type of device when we're
    sending key repeat events, which stops repeats being sent to incorrect
    windows.

commit 63351df0eec320aa3ce27d4d2ee6bcdb58aa2d92
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Thu Nov 22 18:02:07 2007 -0800

    Darwin: Fix compilation/linking problems

commit bf4ef4da759c01e6794ed28ba4988a2c8ee049bf
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Thu Nov 22 17:45:15 2007 -0800

    Darwin: Remove the PaintWindow optimization which snuck back in.

commit 2082e7aa878fe1221fd50895a9de1f408b3157a8
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Thu Nov 22 17:18:48 2007 -0800

    Rootless: Remove the PaintWindow optimization which snuck back in.

commit a751bc12bee1d4d2ed35e3a0c64d9c8c9bf30a82
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Thu Nov 22 13:53:00 2007 -0800

    Rootless: Imported changes made in xorg-server-1.2-apple branch

commit 59c7ca6586e7c20e28ad407ca9a0883c4d621d64
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Thu Nov 22 13:29:15 2007 -0800

    Darwin: Added missing Makefile.am

commit 23596291c30a85e38c00aef2c01b46d561e2916e
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Thu Nov 22 13:17:44 2007 -0800

    Darwin: More syncing witn xorg-server-1.2-apple

commit 4e18c626350c7c2e0fb540aa64a98957699f3abe
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Thu Nov 22 12:21:59 2007 -0800

    Rootless: Pulled in changes from fb{Blt,Fill} into rl{Blt,Fill}
    (cherry picked from commit 3f857e129df7ce492191e0c51b8e53eaf6179366)
    (cherry picked from commit 70374a58937d7a6f01c210bd6ac66cafb63e895a)

commit ed9524d36e42a310bb128284f2b507f76b8c40d9
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Thu Nov 22 01:07:02 2007 -0800

    Darwin: Copied over missing file (Localizable.strings) from xorg-server-1.2-apple

commit 4d9cef197b12548e0716dab3557e48311519e325
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Thu Nov 22 00:35:09 2007 -0800

    Darwin: Misc cleanups to line up with xorg-server-1.2-apple

commit 5e950123daa167c9ffe289b3bd89e3bd288da0e3
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Wed Nov 21 23:32:00 2007 -0800

    Darwin: Removed cvs tags from Xquartz man page

commit 3a2f714eea475a13cde65921e24c7ee3f70ffc3c
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Wed Nov 21 23:30:37 2007 -0800

    Darwin: Removed .svn dir

commit 691da031319dc59b9496101358c267f317abfd1e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 22 17:44:39 2007 +1030

    Xi: allocate motion history for master device.
    
    We're still missing out on the actual content of the history but at least this
    way we don't segfault.

commit 602de4f70b6f4aab93b514f3a01917bd5d4ad640
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Wed Nov 21 16:53:10 2007 -0800

    Darwin: Use UTF8String since lossyCString is deprecated
    (cherry picked from commit 1786f9464af51ff606a612aec6fe420fa9688a28)

commit 13666e287c347aab2a5e9d8ee5f6bb29b9b85171
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Nov 18 17:44:12 2007 -0800

    Darwin: Added some DEBUG_LOG sauce to the XP_EVENT handling code
    (cherry picked from commit ec84a4cef66a2b46ed71f9758c434ea629d2f270)

commit 829b6641bd64c352e1e8a7c619f84dedbdb07a09
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Nov 18 17:43:40 2007 -0800

    Darwin: Disabled ALT_IS_MODE_SWITCH
    (cherry picked from commit fd181254f85543558190140787dc7b41f6cf90db)

commit 8486f8af91b477c7bcb8438a0e9a72d0c11d1d63
Author: Ben Byer <bbyer@bbyer.local>
Date:   Thu Nov 15 02:25:50 2007 -0800

    Darwin: Added a lightweight debugging facility to support troubleshooting
    (for example) the stuck modifier key issue
    (cherry picked from commit 0e0b452d10c0af55497c3299b5f3db45d5b381cb)

commit 74214a9f42b931f99d83ddb4efb3720881a2de16
Author: Ben Byer <bbyer@bbyer.local>
Date:   Thu Nov 15 00:56:54 2007 -0800

    Darwin: Patch to avert (some) damage / rootless crashes, courtesy of Ken Thomases
    (cherry picked from commit 148a87ff20aa5e7a6d839610aa14fa1a31505c4a)

commit f5f833b80609f1f98c93113183bd2b1bab3bfec9
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Nov 11 04:30:34 2007 -0800

    Darwin: These changes are necessary, yet not sufficient, to get 8-bit indexed
    color mode working in Xquartz.
    (cherry picked from commit a415f62f5289fae99ea9b0038d21fad7695b1336)

commit 8358334180a4f8c1e73fc5647a62bcd3539dee45
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Nov 11 04:30:00 2007 -0800

    Darwin: Fixed the call to xp_init so that we now receive Motion notifications even
    if X is not the active application.
    fixes <rdar://problem/5167664> xeyes dead until window activation
    (cherry picked from commit c7573379a85a1480cc51650075078e41dafe56af)

commit 512dee90878e552ad1b2bb5b27366707f6464f28
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Nov 8 22:17:38 2007 -0800

    Darwin: fix for spurious "Are you sure you want to quit?" message
    (cherry picked from commit 30cbfc786e4fedda3fe070bacceabe1d9212d00b)

commit 28e73e99a9a59223963312c5dd43ce5566d1db9d
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Nov 8 22:12:41 2007 -0800

    Darwin: Adding "fake RandR" support from old X11.app
    (cherry picked from commit 633490c4e8dab30af7ecbe1bef076c22ad5f5da9)

commit 01b70afaac0990b41d1fb6fadbfd64df1486b669
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sat Nov 3 05:34:19 2007 -0700

    Darwin: Initial support for Spaces -- if you use Expose to drag an X11
    window to another Space, it will work correctly (as opposed
    to just leaving a ghost window).  We accomplish this by listening
    for the notification from Xplugin that our window has been moved,
    and then we ask X11 to move the window to the new location.
    (cherry picked from commit 2d50ea8013e7c1639d570e227b53b037fb567565)

commit b39edc01a6588697b65f831e8ab1dbb24cbe7b24
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Oct 31 23:46:50 2007 -0700

    Darwin: Swap modifier keys for buttons 2 and 3 -- now Option-click is the middle click
    (cherry picked from commit 0aa61293b62aeb69a93b2035d0aef8644343eed3)

commit 606a8dc73d91a198d72d249934dc027a23f4c338
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Oct 31 03:39:47 2007 -0700

    Darwin: Trap Deactivate messages and release modifiers to avoid "stuck shift lock" (etc) bugs
    (cherry picked from commit 2b189a99330eb465fa0d17020fb1db1e38829151)

commit 4c18ef4331aaee268431a3ba50991f0312b82870
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Oct 31 03:22:18 2007 -0700

    Darwin: Workaround for a bug where the holding down Command to make a "fake"
    button 2 click would actually result in a Command-2 chord.
    (I.e. it wasn't releasing Command before clicking the fake button.)
    (cherry picked from commit 0d5dd5dffa4c5ce3f54dfe53720a39d524dc8e37)

commit f9269bebae27bbc9d0e03e02943166b83946623d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 22 17:30:14 2007 +1030

    DeviceIntRec: move lastx/lasty from valuator into DeviceIntRec.
    
    We free the ValuatorClassRec quite regularly. If a SIGIO is handled while
    we're swapping device classes, we can bring the server down when we try to
    access lastx/lasty of the master device.

commit 7f2972d47a5d74fe92268c6d609b1eb6ad845824
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Wed Nov 21 21:59:59 2007 -0800

    Darwin: Really add launcher this time

commit bcbaf2a0ce34b6c5e41d2831b8b87dbd0617a89b
Author: Jeremy Huddleston <jeremy@tifa.local>
Date:   Wed Nov 21 19:51:14 2007 -0800

    Darwin: Dead code removal, Code cleanup, Added launcher
    Imported changes from xorg-server-1.2-apple to make master more current wrt
    file layout, build system changes, and dead code removal.

commit 9ed43eff48201520797f89a12bb3b2f5819bd99f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 21 17:16:27 2007 +1030

    Xi: allow clients to specify pure client id in SetClientPointer.
    
    If no window was found with the given ID, try if there's a client with the ID.
    Allows us to set the CP for apps that don't open windows (e.g. x2x).

commit 33f15689922ad9f1193f803bc1636c82c23ab99e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 21 16:06:44 2007 +1030

    xtest: switch an inputInfo.pointer over to PickPointer.
    
    Couple of whitespace fixes too.

commit e5dd7a95791748c57cab75c0d8ba9d37f72edccf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 21 15:59:31 2007 +1030

    Xext: Scruffy the janitor don't like no "register" keywords.

commit a55ec1a9f4b62139dc5e5462d79d47b330c27c79
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Nov 20 18:31:03 2007 -0800

    Restore checks for __i386 where needed for Sun compilers on Solaris

commit 2f387d913aa76f1b6d21d8e2698be165301c6bc1
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Nov 20 18:27:12 2007 -0800

    Enable use of /dev/urandom on Solaris as well

commit 4363d70c6b420648b501126d1fbdebfafc7ae09f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:58:55 2007 -0500

    registry: Fix some mistakes in the reversion of prior commits.

commit 140a4660aca1c283613d5b62f51668b44b45baf6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:49:30 2007 -0500

    Revert "registry: Register XTrap extension protocol names."
    
    This reverts commit b38a91993364aa80cfd99721e319e1458d9fb760.
    
    Moving all the names into dix/registry.c

commit ed8a39c48ab9dac085fcf58b9641364b5608f3f4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:47:52 2007 -0500

    Revert "registry: Register XKB extension protocol names."
    
    This reverts commit a5cf3f21f712e46dbf9bca289e67be75f2b531d3.
    
    Moving all the names into dix/registry.c

commit 17b0c729b553e2f0f8f82497698b282a47db3326
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:46:43 2007 -0500

    registry: Remove registry code from XInput extension.
    
    Moving all the names into dix/registry.c

commit e86852aff62a861823b8e419434e0401b8cdc8e0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:44:56 2007 -0500

    Revert "registry: Register XFixes extension protocol names."
    
    This reverts commit 106758893b68033f14f69c4ee6591fb6a149ba37.
    
    Moving all the names into dix/registry.c

commit 5269da2bde3cf4feb12fa2bd87bff6ee6d8730a1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:43:38 2007 -0500

    Revert "registry: Register XvMC extension protocol names."
    
    This reverts commit 853ea337bdad17f8f6ec7d940de14ce2cbbbf93e.
    
    Moving all the names into dix/registry.c

commit 03a86c8d5e20a6e47f3c294f0087f205cf2a72dd
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:42:19 2007 -0500

    Revert "registry: Register Xv extension protocol names."
    
    This reverts commit 12766c5b5ffdab95255a63b2c8421ee773fd43b5.
    
    Moving all the names into dix/registry.c

commit edcf490cdb965e2a5bfc0169c01732d2924da3ae
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:41:10 2007 -0500

    registry: Remove registry code from XTest extension.
    
    Moving all the names into dix/registry.c

commit 5fea1ed50f37691a5273bf2897479781de808ff5
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:39:48 2007 -0500

    registry: Remove registry code from SELinux extension.
    
    Moving all the names into dix/registry.c

commit 9a8af33718d085656a672e4c27df200485c84154
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:38:24 2007 -0500

    Revert "registry: Register Resource extension protocol names."
    
    This reverts commit 5c8b1a91726817816d20faefad21c7a68ab634cc.
    
    Moving all the names into dix/registry.c

commit e6023e0208fae8f19c566f9df1a8aa20494f40ab
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:36:49 2007 -0500

    Revert "registry: Register XPrint extension protocol names."
    
    This reverts commit f077578e42eee424b0e534774574c84af9d6f85b.
    
    Moving all the names into dix/registry.c

commit 277345fb7065d74c3b0d076382affb78cbe67569
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:35:57 2007 -0500

    registry: Remove registry code from XF86Bigfont extension.
    
    Moving all the names into dix/registry.c

commit bf27edd365ffd275e5453f44d130eeacbfe0ecd9
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:34:14 2007 -0500

    Revert "registry: Register EVIE extension protocol names."
    
    This reverts commit 48891d5696f56711f23743cb03be39cf6b26c522.
    
    Moving all the names into dix/registry.c

commit 687427179420b18a55a1a02b8a9f2a32ea8eac8d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:32:54 2007 -0500

    registry: Remove registry code from XC-MISC extension.
    
    Moving all the names into dix/registry.c

commit 4b0274e8f712e51b18618a2a0bdbe03b17b9736b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:25:15 2007 -0500

    Revert "registry: Register SYNC extension protocol names."
    
    This reverts commit 9f597f6c87e0b14cc382d8e5929e42f822db4329.
    
    Moving all the names into dix/registry.c

commit 4c7cf5aa4c802dcde895c723879a80a87620c0f7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:23:57 2007 -0500

    Revert "registry: Register SHM extension protocol names."
    
    This reverts commit 2c9646ad4e65bb061d910c9e2b1a8a978f21fa17.
    
    Moving all the names to dix/registry.c

commit 67e82e306f67a215c6c89868cc1d3649747bd93d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:22:59 2007 -0500

    Revert "registry: Register SHAPE extension protocol names."
    
    This reverts commit 4e274e90e16b1d954391e1af3e2074fb10f70ee7.
    
    Moving all the names to dix/registry.c

commit 8583bf78ad056ffe2d83b54e5c9a0a217e425a7b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:21:09 2007 -0500

    registry: Remove registry code from XC-SECURITY extension.
    
    Moving all the names to dix/registry.c

commit 55744d8e5d7bf1ff27cd25de54e14e799dd1a70a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:19:44 2007 -0500

    Revert "registry: Register MIT-SCREEN-SAVER extension protocol names."
    
    This reverts commit 58c3240fcbec23aad122e1c340f6bb6d3b18f779.
    
    Moving all the names into dix/registry.c

commit 36ef45928c783292cef18acfdd83ae057826c989
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:18:01 2007 -0500

    registry: Remove registry code from MIT-MISC extension.
    
    Moving all the names to dix/registry.c

commit 816e6e612e4bc3cea1e67e7ea79d5b640458011f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:15:37 2007 -0500

    Revert "registry: Register Multibuffer extension protocol names."
    
    This reverts commit 3877faf7d9fe00ed634077e38a198ae4b91a2bb4.
    
    Moving all the names into dix/registry.c

commit 40a0da044e911ea51de003f3621331ffbe2842bc
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:13:43 2007 -0500

    registry: Remove registry code from Fontcache extension.
    
    Moving all the names into dix/registry.c

commit 46412baf60ed639ddc1d5fb601f73a75e39737f7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:11:06 2007 -0500

    registry: Remove registry code from EVI extension.
    
    Moving all the names into dix/registry.c

commit 460c43032f05aad3f0f552901a52d199f61c7f4f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:08:18 2007 -0500

    registry: Remove registry code from DPMS extension.
    
    Moving all the names into dix/registry.c

commit 76e89d45b497d4afa4e60e1d0ec50b62f54f6b88
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:06:40 2007 -0500

    registry: Remove registry code from TOG-CUP extension.
    
    Moving all the names into dix/registry.c

commit ce93c5772da52ab88faef7e5b661b681d5b60b1e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 18:03:57 2007 -0500

    registry: Remove registry code from BigRequests extension.
    
    Moving all the names into dix/registry.c

commit 0756d1271209e6ae14cc641dddca095271b43150
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:59:40 2007 -0500

    Revert "registry: Register APPGROUP extension protocol names."
    
    This reverts commit b504678ba5407a6fd8d47d051305f7c3d5606dfe.
    
    Moving all the names into dix/registry.c

commit 5aff37d1d69be493727856a29628bd782d50b90f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:57:06 2007 -0500

    Revert "registry: Register RENDER extension protocol names."
    
    This reverts commit 8964c6d8e14ae47798762191e359b2bf138ca32e.
    
    Moving all the names into dix/registry.c

commit e585a2ddb495b50a53e15cccc368ca0858fc9d23
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:55:47 2007 -0500

    Revert "registry: Register Record extension protocol names."
    
    This reverts commit ea09c9acc8f0d5577f54c864ff88b7f03d93b2f4.
    
    Moving all the names into dix/registry.c

commit d4577e485367468227e031eb434b739eff7b5e9a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:51:27 2007 -0500

    Revert "registry: Register RANDR extension protocol names."
    
    This reverts commit c827db57e4d9ca14c82b099dcfc9b7a0c0b5ba0a.
    
    Moving all the names into dix/registry.c

commit a541e826c9310d3051e53834833c6c3a08654148
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:50:26 2007 -0500

    Revert "registry: Register WINDOWSWM extension protocol names."
    
    This reverts commit 4c3285c883cc50a91bc5262bbc9d073d816f860a.
    
    Moving all the names into dix/registry.c

commit 993595430bd0580ab4d936be6b70fb91b8bb1d16
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:48:46 2007 -0500

    Revert "registry: Register XF86DRI extension protocol names."
    
    This reverts commit b7786724080fd3928ef7b8c294346661d7ffd90b.
    
    Moving all the names into dix/registry.c

commit 6b73c215c9d612534af290230b2e914d42d819cd
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:47:30 2007 -0500

    Revert "registry: Register XF86VidMode extension protocol names."
    
    This reverts commit 960677e876c068400fb45e1764bb5470cd8c389f.
    
    Moving all the names into dix/registry.c

commit 8e2cd7a804664bbd2d03789dcd5c93223122e929
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:45:30 2007 -0500

    Revert "registry: Register XF86Misc extension protocol names."
    
    This reverts commit 2cd1b32b77e0ceeaccb3f01c4ac13a97c557668c.
    
    Moving all the names into dix/registry.c

commit 0356153a58cef87d655bccacd8e2cf03d577bd19
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:43:18 2007 -0500

    Revert "registry: Register XF86DGA extension protocol names."
    
    This reverts commit 3815284e899b61731b6a63c4ba14c5d773e24eb6.
    
    Moving all the names into dix/registry.c

commit de93c1e9df14577e158b6dc3ccec7ee48f592386
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:40:57 2007 -0500

    Revert "registry: Register DMX extension protocol names."
    
    This reverts commit 32f3f5a1e7654f8bb43ea16b9227b3994e616739.
    
    Moving all the names into dix/registry.c

commit 2d3e0cdf4bd7ab069bad7244ede7c2d489e92b17
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:39:56 2007 -0500

    Revert "registry: Register APPLEDRI extension protocol names."
    
    This reverts commit 3464b419230c6d17e940d967b567c5d2cb22d232.
    
    Moving all the names into dix/registry.c

commit 546d46224e355d4f00232da5538548e3c8853e40
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:37:48 2007 -0500

    Revert "registry: Register XINERAMA extension protocol names."
    
    This reverts commit b9f5ab98c8dea36dcce1ad15fd2e059a77e77c39.
    
    Moving all the names into dix/registry.c

commit fd2d83d5bf5b35c8a2b05f725486be166783921e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:34:48 2007 -0500

    Revert "registry: Register APPLEWM extension protocol names."
    
    This reverts commit eee46b4681ec55297604b0425705f2b18381f7ca.
    
    Moving all the names into dix/registry.c

commit c934e1af27189571c1e7dd838872e380c3580eeb
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:32:35 2007 -0500

    Revert "registry: Register DBE extension protocol names."
    
    This reverts commit 2e1e5be1d9067816525aa13a1d818e8ca6899599.
    
    Moving all the names into dix/registry.c

commit b9ab6f300a46aa8879b11eac51857357cc379c2f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:31:00 2007 -0500

    Revert "registry: Register DAMAGE extension protocol names."
    
    This reverts commit 20db50b4c44a14f7eeac2b1de17ada68482521da.
    
    Moving all the names into dix/registry.c

commit 26586a7ad5e999b34996d147fb43998deea89178
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 17:27:37 2007 -0500

    Revert "registry: Register composite extension protocol names."
    
    This reverts commit 166ef972febc00c665e1d5aeb68e75d7bbcf9879.
    
    Moving all the names into dix/registry.c

commit fae39db7957c0ebdc7af36f8d8f484473beb6d38
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 15:21:31 2007 -0500

    devPrivates rework: put back some changes that were mistakenly removed
    	during merge conflict resolution.

commit 709c1a70c8c6a9e132bf0d92f78a12be72beee51
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 20 15:18:02 2007 -0500

    Remove some duplicate include statements.

commit be0cbe5a330f62cef47fffbc49e83b5e1637b7d0
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Nov 20 15:39:49 2007 +0100

    kaa: update kaaCreatePixmap to support the new usage_int

commit 5b0dfb73ca4699cc4b33720f10416de7440081b7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 19 21:01:22 2007 -0500

    devPrivates rework: put back a comment that was mistakenly removed
    	during merge conflict resolution.

commit 2d17f47cc7d6b174857617d31ad1b437d8e97d94
Merge: 60be452 ea9c63e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 19 18:10:46 2007 -0500

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	hw/xnest/Pixmap.c
    	include/dix.h

commit 60be452c2e88342f92a76ba5ec7d90b5b0211aaf
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 19 16:55:09 2007 -0500

    xace: restore the old SaveScreens function and introduce new API, since the
    old version is called from drivers...

commit a95bb52b4366d85fc049130c60af5c9e727c565b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 19 16:34:38 2007 -0500

    devPrivates rework: add missing include of dix/privates.h

commit ea9c63e93b9bb731796e8a8de2d127e6cc720076
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Nov 19 15:53:49 2007 +0100

    DEFAULT_DPI was undefined here.

commit db9ae863536fff80b5463d99e71dc47ae587980d
Author: Adam Jackson <ajax@aspartame.nwnk.net>
Date:   Sun Nov 18 11:57:01 2007 -0500

    Bump DEFAULT_DPI to 96.
    
    75 is just nonsense.

commit ee2d4626dca6e0d4fc6f524e5de4bdefa2ed43df
Author: Tormod Volden <bugzi06.fdo.tormod@xoxy.net>
Date:   Sun Nov 18 11:56:31 2007 -0500

    Bug #12932: Use DEFAULT_DPI in randr1.2 instead of hardcoded 96.

commit a46c30c3be33ffb304a885503c8aaa78396ed3d9
Author: Jernej Azarija <azi.stdout@gmail.com>
Date:   Sun Nov 18 11:44:36 2007 -0500

    Bug #12531: RRModesForScreen can fail to allocate.

commit fac7e7e4e1809e865b9b3cf5b7eb69ba9d3a3759
Author: Adam Jackson <ajax@aspartame.nwnk.net>
Date:   Sun Nov 18 11:39:26 2007 -0500

    Document the requirement for interleaved code and declarations.

commit bad96e5a864e40fbd47265d7fb6eaa67c55fac11
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Nov 18 15:02:24 2007 +1030

    dix: getevents.c remove trailing whitespaces.

commit 75e5e9f88c5f974d996dd81e672cd3709d361a44
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sat Nov 17 13:46:01 2007 +1030

    Xi: add missing XI_DeviceClassesChangedMask to XI filters array.

commit d15339a92c4d689d2ab8a86e4f10107f3e45eff8
Author: Adam Jackson <ajax@aspartame.nwnk.net>
Date:   Sat Nov 17 22:12:10 2007 -0500

    Bug #9725: Don't look in root's $HOME for config files, that's just confusing.

commit 748cfbc820f8cdeb544c54a6db495fecf2e2457b
Author: Adam Jackson <ajax@aspartame.nwnk.net>
Date:   Sat Nov 17 21:23:05 2007 -0500

    Disinfect mi/ of mfb.

commit a969db091cab16a448f82782e85b3dd19c81627a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 17 22:34:47 2007 +0100

    XKB: Don't ring the bell when we don't have a BellProc (bug #13246)

commit c89b543198d5ec56ff025bdd6bb7229523478e58
Author: Ben Skeggs <skeggsb@gmail.com>
Date:   Sat Nov 17 18:20:49 2007 +1000

    exa: set driverPriv to NULL before it might get used later with garbage

commit 514ba4ca727f0b1076bc67500617722203d34daa
Author: Adam Jackson <ajax@aspartame.nwnk.net>
Date:   Fri Nov 16 19:53:11 2007 -0500

    Bug #1612: Use a stronger PRNG.
    
    Currently just reads from /dev/urandom, and only on Linux.

commit 12dd6e9911de187e0ebee86434e8c24a67c990f9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 16 17:23:09 2007 +1030

    dix: reset MD's devPrivate classes to NULL before device initialisation.
    
    XkbInitKeyboardDefviceStruct may call FatalError if it fails. FatalError then
    cleans up all the devices, resulting in a segfault if the pointer is
    uninitialised.

commit be3321c2e9fad228a9ee5fef47680a47bc9e39a4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 16 12:12:41 2007 +1030

    dix: Free both current classes and original classes when closing an MD.

commit 3c39dd19ec2a53b8854279e3b03131098031473a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 16 12:12:14 2007 +1030

    Xi: Deep-copy full list of FeedbackClasses.
    
    All feedback classes are linked lists and the whole list has to be duplicated,
    not just the first entry.
    
    Xkb stuff still missing.

commit 497862df2fcd67531fbe0f876c20a09884ee74df
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 16 11:20:22 2007 +1030

    dix: explicitly float all attached SDs before closing down devices.
    
    Some drivers flush on shutdown, if our SD is still attached we'd be trying to
    route an event through a non-existing device.

commit 9de1ebe2a80164507cbe2ef688f284225e0ec808
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 16 10:45:28 2007 +1030

    dix: Fix up class restoring when last SD disconnects.
    
    Old code was fundamentally broken, fixes now are:
    - free the MDs current device classes
    - copy the device classes instead of flipping the pointers
    - check for the old MD, not the new one.

commit 20fd4783247b1b93d9675dc36768dd1ed59ba2d3
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 15 17:01:33 2007 -0500

    Small static cleanups on dix/

commit 70e50fa51f05663f289eeeea4521e737e8e24bca
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 15 17:00:37 2007 -0500

    Allocate RRCrtcRecs with calloc.

commit 8d0cd1cd2c57ee5a2fc4d577d8182d66369f0617
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Nov 15 12:16:36 2007 -0800

    Fix a really dumb typo.

commit f797c96845a3fab37cda6839ebecf9ac5401fd6e
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Nov 15 12:12:02 2007 -0800

    Save pixmap allocation hints into the PixmapRec.

commit 6bc50de02108f822977fc7545da81fce95ea7ff4
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 15 15:03:58 2007 -0500

    Simplify system resource range setup.
    
    osRes only existed to get copied into Acc.  Waste of effort.

commit e1ff14a9246e12d42ce8ca5afbe3b957333a5620
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 15 14:45:49 2007 -0500

    Delete some dead code in X -configure.

commit 01cfba75229f4b9bf1e4fe80814931acdacde14c
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 15 14:27:03 2007 -0500

    Nuke the debugging allocator.
    
    This has never been hooked up in the modular build, and can not possibly
    have built since before 6.7.  Clearly no one's using it.

commit c67b9c5fc33002b13a2360929a37f24169710f64
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 15 14:24:36 2007 -0500

    Clean up some garbage in driver enumeration.

commit 0706e5e790060fbf046cfaff295b78806b7841c6
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 15 14:15:09 2007 -0500

    Eliminate some redundancy in autoconfiguration.
    
    We already synthesize Monitor and Module sections for you, no need to
    specify them explicitly in the fake config buffer.

commit 2c01a49bf0a407bd5510bb9ceb4ef86a2cc36be9
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 15 13:32:59 2007 -0500

    Don't sleep(1) at exit on any platform.

commit 83926cb8bef6288b89e801c5e60b3f40e923e16e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 17:41:07 2007 +1030

    Xi: Only alloc modifierKeyMap if <slave device>->maxKeysPerModifier > 0
    
    Sometimes (e.g. on my debian ppc box) maxKeysPerModifier of the SD is 0. So we
    try to malloc(0), bringing the whole server down with a FatalError because it
    looks as if the malloc failed. This is bad, so only alloc if we actually have
    something to alloc.

commit 070195dbf88eb121e65f802e023aa37ed1f2c2ac
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 16:27:18 2007 +1030

    Xi: fix up sloppy class copying causing segfaults.

commit 53539688cab990a7df1851d64f3ee4e11920a86b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 16:23:48 2007 +1030

    dix: SetKeySymMap should alloc the map if dst doesn't have one already.

commit b40646dc104fb03ea7cc0b27fae573aecaab486e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 15:43:44 2007 +1030

    dix: Add FreeDeviceClass and FreeFeedbackClass for centralised xfree.
    
    Ensures that we only have one way of freeing a device class to avoid leaks in
    ChangeMasterDeviceClasses and other places.

commit 4c9cc82fc4461d180ae2c2fbe50e7f98b0777f91
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Thu Nov 15 01:46:11 2007 -0200

    For some reason "-nozap" appeared twice. Weird.

commit 18833d648fd7e1a5e962b93636bbbb38aca9c454
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 12:13:59 2007 +1030

    Xi: reset xkb-stuff to NULL after copying (DeepCopyDeviceClasses)
    
    Having two devices point to the same xkb stuff causes SIGABRTs.
    
    Also, don't init a MD's xkbInfo unless the SD has an xkbInfo.

commit 1635832c1635374033686d3a943b77adbd60bb98
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 11:35:07 2007 +1030

    Revert "xkb: disable xkb key repeats (temporarily)"
    
    This reverts commit 2b1d946392ce28b96941341778b2b526aa0fb126.

commit b05246696d14bd35aa53b49302707b51206c72a6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 11:31:43 2007 +1030

    Xi: free XkbSrvLedInfos as well when freeing an MD's device classes.

commit c758e5a664a52045ad419340044beebb6774a336
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 10:47:20 2007 +1030

    dix: Make sure core MDs copy their initial classes before they are used.
    
    Anything in dev->key, dev->valuator etc. of a MD must always be a copy of the
    original class. The intial classes of an MD (the ones set up before an SD is
    attached) as well, as we may have to restore them if no SD is attached
    anymore.

commit a08665d4d3b0a7d567a90bb9bbfe4abafd6f3887
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 10:42:29 2007 +1030

    mi: don't call SwitchCoreKeyboard, we switch during event processing now.

commit 64711a094893e83764bbeda538c6e877ebe2af79
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 15 10:41:34 2007 +1030

    Xi: When switching MD classes, make a deep copy instead of pointer flip.
    
    Turns out it's really really hard synchronising device state across multiple
    duplicated events if they all share the same struct. So instead of doing so,
    when the SD changes deep-copy all it's classes into the MD. The MD then has
    the same capabilities, but the state can be set separately. This should fix
    xkb, key state, repeat etc. problems.
    
    Updating the device state allows us to remove the SwitchCoreKeyboard from the
    event gathering, it's all done during event processing now.

commit 3dde66f96b9b8431381871cf85266da3ec57a0d4
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Nov 14 15:10:59 2007 -0500

    Start 1.4.99

commit c3897ca7099fc007b4134a8fabd4c707f99f2ac7
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Nov 9 13:55:32 2007 -0500

    Add -pogo option for init/teardown performance testing.

commit cecac794451b793871f297b91a11d3b52eeb6d1b
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 8 17:25:36 2007 -0500

    Don't sleep(1) at server exit.

commit 1603130236c55ddabc3854d4ba62d544debcf1f5
Merge: f207e69 f7dd0c7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Nov 14 13:35:50 2007 -0500

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	Xext/xace.c
    	Xext/xace.h

commit f207e69d62bc04c7f254347b03e6d8fa8b569d66
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Nov 14 12:23:29 2007 -0500

    xselinux: adjust receive hook to use new synthetic_event class.

commit cc4586df600af571815d5cdda2028c0d074c8469
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 14 14:27:52 2007 +1030

    Xi: toggle the public.devPrivate as well when switching device classes.
    
    The master needs to have the same devPrivate as the slave, in case a client
    issues a request that goes down to the driver.
    Example: if a driver wants to ring the keyboard bell, it'll pick a keyboard.
    The KeyClassPtr will direct it to the matching method in the driver, but
    because the MD doesn't have the devPrivate set the driver segfaults.
    Even if all drivers were updated to not dereference the nullpointer, nothing
    would actually ever happen.
    
    To avoid this, we flip the master's public.devPrivate to the last SDs
    devPrivate.

commit b44c1118f3bab6d5f28fa42e0c322fbaec005012
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 14 14:08:21 2007 +1030

    dix: Return Success from ProcBell if no BellProc is set.
    
    We must not return BadDevice, this causes applications to crash. If no
    BellProc is set, just quietly do nothing and report a Success.

commit 240b10fa9c32510a380a73a8acdd8267c81e538b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 14 12:18:08 2007 +1030

    Xi: Move updating the device state from POE into separate function.
    
    POE now only deals with processing the event and calling the appropriate
    delivery methods. Actually modifying the device state is done in
    UpdateDeviceState. This separation should make it easier to avoid setting the
    state twice when master events are processed.

commit 0bdfeb55fc559ffe0334df69ba6e9e711b26dc18
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 13 17:31:20 2007 +1030

    Xi: remove RegisterPairingClient handling. Deprecated with device hierarchy.

commit e96d926d64f7fb63f6bf2aa0ea0a8440a188947b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 13 17:14:35 2007 +1030

    Xi: remove trailing whitespaces.

commit 5031238aad2b6b7511aab0f9d15edfbdd2b4cce7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 13 16:58:23 2007 +1030

    dix: remove trailing/wrong whitespaces from devices.c and events.c

commit c703849e79391bb1bb01a994bb8d5cf2eb64e48b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 13 16:50:18 2007 +1030

    dix: Attach spriteInfoRec to same memory block as the DeviceIntRec.
    
    No need to alloc a separate one, we never do anything special with it anyway.

commit 51239f87ce42ad564ceee1761980391947294511
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 13 11:26:16 2007 +1030

    dix: Send MappingNotify when keyboard maps change.
    
    If a slave device is attached to a master device, then we need to send a
    mapping notify to the client.
    Mapping notify needs to be sent if
     - different slave device but on same master
     - different master
    
    This gives you funny behaviour with the ClientPointer. When a
    MappingNotify is sent to the client, the client usually responds with a
    GetKeyboardMapping. This will retrieve the ClientPointer's keyboard mapping,
    regardless of which keyboard sent the last mapping notify request. So
    depending on the CP setting, your keyboard may change layout in each app...

commit 2b1d946392ce28b96941341778b2b526aa0fb126
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 13 09:51:33 2007 +1030

    xkb: disable xkb key repeats (temporarily)
    
    Haven't quite figured out yet how to make these repeats work. Because we share
    the class between devices, the key state is already set when we process the
    master device's event, causing a repeat on each event.

commit f7dd0c72b8f861f4d5443a43d1013e3fe3db43ca
Author: Matthias Hopf <mhopf@suse.de>
Date:   Mon Nov 12 15:11:03 2007 +0100

    Only clear crtc of output if it is the one we're actually working on.
    
    Upon recreation of the RandR internal data structures in RRCrtcNotify() the
    crtc of an output could be NULLed if the crtc was shared (cloned) between two
    outputs and one of them got another crtc assigned.

commit 70b4087c4dd1904d9d655f4afb9dfcea4f137f7a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Nov 12 13:10:39 2007 +1030

    dix: don't unconditionally update valuators during key events.
    
    Master may not have valuators, device may not have valuators.

commit 23365d28651f7942fdafb889bcbbd019470a4274
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Nov 12 13:08:38 2007 +1030

    dix: allow grab modifier device to be NULL.
    
    This can happen if we check for a passive core grab and our device is a
    floating slave device. Doesn't really change anything as SDs can't send core
    events but it stops the server from segfaulting.

commit 5a7a65a3c978a65e8ff39d0cc9878527ec42adc9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Nov 12 12:37:39 2007 +1030

    mi: avoid SIGABRT by setting master_event to NULL.

commit a05f43bf3e9629df98e93c366d4327f20ed81e6c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Nov 12 11:35:18 2007 +1030

    dix: When the last slave is removed, set master to the original classes.
    
    DeviceClassesChangedEvent is sent to the client, where device == new slave.

commit 45f884d79c0eebaa1eb24d7db76c1177f6b710c9
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Nov 9 14:45:27 2007 -0500

    xselinux: add new synthetic_event security class, and fix registry code.

commit b092856baba5bd43b23950f23236b5cc3ce78c1e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Nov 9 14:45:02 2007 -0500

    registry: Register XC-SECURITY extension protocol names.

commit 7a81bafc9bc7048560b17483e6addf58469a05d0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 9 23:10:24 2007 +1030

    Xi, dix: Add ability to change MD classes + send event when doing so.
    
    Each time a different slave device sends through a master, an
    DeviceClassesChangedEvent is enqueued. When this event is processed, all
    classes of the matching master device are changed, and the event is sent to
    the clients.
    
    Next time the master is queried, it thus shows the evclasses of the last slave
    device. The original classes are stored in the devPrivates.
    
    TODO: if all slave devices are removed, the master's original classes need to
    be restored.

commit c0a05805783ee3d38fbcc0fb45f4aa3c511785f0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 9 23:07:10 2007 +1030

    Xext: add simple macro to easily check a generic event's type.

commit f48087b6c33c1f84bf2cfc0744b1c38697321c07
Author: Kristian Høgsberg <krh@temari.boston.redhat.com>
Date:   Fri Nov 9 05:49:26 2007 -0500

    Regenerate GLX dispatch code for recent gl_API.xml changes (#12935).

commit f2a3728868376a3646832d4af3a29549ce0b8f5d
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Nov 8 18:49:05 2007 -0800

    Patch to rootless code that should fix many crashes.  Credit to Ken Thomases
    at CodeWeavers for the patch.  From his description:
    
    Fix a display bug with the X server.  The Generic Rootless extension
    installs overrides for certain GC (graphics context) operations.  Within
    these overrides, they temporarily uninstall themselves, perform their work,
    and then reinstall themselves.  Except sometimes they would return early
    and wouldn't reinstall themselves when they should.  Now they do in all cases.
    
    Fix a bug in RootlessCopyWindow where early returns could leave the screen's
    dispatch table entry for CopyWindow unwrapped.  We think that this is
    another case (hopefully the last) of the rootless drawing bug.

commit 338c1aedbdf3964e542947140f7c50d58542cf12
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Nov 7 03:56:44 2007 -0800

    formatting fixes

commit bd269d0d783d418ef99363478fdf849fd89eed76
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Nov 7 03:55:08 2007 -0800

    Fix for off-by-one error in menu bar height calculation -- props to Nicholas Riley!

commit b4d14484056e6f4a7374fc1acf3f223be4bd116f
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Nov 7 03:10:52 2007 -0800

    Undo some last-minute breakage in xpr.h

commit 05d5b9baa05a4ba14a4383d8a981bc327d99290c
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Nov 7 02:28:49 2007 -0800

    removed debugging output

commit 9a8abcfa6d6d0cdc17be02a3443a7e116eb07d07
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Nov 7 02:22:39 2007 -0800

    Fixed focus problem (clicking on an X11 window that sits behind
    an Aqua window would not always bring it to the top of the stack.

commit b34d2ffc38002f7c4980c138f57e9a828cd79c37
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Nov 7 01:56:37 2007 -0800

    formatting changes.

commit 50dac9b2cb3b40810fb79253adc0265a838a497b
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Nov 7 01:35:48 2007 -0800

    Fixed Spaces issue, correctly -- dragging an X window from one
    Space to another in Expose mode now works.

commit ce7cfbe261b7fd4fcd09d1a4a61344d1555a71f2
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Nov 8 20:10:51 2007 -0800

    Fixed check to refer to DarwinApp, not all Darwin targets

commit d68bd5510437c1fd3850e020f7cd90901fae8e1b
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Nov 8 20:08:49 2007 -0800

    fixing GLX in Xquartz

commit a6ac9002956767fefa37aac95513e21ac5246d15
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Mon Nov 5 20:25:10 2007 -0800

    formatting cleanup

commit 67e96be13cdb45be31db121ce216295cd9496d20
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Mon Nov 5 20:01:34 2007 -0800

    Fixed logic error that prevent JIS (Japanese) keyboard layouts from
    being detected.

commit 154fb6417e5d0bae5191984beac5ce045ce754bb
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sat Nov 3 05:34:19 2007 -0700

    Initial support for Spaces -- if you use Expose to drag an X11
    window to another Space, it will work correctly (as opposed
    to just leaving a ghost window).  We accomplish this by listening
    for the notification from Xplugin that our window has been moved,
    and then we ask X11 to move the window to the new location.

commit 5bbc468b702f62d7c91d41aabcc27eeb553f6959
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 9 11:33:27 2007 +1030

    dix: grabbing an attached SD sets it floating for the duration of the grab.

commit 676b26ca3e9b142cf007af3f439aa1993f2247c4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 8 17:54:17 2007 +1030

    Xi: notify the clients when the device hierarchy has been changed.

commit cb75f09146a3c17b1a67b636bbf7229c65c83b35
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 9 11:29:18 2007 +1030

    dix: calloc root window's Generic Event mask, stops segfaults.

commit 169f83e366f678ac5441ad21beb84c9b8c65d28e
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Nov 4 19:14:10 2007 -0800

    Disable deferred updates in xp_init to fix performance problems
    -- thanks to Eric Gouriou for pointing out the issue

commit 1c6cb353f77747c101ce47716ff1fa055fbf85a4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Nov 8 16:46:49 2007 -0500

    Restore the XC-SECURITY option in configure.ac, but disabled by default.

commit 9d03cad1446c27b397c198cf6247e71e46bc9e6d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Nov 8 16:41:47 2007 -0500

    Remove SecurityPolicy file and associated references in the manpages.

commit 8b5d21cc1d1f4e9d20e5d5eca44cb1e60a419763
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Nov 8 16:32:42 2007 -0500

    Rework of the XC-SECURITY extension.  The gen-auth protocol has not changed,
    but the XC-QUERY-SECURITY-1 authorization method and the SecurityPolicy
    configuration file have been removed.  The semantics of the trusted vs.
    untrusted split have been changed.  This will be documented in a future
    commit.

commit 476a9d85f819f454a6901ccb7eb028d1c563c341
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Nov 8 09:11:05 2007 +0100

    Xephyr: do not AM_CONDITIONAL inside a shell if branch

commit 59b304d8a24fecd094296feb217823f0c73d6f82
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 8 15:44:18 2007 +1030

    dix, mi: stop segfaults when a floating device emits events.
    
    For pointers: don't try to set master->valuator fields if there is no master.
    For keyboards: check if device is valid before trying to access the fields in
    miPointerGetScreen (btw. this disables DGA events for floating keyboards).
    
    Also stop the hideous number of ErrorFs if we request the paired device for a
    floating dev.

commit 3063f0c6679bdbea13f360cff8d09a88b9871da9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 8 11:51:03 2007 +1030

    mi: change the device id to the master devices' when duplicating the event.
    
    Move the event duplication into a CopyGetMasterEvent(), makes the code a bit
    better to read.

commit 0e9ef65fa583bf2393dd0fda82df6f092387b425
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Nov 7 16:33:10 2007 -0800

    Don't frob timers unless SmartSchedule is running

commit 180220f284823c486e7001ef00f1279dc548c9c7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 8 10:00:35 2007 +1030

    Xi: return BadDevice for slave devices on ProcXSetClientPointer
    
    Also clean up to return error codes instead of sending the error manually.

commit 184a7b8917a15bb2c719153b9b016c03aab42101
Merge: a8808ac 0b72905
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 8 09:34:35 2007 +1030

    Merge branch 'mpx' into mdsd
    
    Conflicts:
    
    	Xi/opendev.c

commit e94ab0b502160376d1956345196f7e1c7e2e886f
Merge: 26e1fc7 9bee1c6
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Nov 7 19:04:24 2007 +0100

    sync with 'master'

commit 9bee1c6912817f65bbb8cf4078f0ad016d9d51cb
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Nov 7 18:56:45 2007 +0100

    EXA: Disable problematic optimization of dest pixmap migration by default.
    
    Also add some code comments about these optimizations.

commit 26e1fc7b42de850d69fba89703ffddd36480b997
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Nov 7 18:48:23 2007 +0100

    Xephyr: don't use Xv or GL when those are disabled.

commit 950f9995d11aff2c51139b34fb27eba594f2bd20
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Nov 7 18:43:16 2007 +0100

    Xnest: fix lib dependancy to make libtool happy
    
            This fixes an undefined symbol error happening when compiling
            the server with the --disable-xv configure switch.
            Basically, xnest was linking against
            @XSERVER_LIBS@ and @XNEST_LIBS@ and the order of the libraries
            given to the linker at the end of the process was bogus.
    
            * configure.ac: make XNEST_LIBS contain the $XSERVER_LIBS re-ordered
              in such a way that the linker finds the symbols of all the libs contained
              in $XNEST_LIBS.
            * hw/xnest/Makefile.am: don't link against @XSERVER_LIBS@ anymore because
              XNEST_LIBS contains the right thing.

commit 0b729051c04da7068f1e6dd319190bd0a362b2c0
Merge: b7ee005 d7c5e8b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 7 15:37:23 2007 +1030

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	Xi/extinit.c
    	Xi/grabdev.c
    	Xi/setmode.c
    	Xi/ungrdev.c
    	dix/devices.c
    	dix/events.c
    	dix/getevents.c
    	include/dix.h
    	mi/midispcur.c
    	mi/misprite.c
    	xkb/xkbActions.c
    	xkb/xkbEvents.c
    	xkb/xkbPrKeyEv.c

commit e717409bae355df9a617a226f12fbb8c54ae77e5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Nov 6 21:36:13 2007 +0000

    DIX/getevents: Document GetMaximumEventsNum() a little better
    
    Note that the number returned by GMEN can _never_ change, and be a little more
    explicit about the figure for repeats.

commit 66fe554a59bb7de37354b618945cd5f30d78250d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Nov 6 18:57:09 2007 +0000

    COPYING: Collapse 'canonical license' into one statement
    
    For a few of us, the license statement is identical, and the only variant is
    the copyright.  For these, aggregate the copyrights, and only list the license
    once.  Put this at the top, and note that this is more or less our agreed
    canonical license.

commit fda832772b3e630037bf1b822534996154a50861
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Nov 6 15:05:06 2007 +0000

    .gitignore: Ignore build directories
    
    Ignore directories people might use for building.

commit 512bac25ec0e980968b93a2ebe88bd89bf99b697
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Nov 6 14:52:03 2007 +0000

    DIX: XKB: Set xkbInfo to NULL as well as freeing it (bug #10639)
    
    XkbRemoveResourceClient wants to access xkbInfo if it exists, so make
    sure we NULL it after freeing it.  It doesn't make much sense to move
    the RemoveResourceClient call first, as there's not much point in
    notifying clients while we're shutting the server down anyway.

commit a8808ac3d093f33b39de109107d396fe0a02c4fc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 7 11:42:58 2007 +1030

    Xi: don't call CheckMotion for slave devices.
    
    This essentially disables enter/leave for slave devices, but re-enables them
    for master devices. Which is a good thing after all.

commit 15944b8f02752eedd61be34a6a29dd6b82a0ac97
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 7 11:33:24 2007 +1030

    mi: duplicate event before processing it, so master has original values
    
    Event values may get changed in the event processing stage, so we need to
    duplicate it to pump different events through for slave and master device.

commit d7c5e8bfc1aecbd23a4cbb2eab08656587aac2e8
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 6 16:26:09 2007 -0500

    Modified performance patches from Arjan van de Ven <arjan@infradead.org>
    
    Subject: [PATCH] fix some performance gaps in Xace
    
    The XaceHook function is used in several hotpaths.
    The problem with it (performance wise) is twofold:
     * The XaceHook function has a big switch() statement for the hook number in it
     * The XaceHook function uses varargs to reassemble the final dispatch arguments again
    
    Both are expensive operations... for something that is known at compile time
    
    This patch turns the hotpath XaceHook call into a direct call to avoid
    the switch and varargs; this gives me over 10% performance gain
    on the x11perf benchmark.

commit aaa50b64113b122aaebd46e3b78e3fb7a8d70500
Merge: 868e303 ddce48e
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Nov 6 16:25:40 2007 +0100

    resync with 'master'

commit 868e303630d8b84070c2f1fd8d6da2cef045b029
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Nov 6 16:24:46 2007 +0100

    Xephyr: fix a crash when using xrandr twice
    
            * hw/kdrive/ephyr/ephyr.c:
              (ephyrScreenFini): don't forget to
              free shadowfb data (if necessary) upon server is reset.

commit ddce48ede036f3996f8e584b0012c396c5df42fb
Author: Elvis Pranskevichus <el@prans.net>
Date:   Tue Nov 6 09:40:14 2007 +0000

    Config: D-Bus: Fix dbus_bus_request_name failure check
    
    The code in connect_hook incorrectly checks for dbus_bus_request_name failure.
    The dbus_bus_request_name error indicator is -1, not 0. This leads
    to subsequent assertion failure in libdbus.

commit a52c9b2a59f27266557ff9d5d2c08492e04135a6
Merge: c7e18be 5833289
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 5 19:08:36 2007 -0500

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	dix/dispatch.c
    	dix/property.c
    	hw/xfree86/common/xf86VidMode.c
    	include/xkbsrv.h
    	render/glyph.c
    	xkb/xkbActions.c

commit 58332894c061ae96d6a457f65266660f5f65e88b
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Nov 5 17:17:25 2007 -0500

    Export the server ABI versions from xorg-server.pc

commit c7e18beb3c87eb1ada9b21c4ffacd11c1939c087
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 5 15:01:13 2007 -0500

    xselinux: Register SELinux extension protocol names.

commit 632c33c5c18b3e091c4fce98280af4d583e99640
Merge: 4113f04 dda10c9
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Mon Nov 5 17:52:33 2007 +0100

    pull 'master'

commit 4113f040c587fc536adc693d7ee5a4c0a60b75d4
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Mon Nov 5 17:33:01 2007 +0100

    GL: fix crash at mesa destruction time
    
            * GL/glx/glxglcore.c:
             (_glXMesaScreenDestroy): delete the same amount of visuals
             that those which were created in createMesaVisuals().

commit dda10c9066a660b647384179f82e1da8e063264f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 16:28:35 2007 +0000

    Remove all traces of external RGB database (and Speedo)
    
    Remove all references to an external RGB database (which hasn't been enabled
    for a very long time).  Also get rid of some references to Speedo fonts.

commit 6ff79ea5f7d3ff0c3b14e39849514784ccd40190
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Mon Nov 5 16:46:49 2007 +0100

    Xephyr: fix some DRI build breakage

commit 5e363500c86042c394595e1a6633581eb8fcd1bb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:38:28 2007 +0000

    OS: Remove ALLOCATE_LOCAL from os.h
    
    Remove ALLOCATE_LOCAL_FALLBACK and DEALLOCATE_LOCAL_FALLBACK from os.h, and
    remove the include of Xalloca.h as well.

commit 83e5d9e75d0fa1135e2c9d8b59caee98c3291681
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:36:54 2007 +0000

    DIX: Remove last alloca call
    
    Replace with heap allocations.

commit 1179ddea94efae6606162e9a1b0f2bf752ae4dd0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:36:36 2007 +0000

    EXA: Remove usage of alloca
    
    Replace with heap allocations.

commit 1eb6a1d0d2817cd0ce96fb27db3ceb2d0ff024af
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:18:35 2007 +0000

    XTrap: Remove usage of alloca
    
    Replace with xalloc/xfree.

commit 934281126f6c602fa4bd0c2e29d8c9f44fe532b8
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:18:22 2007 +0000

    Xext: Remove usage of alloca
    
    Replace with heap allocations.

commit fb32bb9839b615f7297fbfac2050bc216682f01c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:17:54 2007 +0000

    Xi: Remove usage of alloca
    
    Replace with xalloc/xfree.

commit 683ee1776d172035c465aa8fc84ccd53bb8ba7fd
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:14:25 2007 +0000

    afb: Remove usage of alloca
    
    Replace with heap allocations.

commit ca75261beedc3e00767b3812a81b7dac4437f4a1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:14:04 2007 +0000

    cfb: Remove usage of alloca
    
    Replace with xalloc/xfree.

commit 914922fd6100a409a3dfd1c64511ed6bdc344bef
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:12:59 2007 +0000

    DIX: Remove usage of alloca
    
    Replace with heap allocations.

commit 3b77689266e729411229ec83d2a90578ebc1d82f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:12:34 2007 +0000

    EXA: Remove usage of alloca
    
    Replace with heap allocations.

commit 34cdf06e4ccb243664005cc33009d8759a7f6e4d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:12:22 2007 +0000

    fb: Remove usage of alloca
    
    Replace with heap storage.

commit 733d42065f2c24505b3874ce51c18f6063c2b67e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:11:59 2007 +0000

    XFree86: Remove usage of alloca
    
    Replace with heap allocations.

commit caf545063457591f88e1f7bcd25dbd0342f44343
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:10:55 2007 +0000

    KDrive: Remove usage of alloca
    
    Replace with heap allocations.

commit d57060f16714f5667722001bd1a4500059dd59e1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:10:21 2007 +0000

    DMX: Remove usage of alloca
    
    Replace with heap allocations.

commit def6f74f2d7342f85f3df2053e0b9c1ac483b51d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:10:03 2007 +0000

    Xvfb: Remove usage of alloca
    
    Replace with heap allocations

commit 259f4c36d581896ce605741b9e557a589013a9b8
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:09:49 2007 +0000

    Xprint: Remove usage of alloca
    
    Replace with heap-based allocations.

commit 1c84337af0ac40498a53aa36289e2f6f5ff8b1c6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:09:32 2007 +0000

    Xwin: Remove usage of alloca
    
    Replace with heap allocations.

commit f7d5c292e44113ea8eb32e67e91cd02e520df5e3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:09:14 2007 +0000

    mfb: Remove usage of alloca
    
    Replace with heap-based allocations.

commit be9ee17f960cc3d8a8f999cab1579e83d9aea520
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:08:51 2007 +0000

    mi: Remove usage of alloca
    
    Replace with heap allocations.

commit 3633ae6efb57c5405c26e8ae132b9371e5f920de
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:04:27 2007 +0000

    Damage: Remove usage of alloca
    
    Replace with heap allocations.

commit 2761c103311a1160bc483fd0367d654733df8598
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:03:26 2007 +0000

    OS: Remove usage of alloca
    
    Replace with heap allocations.

commit 2d738efb959912d8a89864e41190e0064fa77906
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:01:11 2007 +0000

    RandR: Remove usage of alloca
    
    Replace with heap allocations.

commit 3c1d2fdeff0ed61d86fa7d35cb0a61535d9b2816
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 14:00:40 2007 +0000

    Record: Remove usage of alloca
    
    Replace with xalloc/xfree.

commit e0491f470e130147191388168e878e3a7348afaf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 13:59:51 2007 +0000

    Render: Remove usage of alloca
    
    Replace it with heap-based allocations.

commit 59774af86b851c7fb8989cef6c013522549000b8
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 5 13:59:15 2007 +0000

    XKB: Remove usage of alloca
    
    alloca has no way to return failure, and instead can possibly arbitrarily
    overflow the stack.  Let's avoid that one.

commit 6e4f5cf83f35ffebb51633ab30b1826e63e37223
Author: Ben Byer <bbyer@bbyer.local>
Date:   Mon Nov 5 05:53:34 2007 -0800

    changing ALLOCATE_LOCAL to xalloc to prevent stack overflow

commit b1764ddf133cfdf979db62ee2491124a4798b55b
Author: Ben Byer <bbyer@bbyer.local>
Date:   Mon Nov 5 05:44:54 2007 -0800

    pulling more patches over from xorg-xserver-1.2-apple branch

commit 10fde62fc88302f7d3b2546239b1679be249567c
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Nov 4 18:59:41 2007 -0800

    more CVS tags

commit 27ecb89250398f45564fe454e20bfdd66f62c8e4
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Nov 4 18:53:41 2007 -0800

    Removed CVS tags.

commit f2e310132fbe1520c1b5f3da4faa2d2d47835e72
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Oct 31 14:15:35 2007 -0700

    Add CreatePixmap allocation hints.
    
    These hints allow an acceleration architecture to optimize allocation of certain
    types of pixmaps, such as pixmaps that will serve as backing pixmaps for
    redirected windows.

commit 3f1b6765aadf665ede8253464da19a5878f16e56
Author: Markku Vire <markku.vire@movial.fi>
Date:   Thu Nov 1 22:43:04 2007 +0200

    Config: HAL: Touchpads are pointers too
    
    Treat touchpads -- not just mice -- as pointer devices.

commit 41c3069f7cf28155f8e6cfe0c10a12a1f5f76c7d
Author: Mark Vytlacil <mrv@wi.rr.com>
Date:   Thu Nov 1 21:05:43 2007 +0200

    XFree86: Input: Save/restore errno around SIGIO (bug #10683)
    
    Make sure errno is saved and restored from the SIGIO handler, so errors
    from system calls in input handlers don't break the interrupted code.

commit ff9929ed48f2dec8b536d348e25e66a0bc4ac1a6
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Nov 4 05:13:19 2007 -0800

    pulling in changes from xorg-server-1.2-apple branch

commit 181468db92d44a58080fc9a76e46dfc7011bf9f1
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Nov 4 04:50:26 2007 -0800

    add missing null-pointer checks

commit 4d0f35c81df307609b29c0f12aa1b4c6ee6fd8d2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Nov 2 19:27:32 2007 +0100

    Always duplicate mode name when duplicating a mode.
    
    If the originating mode didn't have a name, we would end up with the name of
    the original mode being setup correctly, but with the name of the copy still
    being NULL.

commit dfb1cce28ac07d412598f7b9ab2ee908978b38e7
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Nov 2 12:51:56 2007 -0400

    Restore build of xf8_16bpp.
    
    It doesn't link against cfb, so don't conditionalize its build against cfb.

commit 7a0555e9bb59d02816803a1100f807d2d29f31d4
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Oct 28 09:37:52 2007 +0100

    Fix crash in xf86InitOrigins()
    
    In a multihead setup, if only the first screen can be
    initialized, but the second screen is mentioned first in the
    ServerLayout section, the xf86InitOrigins() function will crash
    because the screen referred to in the e.g. "RightOf" part is
    non-existent.

commit 5b41d4e60be35cfb96bedec0931fd5922823b4b9
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Oct 28 09:37:52 2007 +0100

    Don't filter modes away during VBE mode list construction.
    
    Pass all VBE modes back up to the driver, on the assumption that it
    knows how to filter modes intelligently.

commit c095da04fe7c73b6503ef5b93549b13796c51b22
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Oct 28 09:37:52 2007 +0100

    Fix magic number in fbdevhw
    
    The transformation between fbdev and xfree86 mode timings needs to be
    invertible, otherwise Xen and other framebuffers that don't have real
    pixel clocks won't initialize.

commit f4fe66f6767d1941317dc0280ac359421a152587
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Oct 28 09:37:52 2007 +0100

    Disable explicit commenting in Monitor section.

commit 22f0e3a8b04e574047a51c8f928a007787303294
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Oct 28 09:37:52 2007 +0100

    Avoid PS/2 protocol probing for /dev/input/mice
    
    The kernel will always upconvert to ExplorerPS/2 for all readers of
    /dev/input/mice, so don't waste time on startup trying to figure
    that out.

commit b97518666dc32710fe69eee33ee56881dcff1bbc
Author: Adam Jackson <ajax@redhat.com>
Date:   Sun Oct 28 09:37:52 2007 +0100

    Fix accidental ABI usage in RANDR 1.2 drivers.
    
    Due to RANDR 1.2, xf86findOptionValue and xf86nameCompare are now ABI.
    Make sure they're exported from the server.

commit f01e149d1af14ef9ee0e8a6743ab6a08f3bb677c
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 1 15:41:11 2007 -0400

    Move SIGUSR1 notification as late as possible.
    
    If we inherited a signal mask from the parent process that ignores SIGUSR1,
    then we will send SIGUSR1 to the parent to indicate when we're ready to
    accept connections.  Unfortunately, we send this notification way too
    early, right after creating the sockets rather than just before entering
    the main loop.
    
    Move it to just before Dispatch() so we're not lying quite so much.

commit a2ee5fe0c4e863c7ff4f644e5ac86f2793903103
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Nov 1 13:46:20 2007 -0400

    Enable MIT-SHM in Xdmx.
    
    The extension is entirely DIX-level, no new DDX changes needed.

commit 2338d5c9914e2a43c3a4f7ee0f4355ad0a1ad9e7
Author: Arjan van de Ven <arjan@linux.intel.com>
Date:   Sun Oct 28 09:37:52 2007 +0100

    reduce wakeups from smart scheduler
    
    The smart scheduler itimer currently always fires after each request
    (which in turn causes the CPU to wake out of idle, burning precious
    power). Rather than doing this, just stop the timer before going into
    the select() portion of the WaitFor loop. It's a cheap system call, and
    it will only get called if there's no more commands batched up from the
    active fd.
    
    This change also allows some of the functions to be simplified;
    setitimer() will only fail if it's passed invalid data, and we don't do
    that... so make it void and remove all the conditional code that deals
    with failure.
    
    The change also allows us to remove a few variables that were used for
    housekeeping between the signal handler and the main loop.
    
    Signed-off-by: Keith Packard <keithp@koto.keithp.com>

commit 692654b4300e61a9481e6fa588bcb44a3c3ca150
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Oct 29 18:13:58 2007 -0400

    Set up visuals for the existing X visuals.
    
    This makes the root visual a GLX capable visual again and adds a GLX visual
    for the COMPOSITE ARGB visual cleanly (as opposed to the hack we had before).

commit a5546a99ac4da61aee0d49c55bcb38bbce9a96aa
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Oct 29 18:06:41 2007 -0400

    Change the GLX module to initialize after COMPOSITE.
    
    This changes the module initalization order so that the GLX module initializes
    after COMPOSITE.  The reason for this change is to be able to initialize a
    GLX visual config for the COMPOSITE ARGB visual.

commit 8ead41388e36e21eea6fa0408c847f174911eab0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 6 18:57:00 2007 +0930

    xfree86: wrap keyboard devices for XKB.
    
    Call ProcessOtherEvents first, then for all keyboard devices let them be
    wrapped by XKB. This way all XI events will go through XKB.
    
    Note that the VCK is still not wrapped, so core events will bypass XKB.
    
    (cherry picked from commit d627061b48ae06d27b37be209d67a3f4f2388dd3)

commit e717cf08e99746761d74289c426bbd84176f4435
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 27 21:32:47 2007 +0300

    XKB: Cope with all events in XkbProcessKeyboardEvent
    
    Cope with Xi and pointer events in the (now increasingly misnamed)
    XkbProcessKeyboardEvent.  If it's the wrong type, call through the wrapping
    chain to get out; else, process it.

commit 9db8846fa53d91193bbfe541b244e2326440011d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 27 21:31:39 2007 +0300

    XKB: Don't update indicators on all devices, add missing include file
    
    Don't get XkbUpdateIndicators to update the indicators on all our devices: we
    already deal with that ourselves.
    Add exevents.h include to get more (proto)types.

commit ee3aa948eb8ed181d037294ed87df6ceec81684e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 18:04:59 2007 +0930

    xkb: Unwrap properly in ProcessPointerEvent.
    
    Instead of hardcoding CoreProcessPointerEvent, actually try to unwrap properly
    and then call the unwrapped processInputProc. Seems to be a better idea,
    especially since it makes stuff actually work...
    (cherry picked from commit 8f9bf927e1beecf9b9ec8877131ec12c765e4d84)

commit d3588a0aee33fbd233082f881c0d37152c6d4d8b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 27 11:44:03 2007 +0930

    xkb: xkbHandleActions: let wrapping take care of event delivery.
    
    This is hopefully better than hardcodey calling CoreProcessPointerEvent.
    (cherry picked from commit 32d0440c7f6e604807cb14dd32349df6f22c903b)

commit 352c5a311200bf491153fe9ef16126c5877a57bb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 12 17:40:11 2007 +0930

    dix: don't compress motion events from different devices (EventEnqueue)
    
    (cherry picked from commit 8840829ab93c4eb62eb58753c015da5307133fe5)

commit 8d3d027062c105b50863dce43b8070ec560bc12e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 6 18:52:02 2007 +0930

    dix: add XI event support to FixKeyState.
    
    FixKeyState needs to be able to handle XI events, otherwise we get "impossible
    keyboard events" on server zaps and other special key combos.
    (cherry picked from commit 5ee409794ee604fcf84886f70429fc2d6b1ff4f1)

commit 99e826e867c1c5520153c539ba07a884aec88d0c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 6 18:49:57 2007 +0930

    xkb: enable XI event processing for xkb.
    
    XI events can now take the same processing paths as core events, and should do
    the correct state changes etc.
    
    There's some cases where XKB will use KeyPress as type for an event to be
    delivered to the client. Stuck warnings in, not sure what the correct solution
    is yet.
    
    (cherry picked from commit 6334d4e7be18de5f237c12a6dc20f75aa23477d0 with some
     additional compile fixes and non-MPX adaptations)

commit 91077bfc50d54be37c217e377c55b6bf886a2fab
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jun 21 18:24:30 2007 +0930

    Save processInputProc before wrapping it and restore it later, instead of
    using a hardcoded ProcessKeyboardEvent. Otherwise we lose the ability to
    process DeviceKeyEvents after the first key press.
    
    This should be the correct fix now.
    (cherry picked from commit 4d5df14f2c4a3108a8c8adfcf4766c0d1a9daad2)

commit 8b9481a113b56078191e2298bf590905978f6289
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Sep 4 17:44:51 2007 +0930

    xkb: Store the action filters per device in the XkbSrvInfoRec.
    
    Using a global array for action filters is bad. If two keyboard hit a modifier
    at the same time, releaseing the first one will deactivate the filter and
    thus the second keyboard can never release the modifier again.
    (cherry picked from commit bfe6b4d2d9952a80f8dbc63eec974ef894e5c226)

commit 493b83bd097372ae0023da9919da83af39e3fc1c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 27 21:33:52 2007 +0300

    XFree86: Remove ridiculous SIGIO debugging
    
    YOU PRESSED A KEY
    AND AGAIN
    YOU RELEASED A KEY
    AND AGAIN
    YOU PRESSED A KEY
    AND AGAIN
    
    ... not so much.

commit a3d48de5f2b7eacf3193c60f0fb461912201210b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 27 21:35:31 2007 +0300

    XKB: Add more bits to xkbsrv.h
    
    Add the device private index, given we use that in a macro here, and also the
    prototype for xkbUnwrapProc, since that's also useful.

commit e29e69960d67aa4b7a4d1551af509dbac193f438
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 27 21:34:22 2007 +0300

    Xi: Include XI protocol header in exevents.h
    
    Make sure we have all the types we need to use this header.

commit df57ae1639ba4f1719883c5bf868394e4748a022
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 28 15:46:26 2007 +0200

    configure.ac/XFree86: Only build XF86Misc and XF86VidMode when appropriate
    
    Don't build XF86Misc or XF86Vidmode in hw/xfree86/dixmod when it's been
    explicitly disabled in configure, or we don't have the proto modules
    installed.

commit 3b7af72fe315c7c26c89838c0c5dacbe58765d0f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Oct 26 20:32:10 2007 -0400

    xselinux: Add a SetDeviceContext request and stubs for more requests.

commit 2251572062b2c25643671b8d5070de1c3f7ae976
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Fri Oct 26 15:13:50 2007 -0700

    Restore the CompositeGlyphs -> ps->Glyphs -> miGlyphs callchain to allow acceleration architectures to wrap above miGlyphs.

commit 497aba894904b08b15bb19916e2a163f96212a7d
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Oct 26 11:25:57 2007 -0400

    Weed out some unused fluff from __GLXcontext.

commit 0e749ceab421d72b48e18292c5ca0e337baf5ce8
Author: Bernardo Innocenti <bernie@codewiz.org>
Date:   Sat Oct 20 20:31:57 2007 -0400

    Include stddef.h for size_t.
    
    This is required by a buggy version of the openssl/sha.h header
    which is distributed with Fedora 7.

commit 80d8a3e1767609a92b0b85a7e92cea5f0748038a
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Oct 26 10:19:57 2007 -0400

    Quiet glx visual debug info.

commit 27b13eeb56a5cbac00b381309604505002e77228
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 26 13:15:07 2007 +0200

    Nuke superfluous ",", added missing include for xf86i2c.h.

commit 6d59bb5709a99ab60b482bbf3393ebffda7f9407
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 26 09:12:15 2007 +0300

    XFree86 Misc/VidMode: Remove ridiculous debug ErrorFs
    
    When we're building with --enable-debug, don't emit an ErrorF every time a
    function gets called.

commit 5f9095f0d29bac0190d82c87a09cf32d6a34c17c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 25 19:02:03 2007 -0400

    registry: Remove synthetic bit from event types in lookup function.

commit 8c6923018c7d71cd15d9cf4ef9e8528ef5ec7c2e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 25 19:01:29 2007 -0400

    xace: Add a "manage" access check when setting the Redirect event bits.

commit 7d14ca59c5b942c09feaa2429c394cde9d8d3fd1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 25 19:00:50 2007 -0400

    xselinux: Don't include the client in the receive hook audit messages.

commit f62277d421023b3150d3a1accb00a8206ab2bde3
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Oct 25 18:48:39 2007 -0400

    Clean up unused pVisual part of __GLXcontext.

commit 30bcaa966d6b00f1630609a78db18dee683cc43d
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Oct 25 18:48:06 2007 -0400

    Make glx destroy path handle cases where the X window goes away first.

commit 40de9fcf18930811dd5ae355c83275af887a9f83
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 25 12:35:01 2007 -0400

    xselinux: Label the default device directly with the process context.

commit b633d54b94d746d26e13014634d9f63bbb7e8f7d
Merge: 4b05f19 48ca596
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 25 12:19:30 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	GL/glx/glxscreens.c
    	hw/xnest/Screen.c
    	render/glyph.c
    	render/glyphstr.h
    	render/render.c

commit 242f56f722243938e908d1957781ee53c2999783
Author: Naoki Hamada <nao@tom-yam.or.jp>
Date:   Thu Oct 25 18:45:50 2007 +0300

    Input: Fix key down test (bug #12858)
    
    Fix the botched previous key_is_down test, which would give false positives.
    Also move key_autorepeats to a separate inline function.

commit 4b05f19cb9e42d8c8eff5ca4e463f5bc2a05433d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 24 19:59:58 2007 -0400

    xselinux: Introduce a type transition when labeling events.

commit 0d2ef187e77b12713d2a9661932fa01dba58a945
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 24 18:23:31 2007 -0400

    xselinux: Add audit message fields for selection and event names.

commit 48ca5961caee62f2980017a6bdc96a1b4c747727
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Oct 24 20:31:51 2007 +0200

    Prefer configured DisplaySize to probed DDC data, if available.
    
    Based on patch by Hong Liu <hong.liu@intel.com>.

commit 0388a59a6ef212c497cc3f64d677b1ca5b410982
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 23 20:59:21 2007 -0400

    Revert "registry: special case minor number when looking up core requests."
    
    This reverts commit 31110d6837ee52fd654729d9e5c4b0c5395abab0.
    
    This is handled properly by StandardMinorOpcode().

commit 46521f529841e032e198e5df87974088548a68de
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 23 20:58:48 2007 -0400

    xselinux: Add basic support for selection access control and redirection.
    
    Probably not fully baked yet.  It's difficult to test since so few apps
    actually follow the ICCCM with respect to cut & paste.

commit b7ee005d327372c1e414ee6c526f9f7aee14bc86
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 24 10:26:12 2007 +0930

    dix: Don't interfere grabs the interfering device is of different type.
    
    A pointer device should be able to send events while the client has a core
    grab on a keyboard device, and likewise.

commit 02508614b9f882ba1559fb4581dcf812118fdf89
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 24 10:09:18 2007 +0930

    dix: check for core passive grabs on inferiors when replaying events.

commit 825f09dffd94cfcd0562a01c5181998503851461
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 23 17:12:57 2007 -0400

    xace: Still more changes to selection code.  Removed the SelectionPtr from
    the hook - the hook only needs the Atom to control access to the selection
    object.  Upgraded the SelectionCallback to take a client argument and
    additional type codes so that it can be used for redirection.

commit 660557593ea961948722298ea8ffba83891c9914
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 23 14:46:37 2007 -0400

    xselinux: Remove synthetic bit when looking up event type.

commit d7db549db41a27aef28cff9bfb7973bc741f88b2
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 23 14:08:54 2007 -0400

    xselinux: Unregister callbacks on server reset.

commit 9e0a468af19d8e46330bcff37c9adc5e11d3aee7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 23 13:35:30 2007 -0400

    xace: try to pretend events were sent when a denial occurs.
    
    Probably need to redo the error return paths in these functions
    at some point.

commit d502521c3669f3f22b94c39a64ab63bfd92c6a97
Author: Pierre Willenbrock <pierre@pirsoft.dnsalias.org>
Date:   Tue Oct 23 16:45:13 2007 +0200

    EXA: Fix off-by-one in polyline drawing.

commit a8a148919b84a293e3e7a49409ab833590357edb
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 23 16:23:28 2007 +0200

    Superfluous ','.

commit 75f05086d04a90c3dcdcdd31bf79d7033708e3e0
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 23 15:39:23 2007 +0200

    Get rid of unnecessary GNU extended variadic macro.

commit 7ef863720dc79107fc2cd17ce684366c87e001a4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 23 17:28:03 2007 +0930

    dix: Create new sprite for floating devices.
    
    Floating devices get sprites, but still aren't spriteOwners. This prevents
    them from getting rendered, and also stops segfaulting.
    (not really solving the problems with keyboards though)

commit d808d653d1fc16f1d5af76ab00fa862fb80fa3ba
Author: David Nusinow <dnusinow@debian.org>
Date:   Mon Oct 22 21:30:04 2007 -0400

    Define PCI_TXT_IDS_DIR more cleanly

commit 29e0e180729a4f0cc020985a4de4c8bc4b9c7f5f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Mon Oct 22 13:38:16 2007 -0700

    Leave hardware-specified preferred modes alone when user preference exists.
    
    Instead of removing the preference bit marking the hardware declared mode
    preference, leave it in place and just move the user preferred mode to the
    front of the list while marking it with the USERPREF bit which will cause it
    to be selected by the initial mode selection code.

commit fbe19c66c36acfb484809111cf02579a3baf2f0f
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Oct 22 18:28:03 2007 +0200

    GLX: Fix leak of X pixmaps associated with GLX pixmaps.

commit c6d36b1cee44a9cbb690dff62a4683d7f6fbf30c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Oct 22 18:28:03 2007 +0200

    GLX: Don't crash on unused client array members when switching to/from console.

commit be9b0e558d6172ef01ed880d47da897d2ceb25fa
Author: David Nusinow <dnusinow@debian.org>
Date:   Sun Oct 21 23:49:14 2007 -0400

    Add a note as to why the text file based PCI ID scheme is present at all

commit b79b965bd9a96f79781e85c0428068caa1ba381b
Author: David Nusinow <dnusinow@debian.org>
Date:   Sun Oct 21 23:46:54 2007 -0400

    Fix compilation issue on FreeBSD (bug #12841)
    
    Hide getline call by checking for glibc. If not, use fgetln instead. Even
    though this section is now #ifdef'ed for linux only, this should help make
    it more portable if non-linux folks end up wanting it.

commit 7f5e71fa7347fb4ec2657ccc453831c04a0f288d
Author: David Nusinow <dnusinow@debian.org>
Date:   Sun Oct 21 23:41:49 2007 -0400

    Make PCI text file directory configurable

commit ce7f6fe1268fef4f89aa21c7b44d73ecd98efe24
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Oct 19 19:40:04 2007 -0400

    xselinux: properly update sizes when dynamic arrays are resized...

commit 4b14c9a9cd2033d3839c4ba364d41ab4c4b198ab
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 19 16:34:54 2007 -0700

    Replace calls to Glyphs screen hook with CompositeGlyphs and remove dead code.
    
    Not all of the DDX/miext Glyphs hook implementations have been removed, but
    they should be.

commit a3a95d3475dc91ed2e8a55bf484a6b3f2b5ac32a
Merge: a358b87 7e1cada
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 19 15:44:17 2007 -0700

    Merge branch 'master' into glyph-pixmaps
    
    Conflicts:
    
    	configure.ac

commit 12e889d202ac9849f534c51167cbfed91c32027a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Oct 19 18:43:38 2007 -0400

    xace: Bug fixes, name changes to selection access hooks and fields.

commit 7e1cada6c6b9fa41ef3ead00bf7725d626dda193
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Oct 19 15:16:19 2007 -0700

    Disable debian pci-id-list autoconfig code on non-linux.
    
    It contains static paths, fails to build on non-glibc, and apparently just
    exists to support distributions managing binary drivers and open-source drivers
    together.  Also restores previous code for fallback to vesa if nothing is
    detected.

commit 89c6108531e603bdc81faf2ea860f318a2e94a39
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Oct 19 16:21:54 2007 -0400

    Fix software GL to provide a list of supported fbconfigs like the DRI case.

commit 74e84b8d891632141a60e2d29463ab46f622df3f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 19 17:28:15 2007 +0200

    Only issue XF86_APM_CAPABILITY_CHANGED for video change ACPI events (not e.g. brightness etc.).

commit 6fdf3ddfef2707755cec0fc9cbce354fd472bb52
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 19 17:20:21 2007 +0200

    Fix ids of ACPI events according to ACPI spec.

commit d9caa469b9bb4eb6125b890820853062fc2c4441
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Oct 19 15:26:09 2007 +0930

    Xi: allow VCP/VCK to be OpenDevice'd as well.
    
    All devices deserve to be equal. Except master devices, they are a bit more
    equal than the others.

commit 155e2c559ed0dbf31b6d39d48648a3ee22b37635
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Oct 19 14:37:07 2007 +0930

    Xi: advertise as XInput v2 capable

commit 5ba738935f0d786e4670adf3b05ad42fc5e710fd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Oct 19 14:36:37 2007 +0930

    Xi: remove ChangePointerKeyboardPairing in favour of ChangeDeviceHierarchy.

commit 6dcde0e9c1d068d9fc4a772d29d1d4c6cc57aeb9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Oct 18 12:21:07 2007 +0930

    Xi: set master device's id in ListDevices Reply.

commit cfcc6e14b9a15f7979ba0df9c105cf563bef98fa
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Oct 19 11:28:44 2007 +0930

    Xi: return all master devices as type IsXPointer/Keyboard when listing devs.
    
    Slave devices are reported as IsXExtensionPointer/Keyboard.

commit 8e3c1dfc48930c455529313a42efa35e3b9071b2
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Oct 18 21:01:51 2007 -0400

    Introduce a new "GlxVisuals" option that controls which visuals are added.
    
    Right now we default to "all" which gives us a situation much like before,
    but when the "typical" option is implemented, we can change the default and
    reduce the number of visuals the GLX module bloats the X server with.

commit 9e3cfd950d279353f1795352ad2c4132aabc1bab
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Oct 18 19:12:24 2007 -0400

    Add code to set up GLX visuals and add one for the first double buffered FBConfig.

commit 8fc635e6a8072c7cd2777d804dd6f8eda2eecc15
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Oct 18 15:51:11 2007 -0400

    Separate handling of GLX visuals and GLX FBConfigs.
    
    XIDs for GLX visuals and FBConfigs used to be interchangable and the list of
    GLX visuals was identical to the list for FBConfigs.  This patch splits handling
    of these two data types and allows the X server to pick and choose the FBConfigs
    that are exposed as visuals.

commit 0af8180683247955ce4cfd48e6a5b4d00bbe618a
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Oct 17 17:18:47 2007 -0400

    Drop VisualConfigPriv support from the DRI module.
    
    No DDX driver uses this, and this patch stops the DRI module from
    poking around GLX module data structures.

commit 7d74690536b64f7b8e8036507ab7790807349c50
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Oct 14 15:39:21 2007 -0400

    Simplify and clean up GLX visual initialization.
    
    Instead of the fragile setup where we filter the modes common between the
    DDX generated GLX visuals and the DRI driver generated fbconfigs, we now
    just take the fbconfigs returned by the DRI driver to be our supported set.

commit ab4bce02a9457dd9c86b774fc74caf3dd6b287ca
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 18 15:22:42 2007 -0700

    Add a quirk for Philips 107P5 which lacks the preferred bit on detailed timing.
    
    Also fix the prefer-large-75 quirk if the prefer-first-detailed bit was set,
    though it's not the case for the existing prefer-large-75 consumer.

commit 55a96aa6b0995fda6660b7e78c85b955a62b9735
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 18 14:11:11 2007 -0400

    xselinux: add basic event labeling.

commit e974bc1233608ec09fbd40b12217925e4d2205aa
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 18 12:33:39 2007 -0400

    xselinux: add hooks for send and receive access.

commit 06eb830169afd0631a31e8846c7d2533c49ea378
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 18 12:31:14 2007 -0400

    xace: Fix bug in AddPassiveGrabToList(), was using wrong GrabPtr.

commit 6107a245035366fe762756b6aa05ac0e3a5482bb
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 18 12:24:55 2007 -0400

    dix: Add client parameter to AddPassiveGrabsToList().

commit ce50bfd3369686cfecee5a138bd84ef1107a249d
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Oct 18 17:44:48 2007 +0200

    EXA: Skip empty glyphs.

commit 5d74416740de883b7ef0994afea4bbd4d3901be0
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Oct 18 17:44:14 2007 +0200

    EXA: Don't attempt to move in pixmaps that can't be accelerated.
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=12815 .

commit 31110d6837ee52fd654729d9e5c4b0c5395abab0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 18 10:30:44 2007 -0400

    registry: special case minor number when looking up core requests.

commit e3fd90ae9c3ddfc5d78e62614e311b73505d7ead
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 18 10:29:10 2007 -0400

    registry: Add "X11:" prefix to core protocol names.

commit aa340b2c7cbe9ddab53cff08c8ba165558209187
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 17 19:27:16 2007 -0400

    xselinux: add hook for device acceses.

commit 503f918f55d0cb29585d83b022bbb8dc29f446c5
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 17 19:14:15 2007 -0400

    xselinux: Move functions around; add some more comments.

commit 50b27e1ad2a98d36728dc8157492ef5c59c132cd
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 17 16:09:40 2007 -0400

    devPrivates rework: update new GL/glxext code.
    
    Need to merge so this type of thing stops happening.

commit c3f7b862550fa8f46633162f83db8c27e46fc672
Merge: af4dde0 feac075
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 17 15:00:54 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	os/access.c

commit af4dde0ac19ecec1d0ad988eb25b15401e7c6b36
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 17 14:13:02 2007 -0400

    xselinux: Remove config file, this has been moved to the policy.

commit baabae623b3658196b67a710dc72663c2105bf31
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 17 13:54:56 2007 -0400

    xselinux: Started reworking extension using new XACE hooks.

commit db66e66dbf26b91c655f1659859c022cc31f0db6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 17 13:51:11 2007 -0400

    xace: Add an access_mode field to the extension structure.
    This allows the same callback to be used for both extension hooks.

commit e3a8cbe523bae8b771ad3c8ad497f4444f6d05d5
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 17 13:48:44 2007 -0400

    xace: add creation/labeling hook to CreateRootWindow().

commit feac0759522cbdc3e61ccfa373df735903c5cb27
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Oct 17 11:42:28 2007 +0800

    Make config file preferred mode override monitor preferred mode.
    
    Add a new even-more-preferred bit to each mode which is used to make config
    file preferences selected instead of the monitor preferred mode.

commit f2da10f7bc2ddb6ad2f18b793afc10d04b97c51c
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Oct 17 10:50:22 2007 +0800

    KDRIVE_LOCAL_LIBS includes some system libraries, not just internal x server libs

commit 9aadde377991bfbd88524d02106bec3dedd6e7c9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 17 12:05:50 2007 +0930

    mi: don't call UndisplayCursor for non-sprite-owners.
    
    Segfaults are bad.

commit 8b7c4249d82d07e852d8d8c15c7ab9977dd1f31c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 17 10:41:58 2007 +0930

    mi: call processInputProc for master devices after slave event processing.
    
    More work is needed to sort out grabs though.

commit ae9fc10adec8f9bf0492d14d435f8f11e0163b27
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 17 10:41:04 2007 +0930

    Xi: don't send core events for slave devices.

commit de70cfdbe60eb6e7bf3e74dfd1ac34de554deff1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 17 09:52:30 2007 +0930

    mi: fix some macros to allow multiple cursors for master devices.
    
    Macros defaulted to inputInfo.pointe rfor devices that weren't spriteOwners.
    Changed to take the device's master device now.
    
    This includes sticking in a number of checks and warnings that cursor
    rendering won't be called for floating devices.

commit 773f6491c1cc8819038e753d08c32ba213f80f8f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 16 19:11:36 2007 -0400

    xace: update the DeleteProperty prototype to include the client argument.
    This should have been part of 8f23d40068151ad85cde239d07031284f0b2c4dc.

commit 9dde53ed179336c7b483c9a94a97182ad1777dfb
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Tue Oct 16 19:55:56 2007 +0100

    Fix walking of GLX providers.

commit 70a5d33c9e41c077a8cd92abd43376e2956d3aed
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Oct 16 12:46:07 2007 +0200

    Always check the return value of __glXGetDrawable first.
    
    Fixes spurious GLX protocol errors because __glXGetDrawable doesn't set the
    error code in case of success. Maybe it should, though.

commit 1d9ebbac8c589cae7e4952083692b6d148def9bc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 18:46:12 2007 +0930

    dix: Make InitCoreDevices use AllocMasterDevice.
    
    Also change naming a bit, append "pointer" and "keyboard" to master devices
    instead of -ptr and -keybd.

commit 299573f4617c3b5599bb65069e96d050277b9471
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 18:40:15 2007 +0930

    dix: add AllocMasterDevice for creation of new master devices.
    
    Devices are initiated pretty much the same as the core devices.

commit 5fe9bfd23f17b84c3afaa82f75a7c517c9f8e0d3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 18:23:48 2007 +0930

    xfree86: NIDR: don't call PairDevices explicitly.
             set isMaster to FALSE explicitly.
    
    Pairing isn't necessary, attachment should be done in EnableDevices.

commit 5eb033835e92ea951cc385fd709af9656b3772d8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 18:03:52 2007 +0930

    mi: don't exclude inputInfo.pointer from rendering.

commit b697c4ed145968d3c3281bb85e628f1b068b09fc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 17:47:06 2007 +0930

    dix: CheckPassiveGrabOnWindow: only get paired device for non-keyboards.

commit caa69d8f7b92b80669df02e1001409d7c653e7e4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 17:38:13 2007 +0930

    dix: fix detritus from adding lastSlave field.

commit 90d077e537ac4cb7d79d67afcf3984a3e8d65fe8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 17:37:33 2007 +0930

    dix: GetPointerEvents: get state from master device before applying valuators.
    
    We need to get lastx/y from the master device before we start applying
    acceleration etc. Otherwise we get jumping cursors, which is reasonably bad.

commit b6ccf721b0a582150858d68f91967fb4e319c340
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 17:35:06 2007 +0930

    include: add "lastSlave" field to DeviceIntRec.
    
    Set to the last slave device that routed events through the master.

commit e6bd8ae0608bd8379c5ac962f69cd0bcc54f9734
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 15:59:30 2007 +0930

    dix: set the device's sprite when using AttachDevice
    
    Sprite is set to the master device's sprite.

commit 271d4c3d6255318aabb9ad1ea444f534ed456f0b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 15:50:07 2007 +0930

    xfree86: remove XI86_SHARED_POINTER flag.
    
    Not needed anymore. By default, all devices are slaves of first master device.

commit c7b878b90406781c97db751a9b454e2b6baee0e1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 15:07:31 2007 +0930

    dix: don't treat VCK/VCP separately in DevHasCursor, IsPointer/KeyboardDevice.

commit e9f149fb56747f7eaa0f714dce97b067b007c47e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 14:24:20 2007 +0930

    Fix up detritus from removing GetPairedPointer/Keyboard.

commit 840bde3d32f3627dfc3d7d8b6564a61a8014933b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 13:09:35 2007 +0930

    dix: GetPairedDevice: return dev paired with master for slave devices.

commit 6c259a08d917f94fd7381453b625b07826d3ef9c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 13:09:19 2007 +0930

    include: remove unused GetPairedPointer/Keyboard declarations.

commit fe97f7c54a1b42acd542696b6cdc9e83e89548f3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 22:46:08 2007 -0400

    registry: Add some missing #include's.

commit 9ecbbf198f4cec398897736e173e7e8c56bf6f94
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Oct 14 08:00:06 2007 +0930

    dix: adjust PickPointer and PickKeyboard to get the first master device.
    
    Simplifies it a lot, since we always have at least one master device
    available at all times, so less mucking around.

commit 0c5f65ecd3ad11fbdb1cab3cb1d0eb4f33bb4e35
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Oct 14 07:57:24 2007 +0930

    dix: don't allow slave devices as ClientPointer

commit 9ccc9ab6f29f68298b68cdb5c9b4bd57a095f05a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Oct 14 07:53:00 2007 +0930

    dix: don't call CloseDevice on VCP/VCK separately.

commit e4fd981b48723b77a6c1a528638a771b9cc35472
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Oct 14 07:52:11 2007 +0930

    dix: check for isMaster before calling DeviceCursorCleanup.

commit 7503d1340726e0a529f04304d177ed2ceb8fbc91
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Oct 14 07:50:13 2007 +0930

    dix: don't check VCK and VCP separately when looking for device ids.
    
    Both are part of the device list again, so we cover them there.

commit 032e906711202d376af95b37bb0cdf14a3648256
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 11:57:42 2007 +0930

    dix: Remove GetPairedPointer, GetPairedKeyboard in favour of GetPairedDevice.

commit 853ea337bdad17f8f6ec7d940de14ce2cbbbf93e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 22:13:02 2007 -0400

    registry: Register XvMC extension protocol names.

commit 58c3240fcbec23aad122e1c340f6bb6d3b18f779
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 22:09:47 2007 -0400

    registry: Register MIT-SCREEN-SAVER extension protocol names.

commit 3e07e73fefc100e491d1e465cb162373d1d82425
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 11:34:29 2007 +0930

    dix: remove pairing/attachment from InitAndStartDevices.
    
    If we enabled in the correct order, this has all been done already.

commit 4e274e90e16b1d954391e1af3e2074fb10f70ee7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 22:04:20 2007 -0400

    registry: Register SHAPE extension protocol names.

commit 9f597f6c87e0b14cc382d8e5929e42f822db4329
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 22:01:20 2007 -0400

    registry: Register SYNC extension protocol names.

commit 38baac71bdbb8c7e882e3e39133615cfed894a6b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Oct 14 04:21:42 2007 +0930

    dix: Set bidirectional pairing, don't allow pairing with already paired devs.

commit 70efd3d06a15093661933bda4ec21e306dece4a4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 11:30:32 2007 +0930

    dix: fix up Activate/Enable/Disable device.
    
    Set isMaster for VCP/VCK.
    Init sprites for master pointer devices.
    Pair master kbds with master pointers (1:1 pairing!).
    Attach other devices to VCP/VCK.

commit b504678ba5407a6fd8d47d051305f7c3d5606dfe
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 21:54:25 2007 -0400

    registry: Register APPGROUP extension protocol names.

commit 204f2dc89ef662b57400b128c30c15e8cf32f323
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Oct 14 04:13:06 2007 +0930

    include: add "isMaster" field to DeviceIntRec.
    
    Set to TRUE for master devices.
    
    Also fixing up comment for paired field in spriteInfo, will be set
    bidirectional from now on.

commit bd7d5255ce4865b684f7d8bcf80ba9872a1af22d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 16 11:18:31 2007 +0930

    dix: add AttachDevice, needed to attach a slave device to a master device.
    
    For now, we don't allow attaching slaves to other slaves, and we don't allow
    pairing slaves with other slaves.
    Pairing is for master keyboard->master pointer only.
    Attaching is for slave device->master device only.

commit 6ec35a8cf539c900b334dd6df146b394f54e3706
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 21:46:56 2007 -0400

    registry: Register BigRequests extension protocol names.

commit 1254cc399c53eadcc32eeabf69990ed2526c7ae0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 21:43:06 2007 -0400

    registry: Register Fontcache extension protocol names.

commit e987648cf2c21dcbd77dd9a71793090a48e4f521
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 21:38:56 2007 -0400

    registry: Register EVI extension protocol names.

commit be1565f6b8fb09eba9941d6f7c485bf5fb25fe7a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Oct 14 01:53:54 2007 +0930

    dix: Set core devices to ProcessOtherEvents, set sendCore and XKB.
    
    Even the virtual core devices should send through ProcessOtherEvents.

commit ce9bf9a19185a36ac2f7ae75acd320ab8d03d247
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Oct 14 01:50:40 2007 +0930

    include: add "master" field to DeviceIntRec.
    
    "master" points to the device this device is attached to. Event sent by the
    device will also be routed through the master.
    master and spriteOwner are mutually exclusive.

commit f6226d3bfe1515058e2092e8662ae87825501209
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 21:35:12 2007 -0400

    registry: Register TOG-CUP extension protocol names.

commit 7e182a5d89d618e20dcc77850131690733322d39
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 21:13:39 2007 -0400

    registry: Register MIT-MISC extension protocol names.

commit 32f6171862461d17ebea58a2fb6ddd16ac71358c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 21:10:14 2007 -0400

    registry: Register XF86Bigfont extension protocol names.

commit 12766c5b5ffdab95255a63b2c8421ee773fd43b5
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 21:00:46 2007 -0400

    registry: Register Xv extension protocol names.

commit 35ae03871af88b2f420dd83448011a077852d7a0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 20:50:26 2007 -0400

    registry: Register XC-MISC extension protocol names.

commit 32fe282d5b8306514d641e15bc6d9fd4ab360977
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 20:45:18 2007 -0400

    registry: Register XTest extension protocol names.

commit 3877faf7d9fe00ed634077e38a198ae4b91a2bb4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 20:35:13 2007 -0400

    registry: Register Multibuffer extension protocol names.

commit 16764a2d299c7c0c98002aadd52ab4a1a36758c3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 20:29:23 2007 -0400

    registry: Register DPMS extension protocol names.

commit f077578e42eee424b0e534774574c84af9d6f85b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 19:43:02 2007 -0400

    registry: Register XPrint extension protocol names.

commit 5c8b1a91726817816d20faefad21c7a68ab634cc
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 19:35:04 2007 -0400

    registry: Register Resource extension protocol names.

commit 48891d5696f56711f23743cb03be39cf6b26c522
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 19:32:01 2007 -0400

    registry: Register EVIE extension protocol names.

commit 2c9646ad4e65bb061d910c9e2b1a8a978f21fa17
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 19:18:03 2007 -0400

    registry: Register SHM extension protocol names.

commit 8964c6d8e14ae47798762191e359b2bf138ca32e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 19:10:51 2007 -0400

    registry: Register RENDER extension protocol names.

commit c827db57e4d9ca14c82b099dcfc9b7a0c0b5ba0a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 19:06:01 2007 -0400

    registry: Register RANDR extension protocol names.

commit 20db50b4c44a14f7eeac2b1de17ada68482521da
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 18:56:59 2007 -0400

    registry: Register DAMAGE extension protocol names.

commit b38a91993364aa80cfd99721e319e1458d9fb760
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 18:50:06 2007 -0400

    registry: Register XTrap extension protocol names.

commit 106758893b68033f14f69c4ee6591fb6a149ba37
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 18:31:40 2007 -0400

    registry: Register XFixes extension protocol names.

commit ea09c9acc8f0d5577f54c864ff88b7f03d93b2f4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 18:25:12 2007 -0400

    registry: Register Record extension protocol names.

commit 2e1e5be1d9067816525aa13a1d818e8ca6899599
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 18:18:57 2007 -0400

    registry: Register DBE extension protocol names.

commit 4c3285c883cc50a91bc5262bbc9d073d816f860a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 18:04:47 2007 -0400

    registry: Register WINDOWSWM extension protocol names.

commit 3815284e899b61731b6a63c4ba14c5d773e24eb6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 17:57:59 2007 -0400

    registry: Register XF86DGA extension protocol names.

commit 2cd1b32b77e0ceeaccb3f01c4ac13a97c557668c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 17:37:58 2007 -0400

    registry: Register XF86Misc extension protocol names.

commit 960677e876c068400fb45e1764bb5470cd8c389f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 17:30:00 2007 -0400

    registry: Register XF86VidMode extension protocol names.

commit b7786724080fd3928ef7b8c294346661d7ffd90b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 17:15:34 2007 -0400

    registry: Register XF86DRI extension protocol names.

commit eee46b4681ec55297604b0425705f2b18381f7ca
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 17:06:22 2007 -0400

    registry: Register APPLEWM extension protocol names.

commit b9f5ab98c8dea36dcce1ad15fd2e059a77e77c39
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 16:18:37 2007 -0400

    registry: Register XINERAMA extension protocol names.

commit 3464b419230c6d17e940d967b567c5d2cb22d232
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 15:45:12 2007 -0400

    registry: Register APPLEDRI extension protocol names.

commit 32f3f5a1e7654f8bb43ea16b9227b3994e616739
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 15:32:17 2007 -0400

    registry: Register DMX extension protocol names.

commit 166ef972febc00c665e1d5aeb68e75d7bbcf9879
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 15:22:02 2007 -0400

    registry: Register composite extension protocol names.

commit a5cf3f21f712e46dbf9bca289e67be75f2b531d3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 14:27:32 2007 -0400

    registry: Register XKB extension protocol names.

commit 5277a6ff589b5ddb475b90e1aaf5dbd9172d9711
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Oct 15 13:38:35 2007 -0400

    registry: Register Input extension protocol names.

commit 8b5078b7d9ec08a588a78eb49096b698c6f4916b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Oct 15 13:10:10 2007 -0400

    Fix byte swapping for GetFBConfigs.

commit c922d2eebe29f08f463ee76293dc9042712fb21c
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Oct 14 20:40:18 2007 +0300

    glx: drop duplicate GetDrawableAttributesSGIX declarations.
    
    They are officially autogenerated in indirect_dispatch.h now.

commit 3d4eb17b38dcb1468493f3686dc5ea3623ef9a73
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Oct 14 18:07:03 2007 -0700

    mass change from #ifdef i386 to #ifdef __i386__ to conform to ANSI

commit ec0fc012e91e703bb399a380df2912f71957a220
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Oct 14 14:59:12 2007 -0400

    Fix GLX byteswapping.

commit 927757e1028f45f7fd94b9a2ab35567e0f34b2a8
Merge: ccda4b6 17ffc34
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Oct 12 19:28:39 2007 -0400

    Merge branch 'master' of git://git.freedesktop.org/git/xorg/xserver

commit ccda4b66bdfc179e661b24adc8ec72bb7db75b2b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Aug 27 14:43:48 2007 -0400

    Implement ChangeDrawableAttributes so we can support GLX_EVENT_MASK.
    
    We never need to actually send out the clobber event, so this should be
    sufficient for GLX 1.3.

commit 695eb8b2e88abc9fa3a76d8da48c3214c7dd1f08
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Aug 27 14:23:50 2007 -0400

    Implement GLX pbuffers.

commit 516c181f57367847c3f317f8f8f5cc3211026f4c
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Aug 23 21:40:01 2007 -0400

    Add dispatching for GLX_SGIX_pbuffer.

commit d7ded953c4d263e3dd3374dc03eea19e80c05bc6
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Aug 23 19:07:52 2007 -0400

    Implment GLXPixmaps.

commit 526f40434c86548830c4f72940462b6253fe9790
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Oct 12 18:18:00 2007 -0400

    NULL is not a valid argument to CreatePicture, please use serverClient
    as the client argument if no real client is creating the object.

commit 2b0847c7aaf95b6b10f062dfff601032b2430a9b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Aug 8 10:07:03 2007 -0400

    Implement damage reporting for AIGLX.

commit 600028305cc047e824b18369a026f89c9eb7e437
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 31 22:55:47 2007 -0400

    Move hyperpipe and swapbarrier extension funcs to screen private struct.
    
    This gets rid of a couple more global arrays and gets the two extensions
    more in line with the general extension mechanism.

commit 781515bb637de4fd79e3c83817cb6ffa8f2d8a4f
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed May 30 23:25:03 2007 -0400

    Convert GLX module to use screen private indexes like everything else.

commit 72a3d68a2f5abcd09fef1a55e976e1a5731d4b02
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu May 10 11:16:50 2007 -0400

    Update the AIGLX DRI loader to use the new DRI interface.
    
    This lets us drop a bunch of workarounds and use the new DRI extension
    mechanism.

commit 17ffc34ad5e9a8e2269afef05f209701f1895c01
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Oct 12 15:33:31 2007 +0200

    Drivers include miscstruct.h which requires pixman.h.

commit eaf0e2a21c2cb14e19852e61a4521b3c240253af
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Oct 11 22:31:24 2007 -0400

    Fix another compiler warning

commit a5089af726b6a4f833b95a31274743c994277e20
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Oct 11 22:24:31 2007 -0400

    Fix a warning about the control logic in xchomp()

commit cdf29ff45a3cb45573c9d0cb8f82e6ee97953fb5
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Oct 11 22:23:34 2007 -0400

    Remove some unused variables

commit 3367091f7fa14497aab40e668cad179e244eef81
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Oct 11 22:21:38 2007 -0400

    Separate choosing driver from the file-based implementation
    
    This clears the implementation out of the way to prepare for development
    of a symbol-based resolution scheme

commit 3aa41bcb8215c037512ddbd68a3f7bcad3b80a1f
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Oct 11 21:29:13 2007 -0400

    Remove obsolete error message define from parser

commit e3e12221111886c4063d2da5d70d3830c56d39e2
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Oct 11 21:27:07 2007 -0400

    Don't bother validating the Device section of the conf file
    
    All the previous tests can now be recovered from if not specified.

commit 28ef7f59416677be380561709197b04df0479bef
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Oct 11 20:56:46 2007 -0400

    Re-enable validation of the screen section of xorg.conf
    
    This also fixes a problem where the server can't find the device section
    when it is specified in the screen section.

commit ea2d4dc468dcebe6d38e676469ec51ed1d43490b
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Oct 11 20:26:02 2007 -0400

    When there's no xorg.conf, use the video driver autoloading function

commit fc092334ac0a323b80a9602cb8bf60ca9dee3bfa
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Oct 11 16:48:56 2007 -0700

    Bug #10304,12784,11603: Add quirks for several physical size issues.
    
    A lot of EDID writers apparently end up stuffing centimeters (like the
    maximum image size field) into the detailed timings, instead of millimeters.
    Some of them only get it wrong in one direction.  Also, add a quirk to let
    us mark the largest 75hz mode as preferred, which will often be used for
    EDID 1.0 CRTs.

commit 6adeba17301a309be2f34cd51eca84a13d5503fd
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 11 14:17:17 2007 -0400

    dix: Add a new "registry" mechanism for registering string names of things.
    Supports protocol requests, events, and errors, and resource names.
    Modify XRES extension to use it.

commit 45cc03726b49f6ad4afe6c3fb4ad65d1051928b4
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Oct 11 18:23:25 2007 +0200

    Make mode checking more tolerant like in pre-RandR times.

commit 8f23d40068151ad85cde239d07031284f0b2c4dc
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 10 19:56:03 2007 -0400

    xace: move the property deletion hook inside the DeleteProperty function.

commit 473bc6ec4c59e1a962b0b897c449a69aa5064ab0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 10 19:43:12 2007 -0400

    xace: remove the special-cased "ignore" functionality from the property code.
    
    There will be no more faking of Success to hide things.  XACE does not
    provide polyinstantiation.

commit 7e9e01a4a34fa45521067d43c5bbff942dd5d51a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 10 17:40:22 2007 -0400

    dix: pass a valid ClientPtr to SetFontPath in all cases.

commit 8825d36a38c76ff8faf409c853061be2bd33430d
Author: David Nusinow <dnusinow@debian.org>
Date:   Tue Oct 9 22:49:07 2007 -0400

    Allow the user to not have a screen section
    
    If none is present, a default one will be created. This will be attached
    to either the first device section in the xorg.conf (allowing you to
    specify something like using EXA without having a screen section) or a
    default screen section if none is present in the file.

commit 8665cf3327b713f334b0483593a924c197f892f2
Author: David Nusinow <dnusinow@debian.org>
Date:   Tue Oct 9 22:45:15 2007 -0400

    Don't require that the screen explicitly attach the device section
    
    This will allow the screen to not explicitly have a device section. If
    this is the case and there is a device section in the xorg.conf, the first
    one will be used. If there is no device section at all, a default one will
    be created that loads the automatically determined module.

commit 37898b824fdc94735495e3494aa2b9a681d477b9
Author: David Nusinow <dnusinow@debian.org>
Date:   Tue Oct 9 22:11:58 2007 -0400

    Use the best guess heuristic as a fallback for autoloading
    
    This prevents breaking the current behavior

commit 847fbbf4d25132e6c1f99fcf82fe757dbca94a34
Author: David Nusinow <dnusinow@debian.org>
Date:   Tue Oct 9 22:07:49 2007 -0400

    Fix autoloading of drivers for pci-rework

commit 6033d8150be3a115b90226eaa42f237bb0cf3369
Author: David Nusinow <dnusinow@debian.org>
Date:   Tue Oct 9 21:17:27 2007 -0400

    First pass at improved video driver autoloading
    
    This is what we're currently shipping in Debian. Enables the ability for
    drivers to ship a text file listing PCI ID's they support, and have the
    server read them on startup when no driver is specified. This works, but
    isn't the final solution.

commit 81d7b81146224f2b83278f5e21b3f9a36f30bd56
Author: David Nusinow <dnusinow@debian.org>
Date:   Sat Aug 25 15:00:30 2007 -0400

    Load intel instead of i810 when autoconfiguring

commit fdef7be5c8d5989e0aa453d0a5b86d0a6952e960
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Oct 9 18:44:04 2007 -0700

    Sun bug 6589829: include zoneid of shm segment in access policy for MIT-SHM
    
    <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6589829>
    <http://www.opensolaris.org/os/community/arc/caselog/2007/500/>

commit 49c8285e38e0e71c9ea43df63add08a4f2564ed1
Author: Christian Weisgerber <naddy@freebsd.org>
Date:   Tue Oct 9 15:25:16 2007 -0700

    FreeBSD/alpha server build requires libio (missed in modularization).

commit 042e16458b751ad0fcfa1ebbdd74d7d48036b22a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 9 23:07:51 2007 +0930

    dix: change a few inputInfo.keyboard over to PickKeyboard()

commit 6aab6a6e2ae0ef5fdedae09cf2cdc86f382e3a8a
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Mon Oct 8 13:25:38 2007 +0200

    EXA: dude, don't validation driver hooks twice !

commit d42909b23a9be64a26aa349c1d6dcd8b228bffa7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Oct 5 13:04:10 2007 +0930

    dix: when disabling a device, make sure all paired devices are re-paired.
    
    We re-pair them with the VCP, not a real device! If we would do otherwise,
    somebody may change our keyboard focus and thus get us typing where we don't
    want to type.

commit ff2351246da30b56a3a8f90654993c41b8eb3921
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Oct 5 12:19:03 2007 +0930

    dix: When pairing, only check for access right if client is set.
    
    If the pairing client is not set, then the pairing is initiated internally
    (e.g. when a new keyboard device is configured). In this case we _must_ pair
    regardless of who is the pairing client.

commit 4611f9568cdadf9c00f4b7ca4c77c8c6f07e94f8
Merge: ab11bad 3549a12
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Oct 4 13:07:50 2007 +0200

    updated from 'master'

commit ab11bad54707941eb41be62c025b983760ce3900
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Oct 4 13:05:29 2007 +0200

    Xephyr: remove a potential crasher
    
    	* hw/kdrive/ephyr/hostx.c:
    	  (hostx_has_dri): be more defensive.

commit 06c8977966e76255ce7798f4839ef6e3530264a8
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Oct 4 13:01:24 2007 +0200

    Xephyr: better handling of the -nodri option
    
            * hw/kdrive/ephyr/ephyr.c:
              (ephyrInitScreen): try and detect when the host has no
              DRI support. In that case, switch to the -nodri behaviour.
              When in the -nodri case, make sure not to skip glx visual
              initialisation.

commit ea94f59e9b8824b1a638c63e06ca16f0efd43869
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Oct 4 12:54:26 2007 +0200

    Xephyr: don't disable glx visual init by default
    
            * hw/kdrive/ephyr/ephyrinit.c:
              (ddxProcessArgument): disabling visual init here
              is bad because it gets disabled even when we want
              to use software GL, leading to Xephyr :1 -nodri
              crashing in mesa.

commit a7f210e6fcda14eae4de64186904c6c676c758ee
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Oct 4 12:51:08 2007 +0200

    Xephyr: fix a compiler warning

commit 5d6eac1251f1e17baa74d0893bb225b775e8ec2e
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Oct 4 12:47:05 2007 +0200

    Xephyr: remove an unused variable

commit 8018733c39c283a931df424dcfd11e7aefbcd8cf
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Oct 4 12:06:19 2007 +0200

    Xephyr: better compilation without GLX
    
    	* hw/kdrive/ephyr/ephyrinit.c: protect GLX related code with GLXEXT
    	  macro

commit 3549a1282365e69e70c7c2546cfa7d25923cce31
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Oct 4 11:38:01 2007 +0200

    EXA: Disable 1x1 pixmap fill optimization for drivers that handle pixmaps.
    
    This reverts commit 1365aeff5499a051375e43a9fcbf54733ac93929.
    
    It defeated the optimization for drivers that don't provide a CreatePixmap
    hook. The optimization makes no sense for drivers that do anyway, so disable
    it for them completely.

commit 604ebb5a6de372e6a8a96e0ee997db7929126860
Merge: 1365aef 4ba76a7
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Oct 3 16:13:16 2007 +0200

    Merge Xephyr-XV/GL stuff into master

commit 4ba76a7e2b62d26f43c0e670de571afb75ec92f4
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Oct 3 13:03:34 2007 +0200

    Xephyr: port XV/GL stuff of the new multiscreen architecture
    
            We can now launch GL or XV apps in any of the
            Xephyr screens we want.
    
    	* hw/kdrive/ephyr/hostx.c,h:
    	 (hostx_get_window):
    	 (hostx_create_window): make these functions be screen
    	 number aware.
    	* hw/kdrive/ephyr/XF86dri.c : fix some compiler warnings.
    	* hw/kdrive/ephyr/ephyrdri.c:
    	 (ephyrDRIQueryDirectRenderingCapable),
    	 (ephyrDRIOpenConnection),
    	 (ephyrDRIAuthConnection),
    	 (ephyrDRICloseConnection),
    	 (ephyrDRIGetClientDriverName),
    	 (ephyrDRICreateContext),
    	 (ephyrDRIDestroyContext),
    	 (ephyrDRICreateDrawable),
    	 (ephyrDRIGetDrawableInfo),
    	 (ephyrDRIGetDeviceInfo): in all those functions, don't forward
    	 the screen number we receive - from the client - to the host X.
    	 We (Xephyr) are always targetting the same X display screen, which is
    	 the one Xephyr got launched against. So we enforce that in the code.
    	* hw/kdrive/ephyr/ephyrdriext.c:
    	 (EphyrMirrorHostVisuals): make this duplicate the visuals of the host X
    	  default screen into a given Xephyr screen. This way we have a chance
    	  to update the visuals of all Xephyr screen to make them mirror those
    	  of the host X.
    	 (many other places): specify screen number where required by the api
    	 change in hostx.h.
    	* hw/kdrive/ephyr/ephyrglxext.c: specify screen number where required
    	 by the api change in hostx.h
    	* hw/kdrive/ephyr/ephyrhostglx.c: don't forward the screen number we
    	  receive - from the client - to the host X.
    	  We (Xephyr) are always targetting the same
    	  X display screen, which is
    	 the one Xephyr got launched against. So we enforce that in the code.
    	* hw/kdrive/ephyr/ephyrhostvideo.c,h: take in account the screen number received
    	  from the client app. This is useful to know on which Xephyr screen we
    	  need to display video stuff.
    	* hw/kdrive/ephyr/ephyrvideo.c: update this to reflect the API change
    	  in hw/kdrive/ephyr/ephyrhostvideo.h.
    	  (ephyrSetPortAttribute): when parameters are not valid
    	   - they exceed their validity range - send them to the host anyway
    	   and do not return an error to clients.
    	  Some host expose buggy validity range, so rejecting client for that
    	  is too harsh.

commit ab88cb8d2e7c1410f9ed2be928b38f176b132e11
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 3 18:08:33 2007 +0930

    Xext: add missing geint.h to Makefile.am (un-breaks make dist)

commit 9f2b493e34e93881101f31e631901d3fe56da4f0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 27 15:35:41 2007 +0930

    xkb: remove some warning comments.
    
    Obsolete with 340911d7243a7f1095d79b5b2dcfa81b145c2474.

commit 1eebb03a3190947a8102f2ddc73766cf98d34c84
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 3 15:18:17 2007 +0930

    dix: ignore passive grab if the client already has a grab on the device.
    
    In some cases a button press may activate a passive core grab. If the client
    owning the passive grab already has a core grab on another device, don't
    actually activate it. Otherwise the client gets two simultaneous passive
    core grabs, and may never ungrab the device again (only if the other grab uses
    GrabModeSync).
    
    Reproducable: fire up gnome-session, open up gnome-terminal. Click with the
    ClientPointer onto the window decoration, then click with another pointer onto
    an application icon in the panel. Drag the icon out, release the button and
    voila - you just lost your second mouse.

commit 0b485067823620b5dbd9ef2b3e13bd35ad5a4410
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 3 14:22:55 2007 +0930

    dix: send NotifyGrab/NotifyUngrab focus events regardless of semaphore state.
    
    This is just papering over a problem. The whole focus system needs to be
    revised.

commit 05106ac9839102c0e4a3ce5d9d83d19abf129f8a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Oct 3 11:33:10 2007 +0930

    dix: change Enter/Leave semaphore handling to accommodate for NotifyGrab.
    
    This is a half-assed attempt at getting rid of some enter-leave problems. When
    a grab is activated, the events didn't get sent before, leading to interesting
    results. This commit papers over it but doesn't actually fix it properly. The
    whole enter/leave (focusin/out) structure needs to be ripped out and changed
    for multiple devices.

commit 1365aeff5499a051375e43a9fcbf54733ac93929
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Oct 3 12:00:16 2007 +1000

    exa: direct access to the pixmap sys ptr is bad if the pixmap isn't mapped

commit 566dd3b7d789ba60d0adf33b3f729cfb02ff33cd
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Oct 3 11:59:52 2007 +1000

    exa: add new flags to denote driver handles all pixmap migration/hiding

commit 1df1fee82d3565f6d8cfb91ce25a81c23a10a4b5
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Oct 3 11:56:04 2007 +1000

    exa: make sure we set fb_ptr to NULL

commit a358b87f45ce75e5d013fc904a07dfe394f74387
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Oct 2 13:13:51 2007 -0700

    Just link against libcrypto instead of relying on openssl pkg-config.
    
    Also fix incorrect library inclusion by kdrive which broke the build.

commit 439edc768eea17667846ce573c843b8377e0dfb4
Merge: c8ccf46 93ae6fe
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Oct 2 12:14:04 2007 -0700

    Merge branch 'glyph-pixmaps'
    
    Conflicts:
    
    	configure.ac
    	exa/exa_render.c

commit 59cebcd2e9302d15a52588ecafbbc2d2c5ae3a6c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 2 13:39:25 2007 -0400

    xace: add creation hook for new input devices.
    
    Unfortunately, more information is needed to properly label the device.
    This will come from the configuration file, the hotplug messages, etc.
    It will either have to be passed into this function,
    or this hook moved down into the callers.

commit b77d272d7555c1e0f176ee74b8717030a6d6c7b0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 2 13:21:53 2007 -0400

    xace: add hooks + new access codes: XTEST extension

commit c8ccf469dcb2d7609b23faa8b4999c436263051e
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Oct 2 08:59:40 2007 -0700

    Do not build hw/xfree86/os-support/bus/ix86Pci.c on Linux.
    
    Linux has custom PCI bus support functions, so this generic code is
    unnecessary.

commit dcb4db1bf5b6fcfaed4e7162eb6c7a3a509e14bd
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Sep 19 15:46:09 2007 +0200

    Xephyr: glx fixlet
    
    	* hw/kdrive/ephyr/ephyrhostglx.c:
    	  (ephyrHostGLXQueryVersion): properly query
    	  the host for its gxl version.

commit 6a435b00003fb00930299a0e0810c93afc23a72e
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Sep 19 15:35:51 2007 +0200

    Xephyr: check presence of extensions in host X
    
    	* hw/kdrive/ephyr/hostx.c,h:
    	  (hostx_has_xshape),
    	  (hostx_has_glx),
    	  (hostx_has_dri): added these new entry points
    	* hw/kdrive/ephyr/ephyrdriext.c:
    	  (ephyrDRIExtensionInit):
    	  check presence of DRI and XShape extensions before
    	  trying to use them.
    	* hw/kdrive/ephyr/ephyrglxext.c:
    	  (ephyrHijackGLXExtension):
    	  check presence of glx extension before we use it.

commit 2b217fc055300d4c709dd27c4e8ec8166183993b
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Sep 19 15:00:43 2007 +0200

    Xephyr: cleanup XF86dri.c a bit

commit f731b9da7dbafad50dd5a1e8da28ce86ffab19b7
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Sep 18 18:41:18 2007 +0200

    Xephyr: add -nodri and -noxv switches.
    
    	* hw/kdrive/ephyr/ephyr.c,ephyrinit.c::
    	  add -nodri and -noxv to disable either DRI or XV.
    	  When -nodri, mesa GL (non acceleretated) works.

commit 50674391388b3cfe987782a3ad81b4f240f3db67
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Sep 18 18:37:49 2007 +0200

    Kdrive: use fbcmap_mi.c instead of fbcmap.c
    
    	* hw/kdrive/src/Makefile.am: use fb/fbcmap_mi.c
    	  and not fb/fbcmap.c. This allows kdrive to take advantage of
    	  extensions redefining the entry points of  micmap.c stuff.
    	  For instance it allows Xephyr to have a working GL, which is not
    	  possible otherwise, because GL redefines mInitVisualsProc
    	  to initialise its visuals.

commit a5bd536869f646e4024befa84f6e677b990310bc
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Sep 18 18:28:25 2007 +0200

    fbcmap_mi.c: add a missing api
    
            * fb/fbcmap_mi.c:
             (fbSetVisualTypesAndMasks): added this entry point that was missing.
             This is useful so that servers using this entry point can use fbcmap_mi.c,
             and be obliged to stick to fbcmap.c. Note that fbcmap.c does implement this
             entry point. Up to now, kdrive based server could not use fbcmap_mi.c because this
             entry point was missing. The will allow Xephyr to properly use GL.

commit 6307ee77091041af2d34e93bc164352d4438a808
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Sep 18 18:22:44 2007 +0200

    GLX: allow skipping of visual init wrapping
    
    	* GL/glx/glxvisuals.c: added boolean to disable
    	  calling init_visuals(). This gives a chance to Xephyr
    	  to take over visuals manipulation and avoid a crash at
    	  server shutdown in __glXMesaScreenDestroy(), due to the fact
    	  that mesa might sees more visual than what it has actually created in
    	  init_visuals(). It might see more visuals because Xephyr can augment
    	  the number of visuals, dynamically.
    	* os/utils.c: the boolean is actually defined here.

commit ffe9ce6a843443606ad9367eca1645bf5e0635e5
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Mon Sep 17 22:13:51 2007 +0200

    Xephyr: fix a clipping issue xephyr-dri
    
    	* hw/kdrive/ephyr/ephyrdri.c:
    	  (ephyrDRIGetDrawableInfo): force the back clipping rects
    	  to equal the front clipping rects.
    	* hw/kdrive/ephyr/ephyrdriext.c:
    	  (ProcXF86DRIGetDrawableInfo): properly overclip the clipping rects we
    	   got from the client. This bug fixes a clipping rect that was too
    	   small in height, basically. Also fix a possible mem corruption.
    	* hw/kdrive/ephyr/hostx.c:
    	  (hostx_set_window_geometry): remove a useless XSync

commit 79782726617d4b5a4f9b376f21936d035fc870e1
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Mon Sep 17 18:15:03 2007 +0200

    Xephyr: properly clip GL drawables in Xephyr

commit 3816d64e50a59e0ef276ddd6cb250cab98a49392
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Sun Sep 9 15:20:51 2007 +0200

    Xephyr: oops, forgot to add ephyrdriext.h

commit cf58781eee7d91a3bbca701a2c4523a36f8e0abb
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Sat Sep 8 00:33:59 2007 +0200

    Xephyr: make accelerated glxgears work in Xephyr
    
    	* hw/kdrive/ephyr/ephyr.c:
    	 (ephyrInitialize): cleanup ephyrDRI extension init.
    	 remove functions that belongs in ephyrdriext.c .
    	* hw/kdrive/ephyr/ephyrdri.c:
    	 (ephyrDRICreateDrawable): create the drawable on the host X peer
    	  window, not on the host xephyr main window.
    	 (ephyrDRIGetDrawableInfo): get drawable info of the host X peer
    	  window.
    	* hw/kdrive/ephyr/ephyrdriext.c: make ephyr DRI extention wrap
    	  a bunch of screen ops so that it can update the host X peer
    	  window whenever DRI bound drawable are moved in Xephyr.
    	  Also code the building blocks of the management of the
    	  host X window peer.
    	* hw/kdrive/ephyr/hostx.c,h:
    	  (hostx_create_window): added this new entry point
    	  (hostx_destroy_window): ditto
    	  ()hostx_set_window_geometry): ditto

commit 6d1e44d3d53b451d466d43197be589d0ecc4b9f6
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Sep 4 18:28:16 2007 +0200

    Xephyr: fix a host X hang.
    
    	* hw/kdrive/ephyr/ephyrdri.c:
    	  (ephyrDRIGetDrawableInfo): quickly hook
    	  this into getting the drawable info from the host
    	  X server. For the time being, this only gets the drawable info
    	  of the Xephyr main window in the host. It should really get
    	  the info of a the peer drawable in the host X. So there should be a
    	  peer drawable to begin with.
    	* hw/kdrive/ephyr/ephyrdriext.c:
    	  (ProcXF86DRIGetDrawableInfo): some cleanups. Properly get the
              the drawable info otherwise there is a host X hang.
    	* hw/kdrive/ephyr/ephyrhostglx.c: do not
    	  (ephyrHostGLXQueryVersion): do not use C bindings of the glx protocol
    	   calls. Some of those actually access DRI context directly, resulting
    	   in the context having three clients. Instead all XF86DRI proto
    	   fowarding request should be coded by hand and only forward the
    	   protocol requests

commit a39b57d2f784f14e3198c8506f5eb865bacc2440
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Fri Aug 31 16:53:18 2007 +0200

    Xephyr: add more logging to GLX forwarding
    
    	* hw/kdrive/ephyr/ephyrhostglx.c: added more logging.

commit 9e192d2118246ad715e23cf5626a038274eb1eaa
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Fri Aug 31 14:43:39 2007 +0200

    Xephyr: better error handling in GLX forwarding
    
    	* hw/kdrive/ephyr/ephyrglxext.c:
    	  fixed various logging functions
    	  (ephyrGLXGetStringReal): make sure all the string is sent to clients
    	  including the ending zero.
    	* hw/kdrive/ephyr/ephyrhostglx.c:
    	  (ephyrHostGLXGetStringFromServer): better error handling.
    	  (ephyrHostGLXSendClientInfo): ditto.
    	  (ephyrHostGLXMakeCurrent): ditto

commit 4dd4be99df38b70d43b02d9cb19e09e0ed94462b
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Thu Aug 30 23:54:49 2007 +0200

    Xephyr: Make glxinfo work on the ATI R200 free driver.
    
    	* hw/kdrive/ephyr/ephyr.c:
    	  (EphyrDuplicateVisual): when duplicating the
    	  visual, copy the color component masks and the class
    	  from the hostX
    	  (EphyrMirrorHostVisuals): don't mix blue and green mask.
    	* hw/kdrive/ephyr/ephyrdri.c: add more logs.
    	  (ephyrDRICreateDrawable): actually implement this.
    	  for the moment it creates a DRI drawable for the hostX window,
    	  no matter what drawable this call was issued for.
    	  (ephyrDRIGetDrawableInfo): actually implemented this.
    	  for the moment the drawable info queried for its attrs is the
    	  Xephyr main main window.
    	* hw/kdrive/ephyr/ephyrdriext.c:
    	  (ProcXF86DRIGetDrawableInfo): properly hook this dispatch
    	  function to the ephyrDRIGetDrawableInfo() function.
    	* hw/kdrive/ephyr/ephyrglxext.c: add a bunch of GLX implementation hooks
    	  here. Hijack some of the xserver GLX hooks with them. Still need to
    	  properly support byteswapped clients though.
    	* hw/kdrive/ephyr/ephyrhostglx.c,h: actually implemented the protocol
    	  level forwarding functions used by the GLX entr points in
    	  ephyrglxext.c. Here as well, there are a bunch of them, but we are
    	  far from having implemented all the GLX calls.
    	* hw/kdrive/ephyr/hostx.c,h:
    	  (hostx_get_window_attributes): added this new entry point
    	  (hostx_allocate_resource_id_peer): added this to keep track of
    	   resource IDs peers: one member of the peer is in Xephyr, the other
    	   is in host X.
    	  (hostx_get_resource_id_peer): ditto.

commit 8c78df0ea36abc7d46c4f59670289f4280f75507
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Thu Aug 30 22:31:47 2007 +0200

    Xserver: fix potential crash
    
    	* dix/extension.c:
    	  (AddExtensionAlias): don't crash when failed to add
    	  extension alias.

commit 024abe825cd702334266f6b8da289907bbd05970
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Tue Aug 28 15:59:45 2007 +0200

    Xephyr: add logging in the DRI extension

commit 1dd589410c6c5e8b62b4d15ec681b01452ec68c6
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Tue Aug 28 15:58:55 2007 +0200

    mirror the visuals of the host X at startup.
    
    	* hw/kdrive/ephyr/ephyr.c: make Xephyr mirror
    	  the visuals of the host X upon startup. This
    	  is important for GLX client apps.
    	* hw/kdrive/ephyr/hostx.c,h: add a hostx_get_visuals_info()
    	  to get the visuals of the host X.

commit 26da625055a3876c93a7a005520657b971748c4e
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Tue Aug 28 15:55:05 2007 +0200

    proxy the glXGetFBConfigSGIX call
    
    	* hw/kdrive/ephyr/ephyrglxext.c:
    	  (ephyrGLXGetFBConfigsSGIX): proxy the GLXGetFBConfigsSGIX call.
    	  It is a vendor extension to get the visual configs as a list of
    	  name/value pairs.
    	  (ephyrHijackGLXExtension): hijack the VendorPriv_dispatch_info
    	  dispatch table to register our implementation of GLXGetFBConfigsSGIX
    	  (ephyrGLXGetFBConfigsSGIXReal): added this where the real
    	   implementation of GLXGetFBConfigsSGIX is. It support bytes swapping.
    	  (ephyrGLXGetFBConfigsSGIX,ephyrGLXGetFBConfigsSGIXSwap): these are
    	  the dispatch entry points. They just call
    	  ephyrGLXGetFBConfigsSGIXReal.
    	* hw/kdrive/ephyr/ephyrhostglx.c,h: reorganize the proxies to get
    	  visual params from the host so that they clearly support the different
    	  methods of doing so.

commit 5af73f98c46dfe5640185ca90feb20c39c6e06fa
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Fri Aug 24 16:30:50 2007 +0200

    EPHYR: Add an experiment proto proxy extension.
    
    	* hw/kdrive/ephyr/Makefile.am: add the proxy extension to
    	  ephyr. The proxy extension is an experimental extension that
    	  forwards protocol packets targeted at a given extension to the
    	  host X.
    	* hw/kdrive/ephyr/ephyr.c: init proxy ext.
    	* hw/kdrive/ephyr/ephyrhostproxy.c,h: added this new file as part of the
    	  proxy extension.
    	* hw/kdrive/ephyr/ephyrproxyext.c,h: ditto
    	* hw/kdrive/ephyr/hostx.c: add the hostx_get_get_extension_info() entry
    	  point.

commit c06fa924b4781a35b86e4a78d95ff3e9d95b02d1
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Thu Aug 23 11:53:02 2007 +0200

    XEPHYR: more GLX/DRI proxying work.
    
    	* hw/kdrive/ephyr/XF86dri.c: re format this correctly.
    	  Make function decls honour the Ansi-C standard.
    	* hw/kdrive/ephyr/ephyr.c: protect glx/dri related
    	  extension initialisation with the XEPHYR_DRI
    	  macro. Initialize the GLX ext hijacking
    	  at startup.
    	* hw/kdrive/ephyr/ephyrdri.c: add more logging to ease debugging
    	* hw/kdrive/ephyr/ephyrdriext.c: ditto. reformat.
    	* hw/kdrive/ephyr/ephyrglxext.c,h: add this extension to
    	  proxy GLX requests to the host X. started to proxy those nedded to
    	  make glxinfo work with fglrx. Not yet finished.
    	* hw/kdrive/ephyr/ephyrhostglx.c,h: put here the actual
    	  Xlib code used to hit the host X server because Xlib stuff cannot be
    	  mixed with xserver internal code, otherwise compilation erros due to
    	  type clashes happen. So no Xlib type should be exported by the
    	  entrypoints defined here.

commit 0b8545144975bf7ed43c2564d01c697144eb1244
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Thu Aug 16 17:30:13 2007 +0200

    Implement ReputImage and StopVideo
    
    	* hw/kdrive/ephyr/ephyrhostvideo.c/h:
    	  (ephyrHostXVStopVideo): add this entry point.
    	* hw/kdrive/ephyr/ephyrvideo.c:
    	  Basically add ReputImage and StopVideo implementations.
    	  Now, when other windows obscur the video window, the reclipping
    	  seems to be well handled using StopVideo and ReputImage.
    	  To do this, I was obliged to save the frame in PutImage, so
    	  that I could resend it un ReputImage.

commit 810dc55866d1c2343512354646c7ab309ea1fad2
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Thu Aug 16 17:11:22 2007 +0200

    Ephyr-Xv: add a new line to a log
    
    	* hw/kdrive/ephyr/ephyrvideo.c:
    	  (ephyrQueryImageAttributes): add newline to log.

commit 47e6dff89e48249828e828502e98951eee7f85bc
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Thu Aug 16 17:07:36 2007 +0200

    Xephyr-Xv: fix a crash when host X support several ports
    
    	* hw/kdrive/ephyr/ephyrvideo.c:
    	  (ephyrXVPrivQueryHostAdaptors): properly set
    	  port private luke. This fixes a crash when
    	  the host Xv supports multiple ports.
    	  Make sure number of ports cannot be zero.

commit a38ad562a6f50e9d76a37917b936035215ea460e
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Wed Aug 15 19:40:10 2007 +0200

    make xephyr talk DRI protocol with hostX
    
    	* configure.ac,include/dix-config.h.in: define the XEPHYR_DRI macro.
    	  define it when --enable-xephyr and --enable-dri are both turned on.
    	* hw/kdrive/ephyr/XF86dri.c: copy this from mesa source to enable
    	  Xephyr to talk DRI protocol the host X. In mesa, this is used by libGL.so to
    	  talk DRI protocol with the server.
    	* hw/kdrive/ephyr/ephyr.c: finally initialise the DRI extension
    	  in the ephyrInitScreen() function.
    	* hw/kdrive/ephyr/ephyrdri.c,ephyrdriext.c: safeguard the compilation
    	  using the XEPHYR_DRI macro.

commit e4239a48075c77e6a8d2d5cb21f58dd67687482f
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Aug 14 22:48:41 2007 +0200

    Initial dri forwarding big bricks.
    
    	* hw/kdrive/ephyr/ephyrdriext.c: added this to implement a DRI extension
    	  into Xephyr. Normally the DRI extension is only present in the
    	  xfree86 server, but I have ported it to Xephyr. The extension calls
    	  functions that declared/defined in ephyrdri.h ephyrdri.c that
    	  forwards the DRI calls to the host X. It does not work yet, as this
    	  entry is just to put the big bricks in place.
    	* hw/kdrive/ephyr/ephyrdri.c,h: declaration & definition of the
    	  DRI client API that would hit the hostX server.
    	* hw/kdrive/ephyr/GL/internal/dri_interface.h: added this, otherwise
    	  inclusion of /usr/include/X11/dri/xf86dri.h won't compile

commit e01d3dd98d1b596e75d25f94dd89c7d41223011d
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Aug 9 10:55:10 2007 +0200

    Support clipping region in PutImage.
    
    	* hw/kdrive/ephyr/ephyrhostvideo.c,h:
    	  (ephyrHostXVPutImage): make this support clipping region.
    	  The clipping region is propagated to host using XSetClipRectangles.
    	  This changes the API of ephyrHostXVPutImage.
    	* hw/kdrive/ephyr/ephyrvideo.c:
    	  (ephyrPutImage): propagate the clipping region to the new
    	  ephyrHostXVPutImage() entry point.

commit 39d3895469f07304d72800d8dcef6c7732f13d5f
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Aug 8 14:27:32 2007 +0200

    make EphyrXVPriv be a singleton
    
    	* hw/kdrive/ephyr/ephyrvideo.c:
    	  (ephyrInitVideo) make the EphyrXVPriv object be a
    	   singleton instance, otherwise a new object is created at each
    	   generation.

commit 4ed083095a13ec92bb4c8e705f26500f8312c138
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Aug 7 14:16:13 2007 +0200

    add [Get/Put]Video and [Get/Put]Still support
    
    	* hw/kdrive/ephyr/ephyrhostvideo.c,h:
    	  (ephyrHostXVAdaptorHasXXX): fix these.
    	  (ephyrHostXVAdaptorHasGetVideo): added this
    	  (ephyrHostXVAdaptorHasGetStill): ditto
    	  (ephyrHostXVPutVideo): added this
    	  (ephyrHostXVGetVideo): ditto
    	  (ephyrHostXVPutStill): ditto
    	  (ephyrHostXVGetStill): ditto
    	* hw/kdrive/ephyr/ephyrvideo.c:
    	  (ephyrPutVideo): implement this
    	  (ephyrGetVideo): ditto
    	  (ephyrPutStill): ditto
    	  (ephyrGetStill): ditto
    	  (ephyrXVPrivSetAdaptorsHooks): advertise GetVideo and GetStill
    	  when the host X supports it.

commit 6f7961bc218169aaa0d10cfad0952adb7fac2f00
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Mon Aug 6 18:38:54 2007 +0200

    advertise only the hooks implemented by host X
    
            * hw/kdrive/ephyr/ephyrhostvideo.c,h:
              (ephyrHostXVAdaptorHasPutVideo): detect if
              host X has the PutVideo call.
              (ephyrHostXVAdaptorHasPutStill): detect if
              host X has the PutStill call
              (ephyrHostXVAdaptorHasPutImage): detect if
              host X has the PutImage call
            * hw/kdrive/ephyr/ephyrvideo.c:
              (ephyrXVPrivQueryHostAdaptors): make sure to create
              atoms for attribute names otherwise subsequent
              calls to get/set attribute from clients won't work.
              (ephyrXVPrivSetAdaptorsHooks): don't hardwire advertising
              of the PutImage call. Instead, advertise the calls advertised
              by the host.

commit 1de89239bdfa68ded2ef25fbb7d08369f527f7a9
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Sat Aug 4 01:13:38 2007 +0200

    don't crash when hostX reports an error.
    
            * hw/kdrive/ephyr/ephyrhostvideo.c,h:
              (ephyrHostXVLogXErrorEvent): add this to
              log X error events. Heavily copied from libx11
              (ephyrHostXVErrorHandler): new x error handler that
              logs the error but does not exits.
              (ephyrHostXVInit): add this to be called at the beginning
              of xvideo lifetime. It sets an xerror handler that does not
              exit.
            * hw/kdrive/ephyr/ephyrvideo.c:
              (ephyrXVPrivIsAttrValueValid): this validates an attribute
              value.
              (ephyrSetPortAttribute): before setting an attribute,
              validate the new value so that we don't send a buggy
              request to host X.
            * hw/kdrive/ephyr/*.c: fix case in ephyrvideo code.
            * hw/kdrive/ephyr/ephyr.c: fix a typo

commit 207714b60d18e94bbe2d755a431dbb29fe5677f7
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Fri Aug 3 01:10:39 2007 +0200

    first implementation of putimage
    
            * hw/kdrive/ephyr/ephyrhostvideo.c,h:
              (EphyrHostXVPutImage): first implementation. does not
              support clipping regions yet.
            * hw/kdrive/ephyr/ephyrvideo.c:
              (DoSimpleClip): clip using a clipping box. Does not
               support regions yet.
              (EphyrPutImage): first implementation.
               Uses a simple clipping rectangle, no region yet.
            * hw/kdrive/ephyr/hostx.c:
              (hostx_get_window): added this to get the main
              window of the host x.

commit aa478e09e25a1cb19b808e7e52b2ee155e34f03b
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Thu Aug 2 12:49:36 2007 +0200

    make properties setting/query code work and hopefully complete.
    
            * hw/kdrive/ephyr/ephyrhostvideo.c,h:
             (EphyrHostXVQueryImageAttributes): add this call. It calls
             XvQueryBestSize xserver entry point. It uses the protocol
             level machinery because Xvlib does not expose that entry point
             as a C function.
             (EphyrHostXVQueryBestSize): added this wrapper around XvQueryBestSize().
             (EphyrHostGetAtom, EphyrHostGetAtomName): added this to get
              an atom or atom name from the host server
            * hw/kdrive/ephyr/ephyrvideo.c:
              (EphyrSetPortAttribute): convert the atom into an host server
              server atom before attacking the host server with it, because in
              in its current form, the input atom is only valid in xephyr.
              This fix makes this call work.
              (EphyrGetPortAttribute): ditto.
              (EphyrQueryBestSize): implement this.
              (EphyrQueryImageAttributes): implement this.

commit 24c837c0be6f85a917582156ab61d6c9c69301f9
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Jul 31 23:18:52 2007 +0200

    implement setportattribute and getportattribute calls

commit b8cd313be467fd14b8e5c9ba68e1a2029c1e888b
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Mon Jul 23 12:43:43 2007 +0200

    make xvinfo work
    
            * hw/kdrive/ephyr/ephyrhostvideo.c:
              (EphyrHostXVAdaptorGetVideoFormats): properly get visual class instead of
                returning the visual id.
              (EphyrHostXVQueryEncodings): properly copy the fields because simple casting does
                truncate some fields.
               (EphyrHostAttributesDelete): XFree the whole array instead of trying to free invidial members.
            * hw/kdrive/ephyr/ephyrvideo.c:
              (ephyrInitVideo): fix a typo
              (EphyrXVPrivQueryHostAdaptors): set XvWindowMask mask to adaptors type.
               use host adaptor name. Don't forget to set nImages field.
              (EphyrXVPrivRegisterAdaptors): report an error when KdXVScreenInit() fails.

commit aa2fae7b75f741e57bc4a9b754b5ea7518d78f47
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Sat Jul 21 23:56:13 2007 +0200

    misc fixes.
    
            *(EphyrHostXVQueryAdaptors): return the queried adaptors list
            * (EphyrHostXVQueryPortAttributes): return port attributes number

commit 2bf7f3c223fd32cd4922f98eadda2e3f06d9e119
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Sat Jul 21 17:55:12 2007 +0200

    link and init xv

commit 66b28532e533ff5688705c5286425e68d6403cee
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Sat Jul 21 12:08:39 2007 +0200

    initial commit of xv support work

commit 1e8f8b36a56a884092ee01a0bb3f40436e30fa42
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Sat Jul 21 18:22:20 2007 +0200

    works with no adaptors
    
    Debug the early code to make work when the host has no video adaptors

commit 50ff2377cac50ae25218be5b30612fb8bf6046a6
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Sat Jul 21 18:20:59 2007 +0200

    add -verbosity <level> option to command line

commit 8426eb2433f964ea19848f24dc99eb4588d10d1a
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Sat Jul 21 17:55:12 2007 +0200

    link and init xv

commit 50a64c84e1556ef7f8efcc7f8655e0c5e023ef4d
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Sat Jul 21 12:08:39 2007 +0200

    initial commit of xv support work

commit 95fadbd4022ec99f42ba78ec8a18a064903e8a7f
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Mon Jul 16 17:37:21 2007 +0200

    Add basic Exa driver entry point validation.
    
    In exaDriverInit(), quickly check if the programmer forgot to set some
    mandadory driver hooks, in that case display a meaningful error message.

commit e5e6514ffa0fd132e0cc1b15b94119e6e8755f43
Author: Andrew Christan <andrew.christian@nokia.com>
Date:   Tue Oct 2 13:25:51 2007 +0200

    Xephyr: add "multiscreen" suport
    
    	* This patch adds multiscreen support to Xephyr. For instance,
    	  the command line : "Xephyr :4 -ac -screen 320x240 -screen 640x480"
    	  will launch with two "screens" - namely two main windows.
    	  The first main window represents a screen that has the number :4.0, with
    	  a geometry of 320x240 pixels, and the second one represents a screen
    	  that has the number :4.1 with a geometry of 640x480.
    	  The command line: "DISPLAY=:4.1 xclock" will launch the xclock program
    	  on the second screen, for intance.
    
    	*   this patch was edited by Dodji Seketeli <dodji@openedhand.com> for:
    	  - better style compliance with the rest of the Xephyr code
    	  - make sure Xephyr could be launched with no -screen option. By
    	    default that creates a default screen of 640x480 pixel like before
    	  - display full titles on the windows - with insctructions to grab
    	    keyboard and mouse - like before.

commit 81692b628f41cb64329f3cccc0503fb216a2b8e3
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Oct 2 13:11:28 2007 +0200

    Fix #12650: "windows not receiving mouse events in multiple screens context"
    
    	* dix/events.c, include/dix.h:
    	  (UpdateSpriteForScreen): added this to update the mouse sprite context
    	   when we switch from a pScreen to another.
    	* mi/mipointer.c:
    	  (miPointerWarpCursor): as we are switching to a new pScreen,
    	   don't forget to update the mouse sprite context.

commit f965a5f3454a95ddffb2faf9b291feff46305adf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 2 16:20:27 2007 +0930

    dix: Ignore devices when deleting passive core grabs.

commit dc90d500085dd74e90073be008fc514bd97b160a
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Oct 2 14:05:07 2007 +1000

    exa: increase minor version number for pixmap allocation hooks

commit f15af2ae60bb8503c336bc3cba0560bd314a34bc
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Aug 3 16:33:33 2007 +1000

    exa: only setup offscreen allocator if driver doesn't provide CreatePixmap

commit ffb58f4fa8d86e87f831430b8627f27d85f971a9
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Oct 2 14:03:39 2007 +1000

    exa: add hooks for drivers to take over pixmap allocation
    
    This adds hooks for the driver to access Create/DestroyPixmap and ModifyPixmapHe
    ader.
    
    It allocates a 0 sized pixmap using fb and calls the driver routine to do
    work of allocating the actual memory.
    
    ModifyPixmapHeader is mainly required for hooking the screen pixmap which
    isn't create by normal methods

commit 2b075e97ec913ebe19290181e36bb169410b820b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 2 13:28:40 2007 +0930

    mi: switch core keyboard on XI events, not only on core events.
    
    We only get core events through the EQ in exceptional cases, so make sure we
    actually swap the core keymap for XI events as well. Gives us back the ability
    to have multiple keyboard layouts simultaneously.

commit 31555af0005a0bc4d7ef785214696ac84681e29f
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Oct 2 13:32:57 2007 +1000

    exa: add a pixmap private pointer for drivers to retrieve.

commit 45ec6cd1fb242363c91ad8af1fd4a27a7f02621a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 2 13:19:07 2007 +0930

    xfree86: fix DGA to use the correct devices.
    
    DGAStealXXXEvent modified to take in device argument.
    
    The evdev driver only sends one valuator when only one axis changed. We need
    to check for DGA either way (xf86PostMotionEventP), otherwise we lose purely
    horizontal/vertical movements.
    
    Note that DGA does not do XI events.

commit 122ae65ed90195c584a770027b4d14ef65f72492
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 2 10:50:59 2007 +0930

    xfree86: xf86DGA: some cleanup to use the correct devices instead of VCP/VCK.

commit 54ce7436b2579bb20728eab7c8d460b531c378af
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Oct 2 10:49:46 2007 +0930

    xfree86: update all pointers when calling xf86SwitchMode
    
    Center the frame around the first pointer found and then update all pointers
    on the same screen to move to the edges (if necessary).
    
    Note: xf86WarpCursor needs to be modified, is using deprecated
    miPointerWarpCursor and will kill the server when called with
    inputInfo.pointer.

commit 113011221a4fcbd70bc592930b35f20d55809f1e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Oct 1 21:42:01 2007 +0930

    Xi, xfree86: Remove leftovers of the XI wrapper code.

commit 50551ec693f40b91652fe4814e9fe2e1f9ab6517
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 28 15:04:33 2007 -0400

    xace: remove obsoleted DRAWABLE_ACCESS hook.

commit 8b548657204000e18c7a38706a0071ae2f93159f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 28 13:34:18 2007 -0400

    xace: add hooks + new access codes: XKB extension.
    
    Removes "LookupKeyboardDevice" and "LookupPointerDevice" in favor of
    inputInfo.keyboard and inputInfo.pointer, respectively; all use cases
    are non-XI compliant anyway.

commit 5c03d131815cfe2f78792277ab8352e69e830196
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 28 08:02:00 2007 -0400

    xace: add new hooks + access controls: XInput extension.
    
    Introduces new dix API to lookup a device, dixLookupDevice(), which
    replaces LookupDeviceIntRec and LookupDevice.

commit a511c445debbd13e8c48146ecd2d7c97e793f788
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Sep 28 18:46:41 2007 +0930

    Remove generation of core events, long live XI!
    
    Let the drivers only generate XI events and put those into the event queue.
    When processing events, generate core events as needed. This fixes a number of
    problems with XKB and the DIX in general.
    
    The previous approach was to put core events and XI events as separate events
    into the event queue. When being processed, the server had no knowledge of
    them coming from the same device state change. Anything that would then change
    the state of the device accordingly was in danger of changing it twice,
    leading to some funny (i.e. not funny at all) results.
    
    Emulating core events while processing XI events fixes this, there is only one
    path that actually changes the device state now. Although we have to be
    careful when replaying events from synced devices, otherwise we may lose
    events.
    
    Note: XI has precedence over core for passive grabs, but core events are
    delivered to the client first.
    
    This removes the wrapping added in 340911d7243a7f1095d79b5b2dcfa81b145c2474

commit be466d8df808c4e4067a7963617bc3f506768f2d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 27 22:23:05 2007 +0930

    dix: GetPairedKeyboard() always returns a valid keyboard (VCK if necessary).
    
    We need it unconditionally in a few places, and the rest checked for NULL and
    then set it to VCK anyway. So, fixing up all callers to appreciate the defined
    return value.

commit 53434edc3d306137d019d95189ecdf0dbff75205
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 27 22:14:09 2007 +0930

    dix: take paired keyboard instead of VCK (CoreProcessPointerEvents)

commit 2d93e69690d2c5d4a89a795ede6423796528e5df
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Sep 27 16:47:06 2007 -0700

    Rework local client id finding code to be more uniform

commit c7ead3a68e5839cb92129e35b21f55007fba8445
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Sep 27 16:13:28 2007 -0700

    xorgcfg needs $(DIX_CFLAGS) for pixman-1 include path

commit 62a9fb4cda988a896909a5620a68c51e46d0e403
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Sep 27 16:12:29 2007 -0700

    Fix PCI rework build on Solaris (copy what BSD does)

commit cfe549d1ba28396c44af94133d8c1d323e3c7086
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Thu Sep 27 22:36:52 2007 +0200

    EXA: Added back the maxPitchPixels initialization code.
    
    This doesn't add real value yet, but it will be useful once I add code
    that splits large render operations into smaller parts if necessary.

commit c11a27ef85674f1e77ffa7f083646b848e1dc0b8
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Thu Sep 27 14:54:40 2007 +0100

    Add the FB_ACCESS_WRAPPER checks

commit e0bb33b3d2e4f54cf20853cde9a1664a7dbd0dc7
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Thu Sep 27 14:50:28 2007 +0100

    Fix bug #12286

commit 6d5c1e0d896666bcb2b3c1de7bfa424f140be364
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Sep 27 13:04:41 2007 +0200

    EXA: Remove bogus pitch checks.
    
    exaCreatePixmap should handle all cases correctly.

commit 598698678b07cb3a9406a9ee98bd3186366949e7
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Sep 27 13:07:09 2007 +0200

    EXA: Punt for all fallbacks in exaFillRegion*.
    
    Now that PaintWindow is gone, all callers already handle fallbacks.

commit 006f6525057970a74382132237b2131286ad147c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Sep 27 13:08:41 2007 +0200

    EXA: Make sure tile offsets passed to drivers are never negative.
    
    Thanks to Björn Steinbrink for pointing out the problem on IRC.

commit da7d9aa1fb60e13a59c9f842fed7aefc5b97c195
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Sep 27 13:08:40 2007 +0200

    EXA: Tile offscreen pixmap coordinate offsets are always 0.

commit d6f4764bf5f3a601a0034ded039857e8ea5563b2
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Sep 27 13:08:40 2007 +0200

    EXA: Remove some clearly bogus code from exaCopyNtoN.
    
    Not sure what I was thinking when I wrote this... it would cause the box
    coordinates to be off for exaCopyNtoNTwoDir or fallbacks.
    
    Thanks to Tilman Sauerbeck for pointing out the problem on IRC and testing the
    fix.

commit c7d6d1f589d729fa689d22d82fe30afbc6e1cacb
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Sep 27 13:08:40 2007 +0200

    EXA: Punt on fallback case not handled correctly in exaFillRegionTiled.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=12520 .

commit 1d938a80fd4fa58d1791c146b6b5c2dfe148dce7
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Sep 26 19:42:46 2007 -0700

    Remove unused pciAddrHostToBus functions from ix86Pci.c
    
    Matches linuxPci.c changes made in 8279444a54f38c5e2e5d4c2d936a10d74990e0be
    Fixes compiler errors:
     "ix86Pci.c", line 194: too many struct/union initializers
     "ix86Pci.c", line 204: too many struct/union initializers
     "ix86Pci.c", line 214: too many struct/union initializers

commit de06a47d4ad9c845b098438d9492a5f42483a2ad
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 27 11:45:03 2007 +0930

    dix: GetMaximumEventsNum() needs to return 3 + MAX_VALUATOR_EVENTS.
    
    Raw events can be generated for pointer events, so 2 + MVE isn't enough.

commit 32d0440c7f6e604807cb14dd32349df6f22c903b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 27 11:44:03 2007 +0930

    xkb: xkbHandleActions: let wrapping take care of event delivery.
    
    This is hopefully better than hardcodey calling CoreProcessPointerEvent.

commit 27612748e0ec20f3a23839f0a12e39f598dd722c
Merge: b614614 3b114f2
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Sep 26 07:47:29 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	dix/devices.c

commit 3b114f2603fc2adeec7f5f8f20fe4870afb8dff1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Sep 25 07:55:17 2007 -0400

    Input: Properly swap DevicePresenceNotify events.

commit 31a7994ac7365562ef1d00e0a7b25f967a961a4e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Sep 24 13:33:01 2007 -0400

    Input: Return errors to the dispatcher instead of sending them ourself.
    
    Also fixed two "unused variable: stuff" warnings.

commit 56ffc381d32687242dd094395fcf2216339bab2a
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Wed Sep 26 16:47:54 2007 +0200

    EXA: Removed duplicated exaGetDrawablePixmap() calls.

commit aa0325db7e8ab11d9418cae14f11c488f443ccaa
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Sep 26 15:26:42 2007 +0200

    Xephyr: fix compiler warnings
    
    	* hw/kdrive/ephyr/ephyr_draw.c:
    	  (ephyrDownloadFromScreen),
    	  (ephyrUploadToScreen): fix compiler warnings

commit 8f9bf927e1beecf9b9ec8877131ec12c765e4d84
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 18:04:59 2007 +0930

    xkb: Unwrap properly in ProcessPointerEvent.
    
    Instead of hardcoding CoreProcessPointerEvent, actually try to unwrap properly
    and then call the unwrapped processInputProc. Seems to be a better idea,
    especially since it makes stuff actually work...

commit 3342b5ad47be25c6838321c0aafc28c329c308b5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 18:03:21 2007 +0930

    Xi: fix the wrapper code for processInputProc wrapping.
    
    Followup to [1].
    If a core grab causes the device to freeze, it overwrites the processInputProc
    of the device. [1] would then overwrite this while unwrapping, the device
    does not thaw anymore.
    Changing this to only re-wrap if the processInputProc hasn't been changed
    during the event handling.
    
    [1] 340911d7243a7f1095d79b5b2dcfa81b145c2474

commit e2cb8515661b1f7826981931d82dee6e05529f04
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 18:01:17 2007 +0930

    xfree86: pass in the XKB event processing proc instead of the XI one.
    
    We need to pass ProcessPointerEvent or ProcessKeyboardEvent to
    XkbSetExtension, otherwise we lose the xkb layer.

commit 27bc1a8fef2bfd3d62fb44f7c7eb0d463ed08632
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 15:24:41 2007 +0930

    xkb: XkbFilterEvents: Remove unused variable compiler warning.

commit bfc89c035542a10594f5f0cbde1c7e28b7d024a7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 15:23:37 2007 +0930

    xkb: unify ErrorFs. Prefix all with [xkb].
    
    Output for XkbUseMsg intentionally skipped.

commit 8b508f5d6bd0d3995294d5ff300a856754442999
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 15:19:53 2007 +0930

    dix: unify ErrorFs. prepend all with [dix].

commit 394f3c1dbee7270a1d930846d49278424c3072d4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 15:19:37 2007 +0930

    dix: GetPointerEvents: remove unused variable compiler warning.

commit 55fd50273ea67eb99a0c8a830349851931298387
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 15:15:34 2007 +0930

    Xi: unify ErrorFs. Prefix all with [Xi].

commit 340911d7243a7f1095d79b5b2dcfa81b145c2474
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 15:12:49 2007 +0930

    Wrap core event handling through ProcessOtherEvents.
    
    When processing events from the EQ, _always_ call the processInputProc of the
    matching device. For XI devices, this proc is wrapped in three layers.
    Core event handling is wrapped by XI event handling, which is wrapped by XKB.
    A core event now passes through XKB -> XI -> DIX.
    
    This gets rid of a sync'd grab problem: with the previous code, core events
    did disappear during a sync'd device grab on account of mieqProcessInputEvents
    calling the processInputProc of the VCP/VCK instead of the actual device. This
    lead to the event being processed as normal instead of being enqueued for
    later replaying.

commit b2a4883bd89d406713d4f808e72721ecc1456d67
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 26 09:20:11 2007 +0930

    dix: add comments to PlayReleasedEvents()
    
    Also stick another warning in, more changes needed for XGE if panoramix is
    active.

commit 275dc77c2972147407584323b866b8acc1654ea0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Sep 25 21:40:08 2007 +0930

    dix: add comments to ComputeFreezes() and syncEvents struct.

commit ae8b4f7dcf1291a2f5a0d0159f3e6089eea0578a
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Sep 24 22:06:52 2007 +0200

    EXA: Added pitch limitations.
    
    Drivers can now specify the max pitches that the accelerator supports.

commit b61461425eb15fcff2a58330d74fe5a5a1f226fc
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Sep 25 09:56:00 2007 -0400

    xace: add hooks + new access codes: XV extension.
    
    May need to revisit this extension in the future, depending on observed use.

commit 9bd04055a2175ec16756d3bf73ae03b5e163a28a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Sep 25 09:33:51 2007 -0400

    xace: change prototype of VALIDATE_DRAWABLE_AND_GC macro to allow access
    mode to be passed to dixLookupDrawable.

commit 988f446fe00ac2b92c484a4440613dd82191eadd
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Sep 24 20:23:35 2007 -0700

    [EDID] Ignore reserved bits in deciding monitor vs detailed timing descriptor.
    
    Even though they're defined to zero by the spec, we've seen an EDID block
    where the (empty) ASCII strings were stuffed in a byte early, leading to the
    descriptor being considered a detailed timing instead.

commit 5d9f6cf51becdeb1d2be9bdeec4bb5d0c4dd0e8b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 13 23:33:07 2007 +0930

    dix: cosmetic change. Remove "pointer" variable, might as well use pDev.

commit c4db4d1fcf7fa2ba802a208beee6b3adc83921f5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 13 23:27:07 2007 +0930

    include: remove register keywords.

commit 1c25c46f3d5f98be8dbf36684aad4302b220e163
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 13 23:22:27 2007 +0930

    dix: fix compiler warnings about unused variables.

commit 68e0c4988e359e3c9da933946bc703cf8530bdbc
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 12 20:48:48 2007 +0930

    dix: fix "possible use of uninitialized variable" warning.
    
    The device passed through to UnrealizeCursor isn't used anyway, so setting it
    to NULL is enough.

commit b484451eab261a919fe94c0c0f56877f7571fc9e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 12 18:34:51 2007 +0930

    dix: don't try to access "time" field for GenericEvents in PlayReleasedEvent.
    
    GenericEvents can't be parsed to keyButtonPointer, and there's no guarantee
    that it has a time field anyway. PlayReleasedEvent needs to store the millis
    when we know it (core events, XI event) and just re-use them for GenericEvents.
    
    Yes, this is a hack. But it looks like the time has zero significance anyway.

commit 1c38eac442a3ab9e8469e944f382251957996c5a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 12 18:09:57 2007 +0930

    dix: fix comment for DeliverDeviceEvents.
    
    DDE is not always called, grabbed or focused devices go through
    Deliver{Grabbed|Focus}Event first.
    
    Thanks to Eamon Walsh for spotting it.

commit 06188ce90d2a8146140773f9367f23404b464282
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 12 18:00:03 2007 +0930

    dix: Make EnqueueEvent aware of GenericEvents.
    
    GenericEvents can be > sizeof(xEvents), so we need to make sure we're
    allocating and copying enough memory for the event.

commit 8840829ab93c4eb62eb58753c015da5307133fe5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 12 17:40:11 2007 +0930

    dix: don't compress motion events from different devices (EventEnqueue)

commit 27ad5d74c20f01516a1bff73be283f8982fcf0fe
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Sep 23 17:17:03 2007 +0300

    Input: Generate XKB mapping changes for all core-sending devices (bug #12523)
    
    When we change the mapping on a core device, make sure we propagate this
    through to XKB for all extended devices as well.

commit 0e800ca4651a947ccef239e6fe7bf64aab92257c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Sep 23 12:43:31 2007 +0300

    GetKeyboardEvents: Reject out-of-range keycodes (bug #12528)
    
    We can only deal with keycodes between 8 and 255, so make sure that we never
    accept anything out of this range.

commit e1860f241b7322c54c109cf5727df45b54b73916
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 22 17:54:51 2007 -0400

    Document xf86_crtc_clip_video_helper better.

commit 19d30c1c771c0f5c9dfc0f4cfb084dd2e528d992
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 22 17:51:27 2007 -0400

    Revert "Fix possible crash if Xv window is outside of either crtc"
    
    This reverts commit 92355314103d2193ca20786915eaf608922a36dc.
    
    This changes ABI.  False means there was a memory failure of some kind,
    not that the video shouldn't be displayed

commit 92355314103d2193ca20786915eaf608922a36dc
Author: Michel Dänzer <daenzer@debian.org>
Date:   Sat Sep 22 14:25:02 2007 -0400

    Fix possible crash if Xv window is outside of either crtc

commit edd88170836ec985ab1a59179de69d50644b8dff
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Sat Sep 22 13:02:08 2007 +0200

    EXA: Check ABI compatibility earlier.
    
    If the driver isn't compatible to the server, all bets are off anyway wrt
    the contents of the fields that we're validating, which can lead to bogus
    error messages.

commit abe0a51f3f790f8c055289465e130177c4b647cc
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Fri Sep 21 17:07:36 2007 -0700

    So, like, checking return codes of system calls (signal, etc) is good.
    Also, only restore an old signal handler if one was actually set
    (prevents the server from dying on OS X).

commit eb82b19aa71333b46e927516cc228f25d3e05e4d
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Sep 20 19:55:48 2007 -0700

    XDarwin: build fix for X11.app

commit 5b08932bfbb7e4612733fffd2acc9682c6856d90
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Sep 20 19:27:31 2007 -0700

    XDarwin:  pulling in Indirect GLX fixes from downstream

commit 742d5d6adc4d4a1b6fceeb3443d7931e107462f7
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Sep 20 18:03:51 2007 -0700

    XDarwin: Fixes to quartzKeyboard.c to prevent a crash using certain non-US keyboards

commit 374bd88d1025835fe36ca0ff6620eb1d3b0a06b0
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Sep 20 16:50:49 2007 -0700

    XDarwin: Merging misc changes from downstream.
    
    The only functional changes in this patch are a removal of use of
    Xtrans internals -- replaced by xcb, which doesn't seem to be used
    elsewhere in the server?  Pity.
    Also, a fix to make all X11 windows pop to the front of the display
    when the X11.app icon is clicked -- currently takes two clicks,
    not sure why.

commit 3a965fdadccea7beff09a28c9c0ef4b4975eae38
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Sep 20 16:22:24 2007 -0700

    Don't segfault on shutdown if we never managed to connect to dbus.

commit 50fa8722d35c12e5f0322cebe25faf99c39d4f50
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Sep 20 14:00:33 2007 -0700

    Set noCompositeExtension to TRUE when failing to initialize the extension (e.g. when Xinerama is enabled).

commit a247886b082cea93fa8f8980616a9c388ba70111
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Sep 20 13:06:38 2007 -0400

    xace: add hooks + new access codes: XF86-Bigfont extension

commit f6532a81eec5f096e27285687964b77c17987f72
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Sep 20 12:17:17 2007 -0400

    xace: add hooks + new access codes: APPGROUP extension

commit 82f7195a628cc7ec94abc0cfe5bae2be8af443bc
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Sep 20 09:17:09 2007 -0400

    xace: modifications to ChangeWindowAttributes special case: separate
    Receive and SetAttr.  Refer to 963e69b8efc39369915e7f0c6f370ac0d5d2b60f

commit 661b1328cf992d8855552677a94d60de1d8ce942
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Sep 20 08:41:26 2007 -0400

    xace: add hooks + new access codes: SYNC extension
    
    May need to revisit this extension in the future, depending on observed use.

commit 90bacdef723e1e49c72775144916750758d3568c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Sep 20 06:53:51 2007 -0400

    xace: add hooks + new access codes: MIT-SHM extension

commit 12a18cc8903fac53c3c77b23dd8093187594a4f3
Author: David Nolden <david.nolden.git@art-master.de>
Date:   Fri Sep 14 22:42:19 2007 +0200

    compilation-fix in debug mode

commit e93cff52fed9074aa007c2e6ec6b578f69aef3cb
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Sep 19 14:48:20 2007 -0400

    xace: add hooks + new access codes: DOUBLE-BUFFER extension

commit 082c0f7fb34458ebb303cf875d1d75686eca25e6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Sep 19 13:59:35 2007 -0400

    devPrivates rework: move devPrivates field in drawable structure types
    to just below the DrawableRec.  Wish there were a better way to do this
    but it has to be in the same place for all drawable types.

commit 5b36b64192517e2470766ce7ff1d4dc04c936fad
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Sep 19 11:11:54 2007 -0400

    xace: add missing argument to hook call.

commit 963e69b8efc39369915e7f0c6f370ac0d5d2b60f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Sep 19 11:11:41 2007 -0400

    xace: add special-case for just setting the event mask on a window,
    this should only check "receive" permission, not "setattr" permission.

commit c140d20f4ade973496dcbbd06453402ef0c0e85c
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Sep 19 05:58:22 2007 -0700

    XDarwin:  mass change from using xorg-config.h to dix-config.h cuz we're not using the X.org ddx anymore

commit bcb5e3e6276ce9ae7a4dae7434cf2247764da078
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Sep 19 04:46:10 2007 -0700

    XDARWIN: More fixes to Makefile.am
    
    At least on my system (10.5 with the latest and greatest modules),
    Xquartz now builds out of the box.  It doesn't quite work yet, but
    hey -- you have to start somewhere. ;)

commit 97c150b61bbe436453b05d3c07cd2173870aac40
Merge: 57907e0 547ad21
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Sep 19 07:25:55 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	afb/afbpntwin.c
    	afb/afbscrinit.c
    	afb/afbwindow.c
    	cfb/cfb.h
    	cfb/cfballpriv.c
    	cfb/cfbscrinit.c
    	cfb/cfbwindow.c
    	configure.ac
    	fb/wfbrename.h
    	hw/xfree86/xf4bpp/ppcIO.c
    	hw/xfree86/xf4bpp/ppcPntWin.c
    	hw/xfree86/xf4bpp/ppcWindow.c
    	hw/xfree86/xf8_32bpp/cfbscrinit.c
    	mfb/mfb.h
    	mfb/mfbpntwin.c
    	mfb/mfbscrinit.c
    	mfb/mfbwindow.c
    	mi/miexpose.c
    
    Note: conflicts caused by devPrivates rework vs. paintwindow changes.

commit 5e209b21f3d6b3268fa7dab1e8df892d8352cc08
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Sep 19 03:44:46 2007 -0700

    XNEST: removed obsolete hack to build under Darwin

commit 378c7ebef444cdc9ae62ebf05c7111088a0c4bc1
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Sep 19 03:43:40 2007 -0700

    XVFB: Removed obsolete hack to build on Darwin

commit 7813392d1c9a38d01cfff17732278bb7798eee5d
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Sep 19 01:52:58 2007 -0700

    XDarwin: changes to Makefile.am to use new conditionals

commit 170fc77d9e73151f5c1c1f0f04598b3497db4284
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Sep 19 09:54:09 2007 +0200

    xserver: don't force DTRACE detection by default
    
            this fixes a breakage caused by 7a4ec34e256bf36b041c011a083916ad75a1d8bc.
            When running a non DTRACE aware system that is not darwin*, DTRACE was getting
            required. Now it is not anymore.

commit 9b4f5157179a0d20756c16ea1f5130b171f72bb1
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Tue Sep 18 21:40:32 2007 -0700

    XDarwin:  We build many many different targets, let's break them out into autoconf conditionals

commit 7a4ec34e256bf36b041c011a083916ad75a1d8bc
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Tue Sep 18 20:37:09 2007 -0700

    XDarwin:  Disable dtrace support on Darwin 9 (since it doesn't work ... yet ...)

commit 3c19ec47b434d4ca84db58363cc053cc0b6aa413
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Tue Sep 18 20:15:44 2007 -0700

    XDarwin: changed XF86BigFont support default from yes to auto so XDarwin can disable it

commit 547ad2125ece93bbe01f6d09a3baf176ebd16bb3
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Sep 17 20:33:56 2007 +0200

    EXA: Make sure driver hooks get correct offscreen offsets from exaCopyDirty.
    
    This should ensure the driver UploadTo/DownloadFromScreen hooks can always
    work as intended.

commit 56cc24ffb21f7fd41f9ea9e8f969aa85021b9f53
Author: Alan Hourihane <alanh@tungstengraphics.com>
Date:   Mon Sep 17 20:33:56 2007 +0200

    EXA: Don't crash in ExaCheckPolyArc.
    
    See https://bugs.freedesktop.org/show_bug.cgi?id=12286 .

commit 7ac89060e02c7a803018afd580720f8326561fd8
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Sep 17 20:33:55 2007 +0200

    EXA: Don't crash in exaGetImage when swapped out.

commit 3876c6c80534a6f7412ec806a2ba9ada22c5e505
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Sep 17 18:47:45 2007 +0200

    EXA: Fixed compiler warnings.

commit d5738ff2e0f93df4729c075ce31a1041d580e50e
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Sep 17 16:59:03 2007 +0200

    EXA: Added missing exaPrepare/FinishAccess calls in ExaCheckPushPixels.

commit a0dafd95e1e13a2f1b77ab9f82fd365a7be19de5
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Sep 17 16:45:20 2007 +0200

    Removed hw/xwin/winpntwin.c from Makefile.am.
    
    winpntwin.c was removed in e4d11e58ce349dfe6af2f73ff341317f9b39684c.

commit 7bd65577018a574970b767b67967b65fcd5c2bf0
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Sat Sep 15 14:01:57 2007 +0200

    Initialize output->pendingProperties.

commit b9f7aeb20015290a8acf938a11bf9272bf3527cf
Merge: e4d11e5 06d27f8
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Sep 13 00:15:45 2007 +0000

    Merge remote branch 'origin/master' into paint-window
    
    Conflicts:
    
    	mi/miexpose.c

commit e4d11e58ce349dfe6af2f73ff341317f9b39684c
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Sep 12 13:58:46 2007 +0000

    Remove the PaintWindow optimization.
    
    This was an attempt to avoid scratch gc creation and validation for paintwin
    because that was expensive.  This is not the case in current servers, and the
    danger of failure to implement it correctly (as seen in all previous
    implementations) is high enough to justify removing it.  No performance
    difference detected with x11perf -create -move -resize -circulate on Xvfb.
    Leave the screen hooks for PaintWindow* in for now to avoid ABI change.

commit 06d27f8045966c1fb154eafaff308a01b93f265b
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Sep 12 23:57:30 2007 +0100

    Try again to fix drawable and tile offsets in miPaintWindow
    
    Many coordinate spaces are hard. Let's go drinking.

commit dd3992eb86377684a5dbe86fa19c756a9e53cda2
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Sep 12 22:39:31 2007 +0100

    miPaintWindow draw to window for background.
    
    Instead of drawing to window pixmap for everything, draw to window for
    background as that works for Xnest and Xdmx; draw to pixmap for borders
    which neither of those X servers use.

commit 6da39c67905500ab2db00a45cda4a9f756cdde96
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Sep 12 13:23:13 2007 +0000

    Fix build on FreeBSD after Popen changes.

commit 257c8ed17f4f908e0d0d5e53aaf13aa3b1313f50
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Sep 12 12:11:49 2007 +0100

    Rewrite miPaintWindow to draw to window pixmap.
    
    miPaintWindow was drawing to the root window, or (sometimes) drawing to the
    window after smashing the window clip list. This is losing, and easily fixed
    by just drawing to the window pixmap.

commit 43dc41034735d84765233a78bd619f3f0e7ace75
Author: Brice Goglin <bgoglin@debian.org>
Date:   Wed Sep 12 01:43:37 2007 +0200

    Replace a non-ascii char with the corresponding groff escape in exa.man.pre

commit a5b8053606d6e786cdcf6734f271acc05f9cc588
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Sep 11 11:37:06 2007 -0400

    Ignore - not just block - SIGALRM around Popen()/Pclose().
    
    Because our "popen" implementation uses stdio, and because nobody's stdio
    library is capable of surviving signals, we need to make absolutely sure
    that we hide the SIGALRM from the smart scheduler.  Otherwise, when you
    open a menu in openoffice, and it recompiles XKB to deal with the
    accelerators, and you popen xkbcomp because we suck, then the scheduler
    will tell you you're taking forever doing something stupid, and the
    wait() code will get confused, and input will hang and your CPU usage
    slams to 100%.  Down, not across.

commit 2e3e08d31e908ceadeef16d6069cdaf8c61d7ed1
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Sep 11 08:50:41 2007 +0200

    xserver: test presence of strlcpy in configure
    
            * configure.ac: define HAVE_STRLCPY when function strlcat is present
              this serves at least to unbreak libxtrans code compilation.

commit e8c73ac697aa472e10b4d8c093a715df0bf545af
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Tue Sep 11 00:20:45 2007 +0200

    Xephyr: fix compilation breakage.
    
            * hw/kdrive/ephyr/ephyr_draw.c:
              (exaDDXDriverInit): pExaScr->hideOffscreenPixmapData does not exist
              anymore, so don't set it.

commit 321e0a21600e418bbeb164043a9a21a0ff80cbe9
Author: Ben Byer <bbyer@bbyer.local>
Date:   Sun Sep 9 16:28:41 2007 -0700

    fixed cut-and-paste typo

commit 0ff273fd1e2ea7242b3e6c5effb2a623ef32ec6f
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Sep 6 18:52:26 2007 -0700

    XDARWIN: fixes to make Xquartz build again

commit f8637137ab43818d45d249b337820cbf427a05ec
Author: Ben Byer <bbyer@bbyer.local>
Date:   Thu Sep 6 05:39:57 2007 -0700

    XDARWIN: build fix for quartz/pseudoramiX.c

commit e8093e15c7df7a3d5a9717bc9d7d7517b0743f29
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Sep 3 13:52:29 2007 +0200

    EXA: Exclude bits that will be overwritten from migration in exaCopyNtoN.
    
    Also plug a region leak in exaPolyFillRect.

commit e81af8ba643df3be53b0a46d9d4a0eaf21557c9e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Sep 3 13:14:29 2007 +0200

    EXA: exaFillRegion{Solid,Tiled} improvements.
    
    Use region to exclude bits that will be overwritten from migration.
    
    Also make exaFillRegionSolid use the same logic as exaFillRegionTiled.

commit 5f7da4da8de7449e1c2a4c679632a0b2a5858b7e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 31 16:59:28 2007 +0200

    EXA: Use exaShmPutImage for pushing glyphs to scratch pixmap in exaGlyphs.

commit be922b30486abce3a8c13996d579b211a7b56f0e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Aug 30 13:59:07 2007 +0200

    EXA: exa(Shm)PutImage improvements.
    
    Improve exaShmPutImage performance and reuse its core in exaPutImage as it
    seems faster than the previous code when the driver doesn't provide an
    UploadToScreen hook.
    
    Make sure all damage records are notified of the damage incurred by actual
    ShmPutImage calls.
    
    Remove superfluous manual damage tracking for actual PutImage calls.

commit ea92ea415665e294a1ba233e9a1d39b6daa0cee1
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Aug 30 13:54:18 2007 +0200

    EXA: exaGetImage improvements.
    
    Use the new migration infrastructure to cache FB bits we need in the system
    copy, for the benefit of repeated calls.

commit aa2ed73e0ec881947c969b67269e3206da4de359
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Aug 30 13:50:42 2007 +0200

    EXA: Remove superfluous manual damage tracking.
    
    These should all be covered by damage wrappers.

commit a634c9b03494ba80aeec28be19662ac96657cc23
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Aug 30 13:48:03 2007 +0200

    EXA: RENDER improvements.
    
    Exclude bits that will be overwritten from migration.
    
    Use exaGlyphs even when Composite can't be accelerated, to avoid PolyFillRect
    roundtrip via offscreen memory.
    
    Initialize mask pixmap in exaGlyphs in FB in addition to system if the driver
    provides Composite hooks to avoid migration overhead.
    
    Remove manual damage tracking where superfluous.

commit 1f457ff3db24178eefecfbbf177aaf6554adb204
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Aug 30 13:44:20 2007 +0200

    EXA: Improvements for 1x1 pixmaps.
    
    Initialize system and FB copy in exaFillRegionSolid and adapt
    exaGetPixmapFirstPixel to the new migration infrastructure.
    
    This should mostly eliminate migration overhead for these, whether they are
    used for acceleration or fallbacks.

commit 489bc7551ffc7360ba9648ca5c98b59c7e7a1fd1
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Aug 30 13:37:53 2007 +0200

    EXA: exaImageGlyphBlt improvements.
    
    As we can't actually accelerate anything interesting here, just migrate out
    once and call fbSolidBoxClipped instead of taking a round trip via offscreen
    memory with exaSolidBoxClipped.
    
    Reuse pending damage region for extents and to prevent any actual migration of
    pixmap contents when we're overwriting the whole pending damage region.
    
    Remove superfluous manual damage tracking.

commit 2e0895a4ba27c1308713022820444c8f57f7a69f
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Aug 30 13:30:03 2007 +0200

    EXA: Improvements for trapezoids and triangles.
    
    Only migrate once in exaTrapezoids/Triangles instead of every time in
    exaRasterizeTrapezoid/AddTriangles. Adapt manual damage tracking to new
    infrastructure.
    
    Also move definition of NeedsComponent() closer to where it's used.

commit 6c9d7ed61bc4a19d21c53717b8af3d90b5d82ca9
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Sep 6 13:10:16 2007 +0200

    EXA: Hide pixmap pointer outside of exaPrepare/FinishAccess whenever possible.
    
    We finally want to catch all cases where the pixmap pointer is dereferenced
    outside of exaPrepare/FinishAccess.
    
    Also fix a couple of such cases exposed by this change.

commit 962eddd7a2863a8475f5fd8107d3112df08d1172
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Aug 29 19:55:22 2007 +0200

    EXA: Support partial migration of pixmap contents between Sys and FB.
    
    The initiator of migration can pass in a region that defines the relevant area
    of each source pixmap or the irrelevant area of the destination pixmap. By
    default, the pending damage region is assumed relevant for the destination
    pixmap, and everything for source pixmaps.
    
    Thanks to Jarno Manninen for reassuring me that my own ideas for this were
    feasible and for providing additional ideas.

commit f27931bdd26fc9a1e6bb5173b5537e32c51a98b3
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Aug 29 19:41:52 2007 +0200

    Add DamagePendingRegion.
    
    DamagePendingRegion returns a pointer to the region of a drawable that will
    be damaged by the current operation for damage records that chose to get damage
    reported only at the end of the operation.

commit 5c7ee3f47fa0c067102a17dee3f75a51cc0bdb3a
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 24 19:24:18 2007 +0200

    EXA: Track valid bits in Sys and FB separately.
    
    Also consolidate exaCopyDirtyToFb/Sys.

commit 8cfcf9973c765f11d1b45b95b8091ef7e01d7f01
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Sep 5 20:10:09 2007 +0200

    EXA: Migrate out pixmap in exaPrepareAccess.
    
    Also fix exaFinishAccessGC not to use the same index for tile and stipple.

commit e510a77ba4d65d5d6ead514cd698f1b1e3f8a2b6
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Jul 17 17:16:51 2007 +1000

    EXA: Add a couple of missing exaPrepare/FinishAccess calls.

commit 72b347e681f5667b68257822e7cec02ab4c9cb6d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Sep 7 14:31:19 2007 +0930

    dix: Enabling devices must not overwrite existing sprites/pairing.
    
    EnableDevices is (amongst others )called after a VT switch. We must not create
    a new sprite or re-pair the device, otherwise we lose the input device setup
    that we had before the VT switch.
    
    This requires the devices to be in exactly the same order as before
    the VT switch. Removing a device while on a different VT is probably a bad
    idea.

commit 57907e0943da0c3fd3bf6c128d210b544629ce72
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Sep 6 16:55:51 2007 -0400

    devPrivates rework: register an offset for every resource type, use
    signed values so -1 actually works correctly, and provide a macro for
    adding an offset to a pointer.

commit 84eb7e62248ddc2761af8cefe33d1b7147477528
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Sep 6 13:36:37 2007 +0100

    Fix Xdmx build

commit 35ec8b89f4cdf5ec48b292d47b2dad42d2fb9534
Author: Ben Byer <bbyer@bbyer.local>
Date:   Thu Sep 6 05:34:14 2007 -0700

    DDX changes for XDarwin
    
    Creating a real DDX section for XDarwin instead of
    stuffing it into the XORG section in a half-assed manner.

commit d627061b48ae06d27b37be209d67a3f4f2388dd3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 6 18:57:00 2007 +0930

    xfree86: wrap keyboard devices for XKB.
    
    Call ProcessOtherEvents first, then for all keyboard devices let them be
    wrapped by XKB. This way all XI events will go through XKB.
    
    Note that the VCK is still not wrapped, so core events will bypass XKB.

commit 5ee409794ee604fcf84886f70429fc2d6b1ff4f1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 6 18:52:02 2007 +0930

    dix: add XI event support to FixKeyState.
    
    FixKeyState needs to be able to handle XI events, otherwise we get "impossible
    keyboard events" on server zaps and other special key combos.

commit 6334d4e7be18de5f237c12a6dc20f75aa23477d0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 6 18:49:57 2007 +0930

    xkb: enable XI event processing for xkb.
    
    XI events can now take the same processing paths as core events, and should do
    the correct state changes etc.
    
    There's some cases where XKB will use KeyPress as type for an event to be
    delivered to the client. Stuck warnings in, not sure what the correct solution
    is yet.

commit 49dbe9a757a3d7a0b9ab318242c6cc0cbd4dd1f0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 6 17:27:28 2007 +0930

    dix: close virtual core devices after other devices.
    
    If a device is paired with the VCP, deleting the VCP before the device will
    segfault the server when the sprite should get updated.

commit 03680a384aa423ece75b658f00b96db2628c39fa
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Sep 6 15:43:47 2007 +0930

    dix: don't change the device struct while processing core events.
    
    The device state needs to be changed while processing the XI event. Core
    events are always processed after XI, so by then the device is already set up
    properly. However, we now rely on DeviceButtonMotionMask to be equal to
    ButtonMotionMask. It already is, but stick a big fat warning in so nobody
    attempts to change it.
    
    This commit disables XKB for the VCK, thus essentially for all devices.
    Temporarily anyway.

commit f3f614cd01ae56d84d61b4f5c907c6edd7c8c6d3
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Sep 5 20:34:00 2007 -0700

    Revert "configure.ac: exclude pci-access dependency from XDarwin"
    
    This reverts commit 20c6677d1b5f8d77325dd878ffa3df1d0fb01864.

commit bf1641b94cffa54b786e18eaeff3839d8790b9f2
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Sep 5 20:33:43 2007 -0700

    XDARWIN: Add launchd support
    
    This adds a bit of glue to configure.ac to support launchd detection;
    on OS X (or other platforms which choose to implement launchd), this allows
    the system to automagically start the Xserver as necessary to serve clients.

commit 71c21dea748ea0dcad758679c40ee39192d170f9
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Wed Sep 5 18:45:50 2007 -0700

    added HAVE_LAUNCHD check to configure.ac (mostly for OSX)

commit 81c28ffd2b13a83770eadcfd7829d35d319d637f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Sep 5 17:46:23 2007 -0700

    Fix key repeats during VT switch.
    
    Add keyc->postdown, which represents the key state as of the last mieqEnqueue
    call, and use it when we need to know the posted state, instead of the
    processed state (keyc->down).  Add small functions to getevents.c to query and
    modify key state in postdown and use them all through, eliminating previously
    broken uses.

commit e332335241af28ef0ab66b102d0cbc4e5c73ac68
Merge: 7381e91 accd71b
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Wed Sep 5 15:51:23 2007 -0700

    Merge branch 'master' of ssh://git.freedesktop.org/git/xorg/xserver

commit 7381e9149e3cbb7e672070781a16e3f096202be9
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Wed Sep 5 15:51:11 2007 -0700

    added an exclusion for setting XORG on darwin

commit accd71bda6f958ea6892ad3a10879232d345774c
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Sep 5 14:19:19 2007 -0700

    Deliver correct event when releasing keys on VT switch.
    
    In commit 41bb9fce47f6366cc3f7d45790f7883f74289b5a, the event delivery loop
    for Xinput enabled keyboards was changed and accidentally used the wrong
    index variable, causing random events to be delivered when returning from VT
    switch.
    
    In addition, in commit aeba855b07832354f59678e20cc29a085e42bd99,
    SIGIO was blocked during delivery of these events, but not for the entire
    period the xf86Events array was being used. Block SIGIO for the whole loop
    to avoid other event delivery from trashing the key release events.
    (cherry picked from commit aa7ed1f5f35cd043bc38d985500aa0a32e857e84)

commit 8b77dc7e808f61f1ed10fe05cf898bb47459a76d
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Wed Sep 5 14:48:38 2007 -0700

    XDARWIN: build breakage fix

commit 20c6677d1b5f8d77325dd878ffa3df1d0fb01864
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Wed Sep 5 14:31:01 2007 -0700

    configure.ac: exclude pci-access dependency from XDarwin
    
    XDarwin doesn't need any of this pci stuff since it doesn't talk directly to hardware,
    so it doesn't make sense to require it when building on OSX/Darwin.

commit ff01e44e33fd072958fb0157dae072f1b1c88944
Merge: 8ba8c16 47300ed
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Wed Sep 5 13:56:08 2007 -0700

    Merge branch 'master' of ssh://git.freedesktop.org/git/xorg/xserver

commit 8ba8c16af773ec83a0b1c0661a23d746b401944e
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Wed Sep 5 13:46:30 2007 -0700

    build fixes for XDarwin

commit 47300ed2be59d0ba7ea9345b954bf3104877c095
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Sep 5 12:34:29 2007 -0700

    Fix server version reporting to be the server package version.
    
    Previously, the server version reported by xdpyinfo and Xorg -version would
    bear some vague resemblance to a X.Org katamari version, but in the presence
    of modularization (and client-server relationships with different katamari
    versions on each side) those numbers don't really make sense.  Instead, just
    report the package version.
    
    When branching a stable branch, master's version should be immediately updated
    to the endpoint of the stable branch plus a snapshot of 1 (for example,
    1.4.0.1 after server-1.4-branch).  The stable branch should then be changed to
    RC0 at that time (1.3.99.0, for example).
    
    This scheme was partially attempted for server 1.3, but lacked the appropriate
    master updates, thus why it had to be revisited now.  While here, we can also
    remove a lot of versioning complexity since everything is based on the package
    version.

commit 6c89d1237c4fdce961b30a8eaee964af5d56565e
Author: Dodji Seketeli <dodji@openedhand.com>
Date:   Wed Sep 5 17:46:49 2007 +0200

    Kdrive: unbreak kdrive linking
    
            * configure.ac: re-sort Kdrive libs so that symbols get properly resolved.
              Basically, all some libs are present in both $KDRIVE_LIBS and $XSERVER_LIBS,
              and some libs orders are not correct. So I made sure Kdrive servers don't have
              to link against $KDRIVE_LIBS  *and* $XSERVER_LIBS. They just have to link
              against $KDRIVE_LIBS now.
            * hw/kdrive/*/Makefile.am: update those makefile to reflect the change in configure.ac

commit 0003ccfcdfae1b473aa024342304b84256d378b9
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Sep 5 11:18:36 2007 -0400

    xace: add new fields to resource access hook to allow parent resource objects
    to be passed in at create time.  Also added a missing devPrivates initializer.

commit 28e48cd8e6e4c412a49d7177daad6d3c93c28e08
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Sep 5 04:43:17 2007 -0700

    Another pathname fix for event_status_driver.h

commit b6c0697fd67323893a9ad3676c33f2f1ec48e15e
Author: Ben Byer <bbyer@bbyer.local>
Date:   Wed Sep 5 04:40:03 2007 -0700

    fixed path for event_status_driver.h
    (The path currently used is deprecated on Tiger and invalid on Leopard.)

commit c4fff050836feeef8390b7197f1de39af2997811
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Sep 5 16:19:45 2007 +0930

    Revert "Input: Fix stuck modifiers (bug #11683)"
    
    This reverts commit 6b055e5d9751e3679ff98065e43225ec8a960053.
    
    MPX relies on the XI event being delivered before the core event. Device grabs
    break, amongst other things. I guess stuck modifiers need to be fixed some
    other way.
    
    Conflicts:
    
            dix/getevents.c

commit bfe6b4d2d9952a80f8dbc63eec974ef894e5c226
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Sep 4 17:44:51 2007 +0930

    xkb: Store the action filters per device in the XkbSrvInfoRec.
    
    Using a global array for action filters is bad. If two keyboard hit a modifier
    at the same time, releaseing the first one will deactivate the filter and
    thus the second keyboard can never release the modifier again.

commit cc5c926267be099d793e6dfec17916f21c73c64d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Aug 30 15:51:22 2007 +0930

    randr: RRPointerScreenConfigured needs to move all pointers.
    
    Previous version only moved the VCP, causing "bogus pointer events" lateron.
    Now we run through the device list, updating each pointer separately if
    necessary.
    
    Also stick a big warning into RRPointerMoved, not sure what device we need to
    work on here.

commit 136fde2c7b5ed590bc6c63d11ede31e92dc679a2
Author: Ademar de Souza Reis Jr <ademar@mandriva.com.br>
Date:   Tue Jul 3 13:44:28 2007 -0300

    Add Xserver man section about catalogue:<dir> FPE
    
    catalogue:<dir> FPEs were introduced in libXfont 1.2.9

commit eb6a933dc60bec5601260794eeb973e946af37b6
Author: Ademar de Souza Reis Jr <ademar@mandriva.com.br>
Date:   Tue Jul 3 13:44:03 2007 -0300

    Add xorg.conf man section about catalogue:<dir> FPE
    
    catalogue:<dir> FPEs were introduced in libXfont 1.2.9

commit 205183a733237ea418a25c7423b689fcc8eae628
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Sep 4 16:19:22 2007 -0700

    Fix driver build by including an appropriate Requires.private line on pixman.
    
    We'd previously been substituting PIXMAN_CFLAGS, but we've got a better tool
    now, plus I deleted the PIXMAN_CFLAGS substitution without noticing.

commit d67e210f3458b62d7d4a6032aabfda0004d661c1
Author: Gerte Hoogewerf <g.hoogewerf@gmail.com>
Date:   Tue Sep 4 16:09:38 2007 -0700

    Add stub symbols to make xprint build.

commit f7f79724fdea0cc6fda0e90e56431df937d49335
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Sep 4 15:10:49 2007 -0700

    Increase despair by fixing xprint build after my _DEPENDENCIES changes.

commit e89d16be07e45e487913509788a9e8cb1ee09bc7
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Sep 4 14:49:49 2007 -0700

    Revert part of 529acb175440969af9d7fa38aab8d7dea0dc2661 because libtool is smart.

commit bf5948518763b5e21eff806a0a9abc5f7757fa10
Merge: 4062db4 735da3d
Author: Matthieu Herrb <matthieu@bluenote.herrb.com>
Date:   Tue Sep 4 22:40:31 2007 +0200

    Merge branch 'master' of git+ssh://herrb@git.freedesktop.org/git/xorg/xserver

commit 4062db4020c671fc0921a3a4e7fe5d8dc1be2e1d
Author: Matthieu Herrb <matthieu@bluenote.herrb.com>
Date:   Tue Sep 4 22:39:14 2007 +0200

    typo in comment

commit ce9e83d913511fe619da42f805d7bcd1a2a60d90
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Sep 4 14:01:55 2007 -0400

    xace: add hooks + new access codes: Damage extension

commit 735da3dcd09f59c40f68eca8c9a91c2e826cd1b9
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 4 16:42:57 2007 +0200

    Fixing xf86I2CGetScreenBuses(), now dereferencing the correct pointer.

commit 7c5de093d499de63d39fe038d86da0a085262017
Author: Egbert Eich <eich@freedesktop.org>
Date:   Tue Sep 4 15:07:17 2007 +0200

    Fixing sig11 in xf86I2CGetScreenBuses().
    
    Dereferencing a pointer once too often caused a
    sig11 in xf86I2CGetScreenBuses().

commit 9adea807038b64292403ede982075fe1dcfd4c9a
Author: Hong Liu <hong.liu@intel.com>
Date:   Tue Sep 4 08:46:46 2007 +0100

    bgPixel (unsigned long) is 64-bit on x86_64, so -1 != 0xffffffff
    
    This patch should fix bug 8080.

commit 529acb175440969af9d7fa38aab8d7dea0dc2661
Author: Eric Anholt <eric@anholt.net>
Date:   Sun Sep 2 15:16:01 2007 -0700

    Fix Xorg build by listing circular dependency libraries twice.
    
    One of these I introduced by listing dix and mi in the same library list to
    simplify other servers.  The other had been hacked around using libosandcommon,
    which is now gone.

commit c56930e6ca90a61d2f4cbd845f7d0a51a66f83cb
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 31 18:27:41 2007 -0700

    Remove backend.[ch] from neomagic to fix distcheck.

commit f98dfec79dadb70fa7bba84e7335f92b3a73dc02
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sat Sep 1 21:14:22 2007 -0700

    [COMPOSITE] Composite used for pixmap population on redirect. (Bug #7447)
    
    compNewPixmap copies bits from the parent window to the redirected child
    pixmap to populate the pixmap with reasonable data. It cannot always use
    CopyArea as that only works across matching depths. Use Composite when
    the depths do not match.

commit 1afdf8b0a92437dffe84fa98b6083b3d8fd55e27
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Aug 31 22:11:13 2007 -0700

    [RANDR] Don't mark Xinerama as active if no crtcs are enabled. (bug #11504).
    
    Clients expect any Xinerama-enabled screen to report at least one
    monitor, but with RandR, there may not be any enabled crtcs. In this case,
    tell the client that Xinerama is not active.

commit 0dc2bb6101704d0fd25f36e2c3df79687f119f5b
Author: Marius Gedminas <mgedmin@b4net.lt>
Date:   Fri Aug 31 21:36:37 2007 -0700

    [RANDR] Compare only milliseconds of config time. (Bug #6502)
    
    The timestamp transferred in the X protocol is a 32-bit number of
    milliseconds.
    
    The timestamp stored in the server is a structure that contains two fields:
    months (!) and milliseconds.
    
    When the server passes the config timestamp to the client, it discards the
    months part and sends only the milliseconds part.
    
    When the server receives the config timestamp from the client, it tries to
    guess the "months" part by looking at the current time and then maybe adding
    or
    subtracting one.  The guess is wrong after the server has been running long
    enough (several hours).
    
    I have added two ErrorF calls around the 'if' statement that returns
    RRSetConfigInvalidConfigTimestamp in randr/randr.c and my Xorg.0.log has
    this:
    
      randr request got good config time: 0:-2103495671
    
    for the first few successful xrandr calls, and
    
      randr request failed with RRSetConfigInvalidConfigTime: client passed
      1:-2103495671, server has 0:-2103495671
    
    when it fails.  The server has been running for 8 and a half hours.
    
    The obvious fix would be to ignore the months field and only compare the
    milliseconds.

commit 07630d897ef37cad8b79d073d9edc891d5a7bddd
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 31 15:16:01 2007 -0700

    Bug #7364: Require renderproto 0.9.3 on 64-bit, and fix build with it.

commit ca82d4bddf235c9b68d51d68636bab40eafb9889
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 31 13:00:23 2007 -0700

    Bug #7186: Fix an excessive request size limitation that broke big-requests.
    
    MAXBUFSIZE appears to be a leftover of some previous time.  Instead, just
    use maxBigRequestSize when bigreqs are available (limiting buffers to ~16MB).
    When bigreqs are not available, needed won't be larger than the maximum
    size of a non-bigreqs request (256kB).

commit a02db0d500cac20d0f0f107d27c064a175018421
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 31 12:24:07 2007 -0700

    Convert servers to using _DEPENDENCIES to ensure proper rebuilds.
    
    This cleans up server Makefile.ams a little bit, but also means that people
    messing with configure.ac need to be careful with whether they put libraries
    in the _LIBS or _SYS_LIBS targets.  Hopefully the comment in configure.ac will
    clarify the issues.

commit c9ceb4878063ca22487c708d9d1f86e367f2cec8
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Aug 31 11:03:54 2007 -0400

    xace: add hooks + new access codes: Composite extension

commit fd04b983db6a70bf747abe02ca07c1fbbaae6343
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Aug 31 09:55:27 2007 -0400

    xace: add hooks + new access codes: Render extension

commit 3f42af8c0ef1e5379bc836f589e0cbee43c02ac5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Aug 30 18:22:12 2007 +0930

    config: Use [config/dbus] consistently for error messages.

commit 0fcde83d94507eadd9f99d4e6a63584b221c989c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Aug 30 18:20:20 2007 +0930

    config: return BadValue to caller if add/remove doesn't have parameters.
    
    If message iterator cannot be created, the caller didn't supply any
    parameters. Return BadValue, instead of dying a horrible death while being
    stuck in an endless loop.

commit 87495fc7064d5e0a7575a0713b6895a4172df0fa
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Aug 30 21:57:41 2007 +0100

    Allow yres_virtual to be greater for some kernel fbdev drivers.
    (temporary fix for older fbdev drivers)

commit 1005b29cc6939851b40397cc9cd0de9476ad3046
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 30 14:48:24 2007 -0400

    xace: Correct some access modes.

commit d8ab2353cbd7694b556b7b9d550104dc8c460a1b
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 30 10:39:53 2007 -0700

    Remove dead xf86GetPciSizeFromOS and xf86GetPciOffsetFromOS.

commit c2d80529fc7f514d80cf3cbed6f580cb999aca1b
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Aug 30 10:20:55 2007 -0700

    Remove the now-dead PciAvoid symbol.

commit 53f346b158fa8e10de5a8777fa6d8d86f918878b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 30 13:20:04 2007 -0400

    xace: add hooks + new access codes: SHAPE extension

commit 766c693ef3637ee6fc402df594060ed2c1346761
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 30 13:06:28 2007 -0400

    xace: add hooks + new access codes: MIT-SCREEN-SAVER extension

commit cda92bbf12107865e93c03c71b901ef51466dc31
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 30 11:48:45 2007 -0400

    xace: add hooks + new access codes: XFixes extension.
    
    Required a new name argument to the selection access hook to handle
    XFixesSelectSelectionInput.

commit 47ab4d648b31ea1d5800e0bc84cf5f25025bffe3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 30 11:40:39 2007 -0400

    devPrivates rework: convert CursorRec and CursorBits over to new interface.

commit 1d11e4bc4ccb169fb23fc18583f0b648f0a6a4e0
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Aug 30 12:50:21 2007 +0200

    Fixing a misleading comment which could suggest a GPL violation.
    
    The author of the int10 code looked at the VBIOS POSTing code
    in DOSEMU to get some initial idea on how to POST a VBIOS.
    To give credit to the DOSEMU Team for this inspiration a comment
    was added to the code which could suggest that code from the
    GPLed DOSEMU was directly incorporated into this code.
    This patch should clearify the situation.

commit 45efe85003195bd45501630cef08349abb180c3a
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 29 16:05:51 2007 -0700

    Remove stale changelogs from kdrive.

commit 5aaf00190157114780ab51f7268b396459ed1cad
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 29 16:05:23 2007 -0700

    Add more generated files to .gitignore.

commit 87295b66a972a2bd194a79af6aa4f715018fcded
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 29 15:54:32 2007 -0700

    Bug #9629: Remove badly-licensed neomagic kdrive files.
    
    Licensing issues of these files include:
    - They claim to be licensed under the GPL, yet we haven't allowed that in the
      xserver repository in the past.
    - They refer the user to the top of the tree for GPL license text, yet it isn't
      there.
    - They claim to be derived from the (MIT-licensed) ati kdrive code, yet don't
      follow the licensing terms of those files.

commit 4795df62456b73c6790f271e0a20a83c60496490
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Aug 29 14:40:10 2007 -0400

    xace: add hooks + new access codes: TOG-CUP extension.

commit e39694789e31e221fc8dec44ace9c697daf7acad
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Aug 29 14:16:46 2007 -0400

    xace: drop map-window checking hook, add new hooks for controlling the
    delivery of events to windows and clients.
    
    This is tentative.  It's likely that an additional last-resort hook will
    be necessary for code that calls TryClientEvents or WriteEventsToClient
    directly.  It's also possible that new xace machinery will be necessary
    to classify events and pull useful resource ID's out of them.
    
    The failure case also needs some thinking through.  Should event delivery
    "succeed" or should it report undeliverable?
    
    Finally, XKB appears to call WriteToClient to pass events.  Sigh.

commit 41355a53c29bbf879da0c6ea562294fcc7ef89ff
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Aug 28 15:10:20 2007 -0400

    xace: add hooks + new access codes: core protocol input requests

commit adf46b57ce6c69ab13a38b09a8104c802d54d052
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 28 10:08:38 2007 -0700

    Replace BSD custom PCI code with a stub implementation thanks to pciaccess.
    
    Note that pciaccess doesn't yet have Net/OpenBSD support, but the relevant
    code should go there instead of disconnected code in the X Server.
    
    While here, remove the now-disabled INCLUDE_XF86_NO_DOMAIN from the headers,
    and un-disable xf8StdAccResFromOS for those OSes without domain support which
    will need it.

commit 4017d3190234e189a0bbd33193a148d4d3c7556b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Aug 28 09:28:25 2007 -0400

    devPrivates rework: since API is already broken, switch everything
    over to new system.
    
    Need to update documentation and address some remaining vestiges of
    old system such as CursorRec structure, fb "offman" structure, and
    FontRec privates.

commit 85547073265ae9bc4ae3af920a6d3214fd1ca0c5
Merge: 860a09c 7d54399
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Aug 28 07:25:21 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	include/miscstruct.h
    	mi/mibstore.c
    	mi/midispcur.c
    	os/Makefile.am

commit 3fe67d23edaae3ddde20cd5f349aa5dfde1d26a3
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Aug 27 19:02:41 2007 -0700

    Remove the BusAccWindows resource code which is now unused.
    
    This was a bunch of poorly defined resource ranges per OS/platform combination
    which were supposed to represent what regions could potentially have resources
    allocated into them.

commit 9e2112b2b56af099a7f380ece9b5c1d25b20cce4
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Aug 27 18:50:34 2007 -0700

    Remove unused xf8GetBlock and xf86GetSparse entry points.

commit 801c359574d08ff2d6ac75a3325ff522bc862e30
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Aug 27 15:46:05 2007 -0700

    Fix fbdevhwstub for pci-rework.

commit 7d54399cfdaa7f54e28828267a76b89c4e8e798f
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 26 22:11:45 2007 -0700

    Add XSERVER_LIBPCIACCESS to xorg-server.h when using libpciaccess

commit affda73a1d6e291516880dfbcb74b661374524c6
Author: Eugeniy Meshcheryakov <eugen@univ.kiev.ua>
Date:   Mon Aug 27 00:41:03 2007 +1000

    Xprint: fix handling of TrueType font name
    
    Debian bug #272368
    http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=272368
    In certain locales, some characters from some TrueType fonts were not
    appearing in the Xprint postscript output due to the font not being
    identified in the postscript output.

commit 6f44a2c8a8d6e8f95681ebc7b2dd5ad9c3a02c6e
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Jul 29 14:16:10 2007 -0400

    Refactor PictureInitIndexedFormats.
    
    The plural version is now static, which is fine since it was only ever called
    from within picture post-init anyway.  The body of the work is now done with
    a one-shot (public) function that operates on a single format at a time.

commit ae7f71a8b3d6756161e55d998d6eec37d2695c98
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sat Aug 25 15:08:20 2007 -0400

    Implement core protocol backing store exclusively in terms of Composite.
    
    Composite's automatic redirection is a more general mechanism than the
    ad-hoc BS machinery, so it's much prettier to implement the one in terms
    of the other.  Composite now wraps ChangeWindowAttributes and activates
    automatic redirection for windows with backing store requested.  The old
    backing store infrastructure is completely gutted: ABI-visible structures
    retain the function pointers, but they never get called, and all the
    open-coded conditionals throughout the DIX layer to implement BS are gone.
    
    Note that this is still not a strictly complete implementation of backing
    store, since Composite will throw the bits away on unmap and therefore
    WhenMapped and Always hints are equivalent.

commit bf0883ae5081bd75569115a3eb27c6d3d336c9f2
Author: David Nusinow <dnusinow@debian.org>
Date:   Sat Aug 25 14:53:17 2007 -0400

    Fix bug in debugging info related to pci-rework merge

commit 4eed88af8b7b6881b44ccf9f4a5c5875af6d2b78
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Aug 24 18:06:50 2007 -0700

    Remove files made obsolete by pci-rework.

commit 1ab4b3e183d04bb20fb5039f7d2671752ab24cf6
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Fri Aug 24 16:00:31 2007 -0700

    Bump video driver ABI for pci-rework.

commit 91f358336f77c0e4f577be65cca977d17298e36c
Merge: b9a806f 8b6b40b
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Aug 24 15:04:21 2007 -0700

    Merge branch 'pci-rework'

commit b9a806f0b3d495c7616b469281e5892ae7f3f6b3
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 24 19:04:55 2007 +0200

    exaPolyFillRect: pGC->alu doesn't matter with a single rectangle.

commit d0f0d1092c7587a02404e1db07740e6334462ba6
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 24 14:10:13 2007 +0200

    exaGetImage: Don't migrate pixmap out of FB with no DownloadFromScreen hook.
    
    Based on the assumption that GetImage is relatively rare, so the overhead of
    the migration is probably bigger than any potential savings.

commit 5d9e2c282145897008d7d941e2a0a3fdc71f2373
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 24 14:03:14 2007 +0200

    EXA: Improve ShmPutImage.
    
    Share as much code with exaPutImage as possible, and fall back to fbShmPutImage
    when that fails.

commit 6085522d91e875c0e1ab8d4300e7378701c19b7c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 24 14:02:35 2007 +0200

    Export fbShmPutImage to modules.
    
    To be used by EXA.

commit c19f227b468d039c5ea136cc8a53c420da30263b
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 24 13:05:52 2007 +0200

    EXA: Only mark offscreen memory as used when it really is.

commit 095850596114178119a8cc854716ce0cc6e05121
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Aug 24 13:04:48 2007 +0200

    __glXDRIbindTexImage: Fail if no texture bound to pixmap's texture target.
    
    We would most likely crash somewhere in Mesa if we tried to continue in this
    case.

commit 8b6b40b7271acd81a9548f502c18f46f3b640640
Merge: ab7a6d8 3305d17
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Aug 23 18:19:17 2007 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/common/xf86.h
    	hw/xfree86/common/xf86Init.c
    	hw/xfree86/common/xf86pciBus.c
    	hw/xfree86/int10/generic.c
    	hw/xfree86/int10/helper_exec.c
    	hw/xfree86/loader/xf86sym.c
    	hw/xfree86/os-support/bus/Pci.c
    	hw/xfree86/os-support/bus/Pci.h
    	hw/xfree86/os-support/bus/linuxPci.c
    	hw/xfree86/os-support/linux/int10/linux.c

commit 93ae6fe18c417a22f1fccb22add4890a20cae713
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Aug 23 16:33:05 2007 -0700

    Avoid leaking a Pixmap for every glyph

commit 3305d17195e3a0a5555300555bd7703312fa489f
Author: Matthieu Herrb <matthieu@deville.herrb.com>
Date:   Thu Aug 23 22:48:19 2007 +0200

    Fix indentation.

commit a66c0f1dca2958835ff65a5b50579e3304ed316a
Author: Matthieu Herrb <matthieu@bluenote.herrb.com>
Date:   Thu Aug 23 22:11:56 2007 +0200

    Remove an extra cast.
    
    Thou should not apply patches manually without testing.

commit 12d27cf33c6d963eae77795c0d247175907162a5
Author: Otto Moerbeek <otto@openbsd.org>
Date:   Thu Aug 23 21:59:25 2007 +0200

    A high resolution device that's moving fast can potentially generate
    an int overflow, making dx*dx+dy*dy negative. Now pow(negative,
    non-integer) yields NaN, so you loose.  Use fp math to avoid that.

commit ff089e6cae634ac3eb509abd448a250bcbb17275
Author: Brian Paul <brian.paul@tungstengraphics.com>
Date:   Thu Aug 23 19:38:53 2007 +0200

    glx: fix crash when freeing visuals
    
    Don't set screen->num_vis to a value greater than the actual number of visuals.
    
    X.Org Bug #10809 <http://bugs.freedesktop.org/show_bug.cgi?id=10809>

commit 943dd6ad99670c283a6869ea6c5f751acbd73134
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Thu Aug 23 12:15:03 2007 -0400

    Revert "Revert "Require pixman 0.9.5; Use pixman_image_set_source_clipping() to fix"" since the pixman changes have been pushed now.
    
    This reverts commit 57f7f2a5327a2d967a726bb4706e4f6b2f4b2cea.

commit 13949f997289068354e83bc83e50d97b8232efb1
Author: Julien Cristau <jcristau@debian.org>
Date:   Thu Aug 23 11:27:33 2007 +0200

    Get rid of the type1 font module.
    
    It is completely replaced by freetype these days.

commit 88a9828ef906bba973debc191e35ea669b7ec271
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Aug 23 18:02:10 2007 +0930

    dix: Only check device events for possible ACLs.
    
    We shouldn't be able to restrict events like Expose, etc. with device based
    ACLs. So we just ignore all non-input events when checking for permissions.

commit 76bf3cd7b8c6189b6b08518cde00c8bd991bdfb7
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Aug 23 16:22:03 2007 +1000

    randr: fixup crtc and output destroy
    
    if you are moving pointers, you want to move the pointers not just a byte

commit 81f8b652d99ee0f7116c1e34aed0e585d23a91fb
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Aug 22 19:26:34 2007 -0400

    Add _X_EXPORT to exported functions in hw/xfree86/modes/*
    
    Also add missing exports to hw/xfree86/loader/xf86sym.c

commit 57f7f2a5327a2d967a726bb4706e4f6b2f4b2cea
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 22 09:02:03 2007 -0700

    Revert "Require pixman 0.9.5; Use pixman_image_set_source_clipping() to fix"
    
    The corresponding pixman code hasn't been pushed, so revert until the code is
    ready.
    
    This reverts commit 53941c8e68014619d3ded7f8bc0f07d9a38bb9b1.

commit d0dc9698ae4324d44ed4c0482d6858d0b73bff33
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 22 09:00:45 2007 -0700

    Revert "Fix <pixman.h> include to <pixman/pixman.h>"
    
    The pixman headers have been located under pixman-1/ instead of pixman/ since
    around 2007-08-06, and pixman-1.pc has the updated include paths to account
    for this.
    
    This reverts commit feb1b3e45513bd6eaa2e6a5ee536183f20d9cb68.

commit bc2d516f16d94c805b4dfa8e5b9eef40ff0cbe98
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Aug 17 12:14:16 2007 -0700

    Fix overly-restrictive integer overflow check in EXA pixmap creation.
    
    The result was that at 32bpp, pixmaps of width 8192 or greater couldn't be
    created, due to treating a pitch value as a width.

commit feb1b3e45513bd6eaa2e6a5ee536183f20d9cb68
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Aug 22 16:54:29 2007 +0100

    Fix <pixman.h> include to <pixman/pixman.h>

commit b6a7c0112c42a3287e53647c38b2c0c5bf8fefa0
Merge: 53941c8 6ef4ecd
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Tue Aug 21 14:26:34 2007 -0400

    Merge branch 'master' of ssh+git://sandmann@git.freedesktop.org/git/xorg/xserver

commit 53941c8e68014619d3ded7f8bc0f07d9a38bb9b1
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Tue Aug 21 14:26:14 2007 -0400

    Require pixman 0.9.5; Use pixman_image_set_source_clipping() to fix
    bug 11620 (reported by Jens Stroebel.

commit 6ef4ecd82670c37a354243166750d76a97959c8b
Author: Julien Cristau <jcristau@debian.org>
Date:   Tue Aug 21 18:17:35 2007 +0200

    config: fix default xkb model (pc105, not keyboard)

commit 1834cfb4470341aace64a2fa47d04f85dbf98a47
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Aug 21 10:44:37 2007 -0400

    Fix an error message to not point to @xfree86.org.

commit 265a633cf1fcbf497d6916d9e22403dffdde2e07
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 19 20:29:37 2007 -0700

    Screen size changing should leave FB alone when X is inactive.
    
    xf86RandR12ScreenSetSize must protect calls to EnableDisableFBAccess with
    suitable vtSema checks to avoid invoking driver code while the X server is
    inactive.

commit 7dc8531548cc9573e28bb04363dcbb3af5864c9a
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Sun Aug 19 20:28:05 2007 -0700

    Ref count cursors used in hw/xfree86/modes code.
    
    The multi-crtc cursor code in hw/xfree86/modes holds a reference to the
    current cursor. This reference must be correctly ref counted so the cursor
    is not freed out from underneath this code.

commit 1f6ddae003ec65d6bc567831bf32bf75dfefdd6c
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Aug 21 00:37:33 2007 -0400

    add xf86_crtc_clip_video_helper to xf86sym.c

commit c839859d1bc35451923a2cbd5dfac4f3ca5eb3f9
Author: David Nusinow <dnusinow@debian.org>
Date:   Mon Aug 20 21:09:27 2007 -0400

    Move module defaults from the header to the source file.
    
    This is where they should have been in the first place. All the rest of
    the code in the server defines such things in the source files, not the
    headers.

commit 53c04351c462d2ae307684e50d5960debe1ee557
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Aug 20 19:46:38 2007 -0400

    move intel crtc xv clipping helper to the xserver
    
    The code is generic and can be used by any overlay-based card when
    adding randr 1.2 support.  Tested on radeon.

commit a1fe36b772f7edc162ea97368f86588c0fb77148
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon Aug 20 12:57:06 2007 +0200

    xfree86: Fix build on Linux/alpha.
    
    A bunch of CFLAGS had gone missing, so the build failed with errors like:
    ../../../../../hw/xfree86/os-support/linux/lnx_ev56.c:7:19: error: input.h: No such file or directory
    ../../../../../hw/xfree86/os-support/linux/lnx_ev56.c:8:24: error: scrnintstr.h: No such file or directory

commit 2c1431a76e7219e3bd14fd7f7888a8bc4fea0f58
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Aug 20 10:06:13 2007 +0930

    dix: ProcChangeActivePointerGrab: make sure variable is initialised.
    
    Thanks to Ben Close for spotting it.

commit 65a49f0ca198e0366175367729a101211388b16b
Author: Blair Sadewitz <blair.sadewitz@gmail.com>
Date:   Sun Aug 19 20:29:22 2007 +0200

    Autoconfiguration of wsmouse for NetBSD.

commit 3c448b0eb67337b56641e09a6d168aad6745e3ef
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Sat Aug 18 19:02:18 2007 +0200

    EXA: Fix a couple of logic errors in exaGetPixmapFirstPixel.
    
    The fb pointer would be left uninitialized when exaPixmapIsOffscreen
    returned false. When it returned true and the pixmap was damaged,
    fb would be initialized from the pixmap's devPrivate.ptr before the
    exaDoMigration and exaPrepareAccess calls, at which point
    devPrivate.ptr would still be pointing at offscreen memory.

commit 23fbd5292d356067e85e1eec4eb4f743532b0503
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Aug 17 15:29:16 2007 -0700

    Actually build Secure RPC authentication support (missed in modularization)

commit 6a32a96d8df184c3ace4847beb48fdcb846d2286
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Aug 16 17:43:29 2007 -0700

    stride is in FbBits-sized chunks, but xoff is not.
    
    Fixes corruption problems with composite rendering to redirected windows in
    depth 16.

commit 32666d77227fcd2c066de16bf3c07366f92b0457
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Aug 16 14:57:18 2007 -0700

    Bug #12015: Use the right offsets in the dst arguments of pixman_blt.

commit daee59b1703ac07c2def9e9fecc479e59b93f761
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Wed Aug 15 19:19:11 2007 +0200

    EXA: Wrap Trapezoids to prevent excessive migration of the alpha pixmap.
    
    miTrapezoids creates an alpha pixmap and initializes the contents
    using PolyFillRect, which causes the pixmap to be moved in for
    acceleration. The subsequent call to RasterizeTrapezoid won't be
    accelerated by EXA, which causing the pixmap to be moved back out
    again.
    
    By wrapping Trapezoids and using ExaCheckPolyFillRect instead of
    PolyFillRect to initialize the pixmap, we avoid this roundtrip.

commit 860a09cfb8afc0a293c7eb5e01762724eb86847a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 16 16:10:44 2007 -0400

    devPrivates rework: Nevermind, can't const due to return value warnings.
    
    This reverts commit 6fd0a0b08de912421718aca17fe34a55ae285ae7.

commit 6fd0a0b08de912421718aca17fe34a55ae285ae7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 16 16:01:42 2007 -0400

    devPrivates rework: add const qualifier to key type.

commit b2b7817497dd5da73d23ec9cc637c563041fc490
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 16 15:30:25 2007 -0400

    devPrivates rework: use camelcase standard for name of key type.

commit 0a994d4f859a4e48d41a90ed9d2a282bb528c555
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 16 12:54:35 2007 -0400

    xace: add hooks + new access codes: core protocol selection requests

commit 3ef2e9e623819c625a92f464fb14f1e5c181df42
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 16 12:27:48 2007 -0400

    xace: add hooks + new access codes: core protocol pixmap requests

commit be536b79f2a364399937314cfa6c88bf8188da9c
Author: Jeremy C. Reed <reed@glacier.reedmedia.net>
Date:   Thu Aug 16 11:23:28 2007 -0500

    Update for support on NetBSD and DragonFly. From
    Joerg Sonnenberger and pkgsrc.

commit 1d4bea6106d7a1c83e1dfe37fad8268589feaa0b
Author: Jeremy C. Reed <reed@glacier.reedmedia.net>
Date:   Thu Aug 16 11:20:12 2007 -0500

    Add some more support for DragonFly. From Joerg Sonnenberger
    and pkgsrc.

commit fe9bc481efb0821134e10760c23993c6a7386450
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 16 12:02:59 2007 -0400

    xace: add hooks + new access codes: core protocol font requests

commit e89301c8790df9fc49de13dd7c7f36e5340c0c31
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 16 10:57:49 2007 -0400

    xace: add hooks + new access codes: core protocol client requests

commit 5bee8db003a5d552ee1d85bb6c40a3cb93bd6b2b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 16 10:44:51 2007 -0400

    xace: drop background-none checking hook, add new hook for controlling
    access to other clients.

commit b82557c9fb60f11fd2696c8fb2ae17b9dfd915ed
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 16 10:36:05 2007 -0400

    xace: add hooks + new access codes: core protocol screensaver requests

commit 568ae737d1d5d476a0bf85659d88910c4e0ef5e0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Aug 15 14:14:45 2007 -0400

    xace: add hooks + new access codes: core protocol server requests

commit 14c13b8d62eb37cba8a044daffcddec578ba1644
Author: Dave Jones <davej@redhat.com>
Date:   Thu Aug 16 09:46:27 2007 +0200

    Kdrive: fix nasty thinko in TslibEnable()

commit 026534f945ae5652592a090a9d41375ca37ab618
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Aug 15 16:47:53 2007 -0700

    Update pci.ids to 2007-08-15 snapshot
    
    Remove nvidia ids in extrapci.ids that are now in pci.ids

commit 6cef7b9611297cb1d93cefe3890b26b69c87bce2
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Aug 15 16:44:49 2007 -0700

    Correct XErrorDB path and make it configurable (used by DTrace support)

commit 3c9553ac2cac7f3a41966def44a50d722d7e645b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Aug 15 14:14:25 2007 -0400

    xace: rename hostlist security hook to "server" as this hook will be used
    for other types of server access besides just the host list.

commit dc84bb3418933297a8c005070902d9a91ed3d18f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Aug 15 14:13:53 2007 -0400

    xace: add hooks + new access codes: core protocol cursor requests

commit b424e01ec59d9600a02823f1522949325797268c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Aug 14 13:20:42 2007 -0400

    xace: add hooks + new access codes: core protocol property requests

commit 14d0397cded699378fa3c19f4e61dbab7d3a9b2c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Aug 15 22:12:29 2007 +0930

    dix: ProcUngrabKeyboard: make sure grab is initialized.
    
    This should fix the random segfaults with ProcUngrabKeyboard.
    
    Thanks to David Nolden for spotting it.

commit 0f9e89b4e309e570d7d366489d250ca2143f0ad7
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Tue Aug 14 22:47:49 2007 +0200

    Fix the value comparisons in the IDLETIME wakeup handler.
    
    LessThan/GreaterThan comparisons were used in the wakeup handler,
    and LessOrEqual/GreaterOrEqual in the block handler.
    
    Change it to use LessOrEqual/GreaterOrEqual in both functions,
    since this is what XSyncNegativeComparison and
    XSyncPositiveComparison imply.

commit 42d6112ec21949a336ee8b34469f2695273ee2d6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Aug 14 13:09:38 2007 -0400

    xace: add hooks + new access codes: core protocol GC requests

commit 9a183d7ba50e31afa133cc03aee7991517a283ea
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Aug 14 11:39:26 2007 -0400

    dix: remove caching of drawables and graphics contexts.  The security checks
    simply bypass the cached values so they are unused.

commit 2763056ab5ae31bed422a0948198d98c6ace6d55
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Aug 13 13:40:47 2007 -0400

    xace: add hooks + new access codes: core protocol window requests

commit 6a195e816b9d60f728d77cc1c23538e7af00a879
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Aug 13 10:43:48 2007 -0400

    Revert "Implement damage tracking for AIGLX."
    
    This reverts commit 2243b30e54df07892f75e3d65b687abe5b183cf3.  The existing
    DRI interface doesn't let us get from a __DRIdrawable to the corresponding
    X drawable, and thus, we can't implement AIGLX damage tracking with the
    current interface.

commit f367285fd5825e0adc271982a529c9904ad65c89
Merge: b1272ee ff4bd3a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Aug 12 15:31:10 2007 +0930

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	Xi/exevents.c
    	dix/devices.c
    	dix/getevents.c
    	include/dix.h
    	mi/mieq.c

commit 03f9da672466b9ab9a9814d784b8c44f1030587e
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sun Aug 12 03:07:04 2007 +0200

    xfree86: Improve default mouse handling on the Hurd
    
    Make /dev/mouse the default device.  This makes Xorg works with empty
    or missing InputDevice sections.

commit c5741438a3a171f493e9da32a6b39f73403f6993
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Aug 10 16:13:55 2007 -0700

    Only use evdev drivers in Xephyr #ifdef linux

commit 59961e47df4ea621a6713a8c7d060555f8746c3a
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Aug 10 16:08:41 2007 -0700

    xorgcfg needs PIXMAN_CFLAGS in order to build libc_wrapper.c

commit 2243b30e54df07892f75e3d65b687abe5b183cf3
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Aug 10 15:53:05 2007 -0400

    Implement damage tracking for AIGLX.

commit ff4bd3addb48df3eacc4b121cc249a7f38eb981a
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Aug 8 14:24:42 2007 -0700

    Fix the swapped decode of the EDID DTD h/v sync polarity fields.
    
    As a result, we can remove the quirks that existed to flip the bits back around
    for us.  This is not confirmed in all cases due to lack of bugs containing EDID
    blocks associated with the quirks, but is likely true.

commit 2926cf1da7e4ed63573bfaecdd7e19beb3057d9b
Author: Gustavo Pichorim Boiko <boiko@mandriva.com>
Date:   Thu Aug 2 18:09:52 2007 -0300

    [PATCH] Allocate the right number of entries for saving crtcs

commit b2dcfbca2441ca8c561f86a78a76ab59ecbb40e4
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Wed Aug 8 12:16:12 2007 -0700

    RRScanOldConfig cannot use RRFirstOutput before output is configured.
    
    RRFirstOutput returns the first active output, which won't be set until
    after RRScanOldConfig is finished running. Instead, just use the first
    output (which is the only output present with an old driver, after all).

commit b1272eefd9a3e340d65c14903f337747ec82d021
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Aug 8 15:00:02 2007 +0930

    Fix typo from last commit. Oh well.

commit c02128532e910e813fba94983733942d30c2d5cb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Aug 8 13:10:00 2007 +0930

    dix: Allow flexible devices for passive core grabs.
    
    A passive core grab doesn't specify the device, and is thus created with the
    ClientPointer as device.  When this grab is activated later, don't actually
    activate the grab on the grab device, but rather change the device to the one
    that caused the grab to activate. Same procedure for keyboards.
    
    Makes core apps _A LOT_ more useable and reduces the need to set the
    ClientPointer.
    
    Only applies to core grabs!

commit ab3f601149e15789edfb7c9a0c33387070279582
Author: Tiago Vignatti <tiagov@balalaika.(none)>
Date:   Tue Aug 7 23:17:32 2007 -0300

    Updates some piece of the dead mouse evdev code under the new hotplug scheme.
    I exported the evdev driver to Xephyr server. I'm running it using something
    like:
        $ ./hw/kdrive/ephyr/Xephyr :1 -mouse evdev,,device=/dev/input/event4 -keybd \
        evdev,,device=/dev/input/event1,xkbmodel=abnt2,xkblayout=br
    
    It also closes /#5668.

commit 7d1a749b210ba5b9f8d0e5a1feb9a9ef9fa4d992
Author: Tiago Vignatti <tiagov@balalaika.(none)>
Date:   Tue Aug 7 22:59:12 2007 -0300

    Export device path key options to be called by the command line of server.

commit aee3588a4a6829326770c84b860061f47f2cbcae
Author: Tiago Vignatti <tiagov@balalaika.(none)>
Date:   Tue Aug 7 22:49:07 2007 -0300

    Update KdUseMsg() for completeness.

commit 30259d5a4e95ff20b30807e5e207ab5995a3fdaf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 7 20:58:49 2007 +0300

    Hotplug: HAL: Fix error handling
    
    Don't use our DBusError for property getting, because we simply don't care:
    this fixes D-Bus error spew to stderr.  Thanks Michel Dänzer for debugging
    and testing.

commit aef255425a3521d66c3405d34f7787628a22703e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 7 16:37:42 2007 +0300

    Config: HAL: Use input.xkb namespace
    
    Use an explicit input.xkb.foo namespace, not input.xkb_foo.

commit 838e59c02ec06446fc180fb9d86fa8793c7b9903
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 6 16:07:20 2007 +0300

    configure.ac: Add $CONFIG_LIB to server libraries
    
    Make sure all DDXes get $CONFIG_LIB.  Build-tested with Xvfb and Xdmx.

commit b4193a2eee80895c5641e77488df0e72a73a3d99
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Aug 7 12:45:53 2007 -0700

    RRScanOldConfig wasn't getting crtcs set correctly
    
    The output crtc is set by RRCrtcNotify, which is called at the end of
    RRScanOldConfig. Several uses of output->crtc in this function were wrong.

commit 2b93cbb5f8bac9b1b75f723baaa728430b5fefff
Author: Keith Packard <keithp@koto.keithp.com>
Date:   Tue Aug 7 12:44:19 2007 -0700

    Decrement mode count when removing RandR output mode.
    
    Removing an output mode without decrementing the mode count scrambles the
    output mode array badly.

commit fef4c7a6f1a1ef34233b36137bb66d9a657307fb
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Aug 7 09:01:14 2007 -0700

    Fix driver build after pixman changes.

commit 1339e57485db5a285cfbecbe0bba7154458680ad
Author: Tiago Vignatti <tiagov@balalaika.(none)>
Date:   Tue Aug 7 04:24:34 2007 -0300

    Fix typo.

commit d9ee5f3e3a3a814ebcd257736c305b41139cc354
Author: Tiago Vignatti <tiagov@balalaika.(none)>
Date:   Tue Aug 7 04:22:26 2007 -0300

    Clean a little bit the code.

commit 7a5eb3e96b74daaaeb6babf46b13d698280aa3f6
Author: Tiago Vignatti <tiagov@balalaika.(none)>
Date:   Tue Aug 7 02:16:44 2007 -0300

    Let xkb options be passed through command line in kdrive servers. I start my
    Xephyr using something like:
    
        ./hw/kdrive/ephyr/Xephyr :1 -fp /usr/share/fonts/X11/misc/ -mouse ephyr -keybd ephyr,,xkblayout=br,xkbmodel=abnt2

commit 955d5f6c0d14fae63bfe7c4ab39ee0a708919479
Author: Tiago Vignatti <tiagov@balalaika.(none)>
Date:   Tue Aug 7 01:39:29 2007 -0300

    When we call Xephyr with '-pointer' a new pointer is added inside the server
    and the Xephyr virtual mouse keeps alive. With this patch the semantic changes
    turning '-pointer' && 'Xephyr virtual mouse' always false.
    
    Now we can open a device pointer and pass its options in Xephyr's command line
    without having other pointer unused.

commit b8abeaf74ee8296d4bc3164a5a253624f984a6d4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Aug 7 12:32:46 2007 +0930

    dix: get the paired keyboard for a passive grab (ProcGrabButton).
    
    Taking the VCK is only correct if no physical device is connected, and even
    then it's not really a good idea.

commit a0b87f87fb8753955505958bf3d438eef191302d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Aug 7 10:49:33 2007 +0930

    dix: check for core event to determine if grab is a core grab (CreateGrab).
    
    Checking for VCP/VCK is simply not a safe way to check if a grab is a core grab.

commit aa3c6aaaab213200591d29ddb2921adfb87ee5b4
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Aug 6 19:00:59 2007 -0400

    Require pixman-1 0.9.4, update pixman includes to new scheme

commit 74feba4d77d74979a0ea478d666439ffc55001e5
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Aug 1 14:30:03 2007 -0700

    Don't unwrap too early in libwfb for Composite.
    
    Don't call fbFinishWrap until the pixman_image_t that stores the pointer is
    actually freed.  This prevents corruption or crashes caused by accessing a
    wrapped pointer after the wrapping is torn down.

commit f6aa2200f2fb4f4d4bb51e67d68e86aabcac0c4b
Author: Roland "Test-tools" Bär <roland@verifysoft.de>
Date:   Mon Aug 6 12:37:52 2007 -0700

    Probable off by one buffer overflow in .../xorgconfig/xorgconfig.c
    
    X.Org Bug #11858 <http://bugs.freedesktop.org/show_bug.cgi?id=11858>
    Patch #11005 <http://bugs.freedesktop.org/attachment.cgi?id=11005>

commit d744df32a15103aa14237175f506350d25b2fec0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Aug 6 12:23:21 2007 -0400

    xace: add hooks + new access codes: core protocol colormap requests

commit acc9a42c926a3f84159780de12ecc1dc6186068a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Aug 6 12:16:59 2007 -0400

    Temporarily disable Security and SELinux extensions
    while changes to XACE are being made.

commit 102df4f9bac59d95963572d1a7f31d1a064ca4ca
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Aug 6 09:16:30 2007 -0400

    xace: drop site-policy and declare-extension-security hooks, add 2 new hooks
    for controlling access to screens and screen savers.

commit 9eddede039f6cbcc323b7e3e4e841c43d3ed4f43
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jul 16 18:01:00 2007 +0930

    mieqEnqueue: Don't try to update the time for GenericEvents.
    
    Doing so may overwrite the event's length field and cause havoc. Also check if
    realloc'd memory did actually return valid pointer.

commit e717eb82dc2e55f852919312d04f5cfc8ee55bc8
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Aug 2 10:50:01 2007 +1000

    xserver: stop bcopy from going really slow
    
    The outport is most likely unnecessary on any currently used hardware,
    the byte copy is necessary from what I know on IA64 and friends so leave it.
    
    Add a new API entry point which lets a driver select the old behaviour if
    such a needs is ever found.
    
    This gives me ~20% speed up on startup on 945 hardware.

commit 600ef07113caa7a901c7d486bc8ebd1ae47f885c
Author: Tiago Vignatti <tiagov@balalaika.(none)>
Date:   Fri Aug 3 15:33:41 2007 -0300

    Fix kdrive command line parser.

commit 375864cb74cced40ae688078b1f7750998972535
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Aug 3 13:23:34 2007 -0400

    security: drop support for XC-QUERY-SECURITY authorization method.

commit d445d2f22b5c97fa010370f4ba9cb0555df4a853
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Aug 3 10:56:18 2007 -0400

    security: drop the "declare extension security" dix call.  Use the
    SecurityPolicy configuration file instead.

commit 0a71e1542a07abc5e32501973a7cf6de3f641317
Author: Carl Worth <cworth@cworth.org>
Date:   Thu Aug 2 22:48:32 2007 -0700

    Create a Picture as well as a Pixmap at the time of AllocateGlyph
    
    This avoids some inefficiency in creating a temporary Picture
    for every glyph at rendering time. My measurements with an i965
    showed the previous patch causing a 10-15% slowdown for NoAccel
    and XAA cases, (while providing an 18% speedup for EXA).
    
    With this change, the NoAccel and XAA performance regression is
    eliminated, and the overall EXA speedup, (before any of the
    glyphs-as-pixmaps work), is now 32%.

commit a2af34d5a861982a03afad8e586bb0181b72bbd0
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Aug 1 15:48:30 2007 -0700

    Use per-screen Pixmaps for glyphs
    
    Instead of system-memory data which prevents accelerated
    compositing of glyphs, (at least without forcing an upload
    of the glyph data before compositing).

commit 19b3b1fd8feb343a690331cafe88ef10b34b9d98
Author: Carl Worth <cworth@cworth.org>
Date:   Tue Jul 31 17:04:13 2007 -0700

    Use strong hash (SHA1) for glyphs
    
    Using a cryptographically strong hash means that comparing the
    hash alone is sufficient for determining glyph equality (no need
    to compare the glyph bits directly). This will allow us to replace
    system-memory copies of the glyph bits, (which we've only been
    holding onto for comparisons), with Pixmaps.

commit 516b96387b0e57b524a37a96da22dbeeeb041712
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jul 30 17:31:47 2007 -0700

    ProcRenderAddGlyphs: Avoid allocating a glyph just to find it cached
    
    This is a cleanup without any real savings (yet). Previously, the
    implementation would allocate a new glyph, then (often) find it in
    the cache, and immediately discard the allocated object. This
    re-organization first uses a new FindGlyphByHash function and only
    allocates the glyph if nothing is found.
    
    This isn't a real savings yet, since FindGlyphByHash currently still
    does a temporary glyph allocation, but this is expected to be replaced
    immediately as we switch to an alternate hashing mechanism (SHA1).

commit 4c6abe1c7c8abcf203572bbf86b21d97ea4e756f
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jul 30 21:43:20 2007 -0700

    Split HashGlyph functionality out into HashGlyphInfoAndBits
    
    This is in preparation for a future change that will take advantage
    of being able to compute a hash for a separate xGlyphInfo and chunk
    of bits without a combined Glyph object.

commit 363d764ea32b938f3dff35df7cf3370363c04d5c
Author: Carl Worth <cworth@cworth.org>
Date:   Mon Jul 30 15:10:11 2007 -0700

    ProcRenderAddGlyphs: Take advantage of the for loops to simplify the code a bit

commit dc8a528cd6b9a4da3e60fa31428c37f5b34a897f
Author: Carl Worth <cworth@cworth.org>
Date:   Wed Jul 25 14:57:13 2007 -0700

    ProcRenderAddGlyphs: Convert while loops to for loops where more natural

commit e34fcd2bf42dbd72ab6ce2df80f2dcaa13416e74
Merge: 32c0dcc f3955c0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 2 14:27:03 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	dix/devices.c
    	dix/property.c
    	include/dix.h

commit f3955c0a020b39021050cd33c20a17f14fc4b579
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Wed Aug 1 21:04:22 2007 +0300

    XFree86: xf1bpp: distclean generated files as well
    
    Make sure we clean up after ourselves: not sure why distcheck didn't flag
    this one.

commit a04c95f4446e5c169dea71019321d790ab4fa139
Author: Julien Cristau <jcristau@debian.org>
Date:   Wed Aug 1 20:37:05 2007 +0300

    configure.ac: Fix argument quoting for argv[]
    
    m4 quoting.  Yar boo sux.

commit 99a88826e5e8cfa25c5f8a88c12799d33114729c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 20:34:58 2007 +0300

    configure.ac: Actually use -lrt in monotonic clock test
    
    If we need -lrt to use clock_gettime, then make sure we link with it.

commit 1c80e04f876e9254b93ef87eadfcff71234340c6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 20:08:31 2007 +0300

    configure.ac: Disable D-Bus config API support by default
    
    This is problematic, so don't even bother with it unless someone wants it.
    respeclaration is dead, long live HAL.

commit c46663367329615bd2c9b63e93c9534036e5a2ae
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Aug 1 18:32:09 2007 +0200

    GLX/DRI: Remove some unused variables.

commit 17cb4f64e3c39725e83b1e311c09422d7e1c0e52
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Aug 1 18:13:18 2007 +0200

    GLX_EXT_texture_from_pixmap: Use client provided texture target when available.
    
    This prevents situations where the server doesn't use the target the
    client thinks it does, usually resulting in the texture being sampled as all
    white.

commit a4197db9504adae6af005b2218eee36b8af0d98b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 14:04:51 2007 +0300

    GL: GLX: Make sure glxbyteorder.h is distributed

commit ad7421fc764e2b82e20d90f12225a03a1d636f18
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 08:30:00 2007 +0300

    Bump version to 1.3.99.1 for development
    
    This is not actually .1, just bumping for a different devel version.

commit 43e71a54502d9ab28ece7f6296d1416d60948dad
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 08:16:35 2007 +0300

    XFree86: xf1bpp: Fix previous build system commit
    
    Amateur error.

commit 6d6bc93b0a13c5356544561e326d4aedf33e61c2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 08:11:22 2007 +0300

    Build system: Add missing files
    
    A couple of headers weren't added to the build.

commit 505ec436af3a173e0ba32c6f14b4cf9837a553eb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 08:11:08 2007 +0300

    XFree86: Properly clean up after ourselves
    
    CLEAN is not a useful variable.  CLEANFILES/DISTCLEANFILES, on the other hand,
    are useful variables.

commit 1ace9770fed4a2ba354ff06a96189428beb36088
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 08:10:38 2007 +0300

    Build system: Non-dtrace distcheck hacks
    
    automake 1.10 really wants foo.c for foo.O, so give it some dummy files to
    deal with if it really needs them.

commit cacbdf18ee771d43228c2e96e8ef9a32251ceb55
Author: Daniel Drake <d.drake@mmm.com>
Date:   Wed Aug 1 08:08:37 2007 +0300

    Remove duplicated licenses
    
    Some files had two copies of the same license.

commit bd49332e4772bd57ffb76c829f0e4770ab876057
Author: Daniel Drake <d.drake@mmm.com>
Date:   Wed Aug 1 08:07:08 2007 +0300

    Add proper COPYING file
    
    I went through the entire xorg-server distribution and aggregated all
    the licenses I could find (except the questionable GPL files, see my
    last mail).
    
    There are many many permutations on essentially the same license terms,
    but I have been pedantic and treated slight differences as separate
    licenses.
    
    Here is a description of the process I used:
    
    tar xvjf /usr/portage/distfiles/xorg-server-1.1.1.tar.bz2
    
    cd xorg-server-1.1.1
    find -name '*.c' -o -name '*.h' | xargs gvim
    
    egrep -Rli "permission|copyright" * | grep -v "\.[ch]" \
            | grep -v "\.in$" | xargs gvim
    
    cd ..
    tar xvjf /usr/portage/distfiles/xorg-server-1.3.0.0.tar.bz2
    diff -urNp xorg-server-1.1.1 xorg-server-1.3.0.0
    
    git clone git://anongit.freedesktop.org/git/xorg/xserver
    cd xserver
    git diff xorg-server-1.3.0.0..
    
    For each file, licenses have been aggregated as follows:
    
    If 2 files have identical license text but different copyright notices,
    the copyright notices are aggregated and the license text
    is included only once.
    
    Note that by identical I mean really identical, i.e.:
     'AUTHOR(S)' is not the same as 'AUTHORS'
     'KEITH PACKARD DISCLAIMS' is not the same as 'KEITH PACKARD AND COMPAQ
    DISCLAIM'
    
    Otherwise, licenses and accompanying copyright notices have been
    stacked.
    
    When going through the changes from 1.1.1 to 1.3.0.0 then HEAD, licenses
    have been added and removed (so I have reflected this since the original
    version of my COPYING file). It's slightly concerning to see that even
    between 1.3.0.0 and HEAD, new license permutations are being added. I'd
    suggest that a primary license be chosen and this would be indicated at
    the top of this COPYING file.

commit 51b735394f0aa9f953f9c320617c7a56028ec458
Author: Daniel Drake <dsd@gentoo.org>
Date:   Mon Apr 30 11:37:46 2007 -0400

    [PATCH] xserver: Add COPYING terms
    
    I went through the entire xorg-server distribution and aggregated all
    the licenses I could find (except the questionable GPL files, see my
    last mail).
    
    There are many many permutations on essentially the same license terms,
    but I have been pedantic and treated slight differences as separate
    licenses.
    
    Here is a description of the process I used:
    
    tar xvjf /usr/portage/distfiles/xorg-server-1.1.1.tar.bz2
    
    cd xorg-server-1.1.1
    find -name '*.c' -o -name '*.h' | xargs gvim
    
    egrep -Rli "permission|copyright" * | grep -v "\.[ch]" \
    	| grep -v "\.in$" | xargs gvim
    
    cd ..
    tar xvjf /usr/portage/distfiles/xorg-server-1.3.0.0.tar.bz2

commit 7fa58385724fa7f441107a1793b601ba3dcb1f4c
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Wed Aug 1 08:01:28 2007 +0300

    XFree86: xf1bpp: Fix parallel build
    
    One of the constructs wasn't parallel-build safe: fix that.

commit 18ab4d559409d4b682aab99fb75f8d861122eab6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 07:27:53 2007 +0300

    Darwin: Remove missing file
    
    Xserver.m is missing and still hasn't been added, so just remove it for now.

commit 0bd6fe7401b2524cf34793c0b0c642e3d32fae00
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 07:27:30 2007 +0300

    Config: Add missing include

commit 48b3034d13bbbb69072eb11f4579389cc32b0850
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 07:01:51 2007 +0300

    Config: Add current FDI file
    
    Add the FDI file we're using at the moment, until it gets into upstream HAL.

commit 82b720cf3e09d8a6adcd40b25c4d48b34ba1ae80
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 06:57:11 2007 +0300

    Config: Fix merge detritus

commit 6b055e5d9751e3679ff98065e43225ec8a960053
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 06:55:36 2007 +0300

    Input: Fix stuck modifiers (bug #11683)
    
    Disclaimer: It's 6:51am.  I'm trying to be as understandable as possible.
    
    What was happening previously was this:
     * Press Alt
     * Extended event generated and processed: state is now Alt down once
     * Core event generated
       - keyboard switched: inherited state is Alt down once
       - event processed: Alt down twice
     * Release Alt
     * Extended event generated and processed: state is now null
     * Core event generated and processed: Alt down once
    
    If we switch the order:
     * Press Alt
     * Core event generated:
      - keyboard switched: inherited state is null
      - event processed: Alt down once
     * Extended event generated and processed: state is now Alt down once
     * Release Alt
     * Core event generated and processed: state is now null
     * Extended event generated and processed: state is now null
    
    When we carry over the previous state, it needs to be the _previous_ state
    (state and modifiersPerKey), assuming that we're going to catch now-core
    events for any of these.  For example, if Ctrl is held down as we pivot, we
    need to carry Ctrl over with a count of one, for which an extended + core
    release will then clear.  Carrying over the union of the previous state _and
    the state resulting from the immediate action_ was what broke things.

commit 0e0174d45ecbeb7b6dddc4af53da9d6211038e0e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 03:30:07 2007 +0300

    XFree86: Allow disabling of HAL
    
    If NoAutoAddDevices is given as a server flag, then no devices will be added
    from HAL events at all.  If NoAutoEnableDevices is given, then the devices will
    be added (and the DevicePresenceNotify sent), but not enabled, thus leaving
    policy up to the client.

commit cd8e99e56ec5d02026e401cc15e0f8d75f2a4727
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 03:29:12 2007 +0300

    Input: Don't enable devices when we open them
    
    Thanks to Xi's braindead design, it's otherwise impossible to query input
    devices without enabling them.  Hurrah.

commit 0a31db14b7c7c21ef550dbcc73a9f649f3613cbe
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 02:54:14 2007 +0300

    Config: D-Bus core: Fix hook removal
    
    Make sure we properly initialise the entire hook when adding it, and
    bust out when we're done removing.

commit 89f628394f7d831f2ba1e45c5884c3983bef6031
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 02:08:02 2007 +0300

    XFree86: Input: Fix whitespace

commit aec0d06469a2fa7440fdd5ee03dc256a68704e77
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Jul 31 16:33:37 2007 -0700

    Fix a crash when rotating the screen.
    
    Remember output->crtc before setting a NULL mode because RRCrtcNotify now sets
    output->crtc to NULL.  Use the saved crtc to set the new mode.

commit a93033b0bc14ed0bb95c680ded26b63cfe5fd1d3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 01:53:08 2007 +0300

    XFree86: Module: Bump input version
    
    config_info changes the size (and ordering) of DeviceIntRec, so bump the
    input major.

commit 1150969b826e2bd6d8345fa245ed499f2e4cf101
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 01:52:20 2007 +0300

    Convert all my license statements to the standard form
    
    Convert all my license statements to the standard, accepted form:
    cf. <20070717142307.GD13478@fooishbar.org>
        http://lists.freedesktop.org/archives/xorg/2007-July/026451.html
    
    keithp's license on configure.ac changed with his verbal permission.

commit 8658f5d923a69fb55b4cd9e1e84c2d271679f6e2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 01:10:50 2007 +0300

    Hotplug: Add HAL support
    
    Add support for HAL-based hotplugging, in which we just get the list of
    input devices and properties from HAL.  Requires an FDI which is not yet
    in mainline HAL.

commit aa75b3481724834da2f855d8dd2ff36074bd5706
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 01:09:07 2007 +0300

    Hotplug: D-Bus: Dispatch harder
    
    Dispatch until we've got nothing left to dispatch, since apparently
    dispatching will only ever fire a single message ...

commit 4d238c5c67461ed747aa6c021d1532734f4c63fe
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 01:08:26 2007 +0300

    Input: GetPointerEvents: Deny events from devices without valuators
    
    For some reason, my keyboard has 25 mouse buttons, but zero valuators.  This
    causes GPE to blow up spectacularly, trying to get (and set) co-ordinates from
    devices without valuators.  For now, just prevent this from ever happening,
    and whack a dirty great FIXME in.

commit 7c9e8fd56e1830f7a971187d14877ebbdf35c4b0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 1 00:19:14 2007 +0300

    Input: Allow enabling and disabling of devices
    
    Add DEVICE_ENABLE to KDrive and XFree86 to allow us to enable and disable
    devices on the fly.

commit 0afeb0241a83796575da827bd81375c99ff10af5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 8 20:48:57 2007 +0300

    DIX: Clean up null root cursor handling
    
    Move the null root cursor handling out of main() and into CreateRootCursor.

commit 62ec6d09b3adaea82ff52c8672e6f611c15ec56d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 8 20:47:28 2007 +0300

    dix.h: Remove duplicate ffs() prototype.

commit 4d3379d418a781938358e511fd41deb4115a032c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 8 14:31:35 2007 +0300

    Fonts: Fix builtin fonts
    
    Make sure the font path is always 'built-ins' when we use built-in fonts,
    rather than having it as a fixed path for a while, then clobbering it
    halfway through startup.

commit 9ac7e8a559fe6008cafc95e8264680c50e72ba19
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 8 14:30:53 2007 +0300

    Hotplug: D-Bus: API version 2
    
    Use uint32s instead of int32s where practical, and add an API version
    request.  Also, try to return all devices added, not just the first,
    and box device arguments.

commit 1cdadc2f43d9069572814510d04b1a560c488fcb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 8 14:28:58 2007 +0300

    Hotplug: Separate D-Bus into core and hotplug API components
    
    Break up D-Bus into two components: a D-Bus core that can be used by any
    part of the server (for the moment, just the D-Bus hotplug API, and the
    forthcoming HAL hotplug API), and the old D-Bus hotplug API.

commit 8bfa41e1bf3f588780d7e9f6f900b1fde0570a7e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 8 04:29:43 2007 +0300

    gitignore: Add automake lex/yacc wrapper

commit 06dd2748da8b7af343f6cab409b9f351567de5f3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 8 00:27:40 2007 +0300

    configure.ac: Properly check XFree86 proto modules
    
    Not sure why these are conditionals, anyway.  This one really needs
    revisiting, but at least causes configure, rather than the compilation,
    to bomb out.

commit fd10312b4224197b937d9e696b53dc2a16c8912f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 8 00:26:26 2007 +0300

    configure.ac: Fix KDrive VESA/fbdev conditionals
    
    Make sure we actually respect anything explicitly given on the configure
    line, instead of just stomping it with what we detect.

commit f37612c6f2375ca904411e6caa0be19fa24f032c
Author: Nicolas Trangez <eikke@eikke.com>
Date:   Sun Jul 8 00:23:57 2007 +0300

    Hotplug: Remove unused function definition from hotplug.h
    
    configDispatch hasn't been used in a long time.

commit 951c058e7800308f7c472e77178c14400f45c1b3
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Jul 31 14:23:58 2007 -0700

    Don't fail compScreenInit if the driver added its own alternate visuals.

commit 722d73a0ef54c2ebd8ef38c4a6afa0e7c5aa3e30
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Jul 31 10:34:56 2007 +1000

    Revert "Fix RandR 1.2 conversion of two colour to ARGB cursor on MSB first platforms."
    
    This reverts commit 0f057ebb272f0ee0b51b9ab37d4b07da0924fec4.
    
    This screws my cursor up just starting a bare X server on Intel,
    I get the X more like <> than ><..

commit 57b5b97a0710fc043b8a1c01d756cdb73dfe4567
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Jul 29 11:02:47 2007 -0400

    ReduceCompositeOp returns a Render op, not a boolean.

commit f62beb6f3609e8b6e61325ac89017590811bbd07
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Fri Jul 27 13:23:15 2007 -0400

    Remove all trace of Option "BiosLocation".
    
    This code was deeply dangerous.  If anyone actually had a use for this code,
    we should find a better way of doing it.

commit 486fd4145aed93093d1f1655de40c0a8582bb8b1
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Fri Jul 27 13:10:39 2007 -0400

    exaGetPixmapFirstPixel: avoid framebuffer readbacks if possible.
    
    If the pixel in framebuffer memory isn't modified since we uploaded it, we
    can just read from the system memory copy, wihch avoids both a readback and
    an accelerator stall.
    
    In principle this function is still wrong, and all the framebuffer pixel
    access should be going through (w)fb so we can get pixel layout corrections.

commit 50cb6c7e4419e067c1f080d1de940811d21fc725
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Jun 15 15:29:00 2007 -0400

    Don't map the front buffer in libdri if the ddx driver doesn't set the size.
    
    This lets drivers map the front buffer themselves
    by setting dontMapFramebuffer.

commit cec793ef7a6dac9fa2a6538683e363a72672cde9
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Jul 26 11:49:46 2007 -0700

    Include picturestr.h in xf86Crtc.h to pick up definition of PictTransform.

commit 27845fe197b74bf453d99f352e83513e201fdaae
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jul 26 09:32:16 2007 -0400

    libconfig shouldn't be an installed library.

commit 276f8e2ca42eec982d16b86d67217d68ff98f81d
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jul 25 17:42:23 2007 -0700

    Include comment/copyright/license for AC_DEFINE_DIR in acinclude.m4

commit eba2be448bdd298ff2f7b8603bd9e976da1fdf72
Author: Brice Goglin <Brice.Goglin@ens-lyon.org>
Date:   Wed Jul 25 20:53:45 2007 +0200

    Minor fixes in cvt and gtf manpages
    
    Reported by "A. Costa" <agcosta@gis.net> in
    http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=432065

commit 8d230319040f0a7f72231da2bf5ec97dc3612e21
Author: Gustavo Pichorim Boiko <boiko@mandriva.com>
Date:   Tue Jul 24 16:19:19 2007 -0300

    Fix the output->crtc initialization in the old randr setup

commit 0f057ebb272f0ee0b51b9ab37d4b07da0924fec4
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Jul 25 17:04:04 2007 +0200

    Fix RandR 1.2 conversion of two colour to ARGB cursor on MSB first platforms.
    
    Doesn't seem necessary to do anything here...

commit 5b424b562eee863b11571de4cd0019cd9bc5b379
Author: Gustavo Pichorim Boiko <boiko@mandriva.com>
Date:   Mon Jul 23 18:27:41 2007 -0300

    Set the crtc before the output change is notified
    
    Set the new randr crtc of the output before the output change notification is
    delivered to the clients.
    Remove RROutputSetCrtc as it is not really necessary. All we have to do is set
    the output's crtc on RRCrtcNotify

commit 7da38bb6a15247948c90e00a59230453fcf13cbd
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sat Jul 21 15:27:40 2007 -0400

    Partial redundancy elimination in PropertyNotify generation.

commit 0f91abd5c68eb044d09733d18ef0f6b8ed128200
Author: Julien Cristau <jcristau@debian.org>
Date:   Thu Jul 19 20:37:26 2007 -0400

    Fix alpha build failures
    
    Don't include <asm/pci.h> in os-support/linux/lnx_axp.c, use "lnx.h" and
    <unistd.h> instead

commit dc9c5196282ba61bd542e198dfe0d53d93181591
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Jul 19 13:28:00 2007 -0700

    Make PreferredMode option in config file override EDID mode preferences.
    
    When the PreferredMode option is selected in the config file, remove the
    M_T_PREFERRED bit from all other preferred modes to force the config file
    mode to be selected.

commit 73a93c5a6b68f7ba21f9e75f50b1032603a3b39e
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Jul 19 13:26:36 2007 -0700

    Query modes on disabled (but not ignored) outputs.
    
    Code that disabled mode detection on disabled outputs would confuse
    applications by listing said outputs as connected but without any modes.
    This makes the disabled state in the config file affect only the initial
    configuration and not subsequent modifications by RandR.

commit 9fc36a391c11170cde1a28f548a2cae5f6f20d5b
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Jul 14 12:36:15 2007 -0700

    Make pending property changes trigger mode setting.
    
    The DDX code was ignoring pending properties for computing when mode setting
    was required. This meant that configurations differing only in property
    values would not cause the mode to be set.

commit aed6569309223ecc7e26fa84e4d430e422455607
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sat Jul 14 15:21:46 2007 -0400

    Refactor how Composite adds visuals to the screen.
    
    Besides being slightly simpler to read, it's now trivial to add a depth-16
    visual to a depth-24 screen just by adding a line for it in the alternate
    visual list.  Visuals for indexed depths are slightly tricky still.

commit 21bbd7d64b5f74915afd7a312e589654442f3461
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Feb 6 21:42:50 2007 -0500

    Delete some pre-dlloader debugging scaffolding.
    
    If your loader is as bad as elfloader, then it makes sense for the
    server to have some stubs for you to assign to / break on.  However it
    is no longer 1996.

commit 1f71f0c0574bafb36da20fec669f9a1138c69a47
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Feb 6 21:28:03 2007 -0500

    Remove (long-)deprecated xf86EnablePciBusMaster.

commit 0a63d874e9c2f4fe4b38839a744461f9d41040b2
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Feb 6 21:22:49 2007 -0500

    Always normalize the module name.

commit 9a1c6afd12caf0143483f72bfbba0c4c3daaa6ff
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Feb 6 21:19:50 2007 -0500

    Remove dead code for screen crossing.

commit 8ca2fe8914af1a67bf597f99025e5cbe9b08da57
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Feb 6 21:11:13 2007 -0500

    Delete dead module test code.

commit e2413cc7cae4e578b8e9b408ea85bef596b03ea3
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Feb 6 21:07:37 2007 -0500

    Remove MEMDEBUG
    
    This existed (but may not have worked) in the monolith, but is gone now.

commit d1d65a84150dfbc3a4dbe108f237a85ab6e09bbb
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Feb 6 21:01:08 2007 -0500

    Dead ifdefs for BITMAP_SCANLINE_UNIT == 64
    
    This appears to be a legacy of cfb24 not being smart enough to deal with this
    case.  But since cfb24 unexists, die die die.

commit cbe74394a5ed21ed80c0aab6eefd2716122cce11
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Feb 6 20:44:34 2007 -0500

    Nuke dead X -configure code.

commit 5657fb065cc79ba3ca5a836f45637ba9894f9abf
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Tue Jul 17 12:12:02 2007 +0200

    exaDriverInit: Fail if pScreenInfo or a member of it is invalid.
    
    EXA may attempt to use the invalid value and crash otherwise.

commit bbe7ce10fa93017374d7a4611427b70a22d7507a
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Jul 16 17:25:59 2007 -0700

    Update pci.ids to 2007-07-16 snapshot
    
    Remove nvidia ids in extrapci.ids that are now in pci.ids
    Add nvidia ids to extrapci.ids that are in xf86-video-nv but not pci.ids

commit ac979c165128704116cd40086320b6edc79018e2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Jul 14 12:13:17 2007 -0700

    MakeAtom needs length without trailing NUL. sizeof("string") includes NUL.
    
    I made a mistake in some new code using MakeAtom, passing the size of the
    string instead of the length of the string. Figuring there might be other
    such mistakes, I reviewed the server code and found four bugs of the same
    form.

commit 393171034c15d8a1b82232b8f9455a358035e932
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Jul 14 09:03:40 2007 -0700

    Add RandR reflection support.
    
    Replace the ad-hoc transformation mechanisms with matrices.
    Prepares for more general transformation as well.

commit 8773ad023eb28950eb0f802d2ca31a67f84adddc
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Jul 14 08:47:50 2007 -0700

    Screen size bounds check in ProcRRSetCrtcConfig not masking out reflections.
    
    When checking how to validate the selected mode and position against the
    current screen size, the test against 90/270 rotation did not mask out
    reflection, so that when reflection was specified, the 90/270 test would
    never succeed. This caused incorrect bounds checking and would return
    an error to the user instead of rotating the screen.

commit 881a620b4d6ea7a54af14c8f8fbe6924c9aa9291
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Jul 14 08:45:10 2007 -0700

    When sync'ing logfile, also flush it.
    
    When the logfile is set to sync, the actual sync occurs whenever the log
    file is flushed. If the log file is not also set to flush, no syncing
    occurs.

commit 031b009ea678809bf1ddca883c2082b304c408c9
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 13 14:54:45 2007 -0700

    Use %S instead of %s for strftime seconds when printing build time

commit c0e91777a9874fe2cd9a7e9180263f512c1e8f8d
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Jul 12 16:37:11 2007 -0700

    Add __SOL8__ to xorg-server.h.in since xf86-input-kbd needs it to build

commit 6b4231e3b5b49b731c9a00930ae465fff8539831
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Jul 12 16:36:27 2007 -0700

    Use kbd driver when xorg.conf specifies "keyboard" or "Keyboard" (bug #11301)
    
    X.Org Bug #11301 <https://bugs.freedesktop.org/show_bug.cgi?id=11301>
    Sun Bug #6560332 <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6560332>

commit 9fcb30ebf7b7b2137955f759e95c1d58c4f27a11
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Jul 12 13:00:32 2007 -0700

    Make SOLARIS_INOUT_ARCH substitutions work better with automake-1.10

commit 7c0ca27f6dd0a800dc27429a33dbc8e133f9a9c1
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jul 11 17:15:29 2007 -0700

    "fbpict.c", line 215: void function cannot return value

commit 0a4e9311158ed3ecda0722640f860ace2f87a97e
Author: Hanno Boeck <hanno@gentoo.org>
Date:   Thu Jul 12 10:17:07 2007 +1000

    xnest: fix linking since dbus
    
    Fixes bug 8955

commit b2f9ca6ac400d426d7a1ef0162f7e7ce28288dd1
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Jul 10 21:33:34 2007 -0700

    Redirect fix: Manual + Automatic - Manual = Automatic
    
    A window with redirect manual *and* redirect automatic which loses the
    manual redirecting client becomes redirect automatic.

commit 561989f2f0fc31e3d3bf8df978a9cb3d4c85af59
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Jul 10 21:06:51 2007 -0700

    Generate ChangeLog file for make dist.
    
    Copy Makefile.am snippet which generates a complete git change history to
    the ChangeLog file during the distribution generation process.

commit e316fa59fea8b7b18cdf3a227890351a9567ec65
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Jul 10 14:20:55 2007 -0400

    Add per-monitor config file option for maximum pixel clock.

commit ffdf8f3e452638e6b050fccabee465d6c0300f45
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jul 10 13:56:38 2007 +0930

    DeliverEventsToWindow: ensure that genericMask has a defined value.

commit 161624a5a45808fd56141dc2c64be729944f03ed
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Jul 10 09:02:40 2007 +0200

    GLX: Only build code dealing with GLXPixmap damage field when DRI is enabled.

commit 4abd00dab7e648dab8172f6009371e4e63d0c521
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Jul 10 09:02:08 2007 +0200

    Make sure DRI drawables are cleaned up when client dies.
    
    The previous scheme didn't work when the client didn't create the core drawable,
    e.g. the root or composite overlay window. Use refcounting via special client
    resources to fix that.

commit 583e988b9f7cfb9293144c8309023c0dd1766715
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jul 10 09:19:02 2007 +0930

    Install geext.h, otherwise drivers won't build.

commit 9809715afaafee9baf2aef348c1ebda7e8b3f076
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jul 9 10:42:03 2007 +0930

    Change CheckMotion to ignore non-pointer events but acknowledge XI events.
    
    Call CheckMotion from ProcessOtherEvents() to make sure absolute XI events
    update the sprite before an event is sent.

commit 62efc3951a96648cf975302aa6651cb67b87fa64
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jul 6 17:00:20 2007 +0930

    DeliverGrabbedEvent: stop segfault when gemask == NULL.

commit 3312e4dd5e055b2cb445b5d5c617aa7a611eedc1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jul 6 16:41:52 2007 +0930

    Call CheckMotion for all core events.
    
    We need to do this to update the sprites x/y coordinate before we assemble a
    button event. Absolute devices may send a buttonEvent with valuators attached.
    If we don't update the sprite before assembling the event, the valuators are
    lost and the button press is delivered to the previous position of the device.
    Doesn't have any effect on relative devices.

commit c1a6841a64576b7e688e9ca0d3e0db8acf52d4ae
Author: Paulo Ricardo Zanoni <prz05@c3sl.ufpr.br>
Date:   Tue Jul 10 10:08:44 2007 +0930

    ProcX{Change|Query}WindowAccess: change device list from char* to XID*.

commit 5957aa6fdc580ccad4557eeefa0636ffad823f33
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jul 9 08:47:05 2007 +0200

    Fix regression from recent composite changes.
    
    One pWin->redirectDraw test was converted incorrectly, causing incorrect
    rendering in some cases.

commit 5ccc09b18244f91a06b3bea20b02a97280d1a229
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jul 6 15:43:08 2007 +0930

    Use the same struct for generic event masks throughout the code.
    Renaming those structs too.
    
    Previously grabs were using a different struct than windows, which was
    reasonably stupid.

commit bcb23527421578bd4c9397d4c2c19cbefa22fc59
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jul 5 15:56:25 2007 -0400

    Clean up unused #ifdefs from fb.

commit 9ff7ff2fda30f334515b16ef0867c1500c41bc0f
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Jul 4 23:38:27 2007 -0700

    Fix MEMORY SMASH in XkbCopyKeymap.
    
    XkbCopyKeymap reallocates the destination keymap when it is not large enough
    to hold the source data. When reallocating the map->types data, it needs to
    zero out the new entries. The computation for where to start bzero'ing was
    accounting for the size of the data type twice, once implicitly in the
    pointer arithmetic, and once explicitly with '* sizeof (XkbKeyTypeRec)'.
    This would often lead to random memory corruption when the destination
    keymap had existing map->types data.

commit 9131d560a0d42067cc4e726e445e060216c9acdc
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Thu Jul 5 02:47:34 2007 -0300

    Postpone options variable assignment to fix segfault when we got a device but
    its driver is incorrect. Also if (!ki && !pi) can never be true.
    
    This one also adds the device option field.

commit 41b485d5507821e41c3281c3c565647ae7582101
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Thu Jul 5 02:40:07 2007 -0300

    kdrive must to know that devices are unplugged.

commit a92dc6b5295e4f352115fed2856169929819863f
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Thu Jul 5 02:28:14 2007 -0300

    Remove redundant linking in kdrive. Fix configure.ac variable name and clean
    it up a little.

commit 41b5155c8be75c4e171c0f64616cc09598b8ec54
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Thu Jul 5 01:57:41 2007 -0300

    For each kdrive server put a dependencie on its own libraries.

commit 16e429bcbf2f62cfc58162ab2857afb7376dda41
Author: Jonathan Lim <jlim@sgi.com>
Date:   Wed Jul 4 20:08:49 2007 +0200

    Bug 5000: Fix domain support for SGI Altix

commit f106c04b627d9f57b38627971dc79c75129e66d6
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Jul 3 14:47:19 2007 -0700

    Have Composite always report server version.
    
    It was reporting the lessor of the server and client versions, which doesn't
    make sense with the 0.4 semantic change in clipping.

commit 4f88d68bdb90cc7d12170355105b4fd020acd306
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Jul 3 14:43:17 2007 -0700

    Force advertised Composite version to 0.4 instead of using header version.
    
    Installed protocol header version may be newer than the server code base.
    Use internal version number for Composite extension to make sure the server
    doesn't advertise capabilities it doesn't support.

commit 866f092ca0160a366add01b48ad03438926c4d16
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Jul 3 14:29:11 2007 -0700

    Make Composite manual redirect windows not clip their parent.
    
    This patch changes the semantics of manual redirect windows so that they no
    longer affect the clip list of their parent. Doing this means the parent can
    draw to the area covered by the child without using IncludeInferiors. More
    importantly, this also means that the parent receives expose events when
    that region is damaged by other actions.

commit 2a75c774975b50dd4e71b7dbea7bd65ca2984a43
Author: Dodji Seketeli <dodji@seketeli.org>
Date:   Tue Jul 3 11:00:29 2007 +0200

    ExaOffscreenMarkUsed: Don't crash when there's no offscreen memory.

commit 0ede39a25cf5b0b6c2c89677f810c21ce42b95df
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Jul 3 10:55:13 2007 +0200

    Fix build when int10 doesn't use x86emu.

commit 028a00bc518dc6908839e8ce7c50ab1837100945
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Jul 2 18:41:55 2007 -0400

    Make x86emu's I/O cycle tracing more useful.
    
    Print debug messages only when the appropriate debug bit is set in the
    8086 state vector, so you can focus in on the call you're actually
    interested in.

commit 00e8295b7e0c7c0ba97707903004272818e3d87d
Author: Gero Mudersbach <geroxp@web.de>
Date:   Mon Jul 2 11:40:11 2007 -0700

    Bug #10814: Add needed quirk for Samsung 225BW like the 226BW.

commit 667e95f2e8389d9f23c50446d6d664eddd16d260
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jul 2 11:36:11 2007 -0700

    Correct the xf86EdidModes.c file description.

commit 3de1f0d03b329b01856f664651db23ffefb58646
Author: Eric Anholt <eric@anholt.net>
Date:   Tue May 29 10:08:58 2007 -0700

    Fix documentation of association of outputs to monitor sections in xorg.conf(5)

commit c1a16bdcfe7aa907fe78f27dc606a8e5a2699952
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 27 18:08:03 2007 +0930

    Add 'evfill' field to GEExtensions.
    We need this to allow extensions to fill in extra data for an event before it
    is sent to the client. This is probably to be used like
    FillUpEventsFromWindow().

commit 4d76075dbb618a47ff9fc15c4be2e2d34210fa8d
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Fri Jun 29 14:06:52 2007 -0400

    Death to RCS tags.

commit 2691c05fd647d9fa10f791ac397ecb9c423a076f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jun 29 11:56:18 2007 +0930

    Make sure window->optional is allocated before assigning it.
    
    DeletePassiveGrabFromList() may remove the window optional, so we need to
    re-alloc it if it isn't there anymore.
    
    Thanks to Colin Harrison for spotting the bug.

commit f7f3fe7fe7233a2ffc43106c48f44cbbd82b7c19
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jun 28 18:59:05 2007 -0400

    Remove the remnants of OS/2 support.
    
    This has never worked in any modular server release, and as far as I know
    was never tested in 6.7 through 6.9.

commit 8a06ff9ffa4816d192e58e43e7fe569b97b4dd7c
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jun 28 16:41:28 2007 -0400

    Fix another usage of MAX_PCI_DEVICES.
    
    Fixes cases where the VGA device is above the 128th device on the system.

commit 928836a5abd85466e920eb487fab9ccb295e0c5b
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jun 28 16:29:28 2007 -0400

    Bug #10770: "Inputdevs" isn't a valid config file keyword.

commit 62f43d8b33f67d8f3d0bd65787ffae9e6b634d65
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 27 16:24:42 2007 -0300

    Relink properly all kdrive servers when changes happen.

commit 3860996d5666b76600b1537e2cbd58e36b086308
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 27 16:06:12 2007 -0300

    Remove double-defined.

commit 1e189ed1daab58c1de67d387306fde0a9e7984a4
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Jun 27 10:16:40 2007 -0700

    Handle tileStride > 1 in fbEvenTile.
    
    Patch courtesy of James Jones.

commit bf1ad1aa4270dccf1540943d97e80b317c0adb56
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Jun 27 09:19:28 2007 -0400

    Add VBE PanelID support.
    
    Originally found only in the i810 driver.

commit d73835efda4995a310188537233a984f4b73628d
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 27 03:34:13 2007 -0300

    More janitor work. Remove 'defined but not used' warnings from kdrive and some minor cosmetic.

commit 38f8e536684193c3f70b23be22d818053c676072
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 27 03:19:37 2007 -0300

    Janitor work. Remove 'defined but not used' warnings from xorg and other cosmetic.

commit 1340f34ec98c41781164018d43bd7bb858d8132b
Author: Tiago Vignatti <vignatti@c3sl.ufpr.br>
Date:   Wed Jun 27 03:04:55 2007 -0300

    Fix kdrive XKB.

commit 08779c62ba2f4cbfa47e3cf738daf8abd74b60cf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 27 11:16:55 2007 +0930

    Reset grab->next to NULL when we're creating a grab.
    
    This is definitely necessary in CheckDeviceGrabAndHintWindow (thanks to Paulo
    Zanoni for spotting it). We're resetting it everywhere else too, just to be
    save.

commit 49136d3e9fe2d065090ee90c18a49f65fb027c9f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 26 19:43:54 2007 +0930

    mieqEnqueue: use modulo for queue tail wrapping.
    
    This was previously committed by Michael Daenzer, but was lost during a pull.

commit 8396bf7c8b4eb6b8f2d1e1ef19887064c69591da
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 26 12:58:37 2007 +0930

    Init genericMasks to 0, make sure list is NULL terminated.

commit 9725516b4274ceaf9d6caf372c5439b4c9db2316
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jun 22 17:05:21 2007 -0700

    Split checks for dtrace & getpeerucred()

commit edb9ccf3ecb4e35a840aa13815979c5fbd73f32d
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jun 25 10:51:38 2007 +0200

    Make sure DRIScreenPrivIndex is -1 when no DRI screen private is allocated.
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=11340 .

commit c4e850a781e3b85631cb386d24efcca2a835d4c9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jun 25 13:38:25 2007 +0930

    Quickfix to stop core key events from doubling up.

commit 4c601b904ee6fb01da3343ff9ef00d36f1341fcb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jun 25 10:53:05 2007 +0930

    configFiles(): don't return anything when declared as void.

commit bec4e47d128ec40b58a2c9aae475f6a6fc4323c3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jun 25 10:51:42 2007 +0930

    NULL-terminate device list when synthesizing core devices.
    
    This fix is required for 93ca526892c0d22afa05cce6496198c652043a19 to work.

commit 8e5102b9f01821048e72e7f068193a0b3e1816f9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jun 21 15:47:48 2007 +0930

    Set the detail field for DeviceKeyEvents to the keycode.
    
    (cherry picked from commit 0c33dc152e372cdc8ae59d9a5696b0774bcd03b7)

commit 87564543d92c1ee1f8cb6fb9716a15d693e08cf5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 19 18:20:05 2007 +0930

    Only decrement buttonsDown when the button count is greater than 0.
    
    Device drivers flush their buttons on device init and cause a button down
    event to be generated. If we unconditionally decrease the buttons, we won't be
    able to ever get a passive device grab.
    
    Format documentation for CheckDeviceGrabs to make it readable.
    (cherry picked from commit 3e894974cdd6a75683d4601f71622d1da7ec4395)
    
    Conflicts:
    
    	Xi/exevents.c

commit 24ee89fd60f489f2d3af0399e0d667057df74d02
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 19 15:31:56 2007 +0930

    Add a few comments to devices.c

commit 93ca526892c0d22afa05cce6496198c652043a19
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 13 15:28:15 2007 +0930

    Split up memory for devices configured in the config file.
    
    If we're using a continuous block here, we segfault when a device removal
    triggers an xfree call.

commit b141b85c254afff3ce2221d899787fab3dc295bd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jun 13 15:26:03 2007 +0930

    Check for identical grabs when adding a new passive grab. If an identical grab
    
    exists, remove the old one and prepend the new one.
    
    X.org Bug 2738 <https://bugs.freedesktop.org/show_bug.cgi?id=2738>

commit 19cde59c41cf167cc609debfee75bfc015beac12
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Fri Jun 22 00:38:50 2007 -0400

    In fbFill() make sure the drawable is validated when pixman_fill() succeeds.
    
    In fbSolidBoxClipped() don't return when pixman_fill() succeeds.

commit d2177c80915f2fe2e8a5c948d4ba2fa51dbfbea2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Jun 22 02:08:21 2007 +0100

    Skip driver mode detection/configuration when !vtSema.
    
    When the server is not active, make sure the driver functions related to
    mode setting are not called.

commit 32c0dcc8c0d1edba5d7e418fd2dc916847a4f069
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jun 21 15:39:19 2007 -0400

    xselinux: adjust the config file format to that expected by libselinux.
    
    This file will eventually be moved out of the X source tree.

commit 2030e9e5395be43bd8eab15b65c21ca4c2f1e619
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Jun 21 15:37:18 2007 -0400

    xselinux: use new libselinux support for context labeling.
    
    Remove all the config file parsing code and use the new lookup interface
    instead.

commit 4d5df14f2c4a3108a8c8adfcf4766c0d1a9daad2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jun 21 18:24:30 2007 +0930

    Save processInputProc before wrapping it and restore it later, instead of
    using a hardcoded ProcessKeyboardEvent. Otherwise we lose the ability to
    process DeviceKeyEvents after the first key press.
    
    This should be the correct fix now.

commit f6f3322fc7562dbfccaf798b05d42ea222860ba8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jun 21 18:16:21 2007 +0930

    Revert "Save processInputProc before wrapping it and restore it later, instead of"
    Mixed up source trees, this was a very bad fix.
    
    This reverts commit 8431f6083076cf1e701366767d8f8d32a628200f.

commit 8431f6083076cf1e701366767d8f8d32a628200f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jun 21 17:00:41 2007 +0930

    Save processInputProc before wrapping it and restore it later, instead of
    using a hardcoded ProcessKeyboardEvent. Otherwise we lose the ability to
    process DeviceKeyEvents after the first key press.

commit 0c33dc152e372cdc8ae59d9a5696b0774bcd03b7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jun 21 15:47:48 2007 +0930

    Set the detail field for DeviceKeyEvents to the keycode.

commit e523859a952d49b20f3d10152cc0ef695d2c12a1
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 20 17:54:38 2007 -0700

    Include module name in "already built-in" message

commit 5138f710a1574fef6f553f3fe2fccac0620d2584
Author: Arcady Goldmints-Orlov <arcadyg@nvidia.com>
Date:   Wed Jun 20 16:31:55 2007 -0700

    Fixed fbSolidBoxClipped() to fill the right place.
    
    Changed an X2 to a Y1.
    
    Signed-off-by: Aaron Plattner <aplattner@nvidia.com>

commit c9b79a355845c895aca8303a39798264d80b6212
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Jun 20 18:56:06 2007 +0200

    exaPolyFillRect: Don't track damage explicitly.
    
    All callers should already do it.
    
    Also don't leak pReg.

commit 87966c5d2889873cea6cbc16b7e4399490dfaec1
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Jun 20 18:42:00 2007 +0200

    exaGetImage: Don't migrate or try to accelerate for 1x1.
    
    This is mainly to avoid wasting effort for XSync(), but just reading a single
    pixel directly is probably faster than DownloadFromScreen anyway. Though in
    light of the latter, even larger thresholds might be useful.
    
    Also move the swappedOut check before the migration checks because migration
    can't actually occur when swapped out.

commit 1f97a7647606226cde61d6ad7a94f2b0b571a06c
Merge: 5dee64f 2e7fef7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 19 17:20:52 2007 +0930

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	dix/devices.c
    	hw/xfree86/common/xf86Xinput.c
    	hw/xfree86/loader/xf86sym.c
    	mi/mieq.c

commit 40f27a2df4906d9ceb1c78f6163a62c497321535
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Jun 19 09:11:16 2007 +0200

    mieqEnqueue: Make local queue tail variables unsigned.
    
    So the modulo arithmetic actually works as intended... thanks to Peter Hutterer
    for pointing out the problem.

commit 5dee64fc99f34e091abce65d47c4b6f026ab4849
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 19 11:31:22 2007 +0930

    Add a few comments to ProcXGrabDevice.

commit 9e257029c760883c4ea0715d4fd06476f3fe8053
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 19 11:28:07 2007 +0930

    Add implicitGrab field to GrabInfoRec.
    Is set when passive grab is implicit as result of a ButtonPress event. If this
    is the case, we need to store the XI mask as well as the core mask to ensure
    delivery of XI events during the grab's lifetime.
    
    Remove all core grabs on other devices when client issues a GrabPointer or
    GrabKeyboard request. Let's assume that the client really only wants one
    device to interact, so this seems like a reasonable solution.

commit ab7a6d860d4a275a810a64b1ba7b13726ed10575
Merge: e9130b8 2e7fef7
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jun 18 16:51:13 2007 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/os-support/bus/Pci.c
    	hw/xfree86/os-support/bus/linuxPci.c

commit 2e7fef7d0837939e822c40b6ac77e7f0e66d57bd
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Jun 18 12:08:39 2007 -0400

    Make xf86{En,Dis}ableInterrupts no-ops on Linux.

commit 831d3b7f8d053aba649c8d04af3bef96376bdc3a
Author: Lennart Buytenhek <buytenh@wantstofly.org>
Date:   Mon Jun 18 12:05:55 2007 -0400

    Compile fixes for Linux ARM platforms.

commit 562ca3f2f9005e7c5ed0a24b0759051ded2173e9
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Mon Jun 18 12:00:49 2007 -0400

    In NewInputDeviceRequest, only call EnableDevice if xf86Screens[0]->vtSema is
    true, preventing unwanted behavior in the case where a device is added while
    the user is in a different VT.

commit 3e894974cdd6a75683d4601f71622d1da7ec4395
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jun 15 17:16:16 2007 +0930

    Only decrement buttonsDown when the button count is greater than 0.
    Device drivers flush their buttons on device init and cause a button down
    event to be generated. If we unconditionally decrease the buttons, we won't be
    able to ever get a passive device grab.
    
    Format documentation for CheckDeviceGrabs to make it readable.

commit 42c2e14b254f6f882b3e79444360ab855db43e27
Author: Matthieu Herrb <matthieu@deville.herrb.com>
Date:   Fri Jun 15 00:14:02 2007 +0200

    swap xOrigin and yOrigin in SProcRenderSetPictureClipRectangles.
    
    Fixes Xrender clipping rectangles when X server and client are of
    different endianness, shown by xterm 225 among others.

commit 0aaf51546666f71e8d1711978bc7988ec2ecc7d9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Jun 12 16:55:26 2007 +0930

    Zero deviceMask and genericMask when creating a grab via CreateGrab().

commit 78179ae827bb5d19abb1340084362bc51ad5c1e5
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Jun 11 22:46:42 2007 -0400

    Remove fbmmx.[ch] files

commit eb2d7fe02f9cbca57b462bba05498e2d59316fbc
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Jun 11 22:43:01 2007 -0400

    Replace fbFillmmx() with pixman_fill() and remove fbmmx.[ch]

commit f52ae237d3eec79ccd64cdd77271aeacc37af70c
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Jun 11 22:02:39 2007 -0400

    Require pixman 0.9.2

commit d1d85c04e248f46b1cf1b1d25fdd56aa69b8f0ee
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Jun 11 21:25:42 2007 -0400

    Delete fbBltmmx().

commit e2a720c9a17dc860ee0a858c2b21fd71e86cdcd0
Merge: 878cac7 3f9adb1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Jun 11 15:29:11 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	dix/dixutils.c

commit 3f9adb18f127318d054f30a57e3a77176e14c692
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Jun 11 15:19:27 2007 -0400

    Port a few forgotten fbSolidFillmmx()'es to fbFillmmx(). Use pixman_blt() instead of fbBltmmx()
    in fbCopyNToN().

commit 878cac71aa0018deee861b297638c0744dba631b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Jun 11 14:19:37 2007 -0400

    xselinux: use new libselinux support for private Flask definitions.
    
    Removes indirect dependency on kernel headers.

commit d06099b38e8445e6e31f5178ffefcc31a71080ef
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Jun 11 13:28:24 2007 -0400

    Remove fbCopyAreammx() and fbSolidFillmmx()

commit d4a034370c8ae71b2cc4fe824ceee58b19624f35
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Jun 11 13:26:24 2007 -0400

    Split fbSolidFillmmx() into a new FbFillmmx() function. Call that from fbFill().

commit 3210902a7334f3d8d6c18a34a3cb3f55803b0043
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Jun 11 13:14:50 2007 -0400

    Split fbCopyAreammx() into a new fbBltmmx() function; call this
    
    function from fbCopyNToN().

commit 8d5f4368eac1b259db3e61f877a4cc10f04efa2f
Author: Clark Rawlins <clark.rawlins@escient.com>
Date:   Mon Jun 11 16:53:38 2007 +0200

    Really make sure BUILD_TIME doesn't have a leading zero.
    
    date +'%k%M%S' still gives a leading zero in the hour after midnight...
    
    Add a leading 1 and remove it in xf86PrintBanner().

commit 54e023cec07aa7e392da36e11d0a4667b8341370
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon Jun 11 09:16:46 2007 -0400

    Don't pass regions to pixman_image_composite() anymore.

commit 5cbec267b6426960c90f6bcff1d051af5084538c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jun 11 12:38:41 2007 +0200

    Make sure BUILD_TIME doesn't have a leading zero.
    
    It causes the compiler to treat it as an octal constant instead of decimal as
    intended, which could even cause a build failure in the cases of 08 and 09.
    
    Thanks to Clark Rawlins for pointing out the problem.

commit 1aceec61ff203848576c47a1eab13f90a67d7176
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jun 11 09:23:19 2007 +0200

    DRI: Clip cliprects obtained from DRIGetDrawableInfo to screen dimensions.
    
    This is to avoid issues with redirected windows which are located partly or
    fully outside of a screen edge, resulting in unusual cliprects which the 3D
    drivers generally can't handle. The symptoms in such cases would be incorrect
    rendering or even crashes or hangs.

commit 5d896e43fd056d935935b4eb66562791edc247a1
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jun 11 09:23:19 2007 +0200

    DRITreeTraversal: Stop walking tree when we've seen all DRI windows.

commit 0fb44c6f9a0415184818ba8357a21ff920e907dc
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jun 11 09:23:19 2007 +0200

    DRI: Fix build warning.

commit 644f7ddc0cb029e2ebca43742fd8a46a1a3f4c9f
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jun 11 09:23:18 2007 +0200

    dixLookupClient: Use access parameter.

commit 30a3297fed9af3a594aba0875a8f58a0a38b33fc
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jun 11 09:23:18 2007 +0200

    mieq queue handling cleanups.
    
    In particular, fix handling of wraparounds in mieqEnqueue.

commit c1a49a9269f14b6975a1a2c751bb179757373f11
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Jun 10 22:14:57 2007 -0400

    GNU is wrong and ` is not left-quote.

commit 67a0a4da1a225ee3bd6bbd1846f8141fe333c884
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Jun 11 11:55:11 2007 +1000

    update xproto dependency to at least 7.0.9

commit c079cce9d884ab03f305b3fba4a4e1247c023480
Author: Daniel Ciocea <daniel.ciocea@eosystems.ro>
Date:   Fri Jun 8 18:12:21 2007 -0700

    Fix sync polarity on Samsung SyncMaster 205BW monitor.
    
    need to use standard VESA sync polarity instead of the
    EDID provided -hsync -vsync values.

commit 9c47b86bd9a4633fda5fd305a09ac8623187efa0
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Jun 7 13:57:12 2007 -0700

    Add new fb symbols to wfbrename.h.
    
    Avoids crashes when wfbComposite calls the wrong image_from_pict.

commit 567b5bf765254a4ae9cc7711bb6acfa89a9fd61c
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Tue Jun 5 20:26:49 2007 -0400

    Delete fbCompositeCopyAreammx()

commit 49ed31c0b323dd8c5887a803c199875e6f2330d8
Author: Søren Sandmann Pedersen <sandmann@redhat.com>
Date:   Tue Jun 5 17:44:21 2007 -0400

    Remove most of the fast-path MMX operations from fbmmx. fbCopyAreammx
    
    and fbSolidFillmmx are still needed by other code.

commit dfbe32b5b828cc4e3da36a0e2e6ad641164eaa5e
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Jun 4 18:07:00 2007 -0400

    Remove the old Kerberos 5 authentication code.
    
    Before you complain, this code hasn't seen material change since at least
    X11R6.  It certainly does not build with any modern version of Kerberos.
    Anybody wanting krb5 auth to their X server should probably be using
    GSSAPI instead of internal krb5 API anyway.

commit 793470a8356976ddd427280a738dfb6e1c0e4e70
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Jun 4 12:33:49 2007 -0400

    dix: fix null pointer dereference in new resource lookup function.

commit 75dece08fb72803d5116e6776e9f1534ff20e37b
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Mon Jun 4 09:09:20 2007 -0400

    xf86PostMotionEvents[P] calls xf86SendDragEvents, xf86SendDragEvents
    unconditionally checks device->button->buttonsDown.
    
    Let's make it possible to have a device with motion, but no buttons.
    
    Without segfaulting.

commit fbb9b203950e9d0e82574cde5b3e006b0e6b404f
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Mon Jun 4 06:59:42 2007 -0400

    Let's not do a calloc and a free on every call to xf86PostMotionEvents.

commit 3f4295e643ca56c40f33af7966e8efd367ef8749
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Mon Jun 4 06:48:06 2007 -0400

    Add xf86PostMotionEventP, takes a pointer instead of a variable number of
    arguments.
    
    Bump input ABI to 1.1 since we export this.

commit a4f3473c88370b8411e016ebab619cffd33e58f9
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Mon Jun 4 06:39:02 2007 -0400

    Fully init the AbsoluteClassRec in InitAbsoluteClassDeviceStruct.
    (Specificly, we were missing the screen field.)

commit 0cbc3a4da2ddb6e4f30f60d2bc7f405d31aa554a
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Mon Jun 4 02:03:44 2007 -0400

    Print the build time as well as the date if we can.

commit 9a7aaeb3f6ff79af60fde91cd0575a54ba0b9587
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon May 28 13:54:16 2007 +0300

    XFree86: Input: Assume core events per default
    
    Assume that a device will be sending core events, unless explicitly
    specified otherwise.

commit 94361cbba7f866144691f6f5e9251a550e0e0cb8
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon May 28 13:54:47 2007 +0300

    XFree86: Input: Perform case-insensitive comparisons on option names

commit e5ce982381c4092252d6b55fcefcc9a3cd21e656
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Jun 3 09:40:37 2007 +1000

    Include pixman.h from fb.h or compile of some files will fail
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>

commit 90eb22656c34d2d08a8dccaf05e6d081c56bd7f3
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sat Jun 2 16:49:26 2007 -0400

    Minor cleanup/robustification to config parsing.

commit f6a983533bdc84752562ef0be25b320678bf08a1
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sat Jun 2 16:37:39 2007 -0400

    Don't warn about default behaviour when autoconfigging.

commit 21e8f4eb02842f877336db08c332d8ee4a381ee0
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sat Jun 2 16:13:01 2007 -0400

    Don't print lack of DRI support as an error in AIGLX init.

commit 0e1384d8318637f75d04d3d1b7600f7cad40117e
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sat Jun 2 16:07:20 2007 -0400

    Delete VDIF support; it was never used anyway.

commit 66702f3c1c6c884e83744c72da173cc32f22b2f4
Author: Henry Zhao <henryz@localhost.localdomain>
Date:   Fri Jun 1 23:55:40 2007 -0700

    Need to use minPitch in miScanLineWidth() to get the shrinked
    linePitch.

commit 26b21157cf934ae387b15faa9ebb060120e6a0d6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 31 17:05:14 2007 +0930

    Add a deviceMask to the GrabRec and don't interfere with passiveGrabs.
    
    This quickfixes event delivery problems with XI events when a grab was on.
    deviceMask is only used when the grab was from a ButtonPress to preserve
    potential XI event masks.
    
    This is not an ideal solution but it works until I have time to work on
    PassiveGrabs.

commit fa877d7ff25c4ec45288e1fea70d4f5e1baf3ef3
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed May 30 13:06:45 2007 +0100

    Fix mode validation against the maximum X/Y values configured
    at server startup, and not against the virtual X/Y parameters
    as they can change.
    
    This fixes an issue when canGrow is TRUE and modes get dropped
    when using the virtual X/Y parameters.

commit 182ab3a3d5b28daa86e6d6155e76ce759687ae6d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 30 17:44:31 2007 +0930

    Fix up comments for event.c

commit b5db863945fa8045995b3bf742c44e40f2650f04
Author: Paulo Ricardo Zanoni <prz05@c3sl.ufpr.br>
Date:   Wed May 30 16:15:15 2007 +0930

    Allow value None for windows when setting ClientPointer.
    
    We need this for clients that need to set the ClientPointer but don't have a
    window on display yet. If used, it will set the device as the ClientPointer
    for the requesting client.

commit 99eae8bea6724a24477375ad5b2d31cc4883cf6b
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Tue May 29 22:04:36 2007 -0400

    I/O enable/disable update for the Hurd

commit 3c6f1428489c1f71acd41066ea73ef4ae7c60f17
Author: Julien Cristau <jcristau@debian.org>
Date:   Tue May 29 22:01:30 2007 -0400

    Make sure that the ramdac symbols are present in the server
    
    The former ramdac module is now built into the server, so its symbols need to
    be explicitly exported to drivers (Debian #423129).

commit ee20c481eede0954f4a8bef5113979b101863c32
Author: Matthieu Herrb <matthieu@deville.herrb.com>
Date:   Tue May 29 14:54:27 2007 -0600

    Remove wscons keyboard handling stuff that doesn't belong there anymore.

commit 60de6c7ef9bdcee043f63e8e0d493e6feba6a9d0
Merge: 3a6549a 2f13b7c
Author: Matthieu Herrb <matthieu@deville.herrb.com>
Date:   Tue May 29 12:14:49 2007 -0600

    Merge branch 'master' of ssh://herrb@git.freedesktop.org/git/xorg/xserver

commit 3a6549a163aba26bf4ac58b050c493fba0df14c6
Author: Matthieu Herrb <matthieu@deville.herrb.com>
Date:   Tue May 29 12:14:23 2007 -0600

    Make this build on OpenBSD

commit 2f13b7c113c17239e382dd3640e9c29201d8ab1f
Author: Drew Parsons <dparsons@debian.org>
Date:   Wed May 30 02:13:36 2007 +1000

    Update Xprint build for pixman.
    
    Xprt links libfb, which now uses pixman.  Update configure.ac to
    require module $PIXMAN for XPRINT.
    Also, use $(top_builddir) to reference libfb.la and other local
    libraries, rather than using the relative reference ../..

commit ba0b7d47ab0c24d5a29228f8af583044060464bd
Author: David Nusinow <dnusinow@debian.org>
Date:   Mon May 28 21:57:04 2007 -0400

    Fix for GNU/kFreeBSD

commit 2267bf48b385c93243e26c3bb84ebb04c7fdb39f
Author: Bastian Blank <waldi@debian.org>
Date:   Mon May 28 21:55:05 2007 -0400

    Fixes for s390

commit 857ddbb660a21cad1c16f4fb2dc8a904d6655304
Author: Eugene Konev <ejka@imfi.kspu.ru>
Date:   Mon May 28 21:53:02 2007 -0400

    Allow configurable serverconfigdir for security policy location
    Allow the location of the SERVERCONFIGdir variable to be defined at
    compile-time. This allows us to specify where the security policy will be
    located (Debian uses this to put it in /etc). The default is to the
    previous location.

commit 78d01d1008973899d931ef44b47d5f0b5f220b0d
Author: Gerhard Tonn <gt@debian.org>
Date:   Mon May 28 21:48:58 2007 -0400

    Miscellaneous fixes for S/390.

commit d98bd4bf908c2c51fcfd3a4c3230de17f2567244
Author: Branden Robinson <branden@debian.org>
Date:   Mon May 28 21:44:59 2007 -0400

    Overhaul xorg.conf manpage
    
    Major stylistic cleanups, greatly expanded cross-reference ("SEE ALSO")
    section and some typo fixes.
    
    This patch by Branden Robinson. Forward-ported by Fabio M. Di Nitto.

commit 6bf8d5019313ee2251a44dfb7ad3435a3c6db7eb
Author: David Nusinow <dnusinow@debian.org>
Date:   Mon May 28 21:42:10 2007 -0400

    Read ROM in chunks
    This patch speeds up reads of the ROM by reading in large chunks rather
    than one byte at a time. This patch was by Dann Frazier.

commit 6fdd134a0c3e6fdde9b089100e8783705c9cc6ac
Author: David Nusinow <dnusinow@debian.org>
Date:   Mon May 28 21:39:12 2007 -0400

    Fix up xnest manpage
    I believe this patch was originally by Branden Robinson

commit 6a870992d81a6bacfa9d313c15784fdb281d474f
Author: Keith Packard <keithp@dulcimer.keithp.com>
Date:   Fri May 25 20:33:08 2007 -0700

    xf86XVFillKeyHelper assumed root clip never changed.
    
    When the root window changed size, xf86XVFillKeyHelper would not revalidate
    the GC, leaving the clip at the old size causing lossage (and possibly
    memory corruption if the screen and frame buffer shrank).
    
    Fixed by just using a scratch GC; saving memory, eliminating bugs and
    shrinking the code.

commit 3c982bc1a49509dda7bc469b0eced44df02755b3
Author: Luo Jie <luojie@nlsde.buaa.edu.cn>
Date:   Thu May 24 11:13:03 2007 -0700

    Reinstate an apparently mis-deleted ';' from a for loop with no body.
    
    Fixes an error returning "No core keyboard" with multiple keyboards.

commit 4d7469f75fadfc4a59664e88e18eb304203670f4
Author: Luo Jie <luojie@nlsde.buaa.edu.cn>
Date:   Thu May 24 11:04:06 2007 -0700

    Fix a typo in using memcpy in xwin.

commit 0b988450462ddb005311e68502357baf272e6371
Author: Luo Jie <luojie@nlsde.buaa.edu.cn>
Date:   Thu May 24 11:02:28 2007 -0700

    Fix os/utils.c compile with mingw.

commit 1f48995d66c0072caa7e5ce2845be642221dd56d
Author: Luo Jie <luojie@nlsde.buaa.edu.cn>
Date:   Thu May 24 11:01:15 2007 -0700

    Fix build of composite, dix, and randr when Xinerama is disabled.

commit 8f98be7db303bc3db650054efb86843c70114451
Author: Eric Anholt <eric@anholt.net>
Date:   Thu May 24 11:00:04 2007 -0700

    Fix bswap detection on BSD (mis-added '_' in function names).

commit 9616a042855399f0ee9c6489ea824621ea5fee18
Author: Matthias Drochner <drochner@netbsd.org>
Date:   Tue Apr 10 16:15:40 2007 -0700

    Fix build on NetBSD/amd64.

commit ddb26bccd275f4fc011f7a2be685d1ce58555a00
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu May 24 12:20:24 2007 -0400

    dix: Add a bunch of new access codes.
    
    These were determined through an analysis of the core protocol and 35 of
    the most common protocol extensions.  There remain four bits for future
    use.

commit 649e7f82d8d4333443493056b81eb20d6cf022bc
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu May 24 12:10:05 2007 +0200

    Consolidate portPriv->pDraw assignments into xf86XVEnlistPortInWindow.
    
    This avoids a crash in xf86XVReputVideo and also cleans up the code slightly.

commit 047bf3349bb697c73c95729a8bbf15f72605901f
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed May 23 16:56:05 2007 -0400

    Delete trapezoid rendering code; replace with pixman calls

commit 9d87ef4e0dff40ea39f1b209c67b90079fc79065
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed May 23 15:50:25 2007 -0400

    - Make image_from_pict() non-static
    - Delete fbedge.c and fbedgeimp.h
    - Use pixman_rasterize_edges() in fbtrap.c

commit 2a960c442bd7560630f52b55d82ec0517542ee5a
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed May 23 13:08:26 2007 -0400

    Port renderedge.c to pixman

commit 3ba3ede9bbdfc6376b6f6e0b6ce8280a05e6584d
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed May 23 12:56:04 2007 -0400

    Add missing offsets for window coordinates - reported by Colin Harrison

commit 2a4aa63a23ddd816b647b851a01865861827a7eb
Merge: 9cee4ec cc648e6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue May 22 14:50:26 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	include/miscstruct.h

commit cc648e609d472472bac4a2e568eb3598b3690ba3
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue May 22 10:51:56 2007 +0200

    EXA: Export ExaOffscreenMarkUsed.
    
    Can be used to inform EXA that an offscreen area is used outside of EXA.

commit e6a7198e7cd96f1fe0654cc6811a977821579258
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue May 22 10:51:55 2007 +0200

    Bug #8991: Add glXGetDrawableAttributes dispatch; fix texture format therein.
    
    Adapted to master branch by Michel Dänzer <michel@tungstengraphics.com>.

commit 6324bfc468f7a645d2fee59f1c921a4328a4639f
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue May 22 10:51:53 2007 +0200

    AIGLX: Zero-copy texture-from-pixmap.
    
    When available, use the 2D driver texOffsetStart hook and the 3D driver
    setTexOffset hook to save the overhead of passing the pixmap data to
    glTex(Sub)Image.
    
    The basic idea is to update the driver specific 'offset' for bound pixmaps
    before dispatching a GLX render request and to flush immediately afterwards
    if there are any pixmaps bound. This should ensure that the 3D driver can
    use pixmaps for texturing directly regardless of the X server moving them
    around.

commit 5006d08d7fc56d3d380cc6b75297f94e8594eb54
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue May 22 10:51:52 2007 +0200

    DRI: Add TexOffset driver hooks.
    
    To be used by AIGLX for GLX_EXT_texture_from_pixmap without several data copies.
    
    The texOffsetStart hook must make sure that the given pixmap is accessible by
    the GPU for texturing and return an 'offset' that can be used by the 3D
    driver for that purpose.
    
    The texOffsetFinish hook is called when the pixmap is no longer being used for
    texturing.

commit ff2eae86b6a8760befbbc5d605debebe7b024c05
Author: David Nusinow <dnusinow@debian.org>
Date:   Mon May 21 19:50:04 2007 -0400

    Fix boolean thinko that prevented working without a server layout

commit 56fd92715567cd32e4b725b3791de9ac4e3879aa
Author: Soren Sandmann Pedersen <sandmann@redhat.com>
Date:   Mon May 21 20:00:25 2007 -0400

    Remove fast path code from fbpict.c
    
    Remove the various fast path functions from fbpict, and instead use
    pixman_image_composite().

commit d0e8f474099dea40bbea555427772724ccb787d1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 21 13:06:21 2007 +0930

    Change GrabDevice's parameter name back to "coreGrab".
    Was changed during a global search/replace for
    5c680e94938c16e04a4349715cf11796b80400db.
    
    Otherwise people like me introduce bugs (e.g. in
    333bab4b235801efd2b2de5b60df5b0c44048d3e)

commit 167e1773de0fb566559d4362ff929eedcdb6d055
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 21 10:45:10 2007 +0930

    Remove unused include "gestr.h"

commit 7e2c935920cafadbd87c351f1a3239932864fb90
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Fri May 18 20:06:14 2007 +0200

    Add a new IDLETIME system sync counter.
    
    This counter exposes the time in milliseconds since the last
    input event. Clients such as screen savers and power managers
    can set an alarm on this counter to find out when the idle time
    reaches a certain value, without having to poll the server.

commit 756acea23a0cc56c470bcd77c6f5638d923ab3d1
Author: Soren Sandmann Pedersen <sandmann@redhat.com>
Date:   Fri May 18 13:39:12 2007 -0400

    Use pixman_image_set_indexed() to make 8 bit work

commit 7916419a0092b8bf9713c0840f9e969950d7aa85
Author: Soren Sandmann Pedersen <sandmann@redhat.com>
Date:   Fri May 18 11:58:24 2007 -0400

    Comment out setup of general MMX code

commit 998164bac648756e5b5254aa36e075ae360d3972
Author: Soren Sandmann Pedersen <sandmann@redhat.com>
Date:   Fri May 18 11:36:20 2007 -0400

    Move fbCompositeGeneral() to fbpict.c and remove fbcompose.c

commit a2e3614eb8f0fa198615df492b03ff36bc9c1121
Author: Soren Sandmann Pedersen <sandmann@redhat.com>
Date:   Fri May 18 11:33:11 2007 -0400

    Break image_from_pict() into a few subfunctions.

commit c5ef84c325440af5fbdf9f44c3781d99a0392df9
Author: Soren Sandmann Pedersen <sandmann@redhat.com>
Date:   Thu May 17 21:31:08 2007 -0400

    Make the general compositing code create a pixman image and call
    
    pixman_image_composite(). Leave the general code commented out for now.

commit 076d070e186afeb416976ae74fbfd50c86db10c5
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu May 17 20:24:18 2007 -0700

    Use Screen block handler for rotation to draw under DRI lock.
    
    DRI uses a non-screen block/wakeup handler which will be executed after the
    screen block handler finishes. To ensure that the rotation block handler is
    executed under the DRI lock, dynamically wrap the screen block handler for
    rotation.

commit 915563eba530c5e2fdc2456cf1c7c3cc09b3add0
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu May 17 20:22:43 2007 -0700

    Disable all outputs and crtcs at startup.
    
    Leaving devices enabled during server startup can cause problems during the
    initial mode setting in the server, especially when they are used for
    different purposes by the X server than by the BIOS. Disabling all of them
    before any mode setting is attempted provides a stable base upon which the
    remaining mode setting operations can be built.

commit 0375009a97c2ab7f0e0f0265463d45c0580388c6
Author: Soren Sandmann Pedersen <sandmann@redhat.com>
Date:   Thu May 17 12:59:24 2007 -0400

    Remove excessive unrolling in fbCompositeSrc_x888x8x8888() and fix bug where
    the source alpha was used instead of 0xff.

commit 0b4db74922299df785e6273fdb1bf65c38d36070
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 17 18:00:07 2007 +0930

    Squish the flags into the upper bits of the mode field for EnterLeave events.
    This way we have enough space for the detail field.

commit 333bab4b235801efd2b2de5b60df5b0c44048d3e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 17 17:59:02 2007 +0930

    Clean up, correct some comments.
    Send event type down with the RawEvents.

commit bc334286b060bc8d0c829b18acebadf24fbdaf19
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 17 10:36:46 2007 +0930

    Init device axis with -1,-1 minimum values.
    
    This is needed to be able to cross to screens located east/north of the
    current active screen.

commit 546465ee6aa6584780aec6357f32d205c807ae71
Author: Soren Sandmann Pedersen <sandmann@redhat.com>
Date:   Wed May 16 17:42:04 2007 -0400

    Make fbFetch_b8g8r8() actually write the read value to the buffer

commit 0fcd17c9181901c419cc32bc24c07fe5a6934d81
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue May 15 17:59:13 2007 -0400

    Use pixman short formats, revert the gradient_stop change

commit f4c1d5fc28a5a7fe2592505350f9e2331f6049b7
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue May 15 17:12:22 2007 -0400

    Use pixman types for transforms and vectors

commit f2e30e7d0a1d075e7e83c5b5ceca9e4752951138
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue May 15 16:51:21 2007 -0400

    Use the pixman fixed point types and macros

commit 3da842bf930d7875599ca0c06cb4a09cfa987ac5
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue May 15 14:57:14 2007 -0400

    Revert various fast path functions to their pre-pixman-merge state
    since they fail rendercheck. Remove their associated macros.
    
    See bug 10903.

commit 1568b6b6a0d7337f29c7b87cc46ae64b3b0f8fdf
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Sat May 12 20:33:23 2007 -0400

    Port large amounts of the region code to pixman

commit dde0ceac4ea7639d0096bfd26f37c5851778854c
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Sat May 12 17:41:47 2007 -0400

    Add new InitRegions() function called from dix/main

commit e037052ac522150786abf44d3a04c813cc490050
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Sat May 12 16:58:54 2007 -0400

    Turn boxes and regions into typedefs for pixman types

commit 8e56f5be4b70773c899f01b9ccd2e88d523327e4
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Fri May 11 11:45:37 2007 -0400

    Add dependency on pixman 0.9.0

commit a8c56372ba8aa36bac09877c478ff53ea5358df7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 15 10:24:22 2007 +0930

    Revert "Allow events to grabWindows event if the device is not grabbed."
    
    This reverts commit 339b73e710a0920608a3fbcb20b406f0f6c4e0f6.
    Allowing those events can lead to race conditions.
    
    Conflicts:
    
    	dix/events.c

commit 81fc6a128b64ad412064405ed45db0175398e3f0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 14 18:12:56 2007 +0930

    Add ungrab support to ExtendedGrabDeviceRequest handling.
    Polish the code a bit.

commit 5c680e94938c16e04a4349715cf11796b80400db
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 14 12:34:53 2007 +0930

    Remove double-grab option. We only want one grab per device.

commit 4dc973f08c54294e06bc831bd2839fd3aa24ecfb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon May 14 10:42:03 2007 +0930

    Add ExtendedGrabDevice handling.
    Add XGE handling in DeliverGrabbedEvent.
    
    We can now grab something selecting XGE events, but the current code is a
    bit messy and doesn't work too well yet.

commit a277f04ab08514462b7f10b4dd92eb326af85501
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed May 9 22:03:12 2007 -0400

    Remove mfb and cfb from include paths where they're not needed.

commit 20c5250e487e032d392e2e4624021fccb1bfb72c
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed May 9 21:49:44 2007 -0400

    Use system copy of cbrt() if available.
    
    Also move the replacement inline into miarc.c, since that's the only user.

commit 8dcc37520d5e8c8b52cee81faa67fd5205548377
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed May 9 18:57:05 2007 -0400

    Use _X_INLINE instead of ad-hoc #defines.

commit 6ff239cb4e67c0a2ea497a1714e5585c1d941af3
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed May 9 18:38:33 2007 -0400

    Make the use of ICEIL slightly less ugly.

commit 178d426311bb3c7160f72b5d95b0a137eda09ba9
Author: Colin Harrison <colin.harrison-at-virgin.net>
Date:   Fri May 11 10:08:42 2007 +0100

    Missing piece from bug 9808

commit ebaa6c920c82401952a0ccc991b94574306449bd
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 10 15:25:31 2007 +0200

    Disable Simba PCI bridge routing code (Bug #8020).
    
    The code in hw/xfree86/os-support/bus/sparcPci.c:simbaCheckBus()
    is trying to mimmick VGA routing by disabling I/O space responses
    behind the Simba PCI-PCI controller.
    
    Unfortunately, doing this also happens to disable access to the
    IDE controller I/O space registers, thus crashing the system.  The
    granularity of the I/O disabling in the Simba controller is not
    fine enough to disable VGA without also disabling the IDE controller
    registers.

commit 86c4941727f7c673ae6bb88c67443fa25935c7f5
Author: Colin Harrison <colin.harrison-at-virgin.net>
Date:   Wed May 9 16:55:27 2007 +0100

    fix an occasional crash in GetWindowName() (bug: 9798)

commit be44018a3c6172caf3e91c36ea321420d104e79f
Author: Colin Harrison <colin.harrison-at-virgin.net>
Date:   Wed May 9 16:55:09 2007 +0100

    Fix bad use of hwnd (bug: 9808)

commit d3248b66a650c6c629cd66240e25004869217d2e
Author: Colin Harrison <colin.harrison-at-virgin.net>
Date:   Wed May 9 16:54:46 2007 +0100

    Migrate some code to the new mi apis

commit 021e5df85d7c9373a2fed55512751d16e08128db
Author: David Nusinow <dnusinow@debian.org>
Date:   Mon May 7 21:03:40 2007 -0400

    Add more informative logging for module default loading
    
    When the modules section is parsed, if a module is set to be loaded by
    default, this will be logged. If it is redundantly specified in xorg.conf,
    this will also be noted. None of this logging will happen if the xorg.conf
    lacks a modules section.

commit 1b3a0508a7aee1c7b14cd62216b4727fcc9181d4
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Sun May 6 01:30:59 2007 -0700

    Fix documentation for Copy hook -- it can copy memory to the scanout
    buffer too.

commit 030a578391c634bc68add6ada3f251cf3f8c3069
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu May 3 22:51:07 2007 -0400

    Provide UseDefaultFontPath option
    
    This provides a new option, UseDefaultFontPath. This option is enabled by
    default, and causes the X server to always append the default font path
    (defined at compile time) to the font path for the server. This will allow
    people to specify additional font paths if they want without breaking
    their font path, thus hopefully avoiding ye olde "fixed front" problem.
    
    Because this option is a ServerFlag option, the ServerFlags need to be
    processed before the files section of the config file, so swap the order
    that they are processed.

commit e91b9ddc7aa95abc2d4d314e8db204860771a099
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu May 3 22:00:23 2007 -0400

    Improve modules loading defaults
    
    Provide default modules that may be overrided easily. Previously the
    server would load a set of default modules, but only if none were
    specified in the xorg.conf, or if you didn't have a xorg.conf at all. This
    patch provides a default set and you can add only the "Load" instructions
    to xorg.conf that you want without losing the defaults. Similarly, if you
    don't want to load a module that's loaded by default, you can add "Disable
    modulename" to your xorg.conf (see man xorg.conf in this release for
    details). This allows for a minimal "Modules" section, where the user only
    need specify what they want to be different. See bug #10541 for more.
    
    The list of default modules is taken from the set loaded by default when
    there was a xorg.conf containing no "Modules" section.
    
    A potential problem for some users is that some users disable a module,
    most notably DRI, by commenting out the "Load" line in their xorg.conf.
    This needs to be changed to an uncommented "Disable" line, as DRI is
    loaded by default.

commit d2f813f7db157fc83abc4b3726821c36ee7e40b1
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed May 2 19:10:22 2007 -0400

    New fbWalkCompositeRegion() function
    
    This new function walks the composite region and calls a rectangle
    compositing function on each compositing rectangle. Previously there
    were buggy duplicates of this code in fbcompose.c and
    miext/rootles/safealpha/safeAlphaPicture.c.

commit e0959adcd8df2c61e98e76e708fceef9c7cd54eb
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue May 1 13:41:48 2007 -0400

    Add fbCompositeRect() as another special case in the switch of doom in fbpict.c
    
    This is phase one of getting the two region walkers in fbcompose.c and
    fbpict.c merged together.

commit cb22bdbe678a9948eda75d464d6701a729664ef0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu May 3 10:05:58 2007 +0930

    Add selected RamDac functions to xfree86LookupTab.
    
    Adding those makes drivers for s3 and tga work again.

commit c1e1d6b98a6708860e5b5f6e21d8d5b1d8ce9075
Author: Brian <brian@yutani.localnet.net>
Date:   Wed May 2 15:55:40 2007 -0600

    In __glXCreateARGBConfig(), insert the new GL mode at the _end_ of the linked list.
    
    Previously, the new mode was added at the head of the list.  This caused the
    positional correspondence between modes and the XMesaVisuals array to be off
    by one.  The net result was GLX clients failing when they tried to use the
    last GLX mode/visual.
    
    We still have the problem of DRI drivers not being able to use the extra
    mode/visual introduced by __glXCreateARGBConfig().  glXCreateContext fails
    with BadAlloc if it's attempted.  This is also the source of the often-
    seen warning "libGL warning: 3D driver claims to not support visual xxx"
    Look into fixing that someday...

commit bd0abb2844ef9faf28703e592cfebb886004234c
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Wed May 2 17:20:48 2007 +0200

    Bug #10823: Fixed default OSNAME value.
    
    We try to get OSNAME from uname by default now.

commit 71fc5b3e9309182978ead676965d65ca93a4e3b9
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 2 11:41:11 2007 +0200

    Fix for a divide by zero that can be triggered by a malicious client.
    
    Problem reported by Derek Abdine of rapid7.com. Thanks.

commit c03d9a7217f9895feed8cfed3ede4752faf6187c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 2 18:16:40 2007 +0930

    Cleaning up a bit.
    
    Register correct event in EventSwapVector.
    Fix up event swap for GE events, register XI's swap function at GE.

commit e6fd4a24ebd205013b41e44aacbbfb847709d2fd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 2 17:49:20 2007 +0930

    Add handling for FakeDeviceEvent request.
    Fix a stupid bug from last commit, mask names were wrong.

commit af25720598bb35d9d953ac8d9a07528289ebfb4a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 2 13:51:16 2007 +0930

    Add missing files for ProcXiSelectEvent.
    
    Should have been a part of 5e439109292e54b5c4d1a7bc7b6ac0e42ee285f7. Oh well.

commit 58c0fd29272fb6c2f193cff82fb0b0573c607eec
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed May 2 13:50:09 2007 +0930

    Adjust EQ to support long events.
    Add RawDeviceEvent (pointers only for now).
    
    This commit changes the event queue to use EventLists instead of xEvent
    arrays. Only EQ is affected, event delivery still uses xEvent* (look for
    comment in mieqProcessInputEvent).
    
    RawDeviceEvents deliver driver information to the client, without clipping or
    acceleration.

commit 0214d0b96a9b900a8cf5c7f2183add3a411441f3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 1 15:49:41 2007 +0930

    Start devices after windows are initialized.
    
    This fixes the hotplug segfault introduced with the multihead changes and
    cleans up the code a bit as well.

commit 11d0e2109b699714055e263e8963f2c39eded28b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 1 14:16:36 2007 +0930

    Correct enterleave semaphore value for root window.

commit 8b42ba64e169a35df2a90528dcb0cd06be0f67a1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 1 12:12:58 2007 +0930

    Send PointerKeyboardPairingChangedNotifyEvent using XGE.
    
    Needs updated inputproto and libXi.

commit 325380adb20ec2b82e176d75599fd4bc97a3b918
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 1 11:02:05 2007 +0930

    Check and re-set paired devices when initializing sprites.
    
    If we don't do this, a device that is paired before a sprite has been
    initialized for the paired device will not actually get the right sprite and
    segfault the server on focus events. Happens for the VCK.

commit b043a184509cfe5c4c4691ecde1a4a065e53d575
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue May 1 09:54:33 2007 +0930

    Check VCP's and VCK's ids when searching for a new device id.
    
    Both VCP and VCK are not in the inputInfo.devices list anymore, so we need to
    check them separately. If we don't do this, we end up re-using ids 0 and 1,
    causing all sorts of grief for clients.

commit 873ef75b1e8c94d39670c981c4d830ab8bcc018b
Author: Colin Guthrie <gmane@colin.guthr.ie>
Date:   Mon Apr 30 10:33:12 2007 -0600

    fix __glXErrorCallBack() proto

commit 6b33459bf5aac23c3ecc7002d091c02f327d907a
Merge: 18252a5 3c91a99
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 30 10:26:19 2007 -0600

    Merge branch 'master' of git+ssh://brianp@git.freedesktop.org/git/xorg/xserver

commit 5e439109292e54b5c4d1a7bc7b6ac0e42ee285f7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 30 12:57:42 2007 +0930

    Add GenericEvent extension to Xext.
    
    This adds (unconditional) support for the GE extension. Anything from now on
    that sends events in MPX will have to use the GE extension. No GE, no MPX
    events. GE is not actually used yet from anywhere with this commit.
    
    You will need to update x11proto, xextproto, libX11, libXext and xcb to the
    matching xge branches. Things will _NOT_ work without the updated protocol
    headers and libraries.

commit 3c91a993e8c752002adf85c317216e1487c20780
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:49:41 2007 +0200

    EXA: Fix OffscreenValidate build with DEBUG_OFFSCREEN enabled.

commit a261e1325057974d58440812b93c00c0caa4423a
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:49:35 2007 +0200

    EXA: Remove DrawableDirty.
    
    Convert the remaining callers to PixmapDirty.

commit b1b6674a919943a8ac37e54d02e8d0d23a642b1d
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:49:28 2007 +0200

    EXA: FillSpans improvements.
    
    * Don't need to track damage.
    * Always migrate for fallbacks.

commit 584697a2231ac782f362a925e1489c15483a8791
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:49:09 2007 +0200

    EXA: SolidBoxClipped improvements.
    
    * Centralize handling of fallbacks and damage tracking.
    * Always migrate for fallbacks.

commit 982d7c2c0b948ba04c8eefa475d660981e6ed9f9
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:48:59 2007 +0200

    EXA: CopyNtoN improvements.
    
    * Centralize handling of fallbacks and damage tracking.
    * Always migrate for fallbacks.

commit d2245386eed200e77a8c84bdda36ab29e39fd593
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:48:31 2007 +0200

    EXA: GetImage improvements.
    
    Only migrate when appropriate. In particular, don't migrate to offscreen in the
    no-fallback case as copying from system memory should usually be as fast if not
    faster than DownloadFromScreen, in particular if the bits need to be uploaded
    to offscreen first.

commit 0880aaac9c83019fec2e3d32871f74c7a407f8b3
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:48:19 2007 +0200

    EXA: PutImage improvements.
    
    * Migrate for fallbacks when appropriate.
    * Add damage tracking in ExaCheckPutImage.

commit 7fca16901187ade48e83e6a2684ef464b1912357
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:48:11 2007 +0200

    EXA: ImageGlyphBlt improvements.
    
    * Don't waste effort on invisible glyphs.
    * Only track damage for bounding box instead of each glyph separately.
    * Always migrate for fallbacks.

commit a8d6ebdf9338dc2f6ff9a532e6fec460a70d3b1e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:47:53 2007 +0200

    EXA: Defer to FillRegionTiled in Composite when possible.
    
    Committed separately as this case is hard to hit and has only been tested
    lightly.

commit 81b055605c34b5823f6c5f63cc0f92f43c6b7252
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:47:43 2007 +0200

    EXA: Composite improvements.
    
    * Defer to simpler hooks in more cases (inspired by XAA behaviour).
    * Move damage tracking from lower to higher level functions.
    * Always migrate for fallbacks.

commit ce317a5b76c053f449122c46e1372bf8e067cb4c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:47:16 2007 +0200

    EXA: Glyphs improvements.
    
    * Don't waste effort on invisible glyphs.
    * Add damage tracking where necessary.
    * Always migrate for fallbacks.

commit 0c8905ebc91cf654facef84ee52231a358deec5c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:47:08 2007 +0200

    EXA: PolyFillRect improvements.
    
    * Convert rects to region and use it for damage tracking.
    * When possible, defer to exaFillRegion{Solid,Tiled} using converted region.
    * Always migrate for fallbacks.
    * Move damage tracking out of ExaCheckPolyFillRect.

commit 567f18a09bfb05f448be40c7ebe0f210f955601c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:46:49 2007 +0200

    EXA: FillRegion{Solid,Tiled} improvements.
    
    * Support planemasks, different ALUs and arbitrary tile origin.
    * Leave damage tracking and non-trivial fallbacks to callers.
    * Always migrate for fallbacks.
    
    This is in preparation for using these from more other functions.

commit e869573b52fac69fb88cea120daaeec59c7a3461
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:45:48 2007 +0200

    EXA: exaAssertNotDirty improvements.
    
    * Return early if the valid region is empty or the pixmap is pinned.
    * Fix loop for several cliprects.

commit d3f8667341bfe6dc7d0258c4ad69377f37d88d95
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:44:27 2007 +0200

    EXA: Fix exaEnableDisableFBAccess for nested disables and enables.

commit 5e4b3232dafe3b0dec65bf639bebaba4774210b7
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:38:22 2007 +0200

    Fix fbCompositeTrans_0888xnx0888 build for wfb on big endian.

commit 2866e0bac9b8dd3892c5e68abcfc6c97cebaf88a
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Apr 29 23:38:13 2007 +0200

    Fix a couple of picture repeat fields incorrectly compared to RepeatNormal.

commit 78a20455356ccc310f73cfc65ad65a7677eee7e5
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Fri Apr 27 15:20:24 2007 -0400

    Pixman merging
    
    More msvc++ porting

commit 6c4f1826bf2c5f30f5fe6e489a02b6375478b380
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Fri Apr 27 08:13:08 2007 -0400

    Bug fix in fbCompositeIn_nx8x8888
    
    Make sure both halves of the dst word is set to zero when the masks
    are both 0.

commit f28eea0647f007c2e2415ecc6fceef46201faad4
Merge: 339b73e ae04f2c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 27 16:34:36 2007 +0930

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	dix/devices.c
    	dix/events.c

commit 339b73e710a0920608a3fbcb20b406f0f6c4e0f6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 27 13:24:27 2007 +0930

    Allow events to grabWindows event if the device is not grabbed.
    
    This kinda makes popup windows useable if the WM doesn't set the
    ClientPointer. Kinda.

commit ae04f2cb0a068cdc1e519627bf745de0c9e4a85a
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Apr 26 15:28:04 2007 -0400

    Fix the 'relink' target for kdrive servers.

commit 6c8152d6ee9eeb21a68a8bbfed1540939e5bcd1f
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Apr 26 14:59:04 2007 -0400

    Remove old edid_modes.c, it lives in hw/xfree86/modes/ now.

commit 2208c6087d6bffcb24a30891a56430e28735874c
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Thu Apr 26 14:40:30 2007 -0400

    Change expand_alpha_rev to expand_alpha in mmxSaturateU

commit a300ef84cee26febfbe08c497d0d063588130bdd
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Thu Apr 26 14:37:53 2007 -0400

    Fix typo in previous commit

commit 0ebe48be59368b55c618f60d4656300bd7f52ed9
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Thu Apr 26 14:36:32 2007 -0400

    Pixman merge
    
    - Changes to support MS Visual C++
    
    - use inline instead of __inline__
    
    - Fix rounding errors (Billy Biggs, from xserver via pixman)

commit 4fe918b38553133c27e5ae672e5c43984a9bbaea
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Thu Apr 26 12:41:01 2007 -0400

    Fix bug 8871 - scrolling corruption with a compositing manager
    
    Call miHandleExposures() in CopyArea/CopyPlane explicitly in cw to
    generate GraphicsExposes correctly.

commit 0ff7c94fcf6497ee8575f81cf97eeeb3a857739e
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Thu Apr 26 10:56:02 2007 -0400

    Pixman merge
    
    Make use of fbCompositeSrcAdd_8888x8x8mmx

commit 701ccb4a22cfd646ccb7f19b7b3a476aeb5ce2da
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Thu Apr 26 10:49:06 2007 -0400

    Pixman merge
    
    - Remove stray default label
    
    - Integrate new MMX ops SolidMaskSrc_nx8x8888mmx, In_8x8mmx, and
      In_nx8x8mmx
    
    - Formatting changes to reduce diff noise

commit a54ef54db19dcd36ed86b33cff2bc369f9690a15
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Thu Apr 26 10:24:25 2007 -0400

    Pixman merge
    
    Make sure fbCompositeSrc_x888x8x8888mmx and fbCompositeSrc_8888x8x8888mmx
    are used when possible.

commit 3571b8e65b0857322d12e291305cfe29ea497c3c
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Thu Apr 26 09:45:11 2007 -0400

    More pixman merging
    
    - Move some code around to minimize diff noise
    
    - Add mmx ops from pixman that never made it into X
    
    - Merge Jeff Muizelaar's bugfixes to fbCompositeSrc_8888x8x8888mmx and
      fbCompositeSrc_x888x8x8888mmx.

commit cfc01115af4136b2dad8218ba6b389513a356a2e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 26 22:18:35 2007 +0930

    Fix cursor rendering for multi-head.
    
    Before putting anything on the screen, check if the GC was made for the
    ScreenRec we want to render to. If not, toss the GC and create a new one. This
    is not the best solution but it does the job for now. Same thing for ARGB
    cursors except that it's even uglier.
    
    Also remember the screen the cursor was rendered to and check for the right
    screen in the BlockHandler, SourceValidate and a few others. Only remove or
    restore the cursor if we are rendering to the same screen, otherwise we get
    artefacts that are both funky and really annoying.

commit 82f97e1c0cc15b050edc82a8f3b9a423d6cf5fe7
Author: Paulo Ricardo Zanoni <prz05@c3sl.ufpr.br>
Date:   Thu Apr 26 15:58:50 2007 +0930

    Enable event delivery for multiple heads.
    
    Requires moving the spriteTrace into the DeviceIntRec and adjusting a few
    functions to take in device argument, most notably XYToWindow().
    
    Cursor rendering on the second screen is busted.

commit c0346e57e6d3857994f7af76060c502c2fdea294
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 26 12:02:45 2007 +0930

    Require inputproto 1.4.2.
    
    Requirement was introduced with c7e2ba0c9b9b1fc1aed8f91f86471c4c8e650b78.

commit 67347739b0571b2978468e8088480b105f505ad2
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed Apr 25 14:19:39 2007 -0400

    Don't treat convolution filters as transformations.
    
    Some rearrangement of code to get it closer to pixman.

commit c056ce95d89ef1df57edf47149fc34cd3925496e
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed Apr 25 13:21:47 2007 -0400

    Port MSVC++ CPU detection code from pixman. (Vladimir Vukicevic).

commit c19ece1d8c32dc81740a4036a642661f54064e75
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed Apr 25 12:34:19 2007 -0400

    Integrate optimization from xserver from David Reveman where repeats
    
    get handled by fbFetchTransformed() rather than in the region walking
    code.

commit 48c73dfc369fdf8f6023436ebe82bb604f76bb80
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed Apr 25 12:09:22 2007 -0400

    Add function fbCompositeSrcAdd_8888x8x8(), and fix a bug where
    
    srcRepeat = FALSE would be set in the wrong place.

commit 66ba3d758a368bf83d75bab8b08bdb6b34925e40
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Wed Apr 25 10:31:38 2007 -0400

    Various fixes from xserver via pixman (Billy Biggs)

commit c09e68ce30dabd6b7068b163b9d2382d85d0d0bc
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Apr 25 16:46:26 2007 -0400

    Paper over a crash at exit during GLX teardown.

commit 9c80eda826448822328bb678a7d284cc43fffb17
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Apr 25 16:35:04 2007 -0400

    Disable RANDR's fake Xinerama protocol when there's more than one screen.
    
    ... in the protocol sense.  Xinerama doesn't have any provision for more
    than one protocol screen each with its own geometry.
    
    Red Hat bug #231257.

commit d322608dc929d5f8cda07a53143a4f28423e0460
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Apr 25 16:29:48 2007 -0400

    Fix a buffer overrun on machines with excessively large PCI busses.
    
    Formerly we sized an array with a compile time constant, then initialized
    its size to the same constant, but the Linux PCI init code would increase
    that "constant".  So if you happened to have more than 128 PCI devices,
    you'd happily scribble into whatever variables happened to be in .bss
    after that array.
    
    Only really fixed for Linux atm.  Other OSes will simply (still) fail to
    work on video devices above the 128th PCI device.

commit 3ba1e8ab6d69566e1a3f8f0eb4605631aeffc8e5
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Apr 24 17:20:14 2007 -0700

    Include xf86Rename.h in xf86RandR12.h.

commit 0a2fe443d25b1ca25349aba3f748df986952e20f
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Apr 24 19:02:44 2007 -0400

    Use READ/WRITE macros for new functions introduced in previous commits.

commit 7e16da7b78c422f96387502b9cc29eaa1741543f
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Apr 24 18:15:34 2007 -0400

    Remove #if 0'ed blocks

commit 18252a515d4989b983a3b7389636045e06d0f246
Author: Brian <brian@yutani.localnet.net>
Date:   Tue Apr 24 14:10:09 2007 -0600

    bump release date to reflect input code updates

commit 2d9a7a768747ca39a800475f12c424c298018dc6
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Apr 24 14:46:59 2007 -0400

    From pixman (Jeff Muizelaar)
    
        Fix up the fast-path compositing operators; those are useful for
        sources without alpha, but can't be used for sources with
        alpha. Also, replaced fbCompositeSrcSrc_nxn with call to fbBlt as
        this function must handle 1, 4, 8, 16, 24, 32 bpp objects. Would
        be nice to optimize fbBlt for common cases involving 8, 16, 24 and
        32bpp.
    
        From Keith Packard.

commit fde4a5adf02d3067a064ebf6bdd666aa5784cfe9
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Apr 24 13:30:43 2007 -0400

    From xserver via pixman (Jeff Muizelaar)
    
         Add some optimizations from jaymz. Also adds some compile
         warnings that will hopefully go awa y as we continue merging.

commit 13e1d5ea55b0a3b7729316c8e37d3d8fca2075b5
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Apr 24 12:59:18 2007 -0400

    Fix format vs formatCode in previous commit

commit 077a5d4555676d5775e990468a697b6890c6d609
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Apr 24 12:57:55 2007 -0400

    Add functions fbCompositeSrcSrc_nxn() and fbCompositeTrans_0565xnx0565
    from xserver via pixman. Add READ/WRITE and fbFinishAccess as
    appropriate.

commit 09436fb7c38a9819bde770c4c21143591671c4d7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 24 22:52:33 2007 +0930

    Disable devices before removing, remove unrecoverable devices.

commit c7e2ba0c9b9b1fc1aed8f91f86471c4c8e650b78
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 24 21:34:47 2007 +0930

    Use DevicePresence events to tell the client about enabled/disabled devices.
    
    Include the device id in the event sent to the client.

commit ce099a9b78195540ec251a6a3dbe26019c1a686d
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 23 12:34:01 2007 -0600

    fix bug in which maxKeysPerModifier wasn't getting set

commit b5e1f7869b2f12a1c2baa7f699ae609fc9ad50aa
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Mon Apr 23 14:16:30 2007 -0400

    Remove #if 0'ed merge leftovers

commit 84838268b34661d598f8e4856fab355f414930d9
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Mon Apr 23 13:19:54 2007 -0400

    Gradient fixes
    
    * Port fix for bug 7685 from pixman. Patch by Carl Worth
    
    * Add projective version of radial gradient code.
    
    * Make sure that all Pict*Gradient types have PictGradient as prefix,
      since code in various places relies on that.

commit 38d14e858980a1b0c087344d24bf6aebf755663c
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Sun Apr 22 18:04:27 2007 -0700

    Adjust the screen pixmap's dimensions in xf86RandR12ScreenSetSize.

commit ca784df84e07227a4cc0a1add079884f557b7a00
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Sun Apr 22 16:26:01 2007 -0700

    Fix unbalanced fbGetDrawable added in commit 0a9239ec.

commit 55bd8668e7d4100579bcd6c16a804d9f25267070
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Fri Apr 20 14:53:37 2007 -0400

    Remove #if 0'ed leftovers from merge

commit 41dd7ab067adde8f66cd9f74c5a6570c325518a5
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Fri Apr 20 14:51:40 2007 -0400

     Fix gradient walker to not reset needlessly
    
        Previously the gradient walker was doing excessive resets, (such
        as on every pixel in constant-colored regions or outside the
        gradient with CAIRO_EXTEND_NONE). Don't do that.
    
        Carl Worth, from pixman

commit c1b73f0f2acd56b423b91a04f1e1b3cdcad0069f
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Fri Apr 20 14:34:13 2007 -0400

    Fixing gradient repeat mode computations in previous patch. From David
    
    Turner.

commit 38f718799c68995c2d9a1680355bd55fd925009e
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Fri Apr 20 13:59:11 2007 -0400

    Remove a few memory references in fbFetchTransformed

commit 9c4b14d4f6a1fe018acd64789434216cd1560a4a
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Fri Apr 20 13:23:58 2007 -0400

    Integrate David Turner's gradient optimizations from pixman

commit cd2c1714eb4946bf7b1fc194fe074f8024a2ec23
Author: Brian <brian@yutani.localnet.net>
Date:   Sat Apr 21 12:40:51 2007 -0600

    add slang_mem.c

commit 67545333ec0b08db783e94e9e3ec55873dea19a3
Author: Brian <brian@yutani.localnet.net>
Date:   Sat Apr 21 12:40:33 2007 -0600

    replace occlude.c w/ queryobj.c

commit 39bc8bb0fdc854dcf9bbc0857fec84d50fa4f3b2
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Fri Apr 20 14:22:42 2007 -0700

    Don't call xf86RandR12TellChanged if it doesn't exist. Add some exports to xf86Rename.h.

commit 3daa5c1a991d659b1386a09e33b044470d489cb3
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Fri Apr 20 09:43:16 2007 -0400

    Fix pixman bug 5777, patch by David Reveman

commit 9c2e955f6792e80fb84f848ed9e6ebbfd79f7130
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Apr 20 07:21:19 2007 -0600

    regenerated to add GL_CLIENT_ATTRIB_STACK_DEPTH (bug 9823)

commit 96ef0f78438b60436c3940817980a3ab4070c7e8
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Apr 19 17:39:51 2007 -0700

    Disable SourceValidate in rotation to capture cursor.
    
    SourceValidate is used exclusively by the software cursor code to pull the
    cursor off of the screen before using the screen as a source operand. This
    eliminates the software cursor from the frame buffer while painting the
    rotated image though. Disabling this function by temporarily setting the
    screen function pointer to NULL causes the cursor image to be captured.
    (cherry picked from commit 05e1c45ade9c558820685bfd2541617a2e8de816)

commit 7ca4baffb5569ea12b578a4a3f69e93d272d6c6d
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Apr 19 17:37:18 2007 -0700

    Was accidentally disabling rotation updates in mode set.
    
    Setting a mode on an unrotated CRTC was causing all of the rotation updates
    to be disabled; the loop looking for active rotation wasn't actually looking
    at each crtc, it was looking at the modified crtc many times.
    (cherry picked from commit 8b217dee3a6c46b13fc9571a4a9a95bc55686cdb)

commit 806a537e644d8cc9e53f3ac52efb49453e5aa1fb
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Apr 19 17:49:34 2007 -0700

    Revert "Suppress software cursor removal during rotated shadow buffer drawing."
    
    This reverts commit 999b681cf3973af4191506e49cde06963b11a774.
    Replacing this with simpler code that just disables SourceValidate
    during rotation redisplay.

commit 0a9239ec258828ec1da6c208634a55fc4053d7da
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Thu Apr 19 18:19:34 2007 -0400

    Merge David Reveman's gradient optimization patch from pixman

commit d0e55774e0da641ba85c5173f27f68de27372747
Author: Thomas Hellstrom <thomas-at-tungstengraphics-dot-com>
Date:   Thu Apr 19 11:39:53 2007 +0200

    libdri: Make sure the new DRIInfo keepFDOpen member is honoured.

commit e1f0b3e70b696d7ea4cf9e6ed30d751e7fdbc577
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 19 12:00:24 2007 +0930

    config: Return errors as negative numbers, device ids as positive numbers.
    Update dbus-api documentation.

commit c6972c893359f8fa7631ae674330f3f4f7010ba0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 18 12:10:05 2007 +0930

    Change dbus 'listDevices' call to not require an argument.
    Update dbus-api documentation, plug memory leak on dbus reply error.

commit d61ed6c8a2823a3532439d5cb9f355129c93f523
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 19 18:08:55 2007 +0930

    Check for NULL devices in CloseDevice().

commit 9c30f7422121a0443c8d612d06181e17d8af9730
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 19 12:00:24 2007 +0930

    config: Return errors as negative numbers, device ids as positive numbers.
    Update dbus-api documentation.

commit 999b681cf3973af4191506e49cde06963b11a774
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Apr 18 14:33:27 2007 -0700

    Suppress software cursor removal during rotated shadow buffer drawing.

commit 28bb34eec63bf3c98f38ba7fc044f6419aaa3307
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Apr 18 13:48:28 2007 -0700

    Belatedly bump XORG_VERSION for 7.2.

commit 5d8e8a7f4b3226bffd9e4d6d9326688f475b0183
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Apr 18 13:22:26 2007 -0700

    Remove libminimi build.
    
    It appears to have been a leftover of a previous incarnation of the build
    system that didn't handle miinitext.c well.

commit 53fb42e65c2b2ff58a4a324b7f05cff8a587720a
Author: Erik Andrén <erik.andren@gmail.com>
Date:   Tue Apr 17 21:34:47 2007 -0700

    Syncmaster 226 monitor needs 60Hz refresh (#10545).
    
    I've managed to solve my own bug (#10545) by applying the following
    patch to the xserver.
    
    Please apply.
    
    <Conspiracy mode on>
    This monitor is "Vista Certified". I wonder if this is a pure coincidence...
    <Conspiracy mode off>
    
    With kind regards
    Erik Andrén
    (cherry picked from commit a63704f14a1d97b9a00fef6fa290e74e51b9732b)

commit ae75afcb1b5419102c5be10b8826ceed50d2ef5d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 18 12:10:05 2007 +0930

    Change dbus 'listDevices' call to not require an argument.
    Update dbus-api documentation, plug memory leak on dbus reply error.

commit 9cee4ec5e6e06d23aafb302494b082c77ade4623
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Apr 17 16:01:56 2007 -0400

    xace: change the semantics of the return value of XACE hooks to allow
    arbitrary X status codes instead of just TRUE/FALSE.
    
    The dix layer in most cases still does not propagate the return value of
    XACE hooks back to the client, however.  There is more error propagation
    work to do.

commit 47bd311e3dcc501cbb202ce79a55ac32e9db50f2
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Apr 17 13:46:55 2007 -0400

    security: remove debugging code.

commit 1f06d32ef58749d0f0c062193d237ee98f60e90f
Merge: cf962a8 fc162c6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Apr 17 12:10:22 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	dix/privates.c

commit b6aec7f6f906a18d13586d63afabf1ee4fbb11c3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 17 16:51:16 2007 +0930

    Change FocusIn/Out semantics to match Enter/Leave semantics.

commit 451d5464b4e8a2516b8a4598b3c4eb14656be90e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 17 11:17:04 2007 +0930

    Change enter/leave semantics for events with detail Notify{Nonlinear}Virtual.
    
    Core enter/leave events with detail Notify{Ancestor|Inferior|Nonlinear} are
    only sent for the first/last pointer to enter/leave. Events with detail
    Notify{Nonlinear}Virtual are sent at all times, but not to those windows that
    currently have one or more pointers inside their boundaries.

commit fc162c6cfa06f0b012743d6d79cef45cf0166229
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Apr 16 09:55:58 2007 -0700

    Allow outputs to be explicitly enabled in config, overriding detect.
    
    Option "Enable" "True" will force the server to enable an output at startup
    time, even if the output is not connected. This also causes the default
    modes to be added for this output, allowing even sync ranges to be used to
    pick out standard modes.
    (cherry picked from commit a3d73ba2cb7e13a6d129cd88d6a7f7d756e2ced2)

commit c41e3bd713206c0bbd8ab8cef4c83eb7ba7e1c3c
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Apr 16 09:53:42 2007 -0700

    Use default screen monitor for one of the outputs.
    
    By default, use the screen monitor section for output 0, however, a driver
    can change which output gets the screen monitor by calling
    xf86OutputUseScreenMonitor.
    (cherry picked from commit f4a8e54caf6b9431711383a39f55a18e7fd654f4)

commit 97a2c2579c56c304705c934f3b536473645747df
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Apr 16 09:39:47 2007 -0700

    Using wrong log level in extension to built-in message
    
    was: typo in built-in module log message
    (cherry picked from commit 00cfd1f765895b4d1b2234f3203727a8871b64b0)

commit deda7791dfa34d0563c8d7fa2a0660ac27e6858c
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 16 11:35:22 2007 -0600

    remove sources deleted in Mesa

commit 02d42f344ce020c9b84723671cb9c68d5c064933
Author: Thomas Hellstrom <thomas-at-tungstengraphics-dot-com>
Date:   Mon Apr 16 17:24:53 2007 +0200

    Changes for single-entity multi-screen DRI.
    
    The entity (device) has a locking SAREA and a master file descriptor
    that optionally isn't closed between server generation.
    
    The locking SAREA contains the device hardware lock.
    Each DRI screen creates an new SAREA containing the drawable lock,
    drawable-and private info, the drawable SAREA.
    
    The first screen optionally shares its drawable SAREA with the
    device SAREA.
    
    Default is to close the master descriptor between server generations,
    and to share the drawable SAREA of the first screen with the device locking
    SAREA. Thus we should (hopefully) have full backwards compatibility.
    
    Mesa changes to support single-device multiple screens are pending.

commit b5823ea3e1ed5a0449d44da05165a46719dcf287
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Apr 15 22:59:19 2007 -0300

    RandR 1.2 spec says CRTC info contains screen-relative geometry.
    
    Was reporting mode size instead of adjusting for rotation.
    (cherry picked from commit e2e7c47a528447e90cff6cf10d2ce457742ef48d)

commit cc4eb1c7ea1bace7ed69cfd80c99d22933282ae1
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Apr 13 15:04:29 2007 -0300

    Add quirk for Acer AL1706 monitor to force 60hz refresh.
    
    This Acer monitor reports support for 75hz refresh via EDID, and yet when
    that rate is delivered, the monitor does not sync and reports out of range.
    Use the existing 60hz quirk for this monitor.
    (cherry picked from commit 1328a288e9030a472a915077160f090d1afd4126)

commit eba81a0a01f8a61151d8bf9f3d83bda85ca26e73
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Apr 14 18:30:09 2007 +0300

    glx: move __glXMesaProvider from GLcore module to glx module.
    
    This treats the GLcore provider similar to DRI provider, using a subset of
    XMesa as the GLcore interface.

commit 6b040b79f0e247b6f2da8f7d239443743e96de67
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Apr 14 18:29:52 2007 +0300

    glx: drop xmesaP.h include from xf86glx.c
    
    The declarations for the xfree86-specific XMesa functions were moved up to
    xmesa.h, requires Mesa as of 2007-04-13.

commit 2c833f60acb3dc358815a99cd295ef7fc695c45d
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Apr 14 18:29:25 2007 +0300

    glx: drop stray CAPI define.
    
    SI imports/exports were dropped from Mesa.

commit ea27b09d3a973d9a4943f205b24940b8624cf405
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 13 17:15:22 2007 +0930

    Deliver FocusIn/FocusOut events for all devices.
    Don't use VCK in SetInputFocus and DeliverFocusedEvent.

commit 7ccebc50b98ac175fdbdfaab081bcead62e60ee3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Apr 13 13:08:44 2007 +0930

    Documentation for events.c.

commit 2bb3c81fc1ca98c909309f3af7e9c8ca6b695657
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 12 16:35:43 2007 +0930

    Use paired kbd instead of VCK for EnterLeaveEvents, sanitize variable naming.

commit e7b47b1758ed20e75ee267b3a09e91bf2861f6fd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 12 16:24:42 2007 +0930

    Change core enter/leave semantics for multiple pointers.
    
    Send EnterNotify when first device enters the window, LeaveNotify when the
    last device leaves the window. Additional devices will not cause additional
    Enter/LeaveNotifies.

commit 547d720938b3668666d60110d79b150b1e9325c6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 12 11:16:19 2007 +0930

    Remove workaround for a NULL core pointer in ProcessInputEvents.
    
    This workaround is obsolete with 33a5d9605e3e282f6aa1921d7321a2a12ef02c42

commit d4dad6f84f82a4ade5005c3aa93511c1295875b8
Merge: f1f8b56 33a5d96
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 12 11:11:03 2007 +0930

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	configure.ac
    	dix/events.c
    	hw/xfree86/common/xf86Xinput.c

commit 33a5d9605e3e282f6aa1921d7321a2a12ef02c42
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 11 18:28:57 2007 +0300

    XFree86: DGA: Don't call ProcessInputEvents from CloseScreen
    
    By the time CloseScreen gets called, we can't call ProcessInputEvents, as
    the event queue will get unhappy.  So just unregister our hooks instantly,
    and hope that they don't get called.

commit 0910540e4322bba72a2fa0a907072eab2547a7b6
Author: Remigiusz Marcinkiewicz <enleth@enleth.com>
Date:   Wed Apr 11 01:09:26 2007 +0300

    Config: Extend D-BUS API
    
    Return device ID where available.
    Add listDevices call, which does what it says on the box.

commit aecbc712144dd1aaf462bd758821438b1d22d957
Author: Remigiusz Marcinkiewicz <enleth@enleth.com>
Date:   Wed Apr 11 00:38:16 2007 +0300

    Input: Allow a pointer to a device to be returned in NIDR
    
    Allow a pointer to the first device added to be returned, so we know which
    device(s) were added by the NIDR call.

commit 4f05f9591e5492c72f3856bd7a2ff13378f59f2b
Author: Magnus Vigerlöf <Magnus.Vigerlof@home.se>
Date:   Tue Apr 10 23:57:48 2007 +0300

    Input: Always add devices with first available ID
    
    Scan the device list when adding a new device, and make sure we can use
    the first available ID, instead of always incrementing.

commit 20674dcbb2373a0af287883bc008fb6fb23d4466
Author: Magnus Vigerlöf <Magnus.Vigerlof@home.se>
Date:   Tue Apr 10 23:55:36 2007 +0300

    Config: Fix memory leaks
    
    Fix memory leaks that could occur along the error path.

commit 82962bbae2b4fda274625d1712ef839ce1ab9dc8
Author: Magnus Vigerlöf <Magnus.Vigerlof@home.se>
Date:   Tue Apr 10 23:54:32 2007 +0300

    Input: Add DeleteInputDeviceRequest
    
    Add DIDR, which asks the DDX to remove a device, analogous to
    NewInputDeviceRequest.  Only implemented for XFree86 at the moment.

commit 7b82a836c66ba88566255052caff63577e1a0384
Author: Magnus Vigerlöf <Magnus.Vigerlof@home.se>
Date:   Tue Apr 10 23:52:08 2007 +0300

    XFree86: Fix memory leaks, option parsing, in NewInputDeviceRequest
    
    Plugged some possible memory leaks, and added some more checks on the
    options, particular for driver/identifier.  Added an unwind.

commit 4771fa8747791498e504d73afccfb5833499a38b
Author: Magnus Vigerlöf <Magnus.Vigerlof@home.se>
Date:   Tue Apr 10 23:48:00 2007 +0300

    XFree86: Fix memory leak in option parsing
    
    Fix option parsing functions and callers thereof to not leak memory.

commit 07c56abf84080c020a3e7b7703a447c7f996975c
Author: Magnus Vigerlöf <Magnus.Vigerlof@home.se>
Date:   Tue Apr 10 23:43:58 2007 +0300

    Input: Plug memory leak in device free
    
    Remember to also free the motion history, if we're using the DIX-managed
    history.

commit e92743bc9839c36914a44f3e5bc8cd85773ac794
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Apr 8 14:02:02 2007 +0300

    getevents: Copy modifier state from extended to core devices
    
    Make core events carry the same modifier state as the extended events, so
    that holding down Ctrl on keyboard A and pressing Q on keyboard B won't
    cause your app to quit.

commit e49f836d6fa2768cd6d2a6d0227b5dbf516013dc
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Apr 8 13:56:41 2007 +0300

    mieq: Use larger default queue size
    
    Use a default queue size of 512 rather than 256, else Xephyr is too slow
    without a host cursor, so events get stuck in the queue.

commit 4aae2de74b9224bac2b2e2522637dac09abc3837
Author: Jared D. McNeill <jmcneill@netbsd.org>
Date:   Tue Apr 10 12:57:15 2007 -0700

    Add a real xf86EnableIO/xf86DisableIO for NetBSD/PPC.

commit f77a8ea849d171a8ca00b2b7334866ace1ffbf73
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Apr 9 14:29:46 2007 -0700

    Rotate screen size as needed from RandR 1.1 change requests.
    
    Screen size must reflect rotated mode size when setting rotated mode using
    RandR 1.1 SetScreenConfig request.
    (cherry picked from commit efcec7dbd3c2736c7b421d29c4d37e231aa681d2)

commit bcf17df69a232e5e84609abacdca36274316e170
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Apr 9 14:12:27 2007 -0700

    Disable CRTC when SetSingleMode has no matching mode. Update RandR as well.
    
    xf86SetSingleMode tries to resize all crtcs to match the selected mode. When
    a CRTC has no matching mode, it now disables the CRTC (instead of crashing).
    
    Also, poke the RandR extension when xf86SetSingleMode is done so that
    appropriate events can be delivered, and so that future RandR queries return
    correct information.
    (cherry picked from commit dc6c4f6989f87149d8605604f4514f5cbf11de67)

commit 67e1c98895a566f927e1ae2384d56cfca104f971
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Apr 9 19:08:52 2007 -0400

    Look for the PCI ROM file elsewhere in sysfs.
    
    /sys/devices reflects the bus topology, and we don't care that much.
    Easier (and more reliable) to just look in /sys/bus/pci/devices, which
    is a flat view.

commit a08d5157f70567a0aa9583d4a15e62437340cf34
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Apr 9 19:04:56 2007 -0400

    VT activate or waitactive are fatal if they fail.
    
    Also, be sure to waitactive on the way down, to make sure we're off the VT
    before exiting.

commit 72b477f964c748a1ab668781643cc11877f19738
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Apr 9 18:59:01 2007 -0400

    Don't write out empty sections from the parser.

commit 1f6741db19d4c91b1eacb497dff1814acb1bf0c3
Author: Stefan Huehner <stefan@huehner.org>
Date:   Mon Apr 9 14:33:15 2007 -0700

    Bug #10560: Code-Cleanup: function declarations () -> (void)
    
    X.Org Bugzilla #10560: <https://bugs.freedesktop.org/show_bug.cgi?id=10560>
    Patch #9511 <https://bugs.freedesktop.org/attachment.cgi?id=9511>

commit f24391dbfd12a84253dfec794ee7884afd52e197
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Apr 9 12:30:31 2007 -0700

    In AIGLX EnterVT processing, invoke driver EnterVT before resuming glx.
    
    As the driver EnterVT function generally re-enables the hardware and
    prepares it for rendering, it must be called before any gl functions are
    called which could touch the hardware.

commit 4c2e28b0916b5f75cfefb6df9fa0a7a09675539a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Apr 9 12:28:53 2007 -0700

    Add setrlimit call in -core option to make dumps occur.
    
    Default core size limit for most environments is 0, which disables core
    dumps. Add code in the -core option processing path to set the core limit to
    the maximum value.

commit f1f8b562aaaa6ec32ab0d0697f964d92d6d536a4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 9 19:31:59 2007 +0930

    Alloc sprite memory in devices' devPrivates, allow undisplaying cursors.
    
    Improve memory usage by allocating the sprite's memory only to devices that
    actually have a sprite and provide means to remove a device's cursor from the
    screen (more hotplugging, yay!).
    This commit breaks ScreenRec's ABI.

commit 7cef789fa13ae53bfba6dc7b5a7928b7362b2522
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 9 18:37:48 2007 +0930

    Close down virtual core devices when closing all devices.

commit 6081b8c76f7d934bd4e9584a2f6d55636c5289d2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 9 18:35:47 2007 +0930

    Don't explicitly init sprite for VCP, EnableDevice() will take care of that.

commit 00b1d52f4103a07568dcebcdaa860b9b51f19b4d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 9 18:32:00 2007 +0930

    Adding some comments to devices.c.

commit aa77ffb510abe004802ab9acc6996e4c6fe3ebb2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 9 18:27:22 2007 +0930

    Fix: pick new ClientPointer when device is closed.

commit 4beeab8424774ea4c3142f29b90e33f1fc7cb154
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Apr 8 13:39:06 2007 +0300

    XFree86: Treat evdev and vmmouse as mouse drivers (bug #10512, #10559)
    
    When we see an evdev or vmmouse section, assume that it's a mouse, and
    don't add a default mouse device.  This will break users who have an
    evdev keyboard section but no mouse, and want the mouse to get added
    by default.

commit 0a6ac992363343487dfe0a0fc985ea55bd448382
Author: Brian <brian@yutani.localnet.net>
Date:   Sat Apr 7 12:41:57 2007 -0600

    regenerated to fix bug 10371

commit 7e385598613778de14c0feea0d32f17d7aa66a8e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Apr 6 13:38:12 2007 +0300

    GLcore: fix after moving xf86glx_util.[hc] to Mesa.

commit cf962a849db2b259ca558c6265ea7e3328a4d312
Merge: 5ad5625 5a804f2
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Apr 5 14:41:39 2007 -0400

    Merge branch 'master' into XACE-SELINUX
    
    Conflicts:
    
    	configure.ac

commit 5ad562565ac8ef9257da3afb0de1ae4f90f80fe9
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Apr 5 14:18:05 2007 -0400

    devPrivates rework: properly free devPrivates on compatibility structures,
    type pixmap.  Requires ddx'es to call the free function from DestroyPixmap.

commit 5a804f2e97ab59745482660a635b801ac2b9e769
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Apr 5 19:14:31 2007 +0300

    configure: minor cosmetic, move GLX extension options together.

commit a4e2fc703484fffed8dd50c1b4b24c564be4d3cd
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Apr 5 19:13:47 2007 +0300

    glx: Remove stray __GLinterface.
    
    __GLinterface was droped from glcore.h

commit 38ca7d388c47c4800c74442172d6595a9b3dfcc7
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Apr 5 19:13:14 2007 +0300

    glx: fix symlink, glcontextmodes.c was moved to mesa/src/glx/

commit 1d550bb2c5cb5b3e588f0e0b68a421dc1cb8bd7c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Apr 5 12:12:58 2007 -0400

    devPrivates rework: minor fix; use calloc and avoid initialization.

commit 5c4deb71a1cb981ea7e2e25d2b3a1179f27efa5a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Apr 5 14:21:46 2007 +0930

    Synthesize WarpPointer events for the actual device rather than the VCP.

commit ed75b056511ccb429c48c6c55d14dc7ae79e75a3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Apr 4 12:00:15 2007 -0400

    dix: add new, combined resource lookup function.  Move all dix lookup API
    deprecated so far to a new file dix/deprecated.c.  Remove the deprecation
    warnings for the time being.

commit 63e46e4fc3e98751f2edbed9c79ef3d5dc2dadc6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Apr 4 15:59:51 2007 -0400

    devPrivates rework: properly free devPrivates on compatibility structures,
    excluding pixmap.

commit f8482967ae8080f49dd1bbb0b79cc65020df679f
Author: Thomas Hellstrom <thomas-at-tungstengraphics-dot-com>
Date:   Wed Apr 4 12:28:48 2007 +0200

    Add an EXA driver callback to determine whether a pixmap is
    
    "offscreen" in exa terms, which means accessible to the GPU.
    Bump exa minor. The change is backwards-compatible.

commit 7f36ba57062096e9c67889d5b7dd64e2fb0004e7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 4 17:38:10 2007 +0930

    Allow for multiple animated cursors.

commit 676188531b2bd7679ee1831b5c517df3e6d215c5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Apr 4 17:35:06 2007 +0930

    Unrealize cursor only once, not per device.

commit c10df5b967d4da4e11786520317e2917de5541fa
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Apr 3 15:47:01 2007 -0700

    Swap RRScreenChangeNotifyEvent dimensions when the screen has one crtc and it's rotated.
    
    RandR 1.1 clients expect the size fields in this event to be the unrotated
    dimensions of the screen.  This behavior is "weird", but that's the way the old
    code worked so we need to be bug-compatible with it.

commit 1cb84768f376b477a08a558854609b0743f2bd29
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Apr 3 15:31:16 2007 -0400

    security: rewrite to use new devPrivates support.

commit 14aea12cadef647369e44639ff5024dd7034570a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Apr 3 15:23:56 2007 -0400

    xace: forgot one of the hook call arguments.  Add it.

commit 353e19fd5e18ad55a0dd12a7b63f6af9df7bfe6b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Apr 3 14:06:02 2007 -0400

    devPrivates rework: zero out newly allocated private space.

commit e1dea151db6405e12d991feacba9446320739ee8
Author: Brian <brian@yutani.localnet.net>
Date:   Tue Apr 3 11:21:50 2007 -0600

    Implement a minor hack in dmxCheckFunctionKeys() to detect special keys.
    
    Keep track of status of (left) alt/ctrl keys so that ctrl-alt-q to exit
    can be detected.  Not ideal, but works for now.

commit 0ee40c935750e25a9e178cdd70f6b2c667e79344
Author: Brian <brian@yutani.localnet.net>
Date:   Tue Apr 3 09:31:00 2007 -0600

    s/intead/instead/

commit 23974f20bf0e0c2786cc75af026af5484f6dc331
Author: Brian <brian@yutani.localnet.net>
Date:   Tue Apr 3 09:30:24 2007 -0600

    add DDXRingBell() stub to solve link problem

commit a240c039c47c0be22ea5e100692307b26d938747
Author: Brian <brian@yutani.localnet.net>
Date:   Tue Apr 3 09:27:57 2007 -0600

    Split the xserver/fb/fbcmap.c file into two files.
    
    Now, fbcmap_mi.c contains the fb functions which just wrap mi functions.
    Previously, these were in fbcmap.c and compiled when XFree86Server was defined.
    Now, clients of fbcmap should either use fbcmap.c or fbcmap_mi.c and not worry
    about setting the XFree86Server symbol.

commit 1cc8db72816cd079f30255046e10043c350bf683
Merge: 645d87c a39f297
Author: Matthieu Herrb <matthieu@roadrock.(none)>
Date:   Tue Apr 3 16:04:45 2007 +0200

    Merge branch 'master' of ssh://herrb@git.freedesktop.org/git/xorg/xserver

commit 645d87cf8ef724d4591614f9994cdc4d7549a7a8
Author: Matthieu Herrb <matthieu@roadrock.(none)>
Date:   Tue Apr 3 15:47:18 2007 +0200

    CVE-2007-1003: XC-MISC Extension ProcXCMiscGetXIDList() Memory Corruption

commit 207f710d16337839c2427aa16fad70a49834153e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 3 19:02:14 2007 +0930

    Delete all grabs from all devices when deleting a window.

commit 5f382c9c7fbda6eccf8e76c28a90b55ff2f0aef3
Merge: 9b0b340 f09ee16
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 3 15:07:18 2007 +0930

    Merge branch 'master' into mpx

commit f09ee168e234d0a9416e15f2916726b975cad293
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 3 15:07:00 2007 +0930

    Revert "o fix minor error in comment for GetPointerEvents()"
    
    This reverts commit 96ce17aa94413c4b8bcb61cae71167050130a307.

commit 9b0b3406682b5a3161e6c3895771523214c37207
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Apr 3 15:06:26 2007 +0930

    Make GrabDevice differ between core grabs and device grabs.

commit a39f297ada4fa87c858395ae2aacefac5f8fba05
Author: Keith Packard <keithp@viola.jf.intel.com>
Date:   Mon Apr 2 14:15:36 2007 -0700

    Don't erase current crtc for outputs on CloseScreen
    
    Erasing this variable causes some outputs (SDVO on intel) to fail
    to be correctly reset at server reset time.
    (cherry picked from commit 56262a4ee943f328d089a8eb4aa70b9a4bd5d135)

commit 11797ffdcc22160317a5ebbc9291472570a51c6d
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Apr 2 18:21:58 2007 -0700

    Move modes/ debugging output under Option "ModeDebug" in the Device section.

commit e44f106ffc796c025abdfb66717c06db8b12b4e4
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 16:26:15 2007 -0600

    clean-up, debug code

commit 8d8bc8927760fad631bef83fa2841b455ff6d511
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 16:21:57 2007 -0600

    fix formatting

commit 3e482de7b145a5eed79b81c30c359fe43647824a
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 15:38:15 2007 -0600

    checkpoint: more clean-up

commit 76a7a5ca1f068c27c9b5fbd49d5a1da80ed6f488
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 15:24:05 2007 -0600

    formatting fixes

commit 69baad321d35dae0bfa535be0c6ed2131fed1e60
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 15:21:22 2007 -0600

    clean-up dmxCoreMotion() dmxCoreMotion2()

commit 44eb15adeee3b299677070f39625daa53679bd13
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 15:12:04 2007 -0600

    checkpoint clean-up

commit 0f873a9d4f02b399c37b4058c6a9a2e21aa205e8
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 14:51:38 2007 -0600

    remove some debug code

commit 3a0ce1084a18e17a3c8a009d99c228652b8763a9
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 14:51:21 2007 -0600

    for completeness, init dummy's min/maxval[1] values (vertical axis)

commit 12016f20f7f5365f30cfbeb05568b3fb89759e5a
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 14:50:48 2007 -0600

    As for normal mouse device, init valuator maxval[] to real values, not zero.

commit 0aaf28e5633a59563b89a2e42d19fabc84adc3ed
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 12:41:30 2007 -0600

    In dmxBackendMouGetInfo() initialize the info->minval[], maxval[] arrays to the size of the backend display.
    
    It seems that the changes to X input exposed a problem that wasn't detected
    before.  The axis clipping code in GetPointerEvents() uses those limits to
    constrain the pointer's coordinate range.  The max was zero so the pointer
    couldn't move.

commit 0013bf6ddb3867c9a504603434d8c2ec83f3f3bc
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 12:39:04 2007 -0600

    undo 1280 valuator hack

commit 08a88d1803f672555141011e082fbc0edeedcf05
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 12:28:14 2007 -0600

    Pass num_valuators=0 for ButtonPress/Release. This seems to fix the button coordinate problem

commit 70683e338dacc48e3adf489d66ec33b29dfc3b77
Author: Brian <brian@yutani.localnet.net>
Date:   Mon Apr 2 12:26:27 2007 -0600

    formatting fixes

commit e8777a91f37d828b9df839bf3d9cf2f954bdddb0
Merge: a120547 96ce17a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 2 15:36:26 2007 +0930

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	Xi/closedev.c
    	Xi/exevents.c
    	Xi/extinit.c
    	Xi/listdev.c
    	dix/window.c
    	hw/xfree86/common/xf86Xinput.c
    	include/extinit.h
    	mi/mipointer.c

commit 96ce17aa94413c4b8bcb61cae71167050130a307
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 15 17:50:02 2006 +1030

    o fix minor error in comment for GetPointerEvents()

commit a12054757d21edacc1c24c3077b9214726652829
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Apr 2 11:20:44 2007 +0930

    Xi:     fix ProcXListInputDevices to include the virtual core devices.

commit f2808005f4ee72c5fd7f5f3dcca181306485113e
Author: Alberto Mardegan <mardy@users.sourceforge.net>
Date:   Sat Mar 31 16:51:24 2007 +0200

    Bug #6620: Fixed a missing 'else' in ATIPseudoDMAInit().
    
    Before this, we'd write some registers twice on R200 hardware and also
    possibly end up with a bad value in atis->cce_pri_size.

commit 5257b32e492bd2082bef6a4cd0fea03ce093c0f8
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Mar 28 15:51:24 2007 -0700

    Bump video driver ABI to 2.0 for cw change (commit 6ed08949af4f7ac09170d3d9581e4092b24a84ee).

commit 73fdc16bc4f4e21ff604b3f9ded23b40398fb1b6
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Mar 30 16:07:26 2007 -0600

    formatting fixes

commit ebdc8ce5c108dc3b6b0004e7c7939d1a5bef8676
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Mar 30 16:05:46 2007 -0600

    Checkpoint DMX updates: things are working much better now, but still not 100% right.
    
    Use new dmxCoreMotion2() function which enqueues motion events with
    GetPointerEvents()/mieqEnqueue().
    The clipAxis() code in GetPointerEvents() is causing some grief.  The
    limits seem to have always been (0,0) according to the original calls
    to InitValuatorAxisStruct() in dmxinputinit.c.
    Terrible hack for now: Call InitValuatorAxisStruct() with hard-coded max
    values of 1280 (my screen width).

commit e9130b8bac73a0843d5ff6b2216eccfb3e094a48
Merge: 2c6d471 92e8cdb
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Mar 30 13:39:15 2007 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit 3c7413e0c2f87e154aa8aa4a83bd585a6d1091e8
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Mar 30 14:07:04 2007 -0600

    Tweak some parameters, etc.  Things seem a little better now, but still a ways to go.

commit 7989dacdcb1449b10d7733dda11cd96e260e9fae
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Mar 30 13:44:24 2007 -0600

    num_valuators=1 for GetPointerEvents(), hack ButtonPress/Release position

commit 1ea842960fddbc6363cc6e7f914d70ba45525a6b
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Mar 30 13:43:15 2007 -0600

    more debug

commit 92e8cdbd32b0d86cabd4ad88e3240bf90c018b9a
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Mar 30 13:19:33 2007 -0600

    Checkpoint fixes to DMX for X input changes.
    
    Xdmx builds and runs now.
    Keyboard seems OK, and mouse pointer moves, but everything else is flakey.
    Something is still seriously wrong.

commit d92da3d5f309392ac398c0975ef17bb04312d5e2
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Mar 30 12:56:34 2007 -0600

    more formatting fixes

commit 44acb2517d9fb07790d9d799aa9cc727d1b7d35c
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Mar 30 12:54:22 2007 -0600

    Fix some bad formatting.
    
    Doing this:
        if (something) stmt;
    is evil if you're debugging and want to break on stmt!

commit 9f24798af50896cc3262c1201f75c10a688f2a83
Author: Brian <brian@yutani.localnet.net>
Date:   Fri Mar 30 12:49:34 2007 -0600

    ompile fbcmap.c w/ -DXFree86Server instead of linking libfbcmap.a.
    
    The former works, the later doesn't (DMX blows up on visuals/pixel formats).
    This undos Daniel's patch, which undid my prev patch.  Revisit someday.

commit 76756f27561c6386cba0d338441e8ec7b98500ce
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Nov 30 04:20:32 2006 +0200

    Make xf86glx.c unaware of Mesa internals
    
    Use newly added XMesaCopyContext() and drop the GlxSetRenderTables() call
    for Xgl, as this is now done inside XMesaForceCurrent(). This leaves xmesaP.h
    but only for the declarations of the three XMesa/XFree86 functions. Also,
    GlxSetRenderTables() stays but is only used in hw/xgl/glxext/ .
    
    Also drop xf86glxint.h, no longer used.
    
    Depends on mesa commit 7439a36785b6a2783e80a40a96c09db8f56dc2bc of 2007-03-30.

commit 63d8f01819ef44ea3bf0d4fb20ba1d698ae91cd2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Mar 30 14:59:43 2007 +0930

    dix:    Fix wrong cursor refcount.
    
            Calloc cursor struct to ensure devPrivates are zeroed out and don't
            increase the refcnt for devices automatically when allocating a new
            cursor. Use new DeviceIsPointerType() to detect if device is a pointer
            _before_ device has been activated and can thus be identified and set
            up grab functions accordingly. This way we can increase the refcnt
            when we get a pointer grab.

commit 20e4314b178e1a093bce85e93329d4bcfb4f4210
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 29 19:12:32 2007 +0930

    dix:    Try to get closer to the correct refcnt for cursors.
    
            This commit introduces a memory leak, as the refcnt never seems to get
            down to 0 and thus cursors will not be freed. Solves the problems with
            GNOME segfaulting every 30 seconds though.

commit 307d2b57bbfcc281656011533627bea6ab98189e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 29 15:23:41 2007 +0930

    Xi:     remove 'register' keywords.

commit 0c607f4b1902f993597e09ea7a2c83bc1cca9b96
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 29 14:43:50 2007 +0930

    dix:    Pick keyboard instead of using virtual keyboard in Grab/UngrabKey.

commit 82a8b99a6c46018885600011913267d8af9dfe13
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Mar 28 15:17:02 2007 -0400

    Move the XAA private indices to be static.
    
    Technically this is an ABI break, if you aren't smart enough to be using the
    getter functions.  Cope.

commit 8c7f56d92d8471ee059c14d322af5f7f555dd5c6
Author: Tomas Janousek <tomi@nomi.cz>
Date:   Wed Mar 28 14:46:30 2007 -0400

    Bug #10296: Fix timer rescheduling.

commit 327bc332a61294209d39286228199f54bdde73d1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 28 13:00:03 2007 -0400

    xace: minor comment fixes.

commit 299ff4c82998d2a32204bfbecde4993dfbd3d4a5
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 28 12:57:11 2007 -0400

    xace: provide creation-time resource hook call in CreateWindow().

commit 99b220969f2f8ba829bc8294b27ca90fd9311be4
Merge: 728ad64 82a8b99
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 28 12:54:04 2007 -0400

    Merge branch 'master' into XACE-SELINUX

commit 5ba4d9eedf1b4ce4795bf910cd184872e2d9b3fc
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Mar 28 12:03:19 2007 -0400

    Refuse to create tiny modes from EDID detailed timing.

commit 2c6d47108880584f1221ff86c6c8947627f9f607
Merge: c4fe1bc 8522044
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Mar 28 08:08:04 2007 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/Makefile.am
    	hw/xfree86/dri/dri.c

commit 85220446359a75ea2c359b418b4051c04eea739c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Mar 28 13:03:32 2007 +0300

    GL: Update for Mesa changes
    Added s_fragprog.c to fix the build.

commit 1af2ef0b25fd8017a3271e624a5f1548f02b09f9
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Mar 27 13:13:45 2007 -0700

    Enable Composite by default now that it disables itself in the known bad cases.

commit 0bfc3cc22db94ec6867596606fe93228e315c847
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Mar 27 13:12:21 2007 -0700

    Disable composite when Xinerama is active.
    
    It will likely take a decent bit of work to make that work right.

commit 5e7936371c9e1ac48e19bf1e9e3f71f037fd9b5d
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Mar 26 20:18:18 2007 -0700

    Disable Composite when the screen's visual is pseudocolor.
    
    Rendering fails badly in this case, and I don't care enough to fix it.

commit 8afc7e2eb3ebec48d3879bf269143259c8bc18c8
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Mar 26 15:55:38 2007 -0700

    Refuse to initialize Composite if Render is not present.
    
    Composite relies on the presence of Render, in particular for the automatic
    compositing.

commit 6ed08949af4f7ac09170d3d9581e4092b24a84ee
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Mar 27 17:31:28 2007 -0700

    Move libcw setup to the only renderer requiring it (XAA).
    
    Additionally, protect libcw setup behind checks for Render, to avoid
    segfaulting if Render isn't available (xnest).
    
    The previous setup was an ABI-preserving dance, which is better nuked now.
    Now, anything that needs libcw must explicitly initialize it, and
    miDisableCompositeWrapper (previously only called by EXA and presumably binary
    drivers) is gone.

commit e76b6349516d5d1c8f7167d6f5419e0d06a546c3
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Mar 26 16:04:50 2007 -0700

    Fix indentation of fakexa help text.

commit 728ad64d979fd9e5cca28e8c15118c18d707c431
Merge: 0331c6a 6a0bed1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Mar 27 13:16:40 2007 -0400

    Merge branch 'master' into XACE-SELINUX

commit 6a0bed16e80a91891cee6c7033c90875bc2af193
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Mar 27 16:51:12 2007 +0200

    Fix typo in GL/mesa/shader/slang/Makefile.am.

commit b8f846a9dfc6697d59ad5482ba7c9d738875318e
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Mar 27 14:17:40 2007 +1000

    gl: oops dodgy s appeared pointed out by jcristau on irc..

commit a63ee90bc2d490f6c5c1802c164391963cf6c1d9
Author: Dave Airlie <airlied@pegasus.(none)>
Date:   Tue Mar 27 11:05:52 2007 +1000

    gl: update for latest mesa glsl-compiler merge

commit d387a3ddf76716791e5e8b8f0954ca0df3c579d6
Author: Dave Airlie <airlied@pegasus.(none)>
Date:   Tue Mar 27 11:00:13 2007 +1000

    fix loading of GLcore after recent loading changes

commit 92ba435bd9aa7b6eca9aef8e5193576ef62fc9db
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Mar 26 12:44:58 2007 -0700

    Update xorg.conf manpage for new RandR 1.2 monitor options.

commit 0331c6a8fcba1dc27ef45aaf5f694799d0085413
Merge: 84a066c f7c5aa0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Mar 26 10:28:05 2007 -0400

    Merge branch 'master' into XACE-SELINUX

commit f7c5aa0dc0fa3569a2ee412c4f996960f936b6ed
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Mar 26 10:21:44 2007 -0400

    Remove dead NEED_DBE_BUF_BITS code.

commit 2e3cc861f90415f200826bc71dab6298d759c42b
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 25 22:01:34 2007 -0400

    Since ddc, i2c, and ramdac are in core now, remove their ModuleData stubs.

commit e88fa75c9b468b88bb7b87b1da235c6eb2fe8164
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 18 17:39:08 2007 -0400

    Static cleanup on Xi/

commit 4b5802ddbd45271be3cadeae0a83a6742df2515b
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 25 17:57:54 2007 -0400

    General DIX static and dead code cleanup.

commit 04b87d6dfae02e4ecdb5216d12c6cdafd1e8c2b4
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 25 17:57:22 2007 -0400

    Static and dead code cleaup for Xext/

commit af769892a91c9af59de53ca3bcd77fc4967daffb
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 25 17:56:32 2007 -0400

    Static and dead code cleanup from mi/

commit 62224e39727fd6f1cf11a461983662f615a9fea1
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 25 17:55:15 2007 -0400

    Static cleanup for xf86 ddx.

commit e8bc1988d9ff10b65717574175f70df3c4d6334d
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 25 15:13:05 2007 -0400

    Un-staticise VTSwitchEnabled, since kbd wants it apparently.

commit 70e493d223b1e943e652191150bd0b7e1a6ebcfb
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 25 14:55:28 2007 -0400

    Static and dead code cleanup over afb/

commit f36bf1a3e4ce9465ea4a6159c209924a3cafbe58
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 25 12:28:13 2007 -0400

    Delete a dead file.

commit 9a0f25de7ca3c68af867b38936103d17daa92ac6
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 25 12:27:01 2007 -0400

    Static cleanups, dead code deletion.

commit ac2356843e38b3400142bc54b65393c12976fc07
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Mar 25 09:41:33 2007 +0930

    dix: Increase allocation size for core keyboard keymap to avoid buffer overrun when copying keymap from extension devices.

commit 5f9c10e8da0d9d96cc00a38cdf9a8c3030063e03
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Mar 25 15:00:03 2007 +0930

    Clean up DeviceIntPtr, prepare for Server 1.4 ABI. Move sprite-related
    information into a new SpriteInfoRec, remove isMPDev flag.

commit e54311395e1e7ae458c8ce59da0914706c4a04f6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Mar 25 09:41:33 2007 +0930

    dix:    Increase allocation size for core keyboard keymap to avoid buffer
            overrun when copying keymap from extension devices.

commit 1072b88a8f352484e70bc749e300c936e5600480
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Mar 25 10:06:00 2007 +1000

    loader: fix already built-in message

commit 804080a7096347d48c686f2c8fbfd06326bce400
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Mar 23 23:41:36 2007 -0700

    Make pending properties force mode set. And, remove AttachScreen calls.
    
    Yes, two changes in one commit. Sorry 'bout that.
    
    The first change ensures that when pending property values have been
    changed, a mode set to the current mode will actually do something, rather
    than being identified as a no-op. In addition, the driver no longer needs to
    manage the migration of pending to current values, that is handled both
    within the xf86 mode setting code (to deal with non-RandR changes) as well
    as within the RandR extension itself.
    
    The second change eliminates the two-call Create/AttachScreen stuff that was
    done in a failed attempt to create RandR resources before the screen
    structures were allocated. Merging these back into the Create function is
    cleaner.
    (cherry picked from commit 57e87e0d006cbf1f5b175fe02eeb981f741d92f0)
    
    Conflicts:
    
    	randr/randrstr.h
    	randr/rrcrtc.c
    
    I think master and server-1.3-branch are more in sync now.

commit 1f77120775dc05fc84a00dd55190af2fa50ae509
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Mar 23 14:39:10 2007 -0700

    Ensure that crtc desired values track most recent mode.
    
    desiredX and desiredY were not recorded during xf86InitialConfiguration.
    desiredX, desiredY and desiredRotation were not recorded during
    xf86SetSingleMode.
    (cherry picked from commit 36e5227215e0912ddf8a010db042467f00efe0fc)

commit 84a066cc88fe4326ddacd04ab5e1158a80571c33
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Mar 23 10:33:53 2007 -0400

    xace: pass serverClient as default argument to dixChangeWindowProperty
    instead of NullClient.

commit 476f2b5aefa518262b69e487555e6094818d857a
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Fri Mar 23 01:17:14 2007 -0700

    Incorrect extra memory copy in RRChangeOutputProperty.
    
    Left over from previous version of the code, this memmove will break when
    the mode is not Replace.
    (cherry picked from commit 945aa0aa556429b50dea8e8ebc0008304b093eb7)

commit 7093367c3976bef5b9d219d9f2a7dc7dd3eeb091
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Fri Mar 23 01:05:55 2007 -0700

    Fix Pending property API, adding RRPostPendingProperty.
    
    Pending Properties take effect when the driver says they do, so provide an
    API to tell DIX when a property effect is made. Also, allow driver
    to reject property values in RRChangeOutputProperty.
    (cherry picked from commit 8eb288fbd69e2ffd02521d2c6a964c8180d08ec8)

commit 86d76390eb182f271f5fa5dc19205e97a867f7e7
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Fri Mar 23 01:03:40 2007 -0700

    Make sure RandR events are delivered from RRCrtcSet.
    
    Some paths were skipping the event delivery stage.
    (cherry picked from commit 9ca7ba5d6012295a77ed773c656e786440da973d)

commit 510eaa346e68fd82c852c7b41fb0e2c5be12da78
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Fri Mar 23 00:59:11 2007 -0700

    Clean up xf86CrtcRec and xf86OutputRec objects at CloseScreen.
    
    Erase pointers to structures which are freed at server reset time.
    (cherry picked from commit 492c768065f49306a2194a88edf96b85de0ff4ff)

commit 479b2be4badab0a67b1f091feb83c1364e27d783
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Fri Mar 23 00:57:18 2007 -0700

    Clear allocated RandR screen private structure.
    
    Use xcalloc instead of xalloc when allocating this structure to ensure
    consistent contents at startup.
    (cherry picked from commit 16f4c0c1750824f2e5a001cef82a4122a7a2beb0)

commit b63e0d2545bb75e14d9de019a88f31e20a2f7377
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Tue Mar 20 07:17:27 2007 -0700

    Clean up Rotate state on server reset.
    
    The rotation state is stored in the xf86_config structure which is not
    re-initialized at server reset time. Clean it up at CloseScreen time.
    (cherry picked from commit f8db7665dcd7af78ca4db2461e0bf787ec662cb1)

commit e1cc68add0bcdd5e0e4e15cf6ee8a3da136d3534
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 22 17:33:16 2007 -0400

    xace: drop the name argument from the property callback.

commit c9fb8a35332d101897607d8f06ed5a6512eac7cf
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 22 17:23:26 2007 -0400

    dix: move access codes to separate header file, add DixCreateAccess.

commit 1b766ffc0647d5e9a9bf6938d33548d977b5535e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 22 15:55:35 2007 -0400

    dix: reorganize property code to better support xace hook; requires new API for
    changing a property, dixChangeWindowProperty, taking an additional client argument.

commit 1b58304ac837735920747ed0f0d10ba331bdaeb7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 22 13:06:50 2007 -0400

    xace: add new argument to property hook for property structure itself.

commit 5486be4898766205149fadce71529724eb78fbf3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 22 10:59:21 2007 -0400

    dix: devPrivates support for PropertyRec.

commit f8cd19bd1692d12a6047c088a626a6ae715d469d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 22 17:47:01 2007 +1030

    Xi:     add GetClientPointer and GetPointerPairing requests.
    
    dix:    use PickKeyboard for ProcSetInputFocus and ProcGetInputFocus instead
            of the core keyboard.

commit a3296d111dc4d76aa3afa7e338cbab93eb390ec4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 21 17:01:26 2007 -0400

    xace: add access_mode argument to selection hook.

commit 4c1fb8069d5dd30a73277698503e9dcc2e9d64c6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 21 16:17:14 2007 -0400

    dix: add new selection fields supporting redirection.
    This is a minor ABI break.

commit 4fa482b4be1150bcffeabb64d018c00ac5951e41
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 21 14:49:56 2007 -0400

    xace: bump major version since the hooks have changed.

commit 9c144f8ac5cea25deaa543767dbaf371d029c608
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 21 14:39:00 2007 -0400

    xace: add XACE_SELECTION_ACCESS hook for selection redirection/access.

commit 3e9f7a5504ab41d845e88f293d8498c963d8a7d8
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Mar 21 02:35:31 2007 +0200

    XFree86 DGA: Guard against NULL pointer dereferences.
    Ass, u, me ...

commit f292de2ef13dc994a38029cee9e2642576893332
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Mar 21 02:04:12 2007 +0200

    XKB: Fix size_syms calculation bug
    
    Apparently it needed to be nSyms*15/10, not *12/10; make it match the
    other allocation code.

commit f34b9a20b0181d3c2641c305e91180711afbd4b9
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Mar 21 02:03:37 2007 +0200

    XKB: Be a tiny bit more conservative with type allocation
    
    Make sure size_types will _always_ be 0 if we don't have any types.

commit 021fc5cb2cb4a7972b4a6fcb570c1da92787d68d
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Mar 18 16:31:19 2007 -0400

    Static markup and dead code cull over xkb/.
    
    The former <X11/extensions/XKBsrv.h> has been pulled into the server now as
    include/xkbsrv.h, and the world updated to look for it in the new place,
    since it made no sense to define server API in an extension header.  Any
    further work along this line will need to do similar things with XKBgeom.h
    and friends.

commit 9398d62f27ee1b287e4458fd8b011c10f7b59efd
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Mar 21 00:18:24 2007 +0200

    XFree86 input: Add backwards compatibility for motion history
    Add the old motion history API back, as a shim around the new mi API.

commit 0f75c47e0c5f4b2778930a6fabf894fc1dffd9d3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Mar 21 00:12:02 2007 +0200

    xfree86 input: Re-enable DGA support
    Re-enable DGA support for relative mouse motion.

commit 80d29475b9a2ebbb303a8e324e09a15c528d5556
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Mar 21 00:10:38 2007 +0200

    mieq: Allow event handlers for arbitrary events to be set
    Allow arbitrary events to use mieq by letting custom handlers be set.

commit b8df961843a95b29258ae9c5d46ccfc620d8de1c
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Mar 19 18:03:26 2007 -0700

    Define XF86PM on Solaris x86 builds now that we have sun_apm.c

commit 2945deba1d4a7dce4f6dd0c568297a1c537fdfb4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Mar 19 17:09:10 2007 -0400

    xace: drop XACE_WINDOW_INIT hook, it has been superseded by ResourceStateCallback.

commit 78c962da76efe644b8d485265f1ecdda84b45d27
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Mar 19 17:04:51 2007 -0400

    xselinux: use the new ResourceStateCallback instead of the XACE_WINDOW_INIT hook.

commit 6a89106e9c963a495fd40427d242ba0abd44f764
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Mar 19 16:51:29 2007 -0400

    xselinux + security: remove confusing CALLBACK macro.

commit 0acf993e2878d0866fd4e2db8252c1ea6841e494
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Mar 19 16:11:01 2007 +1030

    dix:    Move sprite initalization/pairing from ActivateDevice to
            EnableDevice.
            zero out spriteTrace, otherwise GetCurrentRootWindow() may return
            invalid data.
    
            Evdev adds previously hotplugged devices on its own when rescanning,
            and ActivateDevice does not get called for those devices. Sprites need
            to be initialized or paired before the device gets started, so the
            safest place to do so is EnableDevice (which actually does get called
            by the evdev driver).

commit 015d728bcde5b16a72a976579755421e3023626b
Merge: 65b0eb6 b167583
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Mar 19 09:42:56 2007 +1030

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	dix/devices.c
    	dix/events.c
    	mi/misprite.c

commit 720f302d241e88e6e9f2962207da1aa9a79728b7
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Mar 17 20:14:05 2007 -0700

    Slow down DDC I2C bus using a RiseFallTime of 20us for old monitors.
    
    This time value makes the bus run slowly enough for even the least reliable
    of monitors. Thanks to Pavel Troller for finding the necessary change.

commit b5a8a71e64c76b8dd42962cbd7984215c6ce4aa8
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Mar 17 17:26:11 2007 -0700

    Remove extra (and wrong) I2C ByteTimeout setting in DDC code.
    
    The DDC code sets the I2C timeouts to VESA standards, except that it had an
    extra setting of the ByteTimeout value which was wrong (off by a factor of
    50). Removing this should help DDC work on many more monitors. Note that the
    Intel driver duplicated these settings, along with the error. Yay for cult
    and paste coding.

commit 2489dae9f7def788910eee5733931392df83a0d6
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Thu Mar 15 20:26:07 2007 -0700

    Correct ref counting of RRMode structures
    
    RRModes are referenced by the resource db, RROutput and RRCrtc structures.
    Ensure that the mode reference count is decremented each time a reference is
    lost from one of these sources. The missing destroys were in
    RRCrtcDestroyResource and RROutputDestroyResource, which only happen at
    server reset time, so modes would be unavailable in subsequent server
    generations.

commit 9d0c3b52f25df89738fb1a62ccffda8c8cbb4689
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Tue Feb 20 23:04:26 2007 -0800

    Eliminate RRModeRec devPrivate field.
    
    The xf86 mode setting code was mis-using this field to try and store a
    pointer to a DisplayModeRec, however, each output has its own copy of every
    DisplayModeRec leaving the one in in the RRModeRec devPrivate field pointing
    at a random DisplayModeRec.
    
    Instead of attempting to rectify this, eliminating the devPrivate entirely
    turned out to be very easy; the DDX code now accepts an arbitrary RRModeRec
    structure and set that to the hardware, converting it on the fly to a
    DisplayModeRec as needed.
    (cherry picked from commit 3506b9376c2b0db09bfff58d64e07af88a6e8195)

commit 2c93083edd29a65e73bb2e8eff9d353e92845c9b
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Sun Feb 18 23:49:38 2007 -0800

    Add support for user-defined modelines in RandR.
    
    The RandR protocol spec has several requests in support of user-defined
    modes, but the implementation was stubbed out inside the X server. Fill out
    the DIX portion and start on the xf86 DDX portion. It might be necessary to
    add more code to the DDX to insert the user-defined modes into the output
    mode list.
    (cherry picked from commit 63cc2a51ef87130c632a874672a8c9167f14314e)
    
    Conflicts:
    
    	randr/randrstr.h
    
    Updated code to work in master with recent security API changes.

commit b167583fe234a536aa6187e17f21da85be4f0b7f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 15 17:50:02 2006 +1030

    o fix minor error in comment for GetPointerEvents()

commit 65b0eb60b0b9e6405aa2e3d4c712ec4d2f0da070
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Mar 16 15:52:24 2007 +1030

    Xi:     move IsPointerDevice into dix.
    dix:    IsPointerDevice and IsKeyboardDevice, use same ways to identify type
            of device as XI does for the XListInputDevices reply.
            Autopair each non-pointer device with VCP when activating, pair with
            real device after activation.
            Don't return non-keyboard devices when calling GetPairedKeyboard or
            PickKeyboard, otherwise we segfault for 'evdev brain'.

commit 3bffb281260476d2f74f0bf451d85d2f7cacd6c4
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Mar 15 16:16:16 2007 -0700

    Don't wedge when rotating more than one CRTC.
    
    Rotation block handler was re-registering the rotation damage structure,
    creating an infinite loop in the damage code. Track registration of the
    damage structure to avoid this.
    (cherry picked from commit b14f003b0ed1252766c9e3b1c086ea2809521047)

commit 9562b6abe1da566cf73a08c4f4c4339fb67fbc71
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Mar 15 10:50:45 2007 -0700

    Allow xf86_reload_cursors during server init.
    
    xf86_reload_cursors is supposed to be called from the crtc mode setting
    commit hook; as that happens during server initialization, check for this
    case.
    (cherry picked from commit 5b77bf2d020b1ee56c1c5f2db089a8f7f64a76a6)

commit 3b71b0f89f1db837da91650baa0ef4bb7ef2e98f
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Mar 15 13:21:00 2007 -0700

    Set the RandR version returned, rather than just passing the proto's version.

commit 2fe74ef339c3a4902ae8214f5a0454662895422c
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Mar 15 16:56:01 2007 +0100

    Fix calculations in x86 emulator for the long long case (Andreas Schwab).

commit 456f429ad655ab4d80e30c58291d801966a613b2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 15 21:48:19 2007 +1030

    dix:    fix: don't return when device is same as argument.
            fix: set access default rule to 0 on init.

commit ae75019ccf1edac9e8be31b6a96293624f672ccb
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Wed Mar 14 23:59:29 2007 -0700

    Create driver-independent CRTC-based cursor layer.
    
    This moves most of the cursor management code out of the intel driver and
    into the general server code. Of course, the hope is that this code will be
    useful for other driver writers as well.
    
    Check out xf86Crtc.h for the usage information, making sure you add the
    needed hooks to the crtc funcs structure for your driver.
    (cherry picked from commit 4d81c99a4660a0bf9014f789de55edabd185bd14)

commit c5b07fb717289f61b54d7b093421bcb92124b839
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Mar 14 17:42:30 2007 +1030

    kdrive: update kdrive to new mi API with additional device argument. Includes
            an update of ati_cursor.c and i810_cursor.c

commit c3eb248cf93a3afd9168acfb88254606beddd7a8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Mar 14 13:21:33 2007 +1030

    dix:    fix: don't skip first item in list when seeking for a device cursor.

commit ce9409acebd994cf1809050f2cc8e1db66130f12
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Mar 13 19:16:56 2007 +1030

    dix:    Get the state from the paired device and the real device to fill the
            state field in the event, rather than using the virtual devices.
            ProcessPointerEvent: name argument "device" instead of "other".
            Add GetPairedKeyboard().

commit 4bf1b280f7cb676ec2b172f26dd2ad9bac2eb2ca
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Mar 9 14:18:14 2007 +0000

    Set pScreen on context

commit c366b82bd50066019cf82b3464445d5bc27d6f9f
Author: Jay Estabrook <Jay.Estabrook@hp.com>
Date:   Fri Mar 9 12:26:55 2007 +0000

    Ensure domain is stripped from the bus ID.

commit 577464af4362e5a32cf7165b5128655dd86c6200
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Mar 9 17:13:05 2007 +1030

    dix:    restore commit b3b2a6a0d43d1724e04d69588f8a55c3270e5523 that for some
            reason got wiped.
            fix ProcGrabKeyboard to use PickKeyboard
            fix PickKeyboard to actually work.

commit 07806f4081f8dcd3b5733b590eb6e5b4cae734ad
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Mar 9 15:45:25 2007 +1030

    Xi:     Add SetClientPointer request handling.

commit 405483496538f1c82cbd7fe1e76c5d94e1a90525
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Mar 9 14:16:23 2007 +1030

    mi: remove 'register' keywords.

commit fe05ba75a10ec080e7ec34bff6936103185586b3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 8 12:14:30 2007 -0500

    devPrivates rework: pass address of pointer to private callbacks instead of
    the pointer itself.

commit 18339375cd332f0ab1cbdade3dcd9140212ce1ca
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 8 12:14:06 2007 -0500

    xselinux: remove context validation function for now.

commit b9cff1670f29949a5bc41afc19aca443f434febb
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 8 12:13:52 2007 -0500

    Add ResourceStateCallback similar in function to ClientStateCallback.

commit 2fcb45eb5dc1803b372df8b5765f6a43bea83611
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 8 12:13:36 2007 -0500

    devPrivates rework: redo field offset registration, drop RC_PRIVATES class.

commit 947f8d249bac61beb10669d935888c4c280b5062
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 8 12:13:18 2007 -0500

    devPrivates rework: redo interface again, dropping parent and type parameters
    as well as preallocation routine.

commit c45f6762080ef00b41d9f73441a9f0e605253008
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 7 11:22:42 2007 -0500

    devPrivates rework: hook up new mechanism in backwards-compatibility mode
    on existing structures that support devPrivates.

commit b3b2a6a0d43d1724e04d69588f8a55c3270e5523
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 8 22:16:17 2007 +1030

    dix:    Check if client has a grab on any other device before mouse/kbd
            event is delivered to the client. Client's don't cope well with
            receiving core events from other devices when having a grab on a
            pointer or keyboard.

commit 63169ce52d354b4345dcfc46b89f0ea88379718f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 8 17:50:19 2007 +1030

    dix: remove 'register' keyword for all variables.

commit ceca5670fee99b5feceaa2453f1ac32d1bfe7dcd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 8 17:17:23 2007 +1030

    dix:    Each device needs to differ between a core grab and an XI grab,
            otherwise a Xi grab may overwrite or release a core grab.
            Replace grab and associates with coreGrab and deviceGrab structures,
            adjust rest of dix/Xi/etc to compile.
    
    xfree86: Don't check for core devices, we'll have the virtual ones anyway.
             If we check, the first mouse device is duplicated and sends
             double events.

commit 40ae4f246d8818410490236ab183204a84765629
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Wed Mar 7 20:52:31 2007 -0800

    Remove stale monitor data when output becomes disconnected.
    
    Remove parsed EDID and EDID property from disconnected outputs.
    (cherry picked from commit ae9d5aa479dd50cc81b755079fcf96a0d02f135a)

commit b5fde366e2e21234ac0b81222fd5c42ca3e49cba
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 7 12:29:55 2007 -0500

    Properly free device devPrivates - memory leak fix.

commit a3d2c5d622d9ca36d6fa2966aff09524e3ea39ac
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Mar 7 11:02:47 2007 -0500

    XORG_VERSION_CURRENT, not XF86_VERSION_CURRENT.
    
    If only this was the least wrong thing in this code.

commit aaef4d6a4121d9341b670a0ce8fabc3b491049cf
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 7 09:57:02 2007 -0500

    devPrivates rework: move reset functions into a single call.

commit bb111291d854b4329e47367ce3c67e8a2785e6e9
Merge: 74175e0 e9bfb2b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Mar 7 09:03:46 2007 -0500

    Merge branch 'master' into XACE-SELINUX

commit 537bc2ead4d154552cbdc3a19e335f82af63792c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Mar 7 18:19:20 2007 +1030

    Xi:    Don't deactivate core grabs from non-core button/key releases.
    
    dix:    set coreGrab flag for grabs caused by GrabPointer and button presses.
            remove virtual core devices from device list, only real devices are in
            the list now.
            Auto-pair each keyboard with a real pointer if one is available,
              provides multiple keyboards automatically after startup if devices
              are configured.
            fix GuessFreePointerDevice() to do what it's supposed to do.
    
    mi:     fix: call miPointerMove from miPointerWarpCursor.
            fix: remove unused id field from miCursorInfoRec
            don't update sprite for virtual core pointer.

commit e9bfb2b3d7dfaafd90d2ad0fa3d0e1acced4380b
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Mar 6 23:19:30 2007 -0800

    Add hw/xfree86/docs/README.modes, documenting new mode setting APIs.
    
    This document covers both API and xorg.conf usage of the new mode setting
    APIs.
    (cherry picked from commit a59c31b0f7b94ed1f395c7586c37ef5fe7ba2a25)

commit 72a23d88d73a8c72ed18847b004db05092d3e7be
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Tue Mar 6 23:15:34 2007 -0800

    Add xf86CrtcScreenInit to share initialization across drivers.
    
    xf86CrtcScreenInit performs initialization that needs to happen at
    ScreenInit time.
    (cherry picked from commit 558a4f5588ad2ec11254e0b5d6ce9515b137369e)

commit 81526232bc0119d2ec7b8590be4f78cf066ae359
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Mar 6 17:19:11 2007 -0500

    remove PIXPRIV check as this flag is always set.

commit a7cd53deb99957dec27a55ffd75e548b322ae0ce
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Mar 6 15:32:13 2007 -0500

    remove PIXPRIV checks as this flag is always set.

commit 024bbc7cbb924daaf3e305ddfc8e74509acd1e15
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Mar 6 16:18:59 2007 -0800

    Bug #9931: Fix linear allocations with a non-1-byte granularity.
    
    This was introduced in 83080809f9a1c1d24b0318e54632f25f5940da25.  Instead of
    aligning the offset, it doubled it.  Results were appropriately spectacular.

commit 9d94c137596d3f9d9118ec70455b7a30b3582046
Author: Ben Byer <bbyer@apple.com>
Date:   Tue Mar 6 11:09:30 2007 -0800

    updated todo list

commit 81d581e655fc989da3be4256b83849a63b8607b7
Merge: a05ffca d5aba03
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Tue Mar 6 10:37:29 2007 -0800

    Merge branch 'master' of git+ssh://bbyer@git.freedesktop.org/git/xorg/xserver

commit a05ffca8dd0da9bdb5c1bf4c481028aeabf21e34
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Tue Mar 6 10:36:51 2007 -0800

    rewrote event handling, Xquartz now has working mouse and keyboard. use it\!

commit d5aba03feff41722c72b4c6193f09d141cbf1678
Author: Drew Parsons <dparsons@debian.org>
Date:   Tue Mar 6 23:53:23 2007 +1100

    Xprint: shorten font filename to fit in tar length limit
    
    The length of the Xprint font file NewCenturySchlbk-BoldItalic.pmf
    pushes the full path over the traditional 100 character limit for
    tarballs (when module version number is included).  Shorten it to
    NewCentSchlbk-BoldItal.pmf to get back below the limit and rename
    other font files in that family to match.

commit 3206e9225897989638ad553e1f392b918ac4d21f
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Tue Mar 6 02:31:59 2007 -0800

    moved new event-handling code from X11Application.m to darwinEvents.c in preparation for making all Darwin servers use it

commit 0ccd1443fd6db397b42e5b99ce733ce1316c785e
Merge: ec1ef8a 9b6bb06
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Tue Mar 6 01:04:50 2007 -0800

    Merge branch 'master' of git+ssh://bbyer@git.freedesktop.org/git/xorg/xserver

commit ec1ef8a56d6217ca2b04899043874ce0bcad9784
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Tue Mar 6 00:57:23 2007 -0800

    Fixed Darwin's Makefile.am to fix a problem building X11.app

commit 9b6bb06f13a71f6078f762b4a78fa516faccb638
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Mon Mar 5 23:49:35 2007 -0800

    Allow relative positions to use output names or monitor identifiers.
    
    Previous version used monitor identifiers if present, otherwise output
    names. That caused existing working configurations to break when additional
    information was added to the configuration file.
    (cherry picked from commit 3f5cedf00a82f08a433c95ffbb7f8ac69dcf6a50)

commit bed76caa6caaea6a6598755b82a54425a9d9f73e
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Mon Mar 5 23:36:00 2007 -0800

    Use EDID data to set screen physical size at server startup.
    
    Screen physical size is set to a random value before the RandR code gets
    control, override that and reset it to a value based on the compat_output
    physical size (if available). If that output has no physical size, just use
    96dpi as the default resolution and set the physical size as appropriate.
    (cherry picked from commit 843077f23a1b49bd712d931421753e3a09d4008c)

commit 47f8361c3a64834587e54507653d8d5b258c2530
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Mon Mar 5 22:07:01 2007 -0800

    Add xf86SetDesiredModes to apply desired modes to crtcs.
    
    xf86SetDesiredModes applies the desired modes to each crtc (as selected by
    xf86InitialConfiguration initially and modified by successful mode settings
    afterwards). For crtcs without a desired mode, pScrn->currentMode is used to
    select something workable.
    (cherry picked from commit bcade98ccaa18298d844a606cb44271f0254c185)

commit 33d2cf93fb50464941e74efe246b10aee212223a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Mar 3 23:10:31 2007 -0800

    Move xf86SetSingleMode into X server from intel driver.
    
    This function applies a single mode to the screen (as from RandR 1.1,
    XFree86-VidModeExtension or XFree86-DGA) using a policy that selects one
    output to reconfigure to the requested mode and then makes all other outputs
    fit within that size.
    (cherry picked from commit 5a595c1f767a8d666348b845d18934aee0cfe38f)

commit 689d52b6242434507a64a8fff27b01607628c393
Author: Jens Granseuer <jensgr@gmx.net>
Date:   Mon Mar 5 15:31:44 2007 -0800

    Bugzilla #7145: fix build with gcc 2.95
    
    Bugzilla #7145: <http://bugs.freedesktop.org/show_bug.cgi?id=7145>
    Patch #8987: <http://bugs.freedesktop.org/attachment.cgi?id=8987>

commit 74175e0af74c530cb712a6772d3c5d61d1be9748
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Mar 5 12:34:37 2007 -0500

    devPrivates rework: remove some debugging code from dixFreePrivates.

commit 23fc429aad5b2721911862617772c314e1036bb0
Merge: e684824 fe7b8f4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Mar 5 12:18:54 2007 -0500

    Merge branch 'master' into XACE-SELINUX

commit e684824709fa8ffe03dde3c8dfbc58c267515a4f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 1 15:00:02 2007 -0500

    devPrivates rework: redo interface and implementation.

commit fe7b8f4237874e3e45fe25a6bf06faddfa1ab8e1
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Mon Mar 5 03:48:27 2007 -0800

    began to factor out code to move to darwinEvents.c

commit 537dc5ecde46d0525c503d1d2b39b6eb89a1298e
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Mon Mar 5 02:30:56 2007 -0800

    started moving new input code into darwinEvents.c so that it may be shared by the three servers

commit 39aa79177196e21bcdbaf8e44adead9ef91e6ee5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Mar 5 15:31:16 2007 +1030

    dix:    Add GuessFreePointerDevice(). Runs through device list and tries to
            find a pointer that hasn't been paired yet.
    
    xfree86:  Use GuessFreePointerDevice() for newly connected non-sprite devices.

commit 8ba5e8d82014b774a52f3e050ddbbb8bde4e0933
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Mar 5 13:46:41 2007 +1100

    add a standard connector type and name for us as an output property

commit 2e31872e05c2408d53ba0182bcddc5dabb3615fe
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Feb 26 09:40:00 2007 +1100

    modes: add commit/prepare hooks

commit 1f0075786fedde538a95e2f39681052e25021d88
Merge: 57aa5e9 12175b6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Mar 5 12:37:17 2007 +1030

    Merge branch 'master' into mpx
    
    Conflicts:
    
    	configure.ac
    	dix/getevents.c
    	hw/xfree86/ramdac/xf86Cursor.c
    	mi/mipointer.c
    	xkb/xkbUtils.c

commit 06b01186f6ae17aafdd1f628c306466ddea9e065
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Mar 4 17:15:24 2007 -0800

    Remove debugging ErrorF from rotation code.
    (cherry picked from commit e6af7569f201842b4754aec6e72b30dc2daefdfb)

commit c14507b6837387d867792a24778786311b2b38d5
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Mar 4 17:06:37 2007 -0800

    Handle non-zero origin rotated crtc. Damage crtc area on re-rotate.
    
    Box transformation from source to dest area was broken, leaving the wrong
    areas painted when the crtc origin was non-zero.
    
    When rotating from left to right, the pixmap doesn't get reallocated, and so
    no damage was left in the pixmap from xf86RotatePrepare. Separately damage
    the whole crtc area when this occurs to repaint the area.
    (cherry picked from commit 2a50ca2160bc05af1c24421ec079e902ff730277)

commit 97978b515b7af5fbaaa32b1729e835f3bfb9f5c6
Author: Drew Parsons <drew@pug.localdomain>
Date:   Sun Mar 4 16:28:54 2007 +1100

    Xprint: fix font symlinks
    
    Change symlinks to Xprint base fonts in model/PSdefault using local
    relative links.  This facilitates moving the Xprint config files, for
    instance for FHS compliance placing data files in /usr/share rather
    than /usr/lib.  Also ensures NewCenturySchlbk-BoldItalic.pmf is
    installed.

commit 215e3691b76a63e6af19865790193b20b105ec5a
Author: Ben Byer <bbyer@xyzzy.local>
Date:   Sat Mar 3 21:52:56 2007 -0800

    stopped using XTrans internals in X11.app because they're apparently no longer public

commit ea8dcc458ea8870126cf8d3e21cab9d63d094c5e
Author: Ben Byer <bbyer@xyzzy.local>
Date:   Sat Mar 3 21:51:20 2007 -0800

    Makefile fix for X11.app

commit 18508212599bf0964c450c69b9790208e5d428be
Author: Ben Byer <bbyer@xyzzy.local>
Date:   Sat Mar 3 21:41:33 2007 -0800

    fixed X11.xcodeproj to get CFLAGS and LDFLAGS from autoconf script

commit 7f2b9f3790456044d01bf8e6404f9a1239b41da6
Author: Ben Byer <bbyer@xyzzy.local>
Date:   Sat Mar 3 19:27:53 2007 -0800

    autoconf fixes for XDarwin (created DARWIN_LIBS)

commit 12175b668a94e23994f724b366a691ec312cce69
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 15 17:50:02 2006 +1030

    o fix minor error in comment for GetPointerEvents()

commit ea1a72946d1aa4c256e6afb9d834c582ba4ac3a1
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Feb 28 14:26:47 2007 -0800

    Add a canGrow argument to xf86InitialConfiguration.
    
    canGrow indicates to the DDX that the driver can enlarge the desktop via the
    xf86_config->funcs->resize hook.  If so, xf86InitialConfiguration will set
    virtual[XY] to match the configuration it chooses and will leave the crtc config
    size ranges alone.  If FALSE, it will bloat the screen to fit the largest probed
    mode and also set the crtc config max size to limit the desktop to the initial
    virtual[XY] size.

commit 04d15da95d608766c7832a7aa881be499c1395ba
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Feb 28 13:36:58 2007 -0800

    Add a screen resize hook to xf86CrtcConfigRec.
    
    This hook is called when the DDX needs to resize the screen.  The driver is
    responsible for changing virtualX and virtualY, along with any other related
    screen properties (devPrivate.ptr, devKind, displayWidth, etc.).
    
    Use the size range from the crtc config instead of randrp->virtual[XY] when
    reporting the min and max screen sizes to the DDX.

commit b11dfac287d65de7b83f63749087cba4e8ddaf4a
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Mar 2 12:30:26 2007 +0100

    Legacy framebuffer support wasn't compiled if Xorg wasn't explicitly enabled.

commit 57aa5e908dc11d5d8c27ed705c526f1416c1e8ad
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Mar 2 17:14:37 2007 +1030

    dix, Xext, Xtrap, Xi: replace inputInfo.pointer with PickPointer where
                          possible. More replacements to come.

commit e43b8a4e40991ca6e545bda4cf9b9bd7a2bf22e2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Mar 2 15:21:46 2007 +1030

    dix:    Add ClientPointer to client, used for picking which pointer to use in
            ambiguious request. PickPointer and PickKeyboard are used for getting
            the appropriate pointer when situation is unclear.
            Fix some issues with InitializeSprite.
    
    dix, xfree86: Remove last traces of InitSprite.

commit 2dafc46e3d814e02b25e5a2fa2e931f0257402a8
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Thu Mar 1 17:44:39 2007 -0800

    Fixed pointer events in Xquartz -- Keyboard events work, but
    the keycodes are incorrect.

commit 74f1de1de9633119c2cf26086875717181c8a6f7
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Mar 1 12:07:33 2007 -0500

    devPrivates rework: unhook resource system; will try a different approach.

commit 39ecd6fff4f946deebe310b4b26b171c842db223
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Thu Mar 1 01:45:19 2007 -0800

    Rewrote parts of the Xquartz event-handling code (thanks daniels and whot!)
    It should still be considered a work in progress, but mouse events almost work.

commit ed7ccc481ad1caaa518cafe944c2327a5d0b6c65
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Thu Mar 1 00:51:10 2007 -0800

    AIGLX support for Darwin -- works well enough to run
    glxgears and glxinfo, but still needs more testing.

commit 43bd35fcf85b51b7e5714844bade90184dbd746f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 1 17:19:37 2007 +1030

    dix:    Remove InitSprite, work can be done by InitializeSprite.
            Free sprite struct if a spriteOwner is paired.
    
    xfree86: Use PairDevices instead of passing booleans around when creating a
             sprite.
    
    Xext:    Switch back to using LookupPointer/KeyboardDevice instead of
             inputInfo.xyz.

commit 90ca76ba28fcd8bed945e33cf9674784fa2eb533
Author: Jay Cotton <jay.cotton@sun.com>
Date:   Wed Feb 28 17:40:58 2007 -0800

    Add sun_apm.c for Suspend-and-Resume support on Solaris
    
    <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6205248>

commit 06c3021aec720837bef432656e88ae9b4e35101d
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Feb 28 16:09:11 2007 -0800

    Don't crash setting a NULL mode with a randr classic DDX. Also remember to update the screen size during modesets.

commit 68c64ad7b1eea79c786b5a7f3459076780163a47
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Mar 1 09:51:20 2007 +1030

    Xext: Update device's lastx/lasty when sending a motion event with XTest.

commit 8b245758845523d5f8f017bb9d0e9aa57b616c28
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Mon Feb 26 17:45:40 2007 -0800

    Return BadMatch if a client tries to clone non-cloneable outputs.

commit 2a35d44b6d87f96a7ce90dc8f0142f48cc176e95
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Feb 28 15:43:06 2007 +1030

    Update device valuators on XTest motion event, otherwise the cursor jumps
    between coordinates stored in device and coordinates sent by the event.

commit d9bcb22d199e8444b9762a35754e04d327dd5915
Merge: 272d934 c16343a
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Tue Feb 27 16:28:20 2007 -0800

    Merge branch 'master' of git+ssh://bbyer@git.freedesktop.org/git/xorg/xserver

commit 272d9341d0f7c3e9e0c9b9a8c0d4d8779cdcc5cf
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Tue Feb 27 16:27:26 2007 -0800

    fix for hw/darwin/Makefile.am to properly use XSERVER_LIBS

commit c16343ac2ca18391b21022b2edd02ad9f413d2b3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Feb 27 14:14:47 2007 -0500

    Make mfb, cfb, and afb support configurable at build-time.

commit 5680efc0d2baf0a9451e82e490e3690fc23dda0f
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Feb 27 09:55:48 2007 -0800

    Sun bug 6529003: Xorg should not be including <sys/immu.h> on Solaris
    
    <sys/immu.h> was removed from the latest Solaris Nevada build, but it's
    been useless to Xorg for a long time (it only declared a couple of kernel
    variables)
    <http://bugs.opensolaris.org/view_bug.do?bug_id=6529003>

commit ab0fc8c1ad7ea2dc3389a4a4bb1c45bbded5e7ad
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Tue Feb 27 00:14:35 2007 -0800

    verbiage corrected per daniels

commit cdd4c84572cc3bdd004f8dca6d8b64e710344ac0
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Mon Feb 26 23:57:02 2007 -0800

    added hw/darwin/README.apple file with some todo items and props.

commit 776d4d6587c57f94bca8732f915d07a0d4e137c8
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Mon Feb 26 23:40:00 2007 -0800

    X11.app now builds correctly

commit 154d2c13f4ec22b7e6332808bbcd049d63784891
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Mon Feb 26 19:39:26 2007 -0800

    more changes for X11.app

commit fa06e11f972e2a75c84b2f1586997ffc1239cbd9
Author: Ben Byer <bbyer@bbyer.apple.com>
Date:   Mon Feb 26 17:06:53 2007 -0800

    added hw/darwin/apple directory, which contains source and data files to build
    a version of the X11.app shipped with Mac OS X, using the X.org server.

commit a16360733ea393ec1fc267e88fc604d9d7534484
Author: Jay Estabrook <Jay.Estabrook@hp.com>
Date:   Sun Feb 25 19:58:26 2007 +0000

    Fix root bus/domain selection on alpha

commit 566610680c4e1cab3e7fc7146adbeaba52fdd0ad
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Fri Feb 23 15:20:35 2007 -0500

    Don't install libi2c.a

commit 81372f9096b952f4be545654b0b44ac37ef4f2c2
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 23 13:23:12 2007 -0500

    devPrivates rework: hook up new interface in resource system; add new
    resource-adding function that takes an additional ScreenPtr argument.

commit 16f2b8892d9ebcef6410a675d10549043223f617
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 23 13:20:43 2007 -0500

    devPrivates rework: add new interface implementation.

commit 779faccfb78648a9f7e70b77dcfa9f6e19559772
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 23 13:19:53 2007 -0500

    devPrivates rework: add dix header file containing new interface.

commit bc4ae25433e38a25a2012f9f233d500665172a4b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Feb 23 12:06:51 2007 +1030

    xfree86: Don't initialize sprites for devices that don't own a sprite (stops
             keyboard hotplug segfaults)

commit af550ea91c451cf4f831c2413266a19d1f211d0e
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Feb 22 14:38:40 2007 -0800

    Move SecurityPolicy file format from Xserver(1) to it's own man page
    
    Don't make users looking for Xserver information page through pages of
    details only interesting to the handful of people writing security policies.

commit b1142cdbce76fed8cb22ba6d7ac027751dd56a76
Author: Brice Goglin <brice.goglin@ens-lyon.org>
Date:   Thu Feb 22 12:26:04 2007 -0800

    Bug #10034: 'man Xserver' typos: s/dqoute/dquote/
    
    Bugzilla #10034: <http://bugs.freedesktop.org/show_bug.cgi?id=10034>
    Patch #8780: <http://bugs.freedesktop.org/attachment.cgi?id=8780>

commit 4b8b0e377a27ec904b2028c89aed11c6416af26c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 22 20:00:59 2007 +1030

    Xi: 	Add access control request handling.
    
    dix:	New file access.c to handle all access control for devices.

commit 9a3eb0357e779d5d5f76858f23667956c4c5d721
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 16 19:30:03 2007 -0500

    devPrivates rework: add RC_PRIVATES class, make ResourceRec visible in
    the API, and add extra fields and structure supporting private storage.

commit cd0af7a7856e8246e27acc5513d219a094211625
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Feb 21 10:08:41 2007 +1030

    Xi, dix: Only one client at a time can change the pointer-keyboard pairing,
             using xRegisterPairingClient request.

commit 3344a4eda704edc7dc30037f095de277a60a70bb
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Feb 15 16:27:50 2007 +0100

    DRI: Make sure number of DRI windows is accurate in driver ClipNotify hook.
    
    Always call DRI{De,In}creaseNumberVisible (which in turn calls
    DRIDriverClipNotify) after updating pDRIPriv->nrWindows.

commit 3c7a27dc77595ad018bb7c4f7cef6bc178268cb6
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Feb 14 16:17:18 2007 +0100

    DRI: New ClipNotify driver hook.
    
    The hook is called whenever the clipList of any DRI window changes, be it via
    DRIClipNotify, DRICreateDrawable or DRIDrawablePrivDelete. This allows the
    driver to keep track of which DRI windows are visible where.

commit eedf148e5a1273ebbf4dc8dcac9c435712fc00ea
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Feb 2 18:27:40 2007 +0100

    Track number of visible DRI windows separately for transitions.
    
    This allows e.g. doing page flipping with multiple DRI windows as long as
    only one of them is visible.

commit 8a42af6a935b1cf0e15102e986bb527f4fab31a8
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Feb 19 15:28:37 2007 -0800

    Check for clientGone before sending events from XFixes (bug #1753).
    
    Freeing resources during client closedown can cause cursor changes which
    attempt to send cursor events through the XFixes extension; a client in the
    process of closing down has no file to send events to, causing a crash when
    this path is hit.

commit 4660eaaffb36f526f71d5847ae1309c10ee133c6
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Sun Feb 18 14:09:51 2007 -0800

    configure fixes for darwin

commit 5631a67f648f5f151a849a918ee12871c71c32e9
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Feb 16 10:06:22 2007 -0800

    Don't set subpixel order during startup; the screen won't be ready.
    
    in xf86CrtcSetMode, scrn->pScreen will be NULL during server startup time,
    so don't try to set the subpixel order. subpixel order will be set in the
    randr initialization anyways.
    (cherry picked from commit 5f6f8616d862ce4a37f6d3df4bdbc44fd21cc82a)

commit 096965ec9c7514f0c9fc0d17e5166f2d26781f87
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Fri Feb 16 02:17:11 2007 -0800

    Ensure drivers can use new modes header files.
    
    New modes header files required a few minor changes to be used by external
    drivers, the most notable of which is the publication of the config file
    parser header files.

commit 55797dd252382d35ebab5d9e18a5e0e77872d775
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Fri Feb 16 00:56:00 2007 -0800

    Respect rotation in initial screen size computation.

commit e4507825bf0328ea59673f2bbe652de3a9105c86
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Fri Feb 16 00:41:29 2007 -0800

    Enable startup-time rotation; change rotation pixmap creation API.
    
    Add monitor "Rotate" option taking one of "normal", "left", "inverted" or
    "right". However, because initial mode selection is made before the screen
    is completely initialized, we cannot create the shadow pixmap object at this
    point. Pend the shadow pixmap creation until the block handler.
    
    Note that this code is not completely functional yet.

commit 8606aeb9b2ab2dafc11e64436db4d3a7e67dbcc0
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Thu Feb 15 22:23:16 2007 -0800

    RRConfigureOutputProperty is a variable length request.
    
    Replace REQUEST_SIZE_MATCH with REQUEST_AT_LEAST_SIZE

commit a88844eccb0e423e71d4fcb286866a026308babd
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Feb 17 20:35:07 2007 +0200

    configure.ac: disable dmx per default
    
    Disable DMX until it gets ported to the new input API.

commit e9a2cc7d9fcc73e16576be2522522cce675dc3f3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Feb 17 16:17:48 2007 +0200

    config: error message cleanup
    
    Demote failure to connect from ErrorF to DebugF.

commit 81876bc5ddc2f3eda5078fe4bd101917fb32e586
Author: Ben Byer <bbyer@apple.com>
Date:   Sat Feb 17 04:07:11 2007 -0800

    oops, missed a spot

commit d287b76471f66c9aea54f969d050b35643cb2501
Author: Ben Byer <bbyer@apple.com>
Date:   Sat Feb 17 03:47:42 2007 -0800

    cleaned up some linking ugliness in hw/darwin/quartz

commit 81444486be4f182dde778bac6f7edcbfc4368482
Author: Ben Byer <bbyer@apple.com>
Date:   Sat Feb 17 02:23:11 2007 -0800

    autoconf goodness for XDarwin, courtesy of pogma

commit cf4994b0db2fef4c10ce8804adef766bc5118daf
Author: Ben Byer <bbyer@apple.com>
Date:   Sat Feb 17 01:21:43 2007 -0800

    dix mods for Darwin

commit cece0601571f6304e392a3a40505664544b249f3
Author: Ben Byer <bbyer@apple.com>
Date:   Sat Feb 17 01:00:13 2007 -0800

    build fix for configure.ac / BUILD_DARWIN, oops

commit 00b0657b815b95964401c3e36eed54063afbd003
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Sat Feb 17 00:55:32 2007 -0800

    glx fixes for XDarwin

commit 93777c7b96e560da087963040e372aecbfca7bbc
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Sat Feb 17 00:22:39 2007 -0800

    more patches to make the Quartz part of XDarwin work again
    (thanks Peter and Torrey!)

commit 612144c811fdf06b7c03cf48a321388fe411acd4
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Sat Feb 17 00:09:58 2007 -0800

    More build fixes / updates for XDarwin:
       quartz/cr: "Cocoa Rootless" support (deprecated in favor of xpr?)
       quartz/fullscreen: Fullscreen support using Xplugin (not yet functional)

commit 68d39d8571d8717d26cedc84015d537549520a14
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Feb 16 23:02:13 2007 +0200

    kdrive/ephyr: fix keysym type confusion once and for all
    
    Take keysyms in as an XID in hostx_load_keymap() and explicitly
    convert them to CARD32 for loading into the server.  Fixes Xephyr on
    AMD64, wa-hey.

commit 5507cb885d861e974be240120ada2ace2a980a72
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Feb 16 23:01:27 2007 +0200

    kdrive: delete input debugging, yet again ...
    
    I have no idea how this keeps on coming back.

commit 2534f5a9027c196f677923aaa38fa9ed9917f73d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Feb 16 15:33:48 2007 -0500

    Remove nasty function pointer type from DevUnion, return to documented type.

commit 84efe23ae834dd3a4d3f3e08832b69469c7382aa
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Fri Feb 16 04:37:38 2007 -0800

    updated darwin/quartz/xpr (libXplugin interface for Mac OS X) support

commit 5e7f7436a755a33e48ab91831cc6af710a8344ef
Author: Ben Byer <bbyer@bbyer.(none)>
Date:   Fri Feb 16 04:12:26 2007 -0800

    merged in miext/rootless changes for XDarwin support

commit f350909d1696fcfda87e8f12c729254d762313c9
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Thu Feb 15 21:50:48 2007 -0800

    Kludge around duplicate code added in hw/xfree86/modes.
    
    Code added in hw/xfree86/modes came from the server-1.3-branch.
    Portions of this code had previously been integrated into xf86Mode.c
    and edid_modes.c.
    
    To preserve hw/xfree86/modes as much as possible, the duplicate code from
    the other files has been disabled; a more careful review would figure out
    where that code actually belonged.

commit 258beebc77510f84fbea66d6ebf29c5097bd11db
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Thu Feb 15 20:13:15 2007 -0800

    Report correct RandR 1.0 sizeID. Report correct subpixel order.
    
    RandR 1.0 sizeID must be computed the same way every time, so when reporting
    it in the ScreenChangeNotify event, just construct the usual 1.0 data block
    and use that.
    
    subpixel geometry information can be computed by looking at the connected
    outputs and finding any with subpixel geometry and using one of those for
    the global screen subpixel geometry. This might be improved by reporting
    None if more than one screen has information and they conflict.

commit ef6b1235fd7d6dc422e8a150c089496a8e648067
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Thu Feb 15 11:27:35 2007 -0800

    Allow new modes code to build inside drivers as well as server.
    
    Use config.h for driver builds where xorg-config.h isn't available.

commit 3dbe8f6b6ea32a9a137ad6e9235f74009b095bd8
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Thu Feb 15 17:51:01 2007 +0100

    Distribute hw/xfree86/modes.

commit d4eb4d065032112a38444e36f791cb468a5ca8f4
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Thu Feb 15 20:36:20 2007 -0800

    Merge crtc/output-based mode selection code.
    
    This code comes from the intel driver, so there's no history in this tree.
    
    As the crtc/output-based mode selection code uses ddc, the ddc and i2c
    modules have been merged into the server. Attempts to load them are safely
    ignored now.

commit 37fe4c49dc3a5faf2d3d56112b6bd78453045f6a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Feb 16 09:57:57 2007 +1030

    mi:     Move WarpPointer event generation to miPointerMove to avoid duplicate
            events, cache event array allocation.

commit c2f3f705f1db8ca78292912544a7e416116175f3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 15 14:38:24 2007 -0500

    Bug #6988: Change behavior of Security extension per user feature request.

commit 811675733e97416c990e6dc9c19271b43d96248d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Feb 15 19:09:00 2007 +0200

    os: fix client privates leak
    Minor leak here.  Oops.

commit 8f6961d385bda92703f18090cff551409d2710c9
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Feb 15 19:08:46 2007 +0200

    configure.ac: add xdarwin stubs
    Add stub AM_CONDITIONALs to at least fix the build.

commit a3b62623b8aac56b219633bdb2c2f6de19b0580b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Feb 15 17:07:42 2007 +0200

    change versioning for new server version scheme
    See:
    http://xorg.freedesktop.org/wiki/XDC2007Notes#head-2719037a1905516c45cf74f0e155c8703221e446

commit f452507ca9209598401d15da0039aaa4e1fed1a3
Merge: 0463283 8116757
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 15 09:47:20 2007 -0500

    Merge branch 'master' into my-XACE-SELINUX

commit 04632835b7402456fdcf6c8fa01970cd2804e27c
Merge: 88f89b9 9ecf79c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Feb 15 09:27:05 2007 -0500

    Merge branch 'master' into my-XACE-SELINUX

commit 0f6dd4aea6176507dbe1c90c950d332fecbcaacb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Feb 15 16:14:57 2007 +0200

    kdrive/ephyr: free screen struct
    Free screen->driver on screenFini, instead of just leaking it.

commit 9ecf79ca0111dd899ca88dd54156f71013220fcc
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Feb 15 05:22:21 2007 -0800

    Beginnings of an update Darwin driver

commit 136bb4874aadf4a731d7eb8671e8bb641f9980a7
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Feb 15 05:14:38 2007 -0800

    iokit support for XDarwin

commit 3ead1afe78d2913f08c8144cb2d3813c6b159488
Author: Ben Byer <bbyer@apple.com>
Date:   Thu Feb 15 05:09:29 2007 -0800

    Beginning of patches to add XDarwin support to the modular tree;
    special thanks to Torrey Lyons and Peter O'Gorman for making this possible.
    
    This is the automake framework for the XDarwin.app interface files.

commit f6c3b9fa97ccf85e96f15435d564a1c261e40532
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Feb 15 13:51:20 2007 +1030

    xfree86: mouse and keyboard hotplugging support. New mouse devices will get
             new cursors,  keyboard devices use VCP's focus until paired.

commit d570ff7c81858a3174686b46a088f67563b4a2d5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Feb 14 17:09:33 2007 +1030

    fix: WarpCursor needs to send MotionNotify.

commit c4fe1bcce1c1e4822e688959b331b47a051d6e0a
Merge: e540d57 d570ff7
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Feb 14 15:39:52 2007 -0800

    Merge branch 'master' of ssh+git://idr@git.freedesktop.org/git/xorg/xserver into pci-rework

commit e540d572c5acba877b3ce01e7b31e399dac2d44a
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Feb 14 15:38:10 2007 -0800

    Merge fix missed on previous commit.

commit 81aa7f059d3cfd8d28420b7932b8ff7e06d67979
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Feb 14 12:48:15 2007 -0800

    Add missing dirty marking in a couple of fallback cases in the exaGlyphs path.

commit a5f19c5150a7b3dc2ff3ad759ee1a6ab0ad8925c
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Feb 14 10:39:46 2007 -0800

    Mark sync when UploadToScreen succeeds in exaGlyphs().

commit a492d494f51caf15a5cb979dc335387486c105d1
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Feb 13 18:32:59 2007 -0800

    Update Xvfb man page: remove monolith build instructions, use /var/tmp instead of /usr/tmp

commit 25104ed2e6050f86691104b34eeaf3147eb83c4a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Feb 14 11:26:53 2007 +1030

    dix:    fix typo in condition.

commit 33ef546b942977bb2573156eaba5269350d16f99
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Feb 14 11:18:43 2007 +1030

    dix:    Clean up GetPointerEvents. If pDev == inputInfo.pointer, assume that
            we do not want Xi events.
    
    mi:     Remove POINTER_CORE_ONLY flag.

commit a23b0b069cac8a48e2b306b2095515d75f647705
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Feb 12 17:50:00 2007 -0500

    Typo fix.

commit d21c95f80bdba2f29eedd57fb0b00e580391c08e
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Feb 12 17:22:39 2007 -0500

    Hook up --with-builderstring for vendor build identification.

commit 46784d24c11767455a4986449a8037295912dcee
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Feb 12 17:18:29 2007 -0500

    Remove spurious LIBADD from xf4bpp

commit 16eb7254f861465f988ae3861ac3449c2c966062
Merge: 3814862 c4b7e9d
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Feb 9 12:38:49 2007 -0800

    Merge branch 'master' of ssh+git://idr@git.freedesktop.org/git/xorg/xserver into pci-rework

commit c4b7e9d1c16797c3e4b1200b40aceab5696a7fb8
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Feb 6 14:57:22 2007 -0800

    Add an RDTSC implementation to the x86 emulator.
    
    This instruction is being used in some debug VBIOSes.  This implementation
    doesn't even try to be accurate.  Instead, it just increments the counter by a
    fixed amount every time an rdtsc instruction in encountered, to avoid divides by
    zero.

commit 262b9b104a04e55969593ef96a16004e53ecd00a
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Feb 6 17:30:22 2007 -0500

    Use the new 8888x0565mmx function in fbpict.c

commit 876b806ec09d5ff0c6cd19df91006c4eefedfaa6
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Feb 6 17:16:23 2007 -0500

    Reapply patch to fix AMD CPU detection

commit 13568d2aa43da4216bbcb46e1125ff28c323ac54
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Feb 6 17:12:01 2007 -0500

    Revert "Fix for AMD cpu detection. Bug 9614, Dan Williams."
    
    This reverts commit b2cd3b133748cc5aa541905a703a6fdb1cbbb1e6 since
    unrelated changes in fbpict.c broke the build.

commit 5a3334410367a2186b2c667fa1eb6cf0baf93e95
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Feb 6 17:11:01 2007 -0500

    Add new fbCompositeSrc_8888x0565mmx() function, based on patch by Dan
    Williams. Bug 9682.

commit b2cd3b133748cc5aa541905a703a6fdb1cbbb1e6
Author: Soren Sandmann Pedersen <ssp@dhcp83-218.boston.redhat.com>
Date:   Tue Feb 6 16:43:37 2007 -0500

    Fix for AMD cpu detection. Bug 9614, Dan Williams.
    
    Credit for the fixes in this patch goes to:
    
    Marco Gritti <mpg at redhat dot com>
    Jordan Crouse <jordan dot crouse at amd dot com>

commit 7cd73b00a29469d37a7f526cc9b35cc927a13ae2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Feb 5 14:48:48 2007 +1030

    dix:    If POINTER_CORE_ONLY is set, GetPointerEvents() only creates a core event
    
    mi:	fix: Create motion event in miPointerMoved

commit 760a38c4c7ab66ae653d3acb92f5cda4bd44edd6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Feb 5 03:39:36 2007 +0200

    XkbCopyKeymap: fix copy-and-waste accident
    
    When we reallocated modmap, we accidentally clobbered syms with the
    result, leaving syms definitely too small, and modmap also potentially too
    small (as well as not actually allocated anymore).

commit 17d85387d1e6851d35474b65929e268ca64ef65b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jan 18 15:23:57 2007 +1100

    dmx, vfb, xnest: fix fbcmap compilation
    
    Don't always define XFree86Server, but only for damn fbcmap.c.
    Split fbcmap.c into its own library to achieve this.

commit a309c936bb79e2fea04a96ce33c7da99ed902484
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Feb 5 11:38:44 2007 +1030

    xkb:	Daniel's patch to stop evdev keyboard segfaults.
    
    mi:	Remove quickfix from ba547d4f6a2707f51f0d826389d2d418fb62367a

commit 236f04b638e7d4d1656c6bedd8a6e8d7cec285ec
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Feb 5 09:09:12 2007 +1100

    remove array_cache from everywhere

commit eb228e8d1eaa78911541b2fec5d04a74c1299718
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Sun Feb 4 22:06:59 2007 +0000

    clean up more of the vbo fallout

commit fb1bc1c65b88527b42a0e4abed23e5ddaae711b7
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Feb 4 18:39:58 2007 +1100

    add vbo to .gitignore

commit d8e148ec841d340327e6813127b0e0ffc4db712d
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Feb 4 18:39:04 2007 +1100

    update xserver for vbo code in mesa

commit 5dcad9e9d7d9993d65f989219bee94a060bbf476
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Feb 2 14:44:55 2007 -0800

    Fix bus error on startup in 64-bit Xephyr
    
    hostx_get_visual_masks takes unsigned long * arguments, but was being
    passed pointers to CARD32's.

commit 170a55022ebc7b148bff93886eda152a0d5ce79a
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Feb 2 20:56:12 2007 +0000

    remove file

commit e6a505be84f5f72349d6860dc5a5058367516019
Author: Dan Nicholson <dan@conor.dwcab.com>
Date:   Fri Feb 2 20:53:01 2007 +0000

    The array_cache sources don't exist anymore in the Mesa tree,
    so we shouldn't try to build them.

commit af20485ec370801f2aabfaeae17bbd030a849bd1
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Feb 2 19:14:46 2007 +0000

    Remove array_cache for recent Mesa changes

commit cf5b29d75dad7c74543f49f010c817623a3df747
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 2 12:57:38 2007 +0200

    dmx: drop leftover __GLXdrawablePrivateRec struct.

commit 4f2f3233c808fd86bf9f6c09937feda9e0b367fd
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Feb 1 15:10:29 2007 -0800

    Fix the size expectations of xRRSetCrtcGamma.
    
    It was using REQUEST_SIZE_MATCH (client request length must equal request size)
    rather than REQUEST_AT_LEAST_SIZE (client request length must be at least
    big enough for request size), and this request has data following the request
    structure.

commit 8274ea6aa97b06a56b7468c3908894c0ff72b687
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Feb 1 12:15:54 2007 -0800

    Set the Damage version supported in the server, instead of using damageproto.
    
    This was caught by distributions upgrading damageproto to 1.1, before the
    server they had supported it.  The server then advertised the new version
    without supporting the protocol.

commit 8bce182568f14edfb03911d8c5d791fd83bb6222
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jan 29 17:30:59 2007 -0800

    Restore a few important lines killed in the previous commit.
    
    Typical results were failure to sync, and a black screen.

commit 3814862a869ee83d307eb01225d5949039f435d8
Merge: a216de9 31f2d4a
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 29 15:14:31 2007 -0800

    Merge branch 'master' of ssh+git://idr@git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/os-support/bus/linuxPci.c

commit 31f2d4a57e04f5ea635fbb50c508405c4fc37b65
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jan 29 09:39:33 2007 -0800

    Bug #9680: Remove bogus blank length limiting in xf86SetModeCrtc().
    
    Our modes typically come from EDID or default modes, and when the monitor
    asks for a specific mode, deciding to tweak it usually results in incorrect
    display.  And if the user is specifying a mode by hand, tweaking it then is
    still pretty rude.
    
    Reviewed by: ajax

commit 4aaaa70d1b52346213fad46777c006a93c4ece5d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jan 29 18:23:24 2007 +1030

    Xi:	Adding ChangePointerKeyboardPairing request
    	Adding PointerKeyboardPairingChanged event
    	Correct error values for XWarpDevicePointer
    
    dix:	Adding device argument to SendMappingNotify
    	Adding spriteOwner flag to devices

commit f3418b52dcf2ab4982504856ab9fae3e726ee6d2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jan 29 16:10:03 2007 +1030

    mi:     Fix cursor rendering issues.

commit 15a81b6325d359990017b8e9f17ce18a7eff1354
Merge: 3759254 cc3d66d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jan 28 17:18:57 2007 +1030

    Merge branch 'master'

commit cc3d66d4a53fee8f1d940bb8c7f032c94b9c25f6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 15 17:50:02 2006 +1030

    o fix minor error in comment for GetPointerEvents()

commit 3759254c0967ae83bdcbf097d9e8a58733c8e6f9
Merge: ba547d4 ca5ebe3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Sun Jan 28 17:05:55 2007 +1030

    Merge branch 'master'

commit 1627af54497bee659ea30f2850b39cbbf576e22d
Author: Jonathan Lim <jlim@sgi.com>
Date:   Fri Jan 26 13:00:45 2007 +0100

    Call linuxPciOpenFile() for r/w access if applicable.
    
    Currently, the call to linuxPciOpenFile() is always made for read
    only access which causes the subsequent mmap call to fail when the
    memory is mapped read/write.
    
    Xorg #9692

commit a216de9b7ff55e2b73c487d037f248f00bd2e63b
Merge: 24506ea cf7ca9d
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Jan 25 10:17:32 2007 -0800

    Merge branch 'master' of ssh+git://idr@git.freedesktop.org/git/xorg/xserver into pci-rework

commit cf7ca9d09cba14d107152a5179de38e5ef7bd784
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 24 20:20:48 2007 -0800

    Plug memory leak in doLoadModule()

commit 5abd50e37ceda134897891ed32e05215db67e0b4
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 24 18:54:38 2007 -0800

    Correct help lines for configure's --with-vendor-name flags

commit b32a40817fc0e2ac2edf2fa22a8813087fce2e7b
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 24 16:29:49 2007 -0800

    Correct variable descriptions in comment for SecurityCheckResourceIDAccess

commit 24506ea65be4cb29c5e1486aa0a529a40ce5c230
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jan 24 15:33:49 2007 -0800

    Move xf86ReadLegacyBIOS to the one place that uses it.
    
    xf86ReadLegacyBIOS is only used by one function in int10/generic.c.
    Move a generic implementation of that function there, rename it to
    read_legcay_BIOS, and delete all remnants of it from all other places.

commit fdb3a0798f0d17e72ec7293d59a7a81b5ffdf95b
Merge: 39b51e1 a53586e
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jan 24 14:49:39 2007 -0800

    Merge branch 'master' of ssh+git://idr@git.freedesktop.org/git/xorg/xserver into pci-rework

commit a53586eebc166e35c1f48942205832810061daee
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Jan 24 13:36:25 2007 -0800

    Warning fix for RRCrtcSetRotations().

commit 7a12952fd437b105ea0d013d680f9c3a775a183c
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Jan 24 13:34:29 2007 -0800

    Bug #7639: Only swap out pixmaps (rather than everything) on VT switch in EXA.
    
    This is a new behavior for version 2.1 of EXA, and only takes effect if the
    driver has requested that.  Otherwise, the previous behavior remains the same.

commit b6b855932109b4bc3454f07bef8cb079d79ca369
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 25 00:29:20 2007 +0800

    Make Xinearama screen information reflect CRTC rotation.

commit 39b51e1bfc4924fc3bda4342ef9c6c0125d9f4fa
Merge: 637b19b 788cfce
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Jan 23 13:25:56 2007 -0800

    Merge branch 'master' of ssh+git://idr@git.freedesktop.org/git/xorg/xserver into pci-rework

commit 788cfce911793a26aed16f38f30678ecee82c873
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Jan 23 10:15:22 2007 +0100

    Bump video driver ABI version to 1.2.
    
    This is necessary because server-1.2-branch bumped to 1.1 for xf86CVTMode and
    we have xf86XVFillKeyHelperDrawable on top of that.

commit 637b19b3ee7345c2d449ce94ceabe998d817c02e
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 22 09:58:33 2007 -0800

    Eliminate pciControlBridge, pciGetBridgeBuses, and pciGetBridgeResources.

commit a232e4ae938fa3a68f7614995676eda7929260db
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 22 09:16:45 2007 -0800

    Convert xf86GetPciHostConfigFromTag to get_parent_bridge.
    
    Convert xf86GetPciHostConfigFromTag to a new function called
    get_parent_bridge.  This name better represents what
    xf86GetPciHostConfigFromTag is used for:  walking up the lists of PCI
    bridges from a device.

commit 844560a02fa6c4ce18ea2af3ec27beaa60b7af11
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 22 09:13:59 2007 -0800

    Elminiate ARCH_PCI_OS_INIT.
    
    Never, ever use the ix86Pci stuff on Linux.  This renders the whole
    ARCH_PCI_OS_INIT mechanism useless.  Remove it.

commit 7dfb3cea913b02a6b36c308d1330bd40abe6b41f
Merge: c279d5f 2dc8662
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 22 08:44:36 2007 -0800

    Merge branch 'master' of ssh+git://idr@git.freedesktop.org/git/xorg/xserver into pci-rework

commit 2dc866252c84ed0e7b3afa25e8a5312f448d405b
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jan 22 08:41:50 2007 +0800

    Really fix optimized render cases being hit when they shouldn't.
    
    I don't know how this define slipped in there.  Fixes
    6fdfd9dad91d7b7aa292f8c4d268dd27c34de8d3.

commit 88f89b9ac1b92a0916c46488350ff68c3ffdd490
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jan 19 19:15:49 2007 -0500

    Policy updates: use x prefix in property and ext types.

commit 2fb8b7f8199c35ae0870cb54b40ee28a4e01d479
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jan 19 19:14:51 2007 -0500

    Split ObjectSIDByLabel into two functions since property labeling now
    involves an additional compute_create lookup.

commit 0d6d373af95d0004d33b987d14ad7e04dd5d2003
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jan 19 14:52:23 2007 -0800

    Update Xserver man page to match commit ed33c7c98ad0c542e9e2dd6caa3f84879c21dd61
    
        Remove unused -xkbdb and -noloadxkb options. Rename -ar1 and -ar2 to
        -ardelay and -arinterval, respectively.

commit c279d5fdc53612a90f33fafe9e9c59ced008dd51
Merge: 88f248e 14d6a9b
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 19 12:59:54 2007 -0800

    Merge branch 'master' of ssh+git://idr@git.freedesktop.org/git/xorg/xserver into pci-rework

commit 700fccf863593cbea1691789f1f1cafc08a32fee
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jan 19 14:56:38 2007 -0500

    Remove the root window context line from the configuration file.
    This context will be derived through a type_transition rule instead.

commit 3a9791b456f35adb252a9059b19265c6c447f1ba
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Jan 19 14:53:09 2007 -0500

    Policy updates.

commit 14d6a9b327381a6bb2dac59c62728e5fd0f0bcfb
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Jan 19 18:30:21 2007 +0100

    fbdevhw: Only deal with RGB weight if default visual is True- or DirectColor.

commit 27a01e100bff21ac0b70c6d72071d7226fc91264
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Jan 19 18:28:05 2007 +0100

    fbdevhw: Consider mode set equal to mode requested if virtual width is larger.

commit 65f4690ecb4576f60396fcccff8e5bd5d4b6645f
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Fri Jan 19 17:54:03 2007 +0100

    __glXDRIscreenProbe: Use drmOpen/CloseOnce.
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=9275 . Based on patch from
    Alan Swanson.

commit 8b3a591cd39f2d51209dc71b641cac79663e1b16
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Jan 18 16:03:30 2007 -0800

    Update pci.ids to 2007-01-18 snapshot
    
    (includes a whole bunch of ATI device id updates)

commit 0f0c321adf2850b3d7aafe281362bfe424cb0ca1
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Jan 18 15:31:53 2007 -0800

    Make xf1bpp build correctly with compilers that don't support -include

commit a811e92104028ae60ba69f73e32ee1e0533b088c
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Jan 18 14:28:01 2007 -0800

    Account for CRTC rotation in the cursor containment code.

commit df147c10ce597c56c16cbca552e8a3e3ecb3cdaa
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 17 16:47:07 2007 -0800

    Xserver man page: remove bc, add -wr

commit 2dfd1aab244a2c8da3b62b522b9a8434e474af17
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 17 14:39:28 2007 -0800

    Always include compiler.h in cfbmskbits.h instead of checking #ifdef XFREE86

commit 42a48786acf54f83167de4f561526986d4e27033
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Jan 17 14:34:42 2007 -0800

    Add a setter for randr_crtc->rotations.

commit 88f248e67143175532cbafd6faf8fc6df97c7894
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jan 17 14:04:43 2007 -0800

    Replace PciBusId with 'struct pci_device *'
    
    There's no need to store the slot information for a PCI device as its
    ID.  Instead, skip the middle man and just store a pointer to the
    pci_device structure.

commit 0361611080267727f570e17f2212aaa890223f6e
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jan 17 13:06:04 2007 -0800

    Convert xf86IsolateDevice to a 'struct pci_slot_match'.
    
    This change was accidentally not committed on the previous commit.

commit c1808f148405a28256e0480d6f8714691b0e964e
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jan 17 13:02:27 2007 -0800

    Convert xf86IsolateDevice to a 'struct pci_slot_match'.

commit d2f8c42c48ecc398d224d9e3b280a66042e68664
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jan 17 12:59:17 2007 -0800

    Convert xf86FindPrimaryDevice to use a static buffer and snprintf.
    
    Rather than allocate a 9 byte buffer on each invocation, use a static
    16 byte buffer.  Use snprintf for safety.  This commit should probably
    be cherry-picked to the trunk.

commit 28976bebec8b6475d0703f8356edd116e25d40b2
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jan 17 12:15:09 2007 -0800

    Eliminate unused fields in pciAccRec.

commit f36a447d20c0a89b78c5899eeb303cab568ebac6
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Jan 16 14:49:19 2007 -0800

    Eliminate use of Tag field.
    
    The Tag field was removed from the int10 structures in commit
    ca9c41e09ddb72d150d86f5d372eb07eeca7c1a2.  This file was over looked.

commit cde17015dff1ced2aabb8b76c08f9110237821a5
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jan 16 13:01:03 2007 -0800

    When changing a non-pending property, call the screen rrOutputSetProperty hook.

commit e3add7c8ecbb2a0a662860f208f6ae7d1857c717
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jan 16 12:59:34 2007 -0800

    Don't forget to add the property we configure to the properties list.

commit 780b55ec6f97864b50f00170b201e93eba188f1b
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 15 15:30:16 2007 -0800

    Fix accidental commit (bug) in linuxOpenLegacy.

commit 31bd8d150749c548eb70404395b4a52d46412f43
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 15 15:19:30 2007 -0800

    Fix domain insanity.
    
    Eliminate xf86GetPciDomain.  The domain from libpciaccess is the
    domain.  Period.  This means that 0 is a valid domain.  Make sure that
    INCLUDE_XF86_NO_DOMAIN is *not* set.  Always run in "domain mode,"
    even if the only domain possible is 0.

commit 079a6a55a516778871a8b2f8e9c8dd9162105a76
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 15 11:39:24 2007 -0800

    Convert to new pci_device_cfg_write_u* interface.

commit d8bd0c41de11d12976a5ea9f185b7ac6c7060b71
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 15 11:38:22 2007 -0800

    Convert to new pci_device_cfg_write_u* interface.

commit a87af8218f97da76433a5192d5e51aca0d5c3ed0
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Jan 15 11:21:37 2007 -0800

    Remove unnecessary files from the sources list.

commit 1c326bf75fc0d2c39507834d159d031291eddac4
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 12 12:07:19 2007 -0800

    Eliminate unused INCLUDE_XF86_MAP_PCI_MEM define.

commit 3936caa00535d0b7543be5a4b315562111a6b3ab
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 12 10:59:35 2007 -0800

    Refactor pciTagConvertRange2Host and pciConvertRange2Host.

commit 1a493509e30412a0f6c6f8f8e47a446678dbbc1a
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 12 10:58:59 2007 -0800

    Fix typos in conditionally compiled code.

commit 8279444a54f38c5e2e5d4c2d936a10d74990e0be
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 12 10:41:03 2007 -0800

    Eliminate unused pciAddrHostToBus infrastructure.

commit e32fa10a04a15ce1b15c6faa7a64e68ee3906d59
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 12 10:33:17 2007 -0800

    Remove prototype for pciGetBaseSize.

commit 7411f5c389db73a6731d853d603029b8cf0a66ba
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 12 10:32:04 2007 -0800

    Eliminate pciHostAddrToBusAddr from interface.
    
    pciHostAddrToBusAddr is no longer used anywhere in the tree.  Remove
    it with extreme prejudice.

commit 60c5e023e8ddaae8e011f80736e7cc3e8c12583d
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 12 10:24:03 2007 -0800

    Eliminate some dead code.

commit dd12a94885bad9c9d064dcf7e0d9a7a7114ae3e6
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 12 10:21:25 2007 -0800

    Eliminate xf86GetPciEntity from public interface.
    
    xf86GetPciEntity was folded into the only place (xf86CheckPciSlot) in
    the tree that still called it.

commit c3016a29964761478305cf2f5241c563ff3eab0a
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 12 09:56:00 2007 -0800

    Missed file from previous commit.
    
    Convert xf86ReadLegacyVideoBIOS to take a 'struct pci_device *'
    parameter instead of a PCITAG.

commit ca9c41e09ddb72d150d86f5d372eb07eeca7c1a2
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Jan 11 21:09:20 2007 -0800

    Convert int10 and vgaHW to use 'struct pci_device' instead of PCITAG.
    
    Convert all uses of PCITAG in int10 and vgaHW to 'struct pci_device'.
    This allows the conversion of xf86ReadLegacyVideoBIOS and
    xf86MapDomainMemory to 'struct pci_device' from PCITAG.

commit ba547d4f6a2707f51f0d826389d2d418fb62367a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Jan 12 14:42:02 2007 +1030

    mi:     Quick fix to stop segfault on non-core keyboards.

commit 5e2f8dee6331645fcbd2734c43698eb4f9c5b116
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Jan 11 14:05:39 2007 +1030

    mi:	remove core pointer special handling. No event has core pointer as
    	device now.
    
    dix:    zero pSprite memory, stop segfaults on server restart.

commit 7fccec91c46baac4f8d2965180dc535b4eb7d65c
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Jan 10 13:10:43 2007 -0800

    Bug #9555: Always define _GNU_SOURCE in glibc environments.
    
    This keeps us from having to define _POSIX_C_SOURCE, _BSD_SOURCE, and
    _XOPEN_SORUCE to get the C environment we want in different places.  It also
    fixes the build on linux due to RTLD_DEFAULT having not been defined.

commit 78f9592c112d4245f6119b98c244bbb4cae3e5aa
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Jan 10 16:04:20 2007 +0000

    lnx_ev56.c has to be built with -mcpu=ev56. Fix it.

commit ea82333dc1799a7e013205adbc89874bc8d273cb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Jan 10 14:52:13 2007 +1030

    Xi:     add missing call for SProcXChangeDeviceCursor
    	add DeviceEnterNotify and DeviceLeaveNotify
    	fix: QueryDevicePointer crashed if called with keyboard device

commit 6a2fb2928714ce77ee342cdc23a1178e5e766cf2
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Jan 9 16:34:40 2007 -0800

    Track rename of DamagePost -> DamageAdd.

commit da09964a931cc64d05ab571bf545fdad35a6d395
Merge: e1f73d2 e3aa6ad
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Jan 9 15:27:34 2007 -0800

    Merge branch 'origin' into pci-rework
    
    Conflicts:
    
    	hw/xfree86/int10/generic.c

commit e3aa6ad201eb20862c11c000e76206e317a96dc9
Author: Matthieu Herrb <matthieu@blues.laas.fr>
Date:   Tue Jan 9 14:14:19 2007 +0100

    Multiple integer overflows in dbe and render extensions
    CVE IDs: CVE-2006-6101 CVE-2006-6102 CVE-2006-6103

commit 359d20532bdcef6a540a551578d000afbb609c2d
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Jan 9 09:53:45 2007 +0100

    Require glproto >= 1.4.8 for GLX.
    
    It builds against 1.4.7 as well, but it hardcodes the GLX_EXT_tfp tokens that
    were finalized in 1.4.8, so GLX_EXT_tfp breaks if the client side was built
    against an older glproto. This will hopefully alert people to rebuild other
    components (in particular Mesa) against the new glproto as well.

commit 88740c4855babedbea420b5e1b35ae105d1f1026
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Jan 8 17:36:07 2007 -0800

    Use PKG_CHECK_EXISTS(libdrm) to determine if DRI should be enabled on Solaris

commit 282a4dcaabc5f0cd6f7d3819aa648333b93b265e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jan 8 19:22:41 2007 +0100

    Attempt to fix drawable type checks in dixLookupDrawable().
    
    Not sure this is 100% correct either, but it fixes at least one reproducible
    crasher where it returned a pixmap to dixLookupWindow().

commit a7ab7932938820a795bb6fb8e0444e0824433b99
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jan 8 17:31:16 2007 +1030

    xfree86:  fix XI86_SHARED_POINTER flag setting

commit 95e1a88050dde61e9b2407428042a43e47b46e18
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Jan 8 12:31:18 2007 +1030

    Xi:     Adding ChangeDeviceCursor request

commit 0b73a7eb17fd848c6bdc6a65ba835aa2cbfc3cfd
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Jan 5 18:12:04 2007 -0800

    Add support for the DamagePost (XDamage 1.1) request.
    
    This makes damageproto >= 1.1 a requirement to build.

commit dfb2c10413e22afd8d486a982870f874326d5ef4
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Jan 5 10:15:09 2007 -0800

    Add missing #else from previous commits.

commit f90c3e226b105bf77beb94723fc08bdff14834be
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Jan 4 15:38:16 2007 -0800

    Re-regenerate from Mesa scripts.
    
    DO NOT HAND EDIT THESE FILES!  For cryin' out loud, there's even a
    comment to that effect in the file's header...

commit b7ca5d14ce7ba410b0dab5c2289f6d7b75e763df
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Jan 4 15:37:33 2007 -0800

    Incorporate new byte-order related configure changes.

commit 8dd5771a1b91c331860b667fb18e484452000aad
Merge: 45aa26c 7d2ec92
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Jan 4 15:01:38 2007 -0800

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver
    
    Conflicts:
    
    	GL/glx/indirect_dispatch_swap.c
    	GL/glx/swap_interval.c

commit 45aa26ccb4f61c2919ce2475d0907c6e1b177da2
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Jan 4 14:55:51 2007 -0800

    Regenerate from Mesa scripts.
    
    Regenerate source files from Mesa scripts.  This causes the generated
    files to use glxbyteorder.h.

commit 6d603bb47ff9d238637adbf30c6e9697e6e7e6fa
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Jan 4 14:49:26 2007 -0800

    Add new header file containing byte-order wrappers.
    
    Move the byte-order related wrappers out of the individual source
    files into a dedicated header file.  Modify the single hand-coded
    source file that uses the byte-order wrappers to use the new header
    file.

commit 7d2ec92170ebbdfa10a05734cb7cfaac97d19d65
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Jan 4 12:24:48 2007 -0800

    Keep track of how many visuals we set up for GLcore, to avoid an invalid free.
    
    The proper fix would involve actually setting up the ARGB visual for GLcore,
    but I just want the server to not crash at exit.

commit aab2ca204279b638c7e5bb6b8427c58be9704c57
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Dec 21 09:16:19 2006 -0800

    Try dlsym(RTLD_DEFAULT) first when finding symbols.
    
    The previous mechanism failed when finding drm symbols now that libdrm has
    moved to being linked by libdri instead of being linked into the server.

commit 2fd4626fa6969b84d8e2f9db16d6e2d44c4bc499
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jan 3 15:44:55 2007 -0800

    Make GLX byteswap macros more portable
    
    - Use autoconf tests instead of platform-specific #ifdef's to decide
      which macros to use.
    - Provide fallbacks for platforms like Solaris that don't provide any
      of the existing known forms.

commit 66fa87292ef26bd0f464481287f3af992cd5741c
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Jan 3 10:27:07 2007 -0800

    Fix BSF and BSR instructions in the x86 emulator.
    
    Patch courtesy of Michael Yaroslavtsev.

commit 3b5b7ef5c2ab1d196806f6359e0972fd78d204dd
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Wed Jan 3 21:05:35 2007 +0100

    Move the code for resetting the DPMS mode in response to input events,
    from WaitForSomething to mieqProcessInputEvents.
    
    mieqProcessInputEvents already handles resetting the screen saver.

commit 953a9ef949b4c57d28daeec57031fe1ce368c27c
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Thu Dec 21 23:50:39 2006 -0800

    Track physical screen size and send out updates when that changes.
    
    Events and internal data structures need to be updated whenever the physical
    or pixel size of the screen changes. The code was ignoring the physical
    size, so changing only that would not be registered anywhere.
    (cherry picked from f42e3cea236fa0091ed398a818fc8e17b0e1b3df commit)

commit e79602fca2f2cced66136729cdda4d356b0bdda0
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Dec 30 21:52:22 2006 -0800

    Use RRScreenSetSizeRange in 1.0 compat. Check RRGetInfo for error.
    
    The RRScreenSizeSetRange function is used externally for 1.2 API drivers,
    but can also be used in the 1.0 compatibility code. This also ensures that
    the right changed bits are set so that clients are correctly notified when
    the range changes.
    
    RRGetInfo can return an error, use that to return BadAlloc to clients
    instead of blindly going on with various requests.
    (cherry picked from f05dd384d38c76dd9662933a03625dfef5b1c81f commit)

commit dc5eb4523298f966bd5fd9ae6672160034b5e82c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Dec 31 17:59:44 2006 +0100

    fbdevhw: Override RGB offsets and masks after setting initial mode.
    
    This is a hack, but it should be a NOP for all the setups that worked before
    and actually seems to fix some others...
    
    Based on a patch by Peter Teichmann from
    http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=338241 .

commit d077c0da470ab7291e8d838eaace57b066477d6f
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Dec 31 17:23:31 2006 +0100

    fbdevhw: Use displayWidth for fbdev virtual width when appropriate.
    
    The fbdev API doesn't allow setting the pitch explicitly, so we have to set
    the virtual width to the pitch we're using for drawing. This fixes corruption
    after changing the virtual width with RandR.

commit c385bcf0bde38dd869f7065f859dd4b4126f5690
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Dec 30 16:44:31 2006 +0100

    fbdevhw: Fix some issues with the previous commit.
    
    Fix a TRACE_ENTER typo and only update the internal fbdev mode state cache
    after actually setting a mode.

commit f6815cb68b0f6698497348fc6e4214dacef33b95
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Dec 30 10:18:28 2006 +0100

    fbdevhw: Consolidate modeset ioctl calling, report failure if it modifies mode.
    
    The fbdev API allows the driver to 'accept' modes it doesn't really support by
    modifying it to the nearest supported mode. Without this check, e.g. vesafb
    would appear to accept all modes, even though it actually can't set any modes
    other than the bootup mode at all.

commit 083b790515faaf134a78abc4b0a7ef0d6ea5db75
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Dec 28 13:21:25 2006 -0800

    Switch the default migration heuristic for EXA to "always".
    
    This has been what has been used the most successfully post-damagetrack.
    The current thinking is that:
    1) We should be able to accelerate basically everything.  So we don't need to
       try to migrate trees of pixmaps permanently out of framebuffer to speed
       CPU drawing up.
    2) Migration is cheaper in the thrashing case, so we don't want to go to a lot
       of effort to try (and fail badly) to find a working set.

commit cfbc7379f0232bb336461f6d2a8496d3d0763e7e
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Dec 28 13:15:11 2006 -0800

    Export exaMove{In,Out}Pixmap().

commit 683ca3f7afaf15fd3ca7918f6175b5a9e4a6f05b
Merge: 05f9150 9563b2e
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Dec 27 16:11:31 2006 -0800

    Merge branch 'exa-damagetrack'

commit 05f915050cad72d4fb39cbb886be57beeac18749
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Dec 27 16:38:06 2006 +0000

    dix/events: take screen number, not pointer, in PostSyntheticMotion
    Since we were using PostSyntheticMotion incorrectly anyway, update the
    declared API to match.

commit c1674660a7115ebf993dcde78f4e45f756e4c951
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Dec 24 06:28:44 2006 +0200

    os: test for userland, not kernel
    
    It doesn't matter which kernel we're running on, the relevant part when
    dealing with includes is what our userland is.

commit 83080809f9a1c1d24b0318e54632f25f5940da25
Author: Marc Aurele La France <tsi@ualberta.ca>
Date:   Sun Dec 24 06:28:21 2006 +0200

    xfree86: deal with pitch that isn't a multiple of the granularity
    
    When the pitch isn't a multiple of the granularity, allocate more space to
    compensate.

commit 329f6417275bb1201ba66c29b202028eeab3a355
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Dec 9 22:51:59 2006 +0200

    XkbCopyKeymap: make sure sym_interpret is always valid
    
    Make sure we're not copying sym_interpret across from an empty source.

commit 43a4376bd72ef1b6486cddb60ad57b2d6169292a
Merge: 4b1c9ac d9e079d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 22 13:53:55 2006 -0500

    Merge branch 'master' into my-XACE-SELINUX

commit d9e079d2a385203fdd18d958cfc19d759cab4ba8
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 22 13:07:09 2006 -0500

    Zero out client devPrivates on allocation.

commit 4b1c9ac3d13767e395b47e76b37f9f3a569e7be1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 22 13:04:50 2006 -0500

    Policy updates.

commit cd71e861830081807e5b93ae89c73c17986c6330
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Dec 20 13:45:24 2006 -0500

    Naming change: Security*Access -> Dix*Access.
    Clarify some error message strings.

commit 9fd2f167ec02ee170b87f02ddca89eba0b2e2389
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Dec 20 16:30:36 2006 +1030

    xfree86: fix xf86ProcessCommonOptions() core and shared pointer assignment
    
    TAG: mpx-0.3.0

commit 056c919d849a78c8d507bfcecfa74c0b0165751a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Dec 20 14:49:17 2006 +1030

    removing MPX extension files

commit b55e1239ac3b2962a33d8af1f911cc0f01f40f23
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Dec 20 14:43:38 2006 +1030

    xfree86:  fix xf86ActivateDevice(): only set to MP device if not a keyboard

commit 202b46eb6bf0d5f94973c2bf1e4ebe9d154eadbf
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Dec 20 13:05:53 2006 +1030

    xfree86: Changing "IsMPDevice" to "SharedPointer" option. Devices will default
    	 to MP devices.
    
    Xi:	Adding QueryDevicePointer request/reply
    	Adding WarpDevicePointer request/reply

commit e437f357b6850a6c87ca6696870b3abd40e5b8ed
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Dec 19 16:38:34 2006 -0800

    xorg.conf man page should say "XFree86-DGA", not "Xorg-DGA"

commit a81dbaae0597492f0245080c6f5af7158e05e2d0
Merge: fb6d676 d442998
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Dec 19 16:11:19 2006 -0500

    Merge branch 'master' into my-XACE-SELINUX

commit d442998e39611be6805ea261f2286a2fd00f49b1
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Dec 8 13:35:36 2006 -0800

    Only do the _POSIX_C_SOURCE hackery on linux where it's required.
    
    On other OSes, the nasty hack was resulting in prototypes being hidden, so just
    don't do it.

commit 228b9f77696190e47d4c96d6e0809bf645751557
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Dec 8 13:32:22 2006 -0800

    Include sys/select.h to get FD_ISSET.

commit 9563b2eea2f61246b6a9e14e00c701f693efa4e1
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Dec 19 18:57:22 2006 +0100

    EXA: Lots of damage tracking fixes.
    
    Mostly due to exaDrawableDirty() now calculating the backing pixmap coordinates
    internally, for cases where they aren't trivially known. There's a new
    exaPixmapDirty() function for the other cases.

commit 467c00cf450826e0bf06fe94470ec193af625d68
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Dec 19 18:45:25 2006 +0100

    exaGlyphs: mark dirty for software path also.
    
    This affects drivers with no UploadToScreen or UploadToScreen failures.

commit 4334860e69e7d5b156082bd05c7a86708e5bad4c
Merge: 7e47176 fdcc22c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Dec 19 16:29:26 2006 +0100

    Merge branch 'master' into exa-damagetrack
    
    Conflicts:
    
    	exa/exa_accel.c
    	exa/exa_migration.c

commit fdcc22ca1704d3519156c66804528c21b04fea65
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Dec 19 16:11:17 2006 +0100

    exaCopyNtoN: Fix usage of 'dx' and 'dy' instead of 'reverse' and 'upsidedown'.

commit 67c2a86e59e915d9a5681e9d233478cfea3e51ed
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Tue Dec 19 15:44:18 2006 +0100

    EXA: Compare backing pixmaps instead of drawables against driver limits.
    
    The driver operations are always contained within the backing pixmaps, it
    doesn't matter if the drawables are bigger.

commit 6b1e354dbb6e8ed9f2c654bbe7f8bbf241843d1c
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Dec 19 15:24:19 2006 +0100

    EXA: Disable SHM pixmaps.
    
    See https://bugs.freedesktop.org/show_bug.cgi?id=6772 .

commit ca5ebe3971d8ebcfed00c5ebcd026cdd0ce0c6ba
Merge: 4d07b50 1b029fd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 19 10:51:01 2006 +1030

    Merge branch 'master' of git://anongit.freedesktop.org/git/xorg/xserver

commit 2d0a63126b3d3a17005b7e122617ee0c5f44a55b
Merge: d8b5394 1b029fd
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 19 10:31:40 2006 +1030

    Merge branch 'master' of git://anongit.freedesktop.org/git/xorg/xserver

commit 1b029fd896b76096905c516925ce0214fe14632c
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Dec 18 14:51:04 2006 -0800

    Xorg & Xserver man page updates for 1.2 release
    
    - Added -extension & +extension to Xserver man page
    - Changed Xorg synopsis from X11R6 to X11R7
    - Clarified Xorg ancestry description
    - Moved Solaris to free/Open Source OS list
    - Removed references to MetroLink module loader & getconfig
    - Converted (1) to (__appmansuffix__) in a few more places
    - Replaced http://www.freedesktop.org/cvs/ with http://gitweb.freedesktop.org/

commit d8b5394eda9d92b7193004931caa6c24a337b2e6
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Dec 18 17:35:34 2006 +1030

    Cleaning up ifdef MPX from remaining files, removing it from configure.ac.
    Removing building mpx extension from Makefile.am

commit 03c554283e49e449fd1282cf32564d15d9fd2c77
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Dec 18 15:33:54 2006 +1030

    mi:     removing MPX ifdefs
    	global sprite renaming in mipointer and misprite
    	fixed: multiple remove cursor call in miSpriteInstallColormap
    	fixed: wrong core pointer usage in miSpriteStoreColors
    
    dix:    bugfix in CheckCursorConfinement
    	removing MPX ifdefs
    	removing MPX event generation (using Xi solely now)
    	bugfix GrabDevice: uninitialized field in grab struct caused segfault
    
    xfree86: removing MPX fdefs
    
    Xi:     removing MPX protocol events

commit a5fcf1e5e7452c9be82f63b6c2be2a25c4109523
Author: James Steven Supancic III <arrummzen@arrummzen.net>
Date:   Sat Dec 16 12:02:38 2006 -0500

    Fix RENDER issues (bug #7555) and implement RENDER add/remove screen
    support (bug #8485).

commit c92f7bef54fa737766d65fe32c200f405f39228c
Author: Kevin E Martin <kem@freedesktop.org>
Date:   Sat Dec 16 12:01:49 2006 -0500

    For Xvfb, Xnest and Xprt, compile fbcmap.c with -DXFree86Server

commit 012807356883128fde58bb2d4f91dd356d6418fc
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 15 18:27:16 2006 -0500

    Add loud warnings to deprecated lookup functions.
    Hopefully this will alert external driver maintainers.

commit ab1d5b0c31a1cfce95ab6b1d06f209f2c44e19ac
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 15 17:26:58 2006 -0500

    Convert callers of LookupClient() to dixLookupClient().

commit f11dafaafc68f5cff1a1538d9566907786d8ab72
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 15 16:51:58 2006 -0500

    Convert callers of SecurityLookupDrawable() to dixLookupDrawable().

commit 10aabb729d1586db344f9c1abdf1cf45e7ddaa7a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 15 16:36:29 2006 -0500

    Convert callers of LookupDrawable() to dixLookupDrawable().

commit 25d5e0a629f82d95bd71daf9a920a70e095b5188
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 15 15:50:46 2006 -0500

    Convert callers of SecurityLookupWindow() to dixLookupWindow().

commit 04c721854fbf1bd6379c165a53fab2bdc09961c0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 15 14:11:40 2006 -0500

    Convert callers of LookupWindow() to dixLookupWindow().

commit 670bbb87310503fcc17203cecfa6f4f2f5db51d2
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Dec 13 01:21:32 2006 -0800

    RandR 1.2 rotation code must adjust width/height.
    
    Mode lines reflect the monitor mode, not the projected size into the frame
    buffer. Flip width/height around so that the dimensions are oriented
    correctly.
    (cherry picked from 612a8e61803da8db0e305cbb093696b8e4284572 commit)

commit 6c6901434ab469dd03b79fc98cd4a2b64d339305
Author: Keith Packard <keithp@mandolin.keithp.com>
Date:   Wed Dec 13 00:58:54 2006 -0800

    RandR 1.0 refresh rates unscrambled. SetScreenConfig uses RRCrtcSet right.
    
    RandR 1.0 refresh rates were scrambled when working with a 1.2 driver that
    returned sizes in a mixed order. SetScreenConfig was treating RRCrtcSet as
    returning an RandR status instead of a Bool.
    (cherry picked from 6dc711833d7387372012fdff1ce1df3aefa2d234 commit)

commit 628c7daeb12713d28e85e6b49fa037a7748dff83
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Tue Dec 12 22:59:03 2006 -0800

    RandR: config time updates when hardware config changes.
    
    The config time in the RandR protocol reflects when the hardware state has
    changed. It was getting changed anytime the driver changed the usage
    of the hardware as well.
    (cherry picked from 98d18a6578130adb411ca4bcc776fcb7e07f189f commit)

commit d742025f435f3eb7458cf8284d59300bc9a850aa
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Tue Dec 12 20:16:49 2006 -0800

    RandR mode list needs both output and crtc modes.
    
    When an output no longer reports the current mode, it must still be included
    in the list advertised by the X server. Walk the crtcs to ensure it is
    included.
    (cherry picked from 78689d0d6630afcbcd3ce5394d12c2564a489f45 commit)

commit 9e32bf98bc9ab17a137664d01f59a8f426f7ff3b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 14 19:31:58 2006 -0500

    Remove now-unused macro definitions from dix.h.

commit 00f0705b3bb444ac934fc902cd23130f1777eab2
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 14 19:15:21 2006 -0500

    Remove instances of macros SECURITY_VERIFY_GEOMETRABLE and SECURITY_VERIFY_GC.

commit 5e334f06a1ef89891f9df2a371e4662340bec26b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 14 18:27:09 2006 -0500

    Remove instances of macros VERIFY_GEOMETRABLE and VERIFY_GC.

commit 51b69ff499c05f59cb1e577c4e8abf6f7f283b3e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 14 17:53:43 2006 -0500

    Remove instances of macro SECURITY_VERIFY_DRAWABLE.

commit 0cf75e74322e2b6a6efc7acf892e04365fde503b
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 14 17:27:12 2006 -0500

    Remove instances of macros LOOKUP_DRAWABLE and VERIFY_DRAWABLE.

commit ab1886df73b73360fa3bd7ce8e01affc074cbc8d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 14 15:42:19 2006 -0500

    Add new, combined dix lookup functions (tweak).

commit 60cdc592fe042c03ceb5d4c3344acfbbf5d8ae28
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 14 14:46:03 2006 -0500

    Add new, combined dix lookup functions.

commit 6c46645cfc1afda8aeabfe0ed4d9342673b702f1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Dec 14 14:45:42 2006 -0500

    Naming change: Security*Access -> Dix*Access

commit a96788058e48f3e97c66da6dafd58828f0c2ce53
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Dec 14 10:50:18 2006 +1030

    mi:     removing MPX ifdefs
    	global sprite renaming in mipointer and misprite
    	fixed: multiple remove cursor call in miSpriteInstallColormap
    	fixed: wrong core pointer usage in miSpriteStoreColors
    
    dix:    bugfix in CheckCursorConfinement
    	removing MPX ifdefs
    	removing MPX event generation (using Xi solely now)

commit b88ad820fac81d0dfd557a384bf0406e8893e7af
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Dec 13 12:13:11 2006 +0000

    Set Int10Current->Tag for the linux native int10 module
    Fixes bug #9296
    (cherry picked from 731952c561a3972d09d1315f4fd31466e459ccb9 commit)

commit fb6d676de5aa606d943715437a12a68d9a41f386
Author: Eamon Walsh <ewalsh@moss-huskies.epoch.ncsc.mil>
Date:   Tue Dec 12 16:17:51 2006 -0500

    Add xserver object class to list of object classes.

commit 7b90944258eba66b61328480759833ad7589bcca
Author: Eamon Walsh <ewalsh@moss-huskies.epoch.ncsc.mil>
Date:   Tue Dec 12 15:59:38 2006 -0500

    Change MLS levels in config file contexts to more sane defaults.

commit 568c09481e5d62091d032837171a36f409f39379
Author: Eamon Walsh <ewalsh@moss-huskies.epoch.ncsc.mil>
Date:   Tue Dec 12 15:59:08 2006 -0500

    Split AssignClientState() into two routines, new routine is server-specific.

commit 62e7722ebd8d341a23eb56cb330eeb00e6a975a6
Merge: e124806 f3c6090
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Dec 12 13:54:33 2006 -0500

    Merge branch 'XACE-SELINUX' into my-XACE-SELINUX

commit e124806994675e16ca8e3937388f2cadeb529fc3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Dec 12 13:35:22 2006 -0500

    Remove trailing whitespace (whitespace police).

commit ca77c121075a9de1f47d42f6aaf91c20185231de
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Dec 12 13:26:52 2006 -0500

    Naming change: Security*Operation -> Xace*Operation

commit a60da1db7cced28c07960a713eb18deb45beb432
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Nov 29 22:19:57 2006 -0500

    Add required root window context to config file.

commit 5719afe6d3a246985709e6f045617c1e16a7da51
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 26 20:20:57 2006 -0400

    Change symbol in libaudit library test.

commit 354c80da66af141e8ba6d75fed75a0f482987956
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 5 16:07:26 2006 -0400

    Improve error handling, messages during initialization.

commit 3714d9149928754afcd6b2466a1371ca32e17985
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 4 16:23:35 2006 -0400

    Experimental window property holding security context.

commit 7f16c38ae2b47b195609d8fedefb7b28f612b2d4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:31:18 2006 -0400

    Add SELinux extension configure-time support.

commit a7f4bbea87ada1d699bfd9e3b6a98f06191650f6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:17:01 2006 -0400

    Add SELinux extension to the module/extension loader.

commit 28e80cd65b1207b123c02f895851bb6d207aa3c1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:15:19 2006 -0400

    Add SELinux extension configure-time support.

commit 83aad2be8a80890f349c2f9caf84786333f7cc8c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:11:04 2006 -0400

    Add SELinux extension source files.

commit 81281cb298a5825bc7a2e692375a86199293bbbe
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Dec 12 11:28:24 2006 +0000

    Fix bad commit

commit 792e0f71c6a435b2e28f8a4cdcc790f3b982e62c
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Dec 11 14:54:49 2006 +0000

    Fix Xming fails to use xkb bug
    bug #5049 (Colin Harrison)

commit 27d4b84f268ac21601f7f52a7e257f70753396b3
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Dec 11 14:50:08 2006 +0000

    Fix Tooltip from minimized clients
    
    Bug #3678 (Colin Harrison)

commit ae3c24da34cd8eeb77a6389861856fd51e0841f5
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Dec 11 18:09:59 2006 +1030

    dix:    Moving SpriteRec into DeviceIntRec
    	removing global sprite structure
    	beginning to remove MPX ifdefs
    
    xnest:  Fix to make xnest compile again

commit fb8364bca30fe9268e807b0a9a3ebf875ee1fce2
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sun Dec 10 11:24:05 2006 -0500

    Accept EDID > 1.3 but < 2.0 if we find it, assume it's compatible.

commit e1f73d220873fa091695e46b7fcd008663a95a6f
Merge: 27d682f d56249a
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Dec 8 17:24:15 2006 -0800

    Merge branch 'master' of ssh+git://idr@git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/common/xf86Configure.c
    	hw/xfree86/common/xf86Helper.c
    	hw/xfree86/common/xf86pciBus.c
    	hw/xfree86/int10/helper_exec.c
    	hw/xfree86/os-support/bus/Pci.c
    	hw/xfree86/os-support/bus/linuxPci.c
    	hw/xfree86/os-support/linux/lnx_pci.c
    	hw/xfree86/scanpci/Makefile.am
    	hw/xfree86/utils/pcitweak/Makefile.am
    	hw/xfree86/utils/scanpci/Makefile.am

commit d56249a15ead51ad4d2117d5538ada24af05b693
Merge: f1f8df1 ec84f72
Author: Jeremy C. Reed <reed@glacier.reedmedia.net>
Date:   Fri Dec 8 15:52:37 2006 -0600

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit f1f8df1889ab656bb57596e2f85408f15f42cd5d
Author: Jeremy C. Reed <reed@glacier.reedmedia.net>
Date:   Fri Dec 8 15:51:44 2006 -0600

    For MANDEFS, also replace __mandir__ for $(mandir) which includes
    the prefix. Noticed wrong path to man pages on both Ubuntu and on
    NetBSD with pkgsrc.

commit ec84f72d077eaf2e7768a1f5398f65a5e1714d08
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Dec 8 21:31:47 2006 +0200

    XkbCopyKeymap: always initialise map and preserve
    
    If we don't have map or preserve in the source map, make sure the
    destination is initialised to NULL, and freed if it's a valid type.

commit e59aeac1ff13ea53f44dba1ac7800f37f4532ca1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 6 23:44:06 2006 +0200

    xfree86: remove stray debug line

commit 729fca33a417ae3dfb180caf0ea8946ef9eee1df
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Thu Dec 7 12:09:18 2006 +0100

    Revert "xfree86 DDX: Delete DDX screens in ddxGiveUp()."
    
    This reverts commit a6381e69845f58d2b3282992b1f881015190f1bc.
    
    See https://bugs.freedesktop.org/show_bug.cgi?id=9224 .

commit 4ea6dfb984063117eef5c2f931205b1c3eb3108b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 6 23:24:39 2006 +0200

    whitespace police

commit 4cba1a1ebfbdd7ab489b1b1ffb6656cbe88eb61e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 6 23:21:38 2006 +0200

    config: bus reconnect support
    
    Add support for reconnecting to the bus when it restarts.

commit 0c5dab5c8eaa174f28054b9d20244a709c015210
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 6 23:21:15 2006 +0200

    config: move config.h to hotplug.h
    
    Also, move configInitialise to after OsInit, since the next commit will
    make it use a timer.

commit 72e7f2ac6cf0db474d0defa7918f2a3ba76c0e46
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 6 23:18:52 2006 +0200

    GetPointerEvents: always send valuator events for MotionNotify
    
    Always chase a DeviceMotionNotify event with a DeviceValuator, which is
    not required in the spec, but will silently break the lib if you don't
    include.

commit c458a70d650bd62b8f4706f022d1f3f347636db1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 6 20:30:44 2006 +0200

    GetPointerEvents: fix typo
    
    Fix typo that resulted in inverted axes when using an absolute positioning
    device that didn't report y, and thus relied on the previous value.

commit edabf45425f9ed79547f918cc0dfff4c268de386
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Dec 2 16:37:19 2006 +0200

    configure.ac: add CONFIG_LIB to Xvfb

commit 8724af248cd6c93182fecd060fed09a556361080
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Dec 2 16:20:34 2006 +0200

    kdrive/mga: fix compiler warning
    
    Change a case that only made one test for an if, preventing the compiler
    warning about all other PICT_* types being unsupported.

commit 2f0a800ffdc881cdb3adf84f1ed97bbb63cba34c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 27 22:22:53 2006 +0200

    config: move to block/wakeup handler

commit 99378b58dbc63160382ad9c41f9cb0dd2a24e9d1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 27 22:22:33 2006 +0200

    kdrive/tslib: remove vendor-specific hacks
    
    Parts of the KDrive merge accidentally contained a bunch of
    vendor-specific hacks; sorry.

commit 8884a73a3f4efa8276c5e38b9573201574c4f1f6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 27 22:39:56 2006 +0200

    xfree86/input: re-add support for disabling drag events

commit f2903c12bb4bb0b7c94b96c55af8fa55507f9d7d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Nov 7 11:13:32 2006 +0200

    SyntheticMotion: don't dereference sprite.screen when not using Xinerama
    
    (cherry picked from aa052e43c6c293e14f78837e00c6b7581f9713bb commit)

commit d17ec01e8395a8f14b75a10c8bf082b3f5a4fb36
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Dec 1 00:41:41 2006 +0200

    remove CID support (bug #5553)
    
    Remove CID from all our fontpaths.
    (cherry picked from 69820a10e33e4582c192360996e866007114639d commit)

commit abe5e079af715713097ab0daad29a3e9f523c398
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Dec 6 07:58:03 2006 -0800

    Update pci.ids to 2006-12-06 from pciids.sf.net

commit 724f9cb578086e8483a2d0636dd6eb05d664d31c
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Dec 5 13:44:05 2006 -0800

    Bug #9219: Use pWin->viewable instead of pWin->realized to catch InputOnly windows too.

commit 3690de9b1b0902d395bc7d071fc05ebc8f75be2b
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Dec 5 12:42:12 2006 -0800

    Bug #9219: Return BadMatch when trying to name the backing pixmap of an unrealized window.
    
    Before this change, ProcCompositeNameWindowPixmap would name the screen pixmap
    if !pWin->realized.

commit eb1d9f51af19dab20a95c2830ca1c508d8ee66bb
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 5 18:50:19 2006 +1030

    Ironing some glitches caused by the merge

commit 3c8f166022a2d19af14eb670fa382503ba1451cd
Merge: 2a51149 f9f7d7f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 5 18:28:33 2006 +1030

    Merge branch 'master' of git://anongit.freedesktop.org/git/xorg/xserver into mpx
    
    Conflicts:
    
    	dix/events.c

commit 2a511492f9a235d3f5390ab87b6c643cbea92d88
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Dec 5 15:45:18 2006 +1030

    Xi:     adding MPX checks to ProcessOtherEvents
    
    mpx:    adding QueryPointer request and reply
    	adjusting names of requests to Xlib compatible naming (xMPX*** instead of
    	mpx***)

commit f9f7d7f3be53c808abb5eaceb7a1abc55744a210
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Dec 4 13:36:30 2006 -0800

    Check for __sparc as well as __sparc__ for compatibility with Sun cc
    
    (gcc defines __sparc__, Sun cc defines __sparc)

commit ac90ce58ba1da3ed605adf75f4d54c34b578c402
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 1 21:12:21 2006 -0500

    Naming change: Security*Operation -> Xace*Operation

commit f44f14fe564d834568a0afefba944223a73ea0f5
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 1 20:48:15 2006 -0500

    Define calls away when not building XACE, allowing ifdef's to be removed.

commit a5d6499d666fea4a9988118ddd3a5e4c9cfcc32c
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Dec 1 16:42:37 2006 -0800

    Fix syntax error in configure check for SYSV_IPC that broke with Sun cc

commit 89b2aa9be81613cb1a06bd535bf50ecf2a00208d
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Mon Nov 27 21:40:24 2006 -0800

    Destroying RandR crtc or output overwrites memory.
    
    RRCrtcDestroyResource and RROutputDestroyResource had matching
    bugs that would overwrite memory past the end of the storage
    of the crtc or output arrays. Oops.
    (cherry picked from 4202b23ed86405a4cebfdcf239df1b023c1d10ca commit)

commit 23ba72323af785516db6cbcf6c1b2fa907a8232f
Author: Keith Packard <keithp@ukulele.keithp.com>
Date:   Thu Nov 30 23:16:42 2006 -0800

    RandR ListOutputProperties has nAtoms element, not nProperties
    
    Earlier RandR 1.2 encoding revisions used 8-bit nProperties field.
    Final RandR 1.2 spec uses 16-bit nAtoms field instead.
    (cherry picked from 66b6358a393972946f16394918db2401c51dc5ed commit)

commit 416f1bb99a6d4557f2863ae941868e47e11bbb3b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Dec 1 15:56:52 2006 +1030

    mpx:    SelectEvents and GetEventBase requests.
    	Some renaming and cleaning up in extinit.c
    	MPXLastEvent added
    
    Xi:	ShouldFreeInputMask() from XI is not static any more, used in mpx
    
    dix:	GetPointerEvents() allocates MPX event for MPX devices.
    	DeliverDeviceEvents() caters for MPX devices.

commit ccd804c6c01cdfffe938fa5336be9b5668a6f0c0
Merge: 9423ac1 82912ad
Author: Drew Parsons <drew@pug.localdomain>
Date:   Fri Dec 1 15:21:57 2006 +1100

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 9423ac134a2a9800787c4978d384827cc4e61fc8
Author: Drew Parsons <drew@pug.localdomain>
Date:   Fri Dec 1 15:21:05 2006 +1100

    GNU/FreeBSD support in GLX: include byteswap.h for FreeBSD systems
    defining __GLIBC__, as done already for Linux and Hurd (cf. bug #5613).
    Also includes some more __GNU__ checks on top of those made in
    commit ade4bf09076d13dbf3549c0a2d987a0afe76d5c1.
    Thanks Petr Salinger (Debian bug #400869).

commit 82912ad7709e8cf4a5f8a9fa6b47f789842a3fe9
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Nov 30 20:13:52 2006 -0800

    Make solaris version of xf86OSRingBell return void like other OS'es

commit 8956f63a941bf0a5f157d47b33e6221601a75040
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Nov 30 19:53:29 2006 -0800

    Tell automake to STFU about the *.O files
    
    automake will not stop whining about the *.O files not being in normal library
    name format, so just tell automake they are PROGRAMS so it builds them without
    bitching.

commit f3c60900e575e65254cd2576cc6c90b97c8f63ae
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Nov 29 22:19:57 2006 -0500

    Add required root window context to config file.

commit 143558500a89a5c887c75c03798bae68c953cac9
Merge: e3d3d29 ee9bdd3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Nov 29 20:41:41 2006 -0500

    Merge branch 'master' into my-XACE-SELINUX

commit ee9bdd3f4a14a42fb0747acc420966f0f669129b
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Nov 29 12:01:43 2006 -0800

    Add DIX_CFLAGS to util builds.
    
    Fixes a build breakage when $(top_srcdir) != $(top_builddir) because
    -I$(top_srcdir)/include is missing for the cvt, ioport, pcitweak, and scanpci
    builds.
    
    Signed-off-by: Adam Jackson <ajax@nwnk.net>

commit a6381e69845f58d2b3282992b1f881015190f1bc
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Nov 29 19:25:09 2006 +0100

    xfree86 DDX: Delete DDX screens in ddxGiveUp().
    
    This allows video drivers to clean up in the FreeScreen hook things they set up
    in the PreInit hook.

commit afd6af65510b0147f16f08314045b3506bfa9d89
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 29 17:55:15 2006 +1030

    mpx:    Infrastructure for MPX extension, GetExtensionVersion request works.

commit b0c8558b9d9a9984c0067960392e28f5a7622b29
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Nov 26 19:31:48 2006 -0800

    Ensure RandR resource types are registered before resources are created.
    
    Now that resources can be created during server initialization, make sure
    the crtc, output and mode resource types are created before attempting to
    create associated resources.
    (cherry picked from commit ec83d674167e7045d5317b179c9998e3172a26dc)

commit 6245e9dd4719c5dc15ff45d49cf626123794038b
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Nov 21 16:52:28 2006 -0800

    Allocate correct size for RRPropertyRec (oops).
    
    Neglected to change the allocation size from sizeof (PropertyRec) to
    sizeof (RRPropertyRec). Lots of fun crashes this way.
    (cherry picked from commit 0626eb8e5c9fa05de6bdc9aa0c654f5148bf7cff)

commit 24abce8032940e96bb2ccf9e463a7fff6f36283a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Nov 21 01:15:26 2006 -0800

    Change RandR property datatype to include pending/valid values.
    
    This patch tracks the protocol changes which introduce more complex
    semantics for RandR output properties including pending and valid value
    information.
    (cherry picked from commit af55c65bea40669fdc038aa34c6a1ec9ecb33e87)

commit f62ac3ec39c6593df476985c630e499864c19c72
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 28 10:31:40 2006 -0800

    Separate DDC mode list creation from MonPtr creation.
    
    This will be used by the intel driver, and likely other RandR 1.2 drivers.

commit fbd09443385c533416fa530399d54f130afaf985
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 28 10:15:51 2006 -0800

    Replace bad mode name-setting code with xf86SetModeDefaultName().

commit 4ad0bde661be2af4a17771d66066d49736e85cbe
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 28 10:12:02 2006 -0800

    Clean up a bunch of long lines and trailing whitespace.

commit 05778432dc6e688bc0beff0c20ffd7e27b74888e
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 28 10:07:57 2006 -0800

    Move code to get a mode list from EDID data from ddcProperty.c to edid_modes.c.

commit 38ecc66cd9c61346a46697bbf1d8319f4f6f9800
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 28 10:06:15 2006 -0800

    Typo that was missed in testing.

commit 834e4b079866594b50be64ae79f3cb2a5baa2070
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 28 18:57:13 2006 +0100

    Fix potential NULL pointer access in timer code.
    
    https://bugzilla.novell.com/show_bug.cgi?id=223718

commit bdf718907b3202815a04ec28a868689708f43da9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 28 18:06:34 2006 +1030

    dix:	missing parameter to SetCursorPosition in CheckMotion ifndef MPX
    
    mi:	missing include in misprite.c ifndef MPX

commit e88bc0e55a6937ff0b47fe38f60bfa8991196578
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 28 14:34:36 2006 +1030

    mi:     Bugfix: FreeCursor ignores negative refcounts.
    
    mieq:   Bugfix: Motion notifies did overwrite DeviceMotionNotifies

commit 5dbcd34a0a6c0d10dbfea8fdc9d7dfe7a0261b19
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Nov 27 16:26:14 2006 -0800

    Register dependency on new RandR protocol.

commit 16f8f10dc2106bc6253b2d89a1f8efee8d80e2ba
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Nov 27 16:21:31 2006 -0800

    Move mode handling helpers from ddcProperty.c to xf86Mode.c.

commit b4b0d901d98371a8aa7b17d195e18e83e2a6a618
Merge: 64de3ba d6cd031
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Nov 27 15:43:15 2006 -0800

    Merge branch 'randr-1.2'
    
    Conflicts:
    
    	dix/events.c
    	dix/getevents.c
    	hw/xfree86/common/xf86Mode.c
    	hw/xfree86/dri/Makefile.am
    	hw/xfree86/os-support/drm/xf86drm.c
    	hw/xfree86/os-support/xf86drm.h

commit d6cd0313c7f23f32c9c7dda00ff739e772bf7db3
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Nov 27 14:46:50 2006 -0800

    Add some mode helper functions from the intel driver.
    
    This also removes static from some other functions that had been copied out
    to at least the intel driver, but perhaps others that were doing mode list
    handling.

commit 85ea408e38f452bcf9109f14fd1016d159692a99
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Nov 27 18:07:16 2006 +1030

    mi:     malloc checks for misprite and midispcur, code cleanup
    	removed IsMPDev()

commit 023da4e804ad260eaf0c50d2ec7213dd514e2113
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Nov 27 15:54:33 2006 +1030

    mi:     mipointer.c cleanup, reducing code duplication, using MPHasCursor()
    	instead of IsMPDev()

commit a2340a73687dfd93affb6de28a33d73fd808c96b
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Nov 27 14:47:23 2006 +1030

    mi:     free allocated memory in miDCCloseScreen and in miDCInitialize in case
    	of errors.
    	Some copyright notices.
    	misprite.c passes DeviceIntPtr around and down to DC (previously
    	miCursorInfoPtr and the plain device id).
    	Large cleanup in misprite.c to avoid code duplication.

commit 1c7568b8a1417257fa67c7fca69aa253099b9461
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 23 17:15:14 2006 +1030

    mi:	closing memory leak, miPointer is freed in miPointerCloseScreen
    	bugfix: uninitialized pPointer in miPointerGetPosition ifndef MPX
    	adding DeviceIntPtr parameter to ScreenRec's cursor functions.
    	cleanup of miPointer code to use same scheme in each function
    
    dix:	MPHasCursor() function determines checking whether to invoke
    	cursor rendering.
    
    animcur: adding DeviceIntPtr parameter to cursor functions but animcur relies
    	 on the core pointer right now.
    
    xfixes: adding DeviceIntPtr parameter to cursor functions but xfixes relies on
    	the core pointer right now.
    
    rac:	adding DeviceIntPtr parameter to cursor functions but RAC relies on
    	the core pointer right now.
    
    ramdac:	adding DeviceIntPtr parameter to cursor functions but ramdac relies on
    	the core pointer right now.

commit 64de3baf85f6df274f71f736016f0848567cd9f6
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Nov 22 14:46:51 2006 -0800

    Add a -showDefaultLibPath option.
    
    A corollary to the previous change, this option prints $libdir.

commit 0a2a6e4070718b90af7ca0e047f028e0cabdfb9d
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Fri Nov 17 18:27:23 2006 -0800

    Add a -showDefaultModulePath option.
    
    As discussed on the mailing list, people would rather have an X command-line
    option to print the module path so installers can know where to put modules,
    rather than the installers using `pkg-config --variable=moduledir xorg-server`,
    since some distros choose not to install xorg-server.pc.

commit 61832cb94c8a4d62cddb92188caeed86519e9d62
Author: Brian <brian@i915.localnet.net>
Date:   Wed Nov 22 09:16:43 2006 -0700

    Regenerated from Mesa w/ latest gl_API.xml file

commit 61863f09d22935406371e92bb75173d55ff9b29f
Author: Brian <brian@i915.localnet.net>
Date:   Wed Nov 22 09:16:17 2006 -0700

    Regenerated from Mesa, fixes glMap* protocol problem (bug 8899)

commit f52d53e060d0468b658a565688d1f92c156405c7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 22 17:58:57 2006 +1030

    dix:	DeliverEventsToWindow adjusted for MPX
    
    mi:     sprite debugging disabled

commit 8c16f21d5df08b028e93440d632939a5fdbf5876
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 22 17:06:47 2006 +1030

    dix	GetSpriteWindow() adjusted for MPX
    	added device dependency for MPX to DoEnterLeaveEvents,
    	EnterLeaveEvents, EnterNotifies, LeaveNotifies and
    	FixUpEventFromWindow.

commit 70383105de279df553874efa56b37a7b3e426ea1
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 22 15:27:16 2006 +1030

    mi:     added DevToSprite() conversion function
            fixed miSpriteRealize to use passed pDev argument instead of looping.
    
    dix:    changed sprite dependency and added MPX functionality to parts of
            events.c (XineramaChangeToCursor, XineramaCheckPhysLimits,
            XineramaConstrainCursor)
    
    Xi:	fix: accessing other->buttons for keyboard segfaulted the server

commit 33ff4cec5ff7533ec725f71d357c096dfb0acb79
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Nov 21 21:23:17 2006 +0000

    Issue CloseDownDevices() in os/log.c and remove from dix/main.c.
    
    This ensures that all calls to FatalError() will shutdown the input devices.

commit efd4f3c6ffec804c68ba5df17cc117da264fb7c4
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 21 20:31:30 2006 +1030

    dix:	WindowsRestructured() calls CheckMotion() on all devices
    
    mi:	core pointer was checked twice in miSpriteReportDamage,
    	miSpriteInstallColormap, miSpriteStoreColors, miSpriteSaveDoomedAreas
    	and miSpriteRealiseCursor
    	using damage bug (see comment in file) to avoid artefacts

commit 9db851c22d4befb95bfb074b96620261d8e32ac9
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 21 18:15:04 2006 +1030

    dix:    moved sprite from static to be pointer of type SpritePtr
    	added SpriteRecs for MPX devices
    	changed sprite dependency and added MPX functionality to parts
    	of events.c (ConfineToShape, PostNewCursor, XineramaCheckMotion,
    	CheckMotion, XineramaChangeToCursor, ChangeToCursor, CheckPhysLimits,
    	PointerConfinedToScreen)
    	added DeviceIntRec param to GetSpritePosition(). This required some
    	minor changes in ddx, xtest, xkb and xfixes.
    
    mi:	changed miPointer to pointer instead of static struct.

commit fd8b9a6eaee28a453a00af14195b81ef1890a577
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 21 15:24:43 2006 +1030

    TAG:   MPX_BEFORE_DIX_API_BREAK

commit 447efdc01d4f8922205ba26e52c9e5ff9f5cb90e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 21 14:46:00 2006 +1030

    mi:	constrain MPX cursors to screen

commit 1107d8bea22eea26f7b666f1c00a53360b7d237e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 21 14:00:46 2006 +1030

    mi:     added device ID to miSpriteCursorFuncRec functions
            added MPX code to midispcur.c
    
    BUG:   Core pointer changes whenever MPX cursor changes shape.

commit 3bad452d12d620df91b1f37d06c650ded96bfafe
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Tue Nov 21 11:26:21 2006 +1030

    mi:     added MPX to miSpriteReportDamage
            added id field to miCursorInfoPtr, required to pass through to miDC
            core pointer uses mpCursors array as well.
            added miDCBufferRec for future use with MPX
    
    TAG: MPX_BEFORE_MIDC_API_BREAK

commit b1bbdf464d2f8799fa3429c1c27ca998c5f3e94a
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Nov 20 17:58:30 2006 +1030

    mi:     added MPX to miSprite functions.
    
    NOTE: This version will render multiple cursors but with an artefact each time
    when devices alternate.

commit 7b4b619d4c268804199f9f4775eb56604f0b80e8
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Mon Nov 20 13:10:07 2006 +1030

    mi:     moved core pointer information from miSpriteScreenRec into a
            miCursorInfoRec.
            bugfix in mipointer, semicolon after preprocessor statement

commit ca2874b273232d9f51881b1cd754ed6847bfaf47
Merge: c9a5f9d e2f6dac
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Sat Nov 18 19:56:32 2006 +0000

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit c9a5f9d3911c2e6a8f81b0721c9eb914fb7719b5
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Sat Nov 18 19:55:42 2006 +0000

    Shutdown input devices if FatalError occurs during startup.
    Fixes Xdmx problems when the input device has been initialized
    and the keyboard map has been destroyed.

commit e2f6dacc736527790ed8e304698678afc17f71c6
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Nov 18 11:26:55 2006 +1100

    dri: setup libdrm hooks as early as possible.
    
    This is due to radeon doing drm stuff before DRI extension gets initialised

commit 90bea69dfdd63f58ee326887359ad1b35a31cb5f
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 17 18:03:43 2006 +1030

    mi:
            added miCursorInfoRec to contain info of the MPX cursors.
            calling miUpdatePointerSprite() from event queue for MPX devices.
            adding device-specific processing to miPointer*() functions.
    
    dix:    Call to SetCursorPosition in CheckMotion() temporarily disabled.
    
    xfree86/common: call to miPointerUpdateSprite() disabled, is done from the EQ
    
    NOTE: This build will not display cursor images.
    BUG: The second mouse does to take correct x coordinates.

commit 94e106a898c44daeb228bcb031b85f996ddc96b0
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Fri Nov 17 15:10:37 2006 +1030

    dix:    moved isMPdev field to end of _DeviceIntRec structure
    
    mi:
            added miMPPointers array to mipointer.c
            added DeviceIntPtr to all miPointerSpriteFuncs. Coming from miPointer
            we use inputInfo.pointer as standard value. ABI BREAK!
    
    ramdac:
            forcing failed HW Cursor initialisation. MPX needs software rendering.
            changes to use new miPointerSpriteFunc (this required externing
            inputInfo, should probably be fixed at a later point).
    
    RAC: changes to use new miPointerSpriteFuncs.

commit ef47d9c3ba63e9a6243fe5c81ccc60c8246352b4
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Nov 16 13:50:48 2006 -0800

    Reduce calls to RRGetInfo.
    
    RRGetInfo can be expensive. Don't invoke it when quering Xinerama
    information or setting a new CRTC configuration.
    (cherry picked from commit b5aa9eb8e6eda36856a075f4b008c33f6c706bad)

commit 07b26e690cd9a4fc626132feed0702515cbe5a88
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Nov 16 09:48:33 2006 -0800

    Remove RandR output options.
    
    RandR output options are now expected to be handled by properties instead.
    (cherry picked from commit 8b2a7e94a1dc2776ab2cfaaebb309be02502602a)

commit f17e3c34dfd1f1418440bdebf45764e4dbf550f0
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Nov 16 02:18:03 2006 +0200

    Fix GL context destruction with AIGLX.
    
    The logic for freeing GL contexts introduced by "Fix AIGLX VT switching." is
    inverted. As it is now, GL context destruction is deferred for glxDRIEnterVT().

commit ae3c9ad4abe66784d7ee474455003d2745699286
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Thu Nov 16 17:29:06 2006 +0100

    Bug 9041: Check the return code in xf86MapDomainMemory().

commit 5388423eb05daefcc71067b6ab96b6e57c44ef5c
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 16 20:43:27 2006 +1030

    mieq:  EQ processing handles MP devices
    
    global: MPX define added to xorg-server.h.in
    
    xfree86/common: small fix to avoid byte overflow

commit c957a16180810fbd58526e1a670d82384fb4a61d
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 16 15:11:14 2006 +1030

    dix:    added isMPdev field to _DeviceIntRec, is used in GetPointerEvents()
    
    mieq:   avoid merging events from different devices in mieqEnqueue()
    
    xfree86/common
            isMPdev field used from xf86ActivateDevice(), xf86PostMotionEvent()
            and xf86PostButtonEvent()

commit 7ce2dc57844872cc340b60387d4d1cb3d982633e
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 16 12:51:08 2006 +1030

    dix:
            merge with code cleanup from master
            GetPointerEvents treats events in the same way as XINPUT devices when flag
            has POINTER_MULTIPOINTER set.
    
    xfree86/common:
        added XI86_MP_DEVICE flag and parsing in xf86ProcessCommonOptions
        added POINTER_MULTIPOINTER define. Is used in xf86PostMotionEvent and
        xf86PostButtonEvent for the flags that are passed into GetPointerEvents()
    
    global:
        added flags to configure.ac to enable/disable MPX define
        added flags to dix-config.h.in to define MPX

commit 4d07b503727ba86315b90d6f45b06ed6185724b2
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Thu Nov 16 10:55:15 2006 +1030

    dix: cleaned up GetPointerEvents() to avoid code duplication.

commit 6ff7f2ad6a5e2e769244590578e6809974b5235d
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 7 13:13:53 2006 -0800

    Fix build on FreeBSD after input-hotplug.
    (cherry picked from commit 4e6e4baead6c565363abbcd9e06cc685be121596)

commit bffb1f9b67c8d3d264c0c3fd703cf7e57dcdf7b7
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 15 17:53:13 2006 +1030

    removed unused variables drag and local from xf86PostMotionEvent

commit f737cd925efe452787443b039ae65b8d85081bb3
Author: Peter Hutterer <peter@cs.unisa.edu.au>
Date:   Wed Nov 15 17:50:02 2006 +1030

    o fix minor error in comment for GetPointerEvents()

commit 2eab230d9bd3f73ffe1b5a42111f89e85904ee11
Author: Jeremy C. Reed <reed@glacier.reedmedia.net>
Date:   Tue Nov 14 16:37:18 2006 -0600

    For NetBSD, define PCVT_SUPPORT (System has PCVT console).
    
    Noticed by Joerg Sonnenberger.  This fixes problem with console
    switching.
    
    This was in original imake NetBSD.cf.

commit 26d2e45bdb0cf4d18ba7b0365425da49d60b3d5c
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Nov 14 15:33:07 2006 +0100

    Bug #9023: Only check mice for "mouse" or "void" if identifier is != NULL.

commit a724b7f1302ba7a59f140b521f13d2ddf0fcf9bf
Merge: 6facd95 f80a8ae
Author: Jeremy C. Reed <reed@glacier.reedmedia.net>
Date:   Mon Nov 13 20:32:26 2006 -0600

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 6facd958c2e7098cb68eac2810a88b8cd40f19c0
Author: Jeremy C. Reed <reed@glacier.reedmedia.net>
Date:   Mon Nov 13 20:23:06 2006 -0600

    On DragonFLy, default to /dev/sysmouse (just like on FreeBSD).
    
    TODO: use autoconf to handle this so the code is not platform
    based but feature based.

commit f80a8ae6e6820378ea70ac0849cee8bf3055e0e8
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Nov 13 18:26:05 2006 -0500

    Disable Xprt server build by default.

commit 5bfe7f4dfc6ab51b6790d74faf11574385234423
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Nov 13 01:54:32 2006 +0200

    DRI: call drmSetServerInfo() before drmOpen().
    
    Also, remove some libdrm remnants.

commit acb5ff4c73ac4d52201d7c421f488e2ead5c8b9c
Author: Jurij Smakov <jurij@wooyd.org>
Date:   Sat Nov 11 14:09:15 2006 +0200

    ffs: handle 0 argument (bug #8968)
    
    Handle an argument of 0 in ffs(), instead of looping indefinitely.
    Add an ffs prototype to dix.h, and add includes to ffs.c.
    (cherry picked from 34164e551e4c3909322d50b09835ca4ac1d49d68 commit)

commit ca094684196886a4a1c10273049fae0705a3edc2
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Nov 10 18:02:05 2006 -0800

    Correct symlink-mesa.sh usage message

commit 28337cc1060bc08adef81c304dd9ed02d0a0e37b
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Nov 9 19:51:17 2006 -0800

    Fix typo before the last commit.

commit e1720b1089328af80ca0cb85e5289ced05263f95
Author: Eric Anholt <eric@anholt.net>
Date:   Thu Nov 9 18:53:37 2006 -0800

    Bug #8868: Remove drm from SUBDIRS now that the directory is gone.

commit 0dee48b8af3e054228aef0d15c1cb1c9e23790cc
Author: Keith Packard <keithp@mandolin.keithp.com>
Date:   Wed Nov 8 23:17:55 2006 -0800

    Add RRInit function to create resource types for RR objects.
    
    To allow RandR objects to be created before the screen object exists,
    the resource types must be registered with the resource database.
    A driver wishing to create RandR objects must call RRInit before doing so.
    
    Also, fix a segfault when setting Output data before it is associated with a
    screen.

commit ec77a95a02329a2ee3a94d7de9d2a234aecb9ca0
Author: Keith Packard <keithp@mandolin.keithp.com>
Date:   Wed Nov 8 21:36:35 2006 -0800

    Allow RandR objects to be created before the associated ScreenRec.
    
    xf86 drivers need to create RandR object in the PreInit stage,
    before the ScreenRec is allocated. Changing the RandR DIX code
    to permit this required the addition of functions that later associate the
    objects with the related screen.
    
    An additional change is that modes are now global, and no longer associated
    with a specific screen. This change actually makes mode management cleaner
    as there is no more per-screen list of modes to deal with.
    
    This changes the RandR 1.2 ABI/API for drivers.

commit fd91630b73100e9d77ccb492c52807448bc772a5
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Nov 9 09:30:33 2006 +1100

    make X server use system libdrm - this requires libdrm >= 2.3.0
    
    This patch blacklists the load "drm" line, moves some functions in dri module
    links dri module against libdrm, and removes the X copy of libdrm

commit 0409e1627a167db2efc1355f292d3c02a6989ffc
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Nov 8 16:17:20 2006 -0500

    'make dist' fixes.

commit 7e0aeebb8f8a5dff3cb4d88756e535dd70edeec4
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Nov 8 12:03:37 2006 -0500

    Bug #6786: Use separate defines for server's Fixes support level.

commit b5d09d4adb8088719ff494a4281a793717046576
Author: Rich Coe <Richard.Coe@med.ge.com>
Date:   Wed Nov 8 18:10:14 2006 +0200

    CheckConnections: don't close down the server client (bug #7876)
    When an appgroup is shutting down, the list of clients can change, so make
    sure we're not trying to shut the server down.

commit 0567a6337b84fa045b5732e98203f488274aa2a2
Author: Bram Verweij <amverweij@gmail.com>
Date:   Wed Nov 8 18:00:52 2006 +0200

    xfree86/linux acpi: fix tokenising
    Split on a space, rather on the 'video' string, as strtok takes a char,
    not a string.

commit e7900d68c3ee657158813f0650886d680c0a9a3c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 8 15:36:47 2006 +0200

    remove trailing whitespace
    Whitespace police in full effect.

commit 2035f115b7db3c4b7deabeab0d814b3107d6ef30
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 8 15:28:10 2006 +0200

    xfree86: remove xf86Keymap.h

commit 809e2841aaa54662a42498aacec558bc813bba1c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 8 15:27:58 2006 +0200

    xfree86: add general handler, port ACPI to it (bug #5665)
    
    Add 'general' handler registration, which will not trigger DPMS when an
    event comes in.
    Make ACPI use this.

commit b5438f7fb2879e0226b578f60b22a490e73c3a83
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 8 15:24:58 2006 +0200

    Get*Events: massive reorganisation
    
    Reorganise the code logically, and put more comments in.
    Clip valuators in proximity calls.

commit b0a7443ca8bd224994f98c1c1e25de88f2573224
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 8 15:23:52 2006 +0200

    configure.ac: axe redundant SDL test

commit 332f179db7c38310db1f752d45f51b6d8301fd30
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 8 15:23:35 2006 +0200

    kdrive/sdl: fix compilation

commit 988757a44197c91027109076e2e33ff6510ed71d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 8 14:06:51 2006 +0200

    config: error messages non-fatal, and before we free them
    
    Move error messages before we free the error structure, and make them all
    non-fatal.

commit e2b78df5800fb4e3f0ed01b38a1974ba3577949c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Nov 7 11:13:56 2006 +0200

    xkb: warning fix

commit b55007d8cc9d20baa23d5de67683e414c827d3e5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Nov 7 11:13:32 2006 +0200

    SyntheticMotion: don't dereference sprite.screen when not using Xinerama

commit f93d10ce9bb4a6de83b561f44fb7b046def16234
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Nov 6 18:33:45 2006 +0200

    dix: remove staggeringly broken vendor workarounds
    
    Dear SGI,
    No.
    
    Scant regards,
    Daniel

commit 389275d240e4ba19d62fda0f138a45c7ecb245ff
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Nov 5 02:47:59 2006 +0200

    XkbCopyKeymap: don't iterate broken types, or dereference null pointers
    
    Don't iterate invalid destination types (>= num_types) when coping key
    types.
    Don't free key_aliases if it's NULL (theoretical, but sure).
    Make sure dst's label_font gets allocated if it's NULL.
    (Thanks, Chris Lee.)

commit d585b4189aff8d7952847f75b19b4f092ab3b88b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:47:55 2006 +0200

    xkb: fix uninitialised warning
    
    Fix uninitialised warning with memset(); we never actually use it
    uninitialised, but gcc doesn't know that.

commit b6d7b537ed8975363ad0f7c4180a62822358e418
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:43:22 2006 +0200

    os: fix sun extensions test
    
    'else if' is not very valid, plus the logic is kind of broken, so just
    move it outside the ifdef in the first place.

commit 8ba0c7b62c78dead722b0c8aa414f37bac4414b7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:41:03 2006 +0200

    xace: avoid 'unused variable pScreen'
    
    Initialise pScreen explicitly, as REGION_* macros ignore pScreen.

commit c3ea1f7db494365032526dc06a7283384bd0ecd1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:38:31 2006 +0200

    dix/mi: still more warning fixes
    
    Fix up prototypes for PrintChildren and PrintWindowTree in the dix.
    Make miPrintRegion be unconditionally defined, and move the prototype into
    regionstr.h.
    Change a bunch of ScreenPtr pScreen = foo; to
    ScreenPtr pScreen; pScreen = foo; in window.c, so we avoid unused variable
    references (as inline REGION_* doesn't reference pScreen).

commit 3a9b96425851b495503bd2eb0fd0d01c08f6a097
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:33:09 2006 +0200

    dix: add missing prototypes
    
    Add missing prototype for ffs, and include headers from ffs.c.
    Move PostSyntheticMotion prototype to input.h.

commit 6716488fa256798070017232405b107d5c985479
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:30:23 2006 +0200

    dix: remove unused debug code

commit 51813d77bfb84609a58a98e678efe9b6c0bf5503
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:29:05 2006 +0200

    dix: remove unused variable

commit 844090a5b557705dd0adce2b7ed98813b5104d85
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:21:29 2006 +0200

    xfree86/xf86misc: warning fixes

commit 61b570d0c1eb448f0aa08b4598118f0d43bc7345
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:21:09 2006 +0200

    xfree86/os-support: update prototype for OSRingBell

commit c51fadc07d938f6a3edfd5620170fcb7d6486a11
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 21:20:45 2006 +0200

    mieq: annotate with some more comments

commit 578899139f133746634a7bf8845e25362b5dfca2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Nov 4 20:35:55 2006 +0200

    RemoveGeneralSocket: don't touch EnabledDevices
    
    RemoveGeneralSocket.  Harmless, but.

commit ae58d349c1cf5d63ad3616c485baa858350978d5
Author: Laurence Withers <l@lwithers.me.uk>
Date:   Sat Nov 4 19:34:37 2006 +0200

    CreateColormap: fix return value (bug #7083)
    
    Return BadMatch when an unsupported visual type is given, not BadValue --
    this is correct according to the spec.

commit 96f78e3886791b723ccd9ba40bea701603537b0c
Author: Erik Andren <erik.andren@gmail.com>
Date:   Sat Nov 4 19:29:49 2006 +0200

    remove XFree86 changelogs (bug #7262)
    
    Without being able to tie these to specific commits, the text changelog is
    useless, as well as being huge.

commit 5a40448f2d0ac2c86c617bebe3fb649174bf0d7f
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 7 15:48:05 2006 -0800

    A couple more cases of error message before freeing strings.

commit 05f1c302460a14c8fa9a943a12d69adcd3c30d58
Merge: 3e7e0e3 46af6d1
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Nov 7 18:42:54 2006 -0500

    Merge branch 'autoconfig-for-7.2'

commit 3e7e0e35094d09e0e764818ed125314be75be01a
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 7 14:13:23 2006 -0800

    Report the error before freeing the error strings.

commit 4e6e4baead6c565363abbcd9e06cc685be121596
Author: Eric Anholt <eric@anholt.net>
Date:   Tue Nov 7 13:13:53 2006 -0800

    Fix build on FreeBSD after input-hotplug.

commit 20e9144c0746943624ff77a61791b8596f3f8458
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Nov 7 12:49:28 2006 -0800

    Add $(DIX_CFLAGS) to remaining Makefile.am files

commit 5e946dd853a4ebc2722ae023429ce5797de3d7a6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Nov 7 13:50:19 2006 -0500

    Bug #8937: Extension setup functions not called on server resets

commit 1dcda4f3c56214464c0b6123fea6daa69aae69fc
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Nov 7 01:29:51 2006 -0800

    Avoid dereferencing sprite.screen when Xinerama is not running. (#8925)
    
    With Xinerama support built into the X server but not in use,
    sprite.screen is NULL and yet the SyntheticMotion
    macro would dereference it. Avoid that by just passing sprite.screen
    to PostSyntheticMotion which can then dereference it when Xinerama is
    enabled.
    
    Also, define PostSyntheticMotion in dixevents.h and include dixevents.h in
    getevents.c

commit c20d3bf7533da0bf26beaf7d8c359d18edbd70e8
Merge: 028bbdc 3d39c02
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Nov 7 01:21:28 2006 -0800

    Merge branch 'origin' into randr-1.2

commit 3d39c02fe6aaa602c52f1d4f0ea6cd3bd000cf9f
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 6 21:25:52 2006 -0500

    More work on Bug #8875: revert previous fix and try using client argument
    instead of serverClient.  Also don't use totalClientSize as it is not
    initialized until after the first call to InitClient.

commit 75fe0670eb1f71144246f1c20759d58788bbee00
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 6 15:30:25 2006 -0500

    whitespace adjust

commit 0539d9cf2423fc0bed6f5c413beba3080f8abd85
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Nov 6 15:29:17 2006 -0500

    Bug #8875: Security extension causes Xorg to core dump on server reset

commit aa0261a98e9d5b1349b33e2639bd83c556dd4000
Author: Juliusz Chroboczek <jch@pps.jussieu.fr>
Date:   Mon Nov 6 02:29:49 2006 +0100

    Improve vm86 error handling in Xvesa.

commit 6b2c65fdd169037c6ede250d4a8fec3d29a080ae
Author: Juliusz Chroboczek <jch@pps.jussieu.fr>
Date:   Mon Nov 6 00:30:09 2006 +0100

    Fix typo in Xvesa: incorrect reporting of DAC capabilities.

commit 028bbdc0417173803695808ba9f48498519273a3
Merge: 50504c6 8deaaa3
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Nov 4 17:46:26 2006 -0800

    Merge master back to randr-1.2

commit 50504c68e1d407232cf83465981b235e542ef31f
Merge: 8b87ce1 cde8806
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Nov 4 17:43:19 2006 -0800

    Merge branch 'randr-1.2-origin' into randr-1.2

commit 8b87ce19741753eafbd99e7093bc3dea8f26e838
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Nov 4 17:41:25 2006 -0800

    Allow X server to build against libdrm 2.1

commit 7ffbe9d232e3a4621a204448d67e434736465cbe
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Nov 4 17:41:09 2006 -0800

    Add DIX_CFLAGS to hw/vfb/Makefile.am

commit 2db62bce0725ba2d88cbe40fc440b6bda45046f3
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Nov 4 17:40:34 2006 -0800

    Define fbHasVisualTypes in fb.h as it is exported

commit 8deaaa312ad7f9b492a2ae8ad17d74650112c25c
Author: Bernhard Rosenkraenzer <bero@arklinux.org>
Date:   Sat Nov 4 18:59:39 2006 +0200

    automake: avoid use of reserved _SOURCES keyword (bug #8866)
    Avoid using _SOURCES unless we're directly referencing a program or
    library to be built; use _SRCS instead.  Shuts automake 1.10 up.

commit f72927d26cd112d321f7bf187df3c740b3129d22
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sat Nov 4 19:00:57 2006 +0200

    xfree86/hurd: remove OsMouseProc (bug #5613)
    Remove OsMouseProc, let the mouse driver deal with it.

commit 0273610578485564c3c0be11b336b6554cc31b43
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sat Nov 4 19:02:04 2006 +0200

    xfree86/hurd: add bell support, remove SERVER/LOADER defines (bug #5613)
    Add no-op bell ringing support, and remove obsolete @SERVER_DEFINES@ and
    @LOADER_DEFINES@ from CFLAGS.

commit ade4bf09076d13dbf3549c0a2d987a0afe76d5c1
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sat Nov 4 19:03:13 2006 +0200

    mesa/indirect: include byteswap.h on GNU userland (bug #5613)
    Include byteswap.h on all GNU-userland systems (including with the Hurd
    and FreeBSD kernels), not just Linux.

commit 412e93349e1656c9650115328af4be0e59a66f74
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sat Nov 4 19:05:02 2006 +0200

    kdrive: make building of Linux support conditional (bug #5613)
    Only try to build Linux support on Linux.  We should probably disable all
    OS-dependent DDXes if we don't have a workable OS (and only build
    Xephyr/Xfake), but that's future work.

commit cde8806c2930788ba8076e94651d391e45f3ccdb
Author: Eric Anholt <eric@anholt.net>
Date:   Fri Nov 3 16:36:34 2006 -0800

    Don't bump the refcnt if the new mode is NULL.

commit 97fd471a627be185bee8cda3f709cfccea3fa12d
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Fri Oct 27 12:36:56 2006 -0700

    Fix standard VESA modes.
    
    The built-in mode timings were off slightly for the 640x480@60, 640x480@72,
    and 1024x768@75 modes.

commit 22ee2e4e1f1d9fd9ca9f25c9bf25370034b771d4
Merge: 49a2668 bd0c829
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Nov 3 12:54:56 2006 -0800

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 49a26681b2bdd95ed65c425f1fa1441d2f092a6e
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Nov 3 12:54:43 2006 -0800

    Add DTrace probe points for X server <-> client communications
    
    See http://people.freedesktop.org/~alanc/dtrace/ for more details

commit bd0c829654903ca45543dfa59cda967c4fafd8ac
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Fri Nov 3 18:54:06 2006 +0100

    Do not map full 0-1MB legacy range
    
    If we're mapping something in the "legacy range" (0-1Mb), we shouldn't
    expand the requested range to the entire 0-1Mb range.  Typically this
    is for mapping the VGA frame buffer, and some platforms support mmap of
    the frame buffer but not the entire 0-1Mb range.
    
    For example, HP sx1000 and sx2000 ia64 platforms can have memory from
    0-0x9ffff, VGA frame buffer from 0xa0000-0xbffff, and memory from
    0xc0000-0xfffff.  On these platforms, we can't map the entire 0-1Mb
    range with the same attribute because the memory only supports WB,
    while the frame buffer supports only UC.  But an mmap of just the
    frame buffer should work fine.

commit c1828a8ff51c8db326c47e6710f4f42fab94fb6d
Author: Egbert Eich <eich@freedesktop.org>
Date:   Fri Nov 3 18:32:48 2006 +0100

    Fixing mach64 driver bailing out on ia64
    
    Mach64 driver bails out on ia64 because it cannot map device
    memory. It turns out that some bogus and unneeded code attempts
    to find the root bridge of the device and fails to do so proberly
    as there this host-to-pci bridge is not existant. This code has
    been around for years although it completely unclear what it had
    been intended for. Fixing this by eliminating the bogus code.

commit d50fc413b39f52663b46084c28e81fc4933a7b49
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 2 18:53:41 2006 +0100

    Fix device path in altixPCI.c to be domain aware.

commit 1d731fc54a2cf5d3f353d8ee1c7c4989df27f011
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 2 18:50:15 2006 +0100

    Add domain support to linuxPciOpenFile().
    
    Loosely based on patch from David S. Miller <davem@davemloft.net>
    See also bug #2368.

commit caaa113acf4144fd47a1ac93ca440d78d1983e54
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 2 18:38:45 2006 +0100

    Fixing domain support for ia64
    
    ia64 specific functions + defines.
    Still uses /proc interface for some scaning code.
    Based on code from Egbert Eich <eich@freedesktop.org>.

commit 16c5043fc0c84b14323cd211c2645106455ac320
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 2 18:22:09 2006 +0100

    Fix 2 warnings.

commit 072c022e731c3aadf34096f16364e29df47280d2
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 2 17:58:19 2006 +0100

    Fix obviously wrong boundary checks + cleanup unused vars.
    
    Also disable compilation of code that is no longer used anywhere in the whole
    Xserver tree.

commit 5afc6c1a14fea2966017493b045fa7209faeb8eb
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 2 15:42:03 2006 +0100

    Added linux 2.6 compatible domain aware device scanning code.
    
    Additional scanning code uses the /sys interface of 2.6 kernels.
    Cleaned up the use of tags and already split domain/bus/dev/fn.

commit 6319f7d713971f70f06166480f069eca3bcace36
Author: Egbert Eich <eich@freedesktop.org>
Date:   Thu Nov 2 12:50:52 2006 +0100

    Make int10 fully domain aware.

commit f4dd2665b0f9aa9c00a5152c73bc72cb7514eeb5
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 2 12:36:12 2006 +0100

    Added missing domain stripping in already domain aware code.

commit 46901063e8edc82b67989f4e5eec39d17c67dc98
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Nov 2 12:25:03 2006 +0100

    Build with -D_PC on ix86 only.

commit 543b397277d1f03b8091e44812010abcd5d80102
Merge: 4056e6e 645d057
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Nov 2 19:00:35 2006 -0800

    Merge branch 'origin' into randr-1.2

commit 037f23e6f8fbe6e6fc8e71ed21958fc553df72d0
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Nov 2 18:30:58 2006 -0800

    Convert Xprt DDX to new motion history api

commit 7dc54a40e900cbea1e509620623b091d54a3c2d1
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Nov 2 16:38:47 2006 -0800

    Remove references to xf86Info.kbd* from solaris code

commit e46f7f78b362e76f5a553184e3f5ec7e109aa39d
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Nov 2 16:38:12 2006 -0800

    sun_bell.c needs to #include "xf86_OSlib.h"

commit 58bf9a142d1957f4d77038ee4ce7b1116b1f7955
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Nov 2 14:43:02 2006 -0800

    PostSyntheticMotion needs to be extern, not static, since it's in getevents.c

commit 1ecd45fb8e4250fb51daa2bdf1a960af0f8b53fb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 04:51:03 2006 +0200

    Makefile.am: add config to DIST_SUBDIRS as well

commit 01afa533aa872d1a101a41153f95d800e68fea3e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 04:32:37 2006 +0200

    xfree86/os-support: axe more unused files

commit 57c1409151cb1f6e0e528fb92ebda58f86f12c1a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 04:21:06 2006 +0200

    xfree86/os-support: remove unused file from dist

commit de5a4c63747a417cdece919f4fb5a4004a3ee7bb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 04:18:33 2006 +0200

    xkb: note that we allow full xi interaction
    We now allow maps to be set (etc) on different keyboards, so stop putting
    XkbXI_KeyboardsMask in unsupported.

commit 1d65429a9e03871969552d0c31b022546cc46b12
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 04:12:55 2006 +0200

    xfree86: don't attempt to enable and disable non-DIX devices
    Don't try to enable and disable devices with no entry in the DIX, such as
    the evdev brain.

commit 64139c1950ea825c0a0124abc5f88499e91f797f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 03:22:09 2006 +0200

    bump to 1.2.99.0

commit 18c246a13b887b865de6a17e6cd1c259b9bc383d
Merge: 794f2e7 4843d82
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 03:21:37 2006 +0200

    Merge branch 'input-hotplug'

commit 4843d823f4d38d8bd468ce3a8feddbff229ed416
Merge: ba9f513 a7b944f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 03:18:13 2006 +0200

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit ba9f5138fc32a7a7b97bcf941bc92751b7c6c2c0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 03:16:10 2006 +0200

    xfree86: allow starting with no input devices
    Add a server flag (AllowEmptyInput), which will inhibit adding the
    standard keyboard and mouse drivers, if there are no input devices in the
    config file.

commit be291a6d9764cf29a7d9a8114d47d9f41ce856e9
Merge: a2d6242 6fdfd9d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 03:15:25 2006 +0200

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit a7b944f0d96c3e0e15e75378a04def1ac96089fb
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Nov 1 16:17:49 2006 -0800

    If getpeerucred() is available, include pid & zoneid in audit messages too

commit fbfb35189ef6666707097704b43e052cb2f919ae
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Nov 1 15:11:48 2006 -0800

    Bug #1997: AUDIT messages should contain uid for local accesses
    
    <https://bugs.freedesktop.org/show_bug.cgi?id=1997>

commit a2d6242106bb3a440faa9cad157e0120dbfa7b6e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 00:46:33 2006 +0200

    kdrive:remove Change{Keyboard,Pointer}Device
    This was removed in the DIX, so just axe it.

commit d9a5e3e964b6c91fbca88b50674fce9660b972a4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Nov 2 00:45:23 2006 +0200

    XkbCopyKeymap: be more careful with levels, allocate compat/geom
    Take various extra precautions with copying levels across (thanks Chris
    Lee for a gdb session), including allocating when we don't already have a
    coherent map.
    Only free type components if they're present.
    Allocate geometry and compat components if we don't already have them in
    the dest map.

commit 6fdfd9dad91d7b7aa292f8c4d268dd27c34de8d3
Author: Eric Anholt <eric@anholt.net>
Date:   Wed Nov 1 14:29:59 2006 -0800

    Fix several cases where optimized paths were hit when they shouldn't be.
    
    This fixes a number of rendercheck cases.

commit 40f84793bca40dcc6883d51aefa1bda44bd1ac61
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Nov 1 14:34:46 2006 -0800

    Propogate $LIBS for xtrans, clock_gettime, libm, etc. to libs used for each server

commit d7d931abe01a8cf555b027f2bcfcccd5e9053e52
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 1 23:48:58 2006 +0200

    configure.ac: remove check for rate/period
    Keyboard stuff is now handled in the kbd driver.

commit 81728558a044fdde0e1d63da7b6314755f77296e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 1 23:10:26 2006 +0200

    input: add non-keyboard bell ringing function
    Add a generic 'ring the bell' function (console bell on Linux and BSD,
    /dev/audio on Solaris), and add DDX functions for this.  Make this the
    core keyboard's bell.
    Port Xvfb and Xnest to this.
    Port XFree86 to this, with OS-specific hooks for Linux, BSD, and Solaris
    taken from foo_io.c in the old layer.

commit 3df454719f9cbf6a046cb7458019ec621b3b42ee
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Nov 1 23:02:57 2006 +0200

    kdrive: add KdRingBell prototype

commit 4056e6e79a4e37101d298ae29139c83d3816368b
Author: Keith Packard <keithp@mandolin.keithp.com>
Date:   Wed Nov 1 00:29:46 2006 -0800

    Move physical size from mode to output.
    
    Modes can be shared across different sized monitors this way.
    
    Also caught some missing byteswapping and an incorrect return type.

commit c03311a1e78daa291477a67b1bb7206772108c5d
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Oct 31 16:05:48 2006 -0800

    Fix automake error: BUILT_SOURCES was defined multiple times on Solaris

commit a2434ec5f3c9dc79d1f05c2d704a82a766718ed4
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Oct 31 15:57:59 2006 -0800

    Make _POSIX_C_SOURCE hack work with Solaris headers
    
    Solaris headers are very literal - if you ask for POSIX_C_SOURCE 199309L,
    they limit to only the functions in that standard and no more, unless you
    also specify __EXTENSIONS__ to allow functions beyond the standard base.

commit 645d0576205532a3610ae351267d5b84d76236bd
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Oct 29 18:19:56 2006 +0100

    Handle building in a separate objdir

commit 59584c375f4e4b2670a92002ecb7a78a0bc50cce
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Oct 29 17:49:46 2006 +0100

    kill GNU-make'ism.

commit 0107320fac0913aae2cb169992e31c670b4bd2f7
Merge: 06b6b97 a34446f
Author: Thomas Hellstrom <thomas-at-tungstengraphics-dot-com>
Date:   Sun Oct 29 15:23:35 2006 +0100

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 06b6b971d065226b983ba25da7ea8236ec37df04
Author: Thomas Hellstrom <thomas-at-tungstengraphics-dot-com>
Date:   Sun Oct 29 15:22:37 2006 +0100

    Make sure we have 64-bit file-offsets in libdrm.

commit 644ee2434a4e09f5baea00a486911f8c24b9a261
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 29 03:52:11 2006 +0300

    kdrive: avoid null dereferences
    Avoid jumping into NULL pointers for OS or card functions which do not
    exist.

commit 738d2e88171bcce8782d670a1cda9a1d941d7977
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 29 03:48:02 2006 +0300

    kdrive: move bell ringing into an OS function
    Move the bell into an OS function, and use that if it's declared; else,
    fall back to using the driver's function.
    Remove the Linux keyboard bell function; just move it into the OS layer.
    Use named initialisers when converting the old structures, and eliminate
    unused functions.

commit 96e32805d12fc36f0fa0926dbfb0dd8a5cadb739
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 29 03:43:34 2006 +0300

    Xi: disallow changing core keyboard and pointer
    Just short-circuit the change core keyboard/pointer requests.

commit 68f595ca6c7883e030947b7f95c50e92aa733f2b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 29 03:41:34 2006 +0300

    GetTimeInMillis: use correct units for clock_gettime
    Make sure we're treating the nanoseconds as a long, not an int, so we
    don't overflow.

commit 51a06b3c44509c72279b5cfcf2b52b9a35c461b0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 29 03:40:57 2006 +0300

    WaitForSomething: only rewind when delta is more than 250ms
    Only rewind time when we're more than (original delta + 250ms) away from
    executing the timer.
    When we're walking the timer list, use a goto to iterate all of them from
    the start again, since timers may drop out of the list.
    Don't bother trying to be smart in TimerSet, we'll pick it up in
    WaitForSomething anyway.

commit a34446f5b3d90714969a90583c49cb1eae1c9651
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Oct 27 13:43:43 2006 -0400

    Add missing file to list in Makefile.am

commit 92d04e746bd9b8ad3ee217c165ace20468e079cf
Author: Thomas Hellstrom <thomas-at-tungstengraphics-dot-com>
Date:   Fri Oct 27 18:26:30 2006 +0200

    Import libdrm functions for the drm memory manager.

commit e3d3d29db5eef057b4e8294377c9c3147436bc2f
Merge: 92387e9 004d00e
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 26 20:21:16 2006 -0400

    Merge branch 'master' into my-XACE-SELINUX

commit 92387e99d085b0b081fcedb2f20304eb0ac536b1
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 26 20:20:57 2006 -0400

    Change symbol in libaudit library test.

commit 196c5836f463c28f633bbba847f59acd5935359d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 27 01:27:31 2006 +0300

    CoreKeyboardProc: annotate with FIXME
    Setting an empty keymap by default isn't wildly useful.

commit f9a1e456f8a4eaa1a9c71fd0fe5231140975c22d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 27 01:25:39 2006 +0300

    CoreKeyboardProc: don't leak keymap and modmap
    SetKeySymsMap does a copy here, so try not to leak them.

commit a5be65401769fabcb5001dc63035c69f9e4a2712
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 27 01:25:21 2006 +0300

    mieqEnqueue: only compare DEVICE_BITS of deviceid
    Only compare DEVICE_BITS of the two deviceids, so we don't decide that
    a valuator event isn't for us, because (id | MORE_EVENTS) != id.

commit 85212eb504f860b054eb0f0a5029fed86cb8d1c0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 27 01:23:58 2006 +0300

    getValuatorEvents: make sure we put MORE_EVENTS in the right places
    Make sure we put MORE_EVENTS in with the device id if there are, in fact,
    more valuator events coming.

commit 794f2e7291ccb4e48f9fbfc8f08302e3aac0f79f
Author: Myron Stowe <myron.stowe@hp.com>
Date:   Thu Oct 26 20:38:58 2006 +0300

    xfree86: re-enable chipset-specific drivers for Linux/ia64
    Re-enable chipset-specific support for Linux/ia64, by linking in
    lnx_ia64.c.

commit 8c0556e7cb1de8c387ddd886a03a8f8afff1fd0e
Merge: cdc8a4b 004d00e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Oct 26 15:21:22 2006 +0300

    Merge branch 'master' into input-hotplug

commit 004d00e6689f452fc9fdf91f5ffc6d6aed697d54
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Oct 26 01:10:08 2006 +0300

    GetTimeInMillis: simplify monotonic test
    We don't actually need to get the CPU clock ID, which means we don't need
    the monotonic_usable test.  Since there's now only one branch, the
    compiler will treat that as likely, so we don't need xproto 7.0.9 anymore.
    
    The fallthrough to gettimeofday() is preserved.

commit cdc8a4b7b2f099b8860a54c5c9f488e6f7c4913a
Merge: 3da918a d285833
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Oct 26 00:28:30 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit d285833290316cb5dd1e7f1e52c96be3e9cf21cd
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 23:57:00 2006 +0300

    GetTimeInMillis: spuport monotonic clock
    Add support for CLOCK_MONOTONIC from clock_gettime, and use that in
    GetTimeInMillis() if available, falling back to the old gettimeofday()
    implementation.
    
    This is _slightly_ faster on some 64-bit architectures, and _slightly_
    slower on others (though barely measurable).

commit d3e57faffee63df1424a209d0418d3a712f91ae6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 23:55:43 2006 +0300

    WaitForSomething: allow time to rewind
    If time rewinds dramatically, reset all the timers to fix their expiry.

commit e21604914dccece6bc64c69b55512d1f1a969235
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Oct 25 09:48:23 2006 -0700

    Merge master back in and clean up some unfinished code (closes 8745)

commit becbda6d519a11c2c211afb8d46f9ea1a2676bc3
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Oct 25 11:39:27 2006 +0200

    Fix test for Option "IgnoreABI".
    
    This option has plenty of potential for wasting the time of bug triagers
    without pretending it's always on.

commit 59511974db843fa7e11133894cfc10c20fdaf60f
Merge: 054f8cd 598ac7a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Oct 24 17:26:20 2006 -0700

    Merge branch 'master' into randr-1.2

commit 598ac7a83698327b607084abaebcbd22f8d25fbb
Merge: 828c34e 948a97b
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Oct 24 17:23:12 2006 -0700

    Merge branch 'origin'

commit 828c34e83ccdf3bcd2844d5af8b0cac4164b04ab
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Oct 24 17:23:02 2006 -0700

    Byte swap RRSelectInput enable flags.

commit 3da918a16c8908fdfaf89f2a1bcaec19e01528a9
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 02:22:07 2006 +0300

    mipointer: remember to update pointer location
    Update pointer location so it doesn't get quickly reset by the next
    pointer update.

commit aabc087998e680c2fcf0ebc1c5022c1fe8f58f0c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 02:21:39 2006 +0300

    GetPointerEvents: always ensure correct number of events
    Ensure correct number of valuator events are returned, and that we always
    increment events correctly.

commit 65cd5aa4d754624566c2263015f1a018d137fce1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 01:12:45 2006 +0300

    kdrive/input: remove unnecessary #ifdef XINPUTs
    Xi is now mandatory, so don't bother with the ifdefs.

commit 0514d53e10b3521bb708a9cbde4bab525248eadb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 01:10:44 2006 +0300

    xfree86: remove motion history handling
    Remove motion history handling, as we now deal with this in the DIX.

commit b1debebf8fe20ded20ba27e871fd1a6a9de029e3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 01:10:20 2006 +0300

    mi: remove mi motion history
    This is now unneeded as we do motion history in the DIX.

commit b9e180e632d04bf685ade9e32bd0b20882794486
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 01:09:19 2006 +0300

    port all users to the new DIX motion history API
    Port KDrive, Xvfb, and Xnest, as well as the virtual core devices, to the
    new motion history API.  Make GetPointerEvents also update the history.

commit 5b38eb69cdaa154791c7f74e35dbe4d3256b19bd
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 01:08:29 2006 +0300

    dix: add motion history support
    Add motion history support (sort of based on the XFree86 DDX's
    implementation) to the DIX.

commit 11fb58be77ac163844e494b2b0a260cf28a7ecd1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 01:07:36 2006 +0300

    miscellaneous warning fixes
    Use the correct type for time, and fix the mi prototype of EnqueueEvent.

commit 2a74b8a91da1a98669993078f7fe9081f2d743ce
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 25 01:04:53 2006 +0300

    xfree86: re-bump input abi to 1.0, yet again

commit 37d1fffe79c35ada056ce9a56292c000014fe48a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Oct 24 23:06:57 2006 +0300

    inputstr: try to keep device structs the same size
    Try to make sure DeviceIntRec and friends stay the same size,
    regardless of whether or not XKB is enabled.

commit 9f9ac01a819ee96fb5be5d7d346c91f461bf3979
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Oct 24 23:01:05 2006 +0300

    inputstr: fix indentation

commit 27d682fa030501611a5b52f41f29738134b45c0b
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Oct 24 09:04:14 2006 -0700

    Fix from HEAD accidentally reverted during merge.

commit 8b909135664abb69ada522e8e39495d9eca717ac
Merge: 21291d6 948a97b
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Oct 24 08:57:59 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/Makefile.am
    	hw/xfree86/common/xf86.h
    	hw/xfree86/common/xf86DoScanPci.c
    	hw/xfree86/os-support/bus/linuxPci.c
    	hw/xfree86/scanpci/extrapci.ids
    	hw/xfree86/scanpci/pci.ids
    	hw/xfree86/scanpci/pciid2c.pl
    	hw/xfree86/scanpci/xf86PciStdIds.h

commit 0cd6a3d8efb5cc1ce4f85ab95bcdf4fb66c7245d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 06:56:07 2006 +0300

    xfree86/input: add proximity support, free valuators
    Re-add support for proximity events, and remember to both va_end our
    varargs, and free our valuators.

commit cccf7ae0ff24d0c84b5144c457f3f86bbbc36e12
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 06:55:21 2006 +0300

    GetProximityEvents: add (untested) function
    Add untested first guess at what GetProximityEvents should look like.

commit 35fa4ac12b3da33f81e2a12bc9661ed075f323ed
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 06:23:45 2006 +0300

    GetPointerEvents: break into separate functions
    Break out clipAxis, clipValuators, and getValuatorEvents, into
    separate functions, to be used by the proximity event code.

commit a7c2d9a15dc2ff253bb69c3b0738ad993521b9c7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 06:08:27 2006 +0300

    kdrive: numerous warning fixes

commit c8f76fb3a473a022d497bd0acd6c84f58fc6efbe
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 05:12:15 2006 +0300

    xfree86/input: disallow pointer device changes, fix drag event calculation
    Don't allow users to change the core pointer.
    Fix xf86SendDragEvents to check the device button state, not the core
    pointer's.
    Remove unused xf86CheckButton.

commit c5b5b046e86b159a9d32451308f38246cc4587f7
Merge: fab1d37 948a97b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:58:30 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit fab1d37ecbeee9777ad1485b0cc62b55042d5014
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:57:00 2006 +0300

    xfree86/options: don't blindly dereference NULL pointers
    Sure, conf_idev should be initialised, but if it's not, try to make the
    best of a bad situation.

commit 523fe64ba16cf7a40f4095432d81300726d83e8d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:56:28 2006 +0300

    kdrive/lots of DDXes: make stubs use KdOsAddInputDrivers()
    In theory, removing LinuxPciScan should make these drivers OS-independent.

commit 57f98e2b72d5c7fea93a9f6da86228ffb4856bf3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:55:41 2006 +0300

    kdrive/tslib: port to new absolute API, remove debugging
    Port to new absolute device (not touchscreen) API, and remove some
    leftover debugging.

commit a6dc629052f0ad509cfa30e98217043a63c09552
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:54:59 2006 +0300

    kdrive/os: add KdOsAddInputDrivers
    Add KdOsAddInputDrivers, which adds all relevant input drivers.
    
    Could possibly be refactored to KdAddInputDrivers, which called through
    OsFuncs to a new function, if it existed.

commit ac240b00ff6fc354c1aa641406ae8b49244c0b8b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:54:07 2006 +0300

    kdrive/input: use Absolute instead of Touchscreen
    Adjust to suit Zepheniah's new absolute device API.

commit b1ba4b3e8ad427af1fa8618b0bd839f741ec2ce3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:53:15 2006 +0300

    kdrive/neomagic: include vesa.h, use DebugF

commit 29f28dd1a8a7ed07e945a67946e3510f4b32d12a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:52:52 2006 +0300

    configure.ac: add XSERVER_LIBS to XNEST_LIBS

commit 2f33f4065d89ae2b6fdda43c7105d72f89920cae
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:52:35 2006 +0300

    Xnest: port to new input API
    Port Xnest to Get{Pointer,Keyboard}Events, plus the new mieq API.

commit 08928afb0500d46b0caa0a1d1244dee2ed80e6a0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:51:52 2006 +0300

    Xnest: disable XKB, reshuffle code
    Disable XKB, as we can't yet use it; move Composite disabling to
    ddxInitGlobals, along with XKB.

commit cd3b16a57efaf89108054f18a94c91e2dd74fafa
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:51:13 2006 +0300

    Xvfb: port to new mieq API

commit bf4df9b73f0c1a84093aaf9a2e2cbc56fb341c60
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:50:53 2006 +0300

    include: move POINTER_* flags from inputstr.h to input.h
    Given they're just numeric constants, they should be included in
    input.h, not inputstr.h.

commit 4dd91c45abea9fb561a5acb10290e29487df6722
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:50:03 2006 +0300

    miinitext: Xi and XKB are not hardware-only extensions
    Xi is now a required extension, and XKB can be used without hardware,
    so include them both when NO_HW_ONLY_EXTS is defined.

commit 562096a012f4bb8f44d5ec6320a32f4010c189e4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:49:22 2006 +0300

    XkbCopyKeymap: increment shapes and outlines when copying
    Remember to increment the source and destination shapes when copying,
    instead of just endlessly copying the first one.

commit eec182259112fba240751f974f7e5ca09fce8b9d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 02:48:30 2006 +0300

    dix/getevents: move SyntheticMotion to getevents.c
    Mostly, this is just a cheesy hack to ensure that getevents.o gets
    included when linking.  Sigh.

commit bc701a14292da5abfb601e3a040651a74f46df8f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 23 00:08:32 2006 +0300

    dix/getevents: cosmetic cleanups, remove keymap copy from GKVE
    Remove keymap copy from GetKeyboardValuatorEvents, as
    SwitchCoreKeyboard now takes care of this for us.
    Remove unused variable and function prototype.
    Update comments to be as informative as possible.

commit b03e2f7029506640a8fe5cb88818b329c23503ff
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 22 19:56:49 2006 +0300

    xi: fix NIDR return yet again
    For a one-line function, it was pretty broken.

commit 90de7ce25a84cfe6c6790f9af2bc2399d25b9b9c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 22 19:54:36 2006 +0300

    xi: fix return type for NIDR

commit f46dc272913ffb6b5b234a7ec6f4ba5cae44a831
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 22 19:51:35 2006 +0300

    xi: add NewInputDeviceRequest to stubs

commit 31a6307b7ba5adaa96deb8101ddfcda0262f537d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 22 19:49:31 2006 +0300

    xi: change DEVICE_TOUCHSCREEN to ABS_{AREA_CALIB} for stubs

commit eae6594d03a606ddf1f433b5897b5938aa940c1e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 22 16:39:44 2006 +0300

    Xi: swap control in DevicePresenceNotify

commit be21630164e865eca72ff2a686a38ae4e30fd79c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 22 16:33:02 2006 +0300

    dix, Xi: make use of deviceid in DevicePresenceNotify
    Use the deviceid and control fields in DevicePresenceNotify since
    the last push to inputproto to send a DPN whenever a control changes
    on a device.

commit f08b6b2367705cb5b60e996e6328197430bf1919
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 22 12:30:02 2006 +0300

    kdrive: change DEVICE_TOUCHSCREEN to DEVICE_ABS_{CALIB,AREA}

commit 77e724585f6c53feb55475b94d8cfcb6acf1159b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 20 00:44:46 2006 +0300

    minor formatting fixes

commit 948a97b97e93cee05a23f1f1ae699c5e181bc8ce
Author: Drew Parsons <dparsons@debian.org>
Date:   Sat Oct 21 23:09:22 2006 +1000

    Minor typo fix to xorg.conf man page.

commit 04554a3adcddc32de5fdb0b3122da0bcdd4c24a9
Author: Drew Parsons <dparsons@debian.org>
Date:   Sat Oct 21 22:06:43 2006 +1000

    Minor typos in Xserver man page.

commit e26a494f417c3c700636ee68892c3015b2e0f27a
Merge: 736b0d5 aeba855
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Sat Oct 21 04:26:14 2006 -0400

    Merge branch 'input-hotplug' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 736b0d5078597abbda80444deef852879260af90
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Sat Oct 21 04:24:49 2006 -0400

    DEVICE_TOUCHSCREEN becomes DEVICE_ABS_CALIB.
    
    Update the DEVICE_ABS_CALIB stuff to include the new elements.
    
    New DEVICE_ABS_AREA support.
    
    dev->touchscreen becomes dev->absolute, with _CALIB and _AREA stuff in it.
    
    Update xfree86 to compile with this, kdrive needs an update too.

commit edd5f1745461f995670969cb736d1569ca94643f
Author: Carl Switzky <Carl.Switzky@Sun.COM>
Date:   Thu Oct 19 17:30:54 2006 -0700

    Add ast driver/device info to Xorg server & config utilities

commit aeba855b07832354f59678e20cc29a085e42bd99
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 20 00:30:28 2006 +0300

    move keymap copy to event processing, from enqueuing
    
    Move the keymap copying to event processing time (in
    ProcessInputEvents), instead of being at event enqueuing time.
    Break SetCore{Pointer,Keyboard} out into separate functions.
    Change mieqEnqueue to take a device pointer, that asks for the
    _original_ device associated with this event.

commit a8d3dad9d9f2b9053843e655abe463a68ba8dcb7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 20 00:28:40 2006 +0300

    xi: add DEVICE_ENABLE control
    
    Add DEVICE_ENABLE control, which allows runtime enabling and disabling
    of specific devices.

commit b0780312d80ea4af0136227f90fdd7ada3db71c5
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Oct 19 13:51:53 2006 -0700

    Pre-release message should tell users to check git, not CVS, for updates

commit c5dc997baf57ffa08025efadbbaf761296ce4bc4
Author: Joshua Baergen <joshuabaergen@gentoo.org>
Date:   Thu Oct 19 11:14:26 2006 -0700

    Create xorg.conf.example (Gentoo bug #138623).

commit d029c8f1b72019446a5c873f55ffa43504b03dfb
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Oct 18 18:11:06 2006 -0700

    Use getisax() instead of asm code to determine available x86 ISA extensions on Solaris

commit a8a0abdbea0573c861a5af9d58f3ce66790455ca
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Oct 18 10:59:07 2006 +0300

    config/dbus: always unref the connection, not close

commit 80642f37d40216035786eaf490952d16f6b5f597
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Oct 17 14:53:28 2006 -0400

    Stop building xorgcfg by default.

commit 5e17cde27b064174584d478130b0f95dcef78deb
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 17 17:06:44 2006 +0200

    StorePixels() macro could create invalid *x++=*x... code - fixed.

commit 205c6788d7a34704e36b23f1a93d89e9b986266a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 16 23:48:09 2006 +0300

    config/dbus: properly initialise vtable
    
    Properly initialise the vtable, so we don't end up with an unregister_function
    pointing to god knows where.

commit 85ac2f16abe9f6e88b4e71609da334d336a9a600
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Oct 16 12:39:05 2006 +0100

    Small modification to blocking signals when switching modes.

commit 0901eec87ee9f3a2a067695bdbd569ff42149879
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Oct 15 16:57:09 2006 +0200

    Fix __glXDRIbindTexImage() for 32 bpp on big endian platforms.

commit a232693c8c2a206aac47c07b133c071938204e0b
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Oct 15 16:48:59 2006 +0200

    Add per-drawable Xv colour key helper function.
    
    This allows overlay Xv adaptors to work slightly better with compositing
    managers.
    
    Bump the video driver ABI minor so drivers only need to check for this at build
    time.

commit 5563861ab7e56ec891cfce6b34af43fec53ccee3
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Oct 13 19:05:28 2006 -0700

    Make sure xorgcfg files are included even when dist made with --disable-xorgcfg

commit e1dd1904c6c7ce33f347d822272831d54a6497c8
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Oct 19 13:51:53 2006 -0700

    Pre-release message should tell users to check git, not CVS, for updates

commit 62d24097932708fbbb62a23614fe63b4b7acf3bd
Author: Joshua Baergen <joshuabaergen@gentoo.org>
Date:   Thu Oct 19 11:14:26 2006 -0700

    Create xorg.conf.example (Gentoo bug #138623).

commit 357b37b3826fa6e9878c0bd895164259c2ed3c0d
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Oct 18 18:11:06 2006 -0700

    Use getisax() instead of asm code to determine available x86 ISA extensions on Solaris

commit 1b1698af41b9038d9f9dbf521737d0baab5a2237
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Wed Oct 18 04:57:22 2006 -0400

    Pass SetDeviceValuators down to the driver.
    NOTE: This changes the LocalDeviceRec struct, which breaks input drivers.

commit 5eca750fe2f3f243fb352271ad8da196af0cb16a
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Tue Oct 17 14:53:28 2006 -0400

    Stop building xorgcfg by default.

commit df979b75c8cd8a7e0566aea58031bb9b8f5cd3d3
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 17 17:06:44 2006 +0200

    StorePixels() macro could create invalid  *x++=*x...  code - fixed.

commit d430e76a161c963169067875c3654f5fd8f42b19
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Oct 16 12:39:05 2006 +0100

    Small modification to blocking signals when switching modes.

commit 6dd4fc4652f942724039dc2317c560ea7276ab59
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 16 00:22:00 2006 +0300

    xkb: fix virtual modmap size computation
    Compute virtual modmap size bounded by nVModMapKeys-1, rather than
    nVModMapKeys.
    
    This is sort of a best guess.  The other way seems a little more
    logical, but also leads to segfaults pretty quickly if you hammer
    GetMap hard enough.  So let's try this one.

commit a484ba15277e66e7ef9b21b238dcbf760695bc63
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 15 23:47:34 2006 +0300

    XkbCopyKeymap: copy server vmods, and name atoms
    Copy server->vmods, and all the atoms in names.

commit ad355fecee3965be576596aeed5da54d776edf1d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 15 21:59:06 2006 +0300

    xkb: make sure we set the map on the right device, not necessarily core
    Forgot that all XKB requests took a device spec: the comparison of
    'if working on the core keyboard, does this device send core events; or,
    is this device the core keyboard?' was broken.  Instead, what we want is
    'if working on the core keyboard, does this device send core events; or,
    is this device the one we're working on?'.

commit 4ae7745a0dc86de6346409a69c1e396e0b954514
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 15 21:48:01 2006 +0300

    xfree86 input: always open devices on NewInputDeviceRequest

commit acd8419948003032056a56d46adbef7c35e7739c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 15 20:42:31 2006 +0300

    config: unref connection, don't close it
    Just unref the connection instead of explicitly closing it (thanks, Rob
    McQueen).
    Add a commented-out unregister_object_path call: unfortunately, when we
    call it, libdbus segfaults.  But if we don't unregister the path, we
    can't register it again.  So regenerations are broken either way, but a
    little less violently like this.

commit fc9b5f84b244ea08480b73bd15ac919b875800fb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 15 20:01:01 2006 +0300

    dix/devices: add devices in proper forward order
    Add devices in forward order with the normal linked list convention.
    Previously, AddInputDevice would add all the devices in reverse order to
    off_devices, before they were added again in reverse order to devices with
    EnableDevice.
    This just makes both work in forward order, which provides the ordering as
    you'd expect when hotplugging devices (i.e. adds them to the head, not the
    tail).

commit ec35e7198debf938f1115f584e675ce5995743e3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 15 19:44:49 2006 +0300

    config: add replies and dbus api documentation
    Add replies, which use standard X error values, to the two currently-supported
    input configuration requests.
    Document the D-BUS API we use.
    Make sure we free everything when we encounter an error.
    Add a _source option to all incoming requests, noting that it came from a
    client.
    Reject all requests to add a device where an option name contains an
    underscore.

commit 7e4717683d6c08d1e490a60b7493a94bbc57bf8d
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Oct 15 18:12:28 2006 +0200

    exaDrawableDirty: Fix initialization of BoxRec.
    
    This will hopefully fix the partial window corruption experienced by some
    people.

commit 3ad1642f1bbaa5f96558cdf3384b40f7122f8781
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Oct 15 16:57:09 2006 +0200

    Fix __glXDRIbindTexImage() for 32 bpp on big endian platforms.

commit f9bfee50981006a2c58d3f73e2b0d123bb2a41b7
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sun Oct 15 16:48:59 2006 +0200

    Add per-drawable Xv colour key helper function.
    
    This allows overlay Xv adaptors to work slightly better with compositing
    managers.
    
    Bump the video driver ABI minor so drivers only need to check for this at build
    time.

commit a05044cfc14a8bc6cc31236dcecada60bec09924
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 14 22:14:56 2006 +0300

    xkb: better support of XkbDfltXIId
    XKB.h specifies that XkbDfltXIId should be used where the client doesn't
    care about the device identifier.  We take this to mean core devices,
    where practical.

commit 4d8030076ed1a7680bdfcb7b89af1045bdc40304
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 14 22:14:07 2006 +0300

    dix: move GetKeyboardEvents/GetPointerEvents to a new file, export symbols
    Move GKE and GPE to a separate file, to help stem the events.c explosion.
    Mark GKE/GKVE/GPE as _X_EXPORT.

commit 6afc7c284690b1e2bb7544b5bc4f31a3f6a05519
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 14 15:54:35 2006 +0300

    dix/devices: remove XACE merge debris

commit 93302452e737bd91a893eb495592538d40d921e5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 14 15:54:12 2006 +0300

    XkbCopyKeymap: add geometry support
    Add a first cut at geometry support, which seems to generally work.

commit b9108a13fc126d97c0393f911a1d9292563444ce
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Oct 13 19:05:28 2006 -0700

    Make sure xorgcfg files are included even when dist made with --disable-xorgcfg

commit 054f8cd2675a80b14bc1ce266377fcfee2335cee
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Fri Oct 13 17:34:53 2006 -0700

    Limit pointer to valid crtc areas. Add event swapping. Fix change tracking.
    
    Add function to keep pointer within valid crtc areas.
    Finish event delivery and swapping code.
    Separate configuration from layout changes to send correct events.

commit 335b503c5e7041bb0c44611e496d1c46f554e630
Merge: bd3d93b cf948b7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 13 18:10:45 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit cf948b7b04dfeb61a294889027b9a54f6b9b478e
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Oct 13 14:48:10 2006 +0100

    Block IO on switchmode just as we do for VT switching
    to avoid cursor movements signalling io.

commit 4b53a5e4b147ab748b28dffc1d330b7148d8efa6
Merge: 23f6f08 042d4a4
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 11 20:50:31 2006 -0400

    Merge branch 'master' into my-XACE-SELINUX

commit a6df780e4d3f90cc699b0b864bade03d6f15afd7
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Oct 11 15:41:22 2006 -0700

    Fix bug #8608.
    
    Regenerate files based on recent commits to Mesa (that fix Mesa bug
    that return pixel data.

commit 042d4a407d0eca9131d0420b0b9189559aac326d
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Mon Oct 9 16:32:11 2006 -0700

    Bug #8459: Don't forget to include AM_CFLAGS in libfb_la_CFLAGS on non-MMX platforms.
    
    Reported by Edgar Toernig.

commit 1b94c117e0f294ef2f89bf24d45ba7a8e45efe35
Author: Matthias Hopf <mhopf@suse.de>
Date:   Tue Oct 10 19:37:22 2006 +0200

    Fixing probably long-standing bug in domain support.

commit 6776c0f0e9677a65ec36ceef9618ff701b99596c
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Oct 9 17:24:37 2006 -0700

    Use bash on Solaris to run symlink-mesa.sh
    
    symlink-mesa.sh won't run with Solaris Bourne Shell (/bin/sh) so explicitly
    run it with /usr/bin/bash instead
    (cherry picked from cde68728860179dc84e615ccb378ce992513fd62 commit)

commit bd3d93be82d91e4cf35ae317dfd658d1706257ea
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 23:21:12 2006 +0300

    xkb: remove random broken vendor workarounds

commit 33406da096b4ae21134484113b280e07d0c8f0d9
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 23:20:56 2006 +0300

    GetKeyboardEvents: add first_valuator argument to GKVE

commit ef7e05e9de57b9c9c27ed3307eede6d8fc6c1af3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 21:42:15 2006 +0300

    xfree86/xinput: pass first_valuator params, don't clip to first screen bound
    Pass first_valuator to GetPointerEvents/GetKeyboardValuatorEvents.
    Don't clip axis bounds to that of screen 0 when initialising axes.

commit 1546a398144619a14ff06aaf84ebc1bf293eac66
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 21:40:53 2006 +0300

    GetKeyboardValuatorEvents: also take first_valuator param
    Take a first_valuator parameter, which specifies the first valuator.

commit b05a11478edc7e6d1e38ef7f8d6788c7bd917493
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 21:23:12 2006 +0300

    doc/extensions: rename to c-extensions
    The old name could be somewhat confusing.

commit 41bb9fce47f6366cc3f7d45790f7883f74289b5a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 20:34:32 2006 +0300

    mipointer: take device arguments, split miPointerAbsoluteCursor
    Update mipointer API to take a device argument to (almost) all functions,
    and split miPointerAbsoluteCursor into a couple of separate functions.
    Remove miPointerAbsoluteCursor call from mieq, as we now deal with it in
    GetPointerEvents.
    Make miPointerSetPosition (successor of miPointerAbsoluteCursor) take
    pointers to x and y, so it can return the clipped values.
    Modify callers of miPointer*() functions to generally use the new
    functions.
    This should fix things with multi-head setups.

commit be8dfafd1d58b27bbfd953fc1216311523353db1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 20:32:16 2006 +0300

    warning cleanups
    Fix still more warnings.

commit ca474e0920dd29ebe7ccf346cddc526732ad01ba
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 20:30:49 2006 +0300

    Xi: move SendEventToAllWindows and FindInterestedChildren to exevents
    Move SendEventToAllWindows and FindInterestedChildren from chgptr to exevents,
    so the DIX can more easily use it.
    Clean up two warnings (type mismatch, unused variable) in exevents.c.

commit c2fab469b66f2796c541e911202faa411d116b04
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 18:26:26 2006 +0300

    dix/devices: clean up debugging

commit 4493acb88c59721f7807093a3ed3c39396c2076d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 17:51:03 2006 +0300

    xkb: add FIXMEs to procedures which need to act on all core devices
    Add FIXME comments above request handlers which need to act on all core-sending
    devices if called on the core keyboard.

commit ef68273f5bdb27a492ec0b69548ec4fbede46c08
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 17:44:37 2006 +0300

    mi/mipointer: deprecate functions which don't take a device
    Deprecate all mi pointer functions which don't take a device argument, and
    replace them with versions which do, in preparation for MPX.

commit 6eab4c55890660089067da0e944256b1ed3a8c67
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 17:24:33 2006 +0300

    doc/extensions: document C extension use in the X server

commit 80cdd26581508dd17c5d0a5739cd540113996bbb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 17:23:54 2006 +0300

    mi/pointer: mark public pointer functions as deprecated
    Deprecate miPointer functions which don't take a device pointer.  Pointer
    movement should be handled through GetPointerEvents, and functions which
    take a device as an argument (e.g. miPointerPosition) will be added.

commit 97030b6c6b0fb6ff629ae31e483704d0a2207a53
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 17:07:05 2006 +0300

    config: fix compilation
    Accidentally built with --disable-config, didn't notice that the previous
    commit to clean up the debugging broke things horribly.

commit 14b157bdb1f2cd5feba03ba0815d7c5b2dd6633f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 17:04:12 2006 +0300

    include: actually declare DebugF
    DebugF is ErrorF when DEBUG is defined, else a no-op.

commit 9e37de193f5d7412ffd8de76d5eed0158c0a3609
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 16:32:15 2006 +0300

    configure.ac: reactivate warnings when building with gcc
    We were inadvertently stomping XSERVER_CFLAGS after adding the warnings, so
    move them after we do that.

commit b559cbb1601f93cb03ea3dcfb2c5ca94ee6b73bb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 16:23:14 2006 +0300

    dix/CoreProcessKeyboardEvent: remove debugging for every key event
    Also change #ifdef DEBUG/ErrorF/#endif to DebugF in FixKeyState.

commit 3ae4d250185e71a0a218c062426f92b9b1adbf05
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 16:20:42 2006 +0300

    xfree86 Xinput: remove still more excessive debugging
    There isn't any more debugging left for input events in the XFree86 DDX.

commit 58314756aeecbb8fb04706c3e04d98e9ac531a02
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 16:18:05 2006 +0300

    GetPointerEvents: add first_valuator parameter
    Add a first_valuator parameter.  Looks correct by inspection, but untested
    with first_valuator != 0 as yet.

commit 84f5d2291c1fe92fd8358e999e909bf3aab86c98
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 15:30:24 2006 +0300

    GetPointerEvents: fix relatively harmless typo
    Change !(cp->button || !cp->valuator) to (!cp->button || !cp->valuator).

commit cfc3e9ede2dc83741bd38bf3df13f096ecb8adc0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 15:27:52 2006 +0300

    config: remove excessive debugging

commit 8d8e7f8bae4099f9e90ef9aac687607dae1d32bf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Oct 8 15:26:54 2006 +0300

    kdrive/input: remove excessive debugging in NIDR

commit 22a836fafd39a8ef413826dc2c94bc5f96990e2d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Oct 7 14:16:51 2006 +0300

    xfree86/loader: bump input major ABI version
    Bump input major ABI version to 1.0, since we removed the OS keyboard
    layer.

commit 4c342246300e06bdf5c9c62cc1d2f6aa57a524db
Merge: 8382234 49a70c8
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Oct 6 18:01:13 2006 -0700

    Merge branch 'XACE-modular'

commit 3686cd0fbf56d883f2f3b3fda11ffba1058b74e4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 6 17:20:42 2006 +0300

    xkb: make XkbSetControls work on all core-sending devices

commit 7b4dc171b036107cfba87a1a16bf692b982005a5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 6 16:26:54 2006 +0300

    xkb: remove unused #ifndef

commit ab56f0c5b516269bb99ae8b5f479e49e61a3af76
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 6 16:12:36 2006 +0300

    xkb: simplify core device loop in GetKeyboardByName

commit 4b6e2f12f7296e17b2850f36b3adcf8156125cbe
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 6 16:08:21 2006 +0300

    xkb: make LatchLockGroup work on all core-sending devices
    Apply the settings to all devices sending core events, if we're working on the
    core keyboard.

commit ebf9b3bbbb04acb78cdf8a84e47a96755fbfe854
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Oct 6 14:17:59 2006 +0300

    xkb: update all core-sending keyboards on GetKeyboardByName
    Update the keymaps of all keyboards which send core events on
    GetKeyboardByName; still a few other procedures which need this treatment.

commit 1178796a4dff5ebf0bd9fb3cacb35be9709b41e5
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Oct 5 22:31:35 2006 -0700

    Add preferred modes for each output. Round vrefresh. Deliver crtc events.

commit 23f6f08b7b5c9a4297fd223d232a7e9f45376550
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Oct 5 16:07:26 2006 -0400

    Improve error handling, messages during initialization.

commit de63a469dcd0a8ae98554bca540ac0106cccf2a5
Merge: 9c7440b 8382234
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Oct 5 20:29:19 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit b4659faf9b455b44ac8e691cc7a8fc00a967c80b
Merge: c4f30c6 8382234
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Wed Oct 4 14:46:04 2006 -0700

    Merge branch 'master' into randr-1.2

commit df351f1efbcc95f94c719fcf993c480155c511e9
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Oct 4 16:23:35 2006 -0400

    Experimental window property holding security context.

commit c4f30c63538e1451f15ed1991439869127d9b148
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Tue Oct 3 21:06:11 2006 -0700

    Add mode origins and output options. Fix memmoves in resource free funcs.
    
    Output options and mode origins both affected driver ABI.  memmove mistakes
    were causing 'Freeing resource which isn't there' messages.
    
    Prune unused non-user defined modes from available list now.

commit 8382234a7f318057de66490299d63807cefb5201
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Oct 3 17:49:48 2006 -0700

    Update pci.ids to Tue 2006-10-03 daily snapshot

commit 96edf7b853c1045d12d957a2957a11879100a2de
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Oct 3 17:48:50 2006 -0700

    Don't insert RCS tag into generated pci id header files

commit 75e0cc41b201b9ceb2615e7cec0dd5b4c136b343
Merge: 6926776 20c0cee
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Oct 3 13:58:03 2006 -0400

    Merge branch 'my-XACE-modular' into my-XACE-SELINUX

commit df800d87e04ce984a8a9ab4252ac6478ab1e4426
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Oct 2 11:28:47 2006 -0700

    Add (void) casts to clear compiler errors about ?: results having type mismatch

commit 9c7440bdf5a4ecd113e102004c804a2ba354c422
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 2 20:58:33 2006 +0300

    xkb: remove the world's most staggeringly broken vendor workaround
    Certain versions of LynxOS needed to sleep up to five seconds for closing a
    pipe to actually, y'know, be useful.

commit d7c89c7c1c8c1e110345d9d8d300adbf5fe5804a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 2 02:15:36 2006 +0300

    symlink-mesa.sh: expand *.{c,h}

commit d6ea96b13e2ea01c51998c41ae2a3677bdedf61c
Author: Ivan Pascal <pascal@info.tsu.ru>
Date:   Mon Oct 2 02:17:14 2006 +0300

    xkb: fix wrapping when switching between groups
    Use XkbCharToInt as that's what we're doing.

commit 3c98cebb6e954855528794fec46830f456cbdec1
Merge: fa1ac94 2cf1098
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 2 02:18:17 2006 +0300

    Merge branch 'input-hotplug' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit fa1ac94178cf976d4c8dae9a4dc8703303a62d4b
Author: Ivan Pascal <pascal@info.tsu.ru>
Date:   Mon Oct 2 02:17:14 2006 +0300

    xkb: fix wrapping when switching between groups
    Use XkbCharToInt as that's what we're doing.

commit c31672e6aab168262bd7824a8082ecdf841fc3c0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Oct 2 02:15:36 2006 +0300

    symlink-mesa.sh: expand *.{c,h}

commit 2cf1098436d6b4382d9ed3f6b88214d37bdd8ddb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Sep 30 17:05:46 2006 +0300

    dix/events, mi/eq: remove utterly ridiculous debugging
    Remove debugging which can cause long-lived Xorg logs to grow well above 1GB
    if built with --enable-debug.

commit 20c0ceedfbce9ae5c70703900b52973917ac4cd0
Merge: 49a70c8 84eb2c0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 29 15:37:00 2006 -0400

    Merge branch 'master' into my-XACE-modular

commit 518db35ca3f569e7cb95dbddeddb93f3691de498
Merge: 5d99e05 84eb2c0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Sep 29 00:35:21 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 5d99e05f05a42a82a9f02844df9bfebaa673759d
Merge: ad631af 5893375
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Sep 29 00:35:07 2006 +0300

    Merge branch 'input-hotplug' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit ad631afcf3fbc74024cddaaacd05d38addc047a2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Sep 29 00:34:23 2006 +0300

    make core keyboard/pointer map functions act on all core-sending devices
    Make Set{Keyboard,Modifier,Pointer}Mapping act on all devices which send core
    events.
    Change LegalModifier to accept a DeviceIntPtr.

commit 84eb2c0a06de60e88e14bb03fabe661d7cd8f1d3
Author: Brian <brian@yutani.localnet.net>
Date:   Thu Sep 28 15:09:40 2006 -0600

    Replace hard-coded filesnames with loops (all .c and .h files).
    Should fix problems with Mesa adding/removing source files, for the most part.
    Patch by Dan Nicholson.

commit 4bc5dc2854e33bf343cdea44a3c3b4c41f6f4145
Merge: cf6e968 f9542e7
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Sep 28 13:27:13 2006 -0700

    Merge branch 'wfb'

commit f9542e749544c7a3084fd72ecc6642ca3262f7c7
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Sep 28 13:26:54 2006 -0700

    Restore the global xx* symbols and add them to wfbrename.h.
    
    I don't think they're ever used, but it's best to just leave them alone for ABI
    compatibility.

commit cf6e9687ffcc52af0d64e9098186570719a575a2
Author: Jeff Smith <whydoubt@yahoo.com>
Date:   Thu Sep 28 15:34:17 2006 -0400

    Bug #8449: Yet another Mesa symlink script resync.

commit a5d639cd87f30f9b3d765352d27253940f33b2b7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Sep 27 16:15:27 2006 +0300

    remove merge detritus

commit 2206a92a97901977910a6e39b4174ca805f9f4a7
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Aug 30 19:15:55 2006 +0200

    Push information about cliprects of DRI windows to the DRM.

commit 54d371e7a4ebab79a0f616669e2f601d8370cef3
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Aug 30 19:12:17 2006 +0200

    Add wrapper for new ioctl to update drawable information in the DRM.

commit ad321fad4b9ab3a2c70cfff37ca6c8faaa5cce9c
Merge: 5e9d33f f7c1d94
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Sep 24 17:56:43 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit f7c1d942416db8d0d4c5a21f5ece1ccacb926b69
Author: Brian <brian@yutani.localnet.net>
Date:   Sat Sep 23 10:38:10 2006 -0600

    Check for visual==NULL in dmxBECreateColormap() before calling XCreateColormap()
    to prevent potential segfault.

commit 945b7c63946f5257d0f9b0dcf2f8f4882fb2c6f8
Author: Brian <brian@yutani.localnet.net>
Date:   Sat Sep 23 10:35:25 2006 -0600

    The fbcmap.c file used by Xdmx _must_ be compiled with XFree86Server defined.
    Otherwise, Xdmx generates a slew of protocol errors.

commit 891e9c3e6cbd0869a57395b96c8e18ff522c2bb4
Author: Brian <brian@yutani.localnet.net>
Date:   Sat Sep 23 10:28:24 2006 -0600

    Replace broken DMXDBG3() with DMXDBG2()

commit a10039a100dfe5f87e29e9cc4fa656176e0890f9
Author: David Nusinow <dnusinow@debian.org>
Date:   Thu Sep 21 23:58:32 2006 -0400

    Allow the xfree86 ddx utils to be optionally built. Patch by Eugene Konev.

commit ce78b0cd2b1c35d60eb5683a1d00222aa4797c79
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 21 20:42:47 2006 -0400

    Close with Pclose() that which we open with Popen().

commit c1655f0fd457f9bdf0857c5e0904639925bb01f1
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Sep 21 14:45:17 2006 -0700

    Bug 8386: Grow parser buffers to fit an entire line if it's longer than CONFIG_BUF_LEN.

commit b36fde9257263fa502147df37e8331184c323e14
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Thu Sep 21 09:52:04 2006 -0700

    When no mode is specified, don't validate mode-specific parameters.

commit 8b4ed47c5d39f219866e3c72fa973c6fc4c70f18
Author: Drew Parsons <dparsons@debian.org>
Date:   Thu Sep 21 22:19:44 2006 +1000

    * Install Xprint's Xsession script to $(sysconfdir)/X11/Xsession.d
    * Removing outdated references to CDE and dt, rename script to
      92xprint-xpserverlist.

commit 219546fd76750f358ffb6738f17b9237c58c15a6
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Wed Sep 20 22:43:05 2006 -0700

    Steal Xinerama code from SiS driver. Add missing files.
    
    Provide a Xinerama implementation when DIX version isn't enabled. This
    version exposes each crtc as a separate 'screen' and reports the size of
    that patch. The extension also sends ConfigureNotify events to the root
    window whenever crtcs change so that applications will re-fetch xinerama
    information. This actually works for metacity.

commit bde0a4c12cb393a6d7f1552b067624da1b0502ae
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Wed Sep 20 19:42:34 2006 -0700

    RRSetCrtcConfig status fix. RRGetScreenResources timestamp fix.
    
    RRSetCrtcConfig was returning the wrong status values.
    RRGetScreenResources was always returning currentTime.

commit d812f486a01a6276aed7b4ebd3cd8eb8ddfe10d3
Author: Donnie Berkholz <donnie@supernova.(none)>
Date:   Wed Sep 20 15:39:39 2006 -0700

    Really fix sparc on 64-bit kernel/32-bit userland.
    
    Commit b3a3020fd018df8bc5a8193d36e1a1c7ae8af8ba used a sparc64 ifdef instead of
    sparc. But for 32-bit userland, __sparc64__ is not defined so the wrong code is
    used.

commit 09f7499851bd2f2eba1e30460c61c7a82ed9e853
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Wed Sep 20 13:15:20 2006 -0700

    typo

commit 9f870e0aa1ada238d6a0cd099996e8c47f6ba1d9
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Wed Sep 20 13:14:53 2006 -0700

    When setting output state, leave output unchanged when setting to current.

commit d16e83413e7e06adebd629d04de57bbedd8c3765
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Wed Sep 20 12:47:17 2006 -0700

    Hide or rename more global symbols to avoid clashes with libfb.
    
    Rename composeFunctions, xxSetup, and xxPrintVisuals.  Hide the other xx*
    symbols by making them static.

commit d08718d8fd31477e90f13b9e122504c515b46ee0
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Wed Sep 20 12:05:52 2006 -0700

    Avoid calling xalloc(0). Change rrScreenSizeSet to rrScreenSetSize.

commit ef1f3248cb5fff0a02c0059f865c4d931eba23a6
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Tue Sep 19 22:48:54 2006 -0700

    Split out 1.0-style info and new property routines to their own files.

commit 07112adb0802d28488de5a495aa61bb3cfc280b6
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Tue Sep 19 00:46:27 2006 -0700

    RRGetScreenResources and RRGetOutputInfo are working now.
    
    Removed separate id field in RRModeRec.
    Pull screen subpixel order from Render extension.
    Implement RGetScreenResources and RRGetOutputInfo

commit afe5e9483b352ed06075ed68a6ffa50799194e2d
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Mon Sep 18 12:18:22 2006 -0700

    RandR working with old clients and old API.

commit 2be1ac15aee592782d7693b8de2c3815478a094e
Author: Keith Packard <keithp@guitar.keithp.com>
Date:   Mon Sep 18 12:11:18 2006 -0700

    Remove smashing of CFLAGS from server build.
    
    CFLAGS is a user variable, extracted from the environment at configure time
    and settable by the user at build time. We must not override this variable.

commit bf07893947cfca945598e194ed416fda6162b11c
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sun Sep 17 23:03:23 2006 -0700

    Split out RandR dispatch code from randr.c to rr*dispatch.c.
    
    More disassembly to ease ongoing development.

commit 3e745745fecef1cb59e53bde52ded311b51e1dac
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 16 23:21:37 2006 -0700

    Split RandR implementation into separate files.
    
    RandR is getting too big to live in one file; split into one file per object
    type (crtc, mode, screen), leaving the rest of the code in randr.c.
    
    Code is slowly approaching the point where it will drop-in as a replacement
    for the old 1.0 implementation.

commit d17fb9672e238a089e463ac74cc4cd3325b67e1f
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Sep 16 21:44:42 2006 -0700

    Start moving to new randr 1.2 definition

commit 8dec74321d916f204f8182f1b93a65defbe50e78
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Jul 17 14:43:07 2006 -0400

    Successful legacy RandR API/Protocol emulation for query.
    
    These changes clean up minor errors to make it possible to list the
    available modes for a monitor using legacy APIs in both the X server DDX and
    RandR protocol. Setting modes is untested, so it probably doesn't work.

commit cab3a0145f2483fe43b5db5f5dd2076db9757fe5
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Mon Jul 17 01:21:11 2006 -0400

    RandR: New data structure, old API. At least it compiles now

commit d95c758630f4aacec339a7ec80d2c4a9d7de1e4a
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Jul 1 19:46:38 2006 -0700

    Preliminary RandR 1.2 work

commit f057de4f73fa593fa3fc5f05f65b89e76273b158
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Sat Sep 16 03:49:11 2006 -0400

    Don't install librac.a.
    
    Thanks, automake.

commit 6926776f0ecd1e8e81c5c40ccd3a97227bc44dcb
Merge: 6950267 49a70c8
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 15 15:28:13 2006 -0400

    Merge branch 'my-XACE-modular' into my-XACE-SELINUX

commit 49a70c8570b03aff8239324a2474918a6fbc52a0
Merge: d1110c5 05231e3
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 15 15:26:57 2006 -0400

    Merge branch 'master' into my-XACE-modular

commit 46af6d1e953f1eefb6edbba3d29fb9700e42c2bb
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 19:28:44 2006 -0400

    Always believe the monitor when it reports a reduced-blanking mode.
    
    CVT reduced blanking modes are typically only seen on digital connections to
    LCDs, but there are some monitors that report them as supported over the
    VGA connector too, which is perfectly legitimate, electrically speaking.

commit 63acf18b7e4ce3a9f7deab3a9088a1c41cab0191
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 19:26:37 2006 -0400

    In xf86MatchPciInstances, fail gracefully when there's no PCI device at all.
    
    This allows the autoconfig logic to fall through sanely on non-PCI machines,
    which importantly includes Xen virtual machines.

commit a8f9936f55c5364bb02e8c3187507eb1f70e2ef2
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 19:24:41 2006 -0400

    Prefer driver-provided modes when matching name strings to modelines.
    
    Well, kinda.  Strictly we prefer M_T_BUILTIN strongest since those are modes
    where the driver has said it absolutely can't do anything else (VBE).  Then
    we look for user-defined modes, ie, modelines from the config file.  Then
    we consider modes reported by the monitor via EDID.  Finally if nothing has
    matched yet we consider the default mode pool.
    
    Within each of the above-mentioned classes, modes with the M_T_PREFERRED bit
    take priority over other modes in the same class.
    
    This logic ensures that the timings sent to the monitor exactly match the
    timings it reported as supported, which occasionally don't match the numbers
    you might get for that mode from CVT or GTF.

commit 81ef1b6d6063c20db4963abf7b7848e235aa4ebb
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 19:18:58 2006 -0400

    Mark EDID modes as driver modes.  Infer virtual size from driver modes.
    
    This allows the server to guess an appropriate initial virtual size and
    resolution.  The heuristic is to select the largest driver-reported mode
    that matches the monitor's physical aspect ratio.  We revalidate this
    estimate after mode validation, since we may have filtered away all
    modes that would fill that size.
    
    Also, the EDID preferred timing is now marked as M_T_PREFERRED as well.

commit 43d9edd31e31b33b9da4a50d8ab05004881c8d5a
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 19:09:02 2006 -0400

    Attempt to add the 'mouse' driver in more situations.
    
    Always add a mouse driver instance configured to send core events, unless
    a core pointer already exists using either the mouse or void drivers.  This
    handles the laptop case where the config file only specifies, say,
    synaptics, which causes the touchpad to work but not the pointing stick.
    We don't double-instantiate the mouse driver to avoid the mouse moving twice
    as fast, and we skip this logic when the user asked for a void core pointer
    since that probably means they want to run with no pointer at all.

commit 739224d05eb4f356c9cab9dcb8a44a8d78287765
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 19:03:32 2006 -0400

    Load the default module set when no Module section is given in the config.
    
    Also, synchronize that list with the list for the pseudoconfig file used
    when starting with no config file.  These really need to be better unified.

commit beac2bf1e48e6b77dbf7d95f086abc5abcd90cf0
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 19:01:13 2006 -0400

    Expand the default sync ranges to be large enough for 800x600@60.

commit 71a15a7d5721073eccb3a275f353b3aa584c0d68
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 19:00:10 2006 -0400

    Publish the raw EDID block as a property on the root window.
    
    This was removed in the patch for bug #5386, but is still useful.

commit 7939c8dfb7c7bed4febcdc12922fb2e17619ea36
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 18:57:57 2006 -0400

    Bump the default pixel depth to 24, and default bpp to 32.

commit 72af975f9c8de0ff6796f1ce4b76dcf841d21e99
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 18:56:34 2006 -0400

    Fix up EDID blocks where the max pixclock exceeds the preferred mode clock.
    
    Base EDID only lets you specify the maximum dotclock in tens of MHz, which
    is too fuzzy for some monitors.  1600x1200@60 is just over 160MHz, but if
    the monitor really can't handle any mode at 170MHz, then 160 is more
    correct.  Fix up the EDID block before the driver can see it in this case,
    so we don't spuriously reject modes.

commit d05e0a97bb704a4986cf638487205da759c4ce17
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 18:49:12 2006 -0400

    Enable DPMS by default.

commit 334f7db9f653113d5d46236911d7de2ec4173f28
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 18:46:10 2006 -0400

    Allow hsync and vsync ranges to be overridden independently again.

commit ced46e17777b635df9371c4cfaec3f8968b4dbcf
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 18:41:59 2006 -0400

    Record all standard timings from EDID as modes, instead of just the first five.

commit d89fee68d0e49211871cd9eb3893ed55c1d478a6
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 18:41:15 2006 -0400

    Record the maximum dot clock of the monitor, and filter by it.

commit fa8ef7166839a7435e0017683f3e3c7f7904b285
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Sep 14 18:33:00 2006 -0400

    Don't translate monitor gamma to X gamma.
    
    The X gamma is used to set the output ramp of the card.  Setting a 2.2 output
    gamma going into a 2.2 monitor gives an effective gamma of 4.84, which is
    very much not what you want.

commit 511c60bc7399b07c267d686a969880e5ec92408a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Sep 14 18:30:36 2006 -0400

    Bug #5386: Synthesize modelines from EDID data.

commit 05231e336db8f959c15dda518641976f061df1a6
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Sep 14 14:13:39 2006 -0700

    Use correct opcodes for GLX_EXT_texture_from_pixmap.
    
    Regenerate from glX_API.xml 1.3 from Mesa.  The glproto package and libGL
    (from Mesa) must also be updated.

commit 0a62840e2ce25e5c2554e7e5ab4c9c5b96899e2d
Author: Bill Nottingham <notting@redhat.com>
Date:   Wed Sep 13 15:40:23 2006 -0700

    Bug 7641: fix comment written to Xorg.conf (s/VertSync/VertRefresh/)
    
    X.Org Bugzilla #7641 <https://bugs.freedesktop.org/show_bug.cgi?id=7641>
    Patch #6349 <https://bugs.freedesktop.org/attachment.cgi?id=6349>

commit 182e5e0f4ba4c98a34bc52bdf4032ba315fe80ad
Author: Drew Parsons <dparsons@debian.org>
Date:   Tue Sep 12 14:30:46 2006 +1000

    Xprint: revert installation of /etc/X11/Xsession.d/cde_xsessiond_xprint.sh
    pending resolution of #8232.

commit 594d4019c613b0f4bf8f48cc074ecc3c8366f1d7
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Tue Sep 12 01:15:40 2006 +0200

    transformIsIdentity() now doesn't accept a zero matrix as the identity.
    
    Added a non-zero test for one of the diagonal values.

commit fc30370d14125f86ee1192890a184881fa139546
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Sep 11 19:43:09 2006 +0200

    Bug #8226: Fixed SetPictureTransform()'s handling of the argument matrix.
    
    It now recognizes scaled variants of the identity matrix, too.

commit 2b357e9a2f9038cf9cd07da908e3103a3d0965c9
Author: Donnie Berkholz <dberkholz@gentoo.org>
Date:   Sun Sep 10 22:17:20 2006 -0700

    If we're installing libxf86config, install headers needed to build against it.

commit 58933757862c458e2da39bd464e50d9c0e41b313
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Sun Sep 10 15:50:51 2006 -0400

    Warning fix, and a syntax fix in a #if 0 section of code.

commit 0a3740a0000191e3039fe183ae51b938d0548340
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Sun Sep 10 15:49:25 2006 -0400

    Typo correction, 'i' is not a '1', so no longer crash on some Xi requests.

commit 8d709f0280b458515b32c2b87938749428e5c149
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Sun Sep 10 15:48:35 2006 -0400

    Remove a merge artifact so that we can compile.

commit b3a3020fd018df8bc5a8193d36e1a1c7ae8af8ba
Author: Jesse Barnes <jbarnes@nietzche.virtuousgeek.org>
Date:   Sun Sep 10 11:13:18 2006 -0700

    the new PCI mapping routines are broken on sparc64 (in fact they look
    broken for any 32 bit X server running on a 64 bit kernel) so #ifdef
    them out for now.  the PCI rework tree will make all this crap go away,
    so I think we can tolerate the extra #ifdef for the next release.

commit 60db190ecfce52cbfa888c0af3210634f9186bed
Merge: 5e9d33f 6525610
Author: Zephaniah E. Hull <warp@agamemnon.b5>
Date:   Sun Sep 10 03:49:17 2006 -0400

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 65256109bb8f5a26704ed960e1dd113981df5787
Author: Drew Parsons <dparsons@debian.org>
Date:   Sun Sep 10 17:40:37 2006 +1000

    * Define XPSERVERLIST with `/etc/init.d/xprint get_xpserverlist`
      instead of `/bin/sh /etc/init.d/xprint get_xpserverlist`
    	- allows the initscript to set its own different shell under #!
    	- allows disabling of XPSERVERLIST by making the script non-executable
    * Allow files to be installed by using dist_*_DATA instead of EXTRA_DIST.
      Also, use dist_*_SCRIPTS to install scripts.
    * Fix minor typos in man pages.

commit 6950267dd690ef8e29b1c32a157dd64c9b79c06d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:31:18 2006 -0400

    Add SELinux extension configure-time support.

commit fb34c02861ab3629c1c85c156e73b158518db7c7
Merge: 9c503f0 d1110c5
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:30:12 2006 -0400

    Merge branch 'my-XACE-modular' into my-XACE-SELINUX

commit d1110c5c83a7f439158f369ab2f3ae614fa9d2a5
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:28:48 2006 -0400

    Generalize the handling of configuration files that ship with extensions.

commit 9deb579dc9366590203afe0576bf88643ab36c89
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:25:17 2006 -0400

    Zero out newly created ExtensionEntry structures, but only after the
    devPrivates have been initialized.

commit cec392656cda1c938d5462e1949e6eef489f9168
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:24:23 2006 -0400

    Zero out newly allocated ClientRec structures.
    This is required to initialize the devPrivates to a known state.

commit 0fba09cdfcc78161f5c92bef6cca53e5309656bd
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:23:06 2006 -0400

    Include dix-config.h.

commit c93877100eb98647c5b6b8556730d54677f730b6
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:21:57 2006 -0400

    Don't need to allocate memory now that devPrivates are being used.

commit 9c503f09ce78d952d0ece77c424e42b6df3fa9ad
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:17:01 2006 -0400

    Add SELinux extension to the module/extension loader.

commit 9aa44e3e4c321f42d8e64f83c7f0932470593c26
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:15:19 2006 -0400

    Add SELinux extension configure-time support.

commit 150eabc4c8a08c81c48493583f922a1240b7e91c
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Sep 8 15:11:04 2006 -0400

    Add SELinux extension source files.

commit 86450998da616e3d00d4d6293acc35eccc2061e7
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Sep 7 15:35:16 2006 -0400

    Fix AIGLX VT switching.
    
    See https://bugs.freedesktop.org/show_bug.cgi?id=7916
    
    There may be a simpler, less intrusive fix that involves just rearranging
    DRI locking between 2D and 3D drivers around VT switch.

commit 5e9d33fe87f9d24e55c468d4b2bb761c9efdb26a
Merge: 629798c 64479ff
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Sep 7 15:43:31 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 629798c73ad76a77fa6a55bc6403fd9b95ade2bb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Sep 7 15:17:04 2006 +0300

    XkbCopyKeymap/SrvXkbCopyKeymap: free geom harder, add cheery comments
    Unconditionally free geometry when copying the keymap (so we have none on
    core, oh well), add a couple of heartening comments.

commit 64479fffa22581cc7d753065c33eda5520b7db9a
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Sep 6 16:13:21 2006 -0700

    Remove prototypes and externs for non-existant functions and variables.

commit a0179281a6522ec59830e8f2549633741bc56e10
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Sep 6 15:45:48 2006 -0700

    Remove prototypes for non-existant functions.

commit 8356be492c6b46abdffa08b13836571ed872e16f
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Sep 6 15:20:55 2006 +0200

    Make sure _XSERVER64 is defined when it should be and gets tested.

commit f6ce0839ba5b73247097826d28f7388fe248ec0c
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Wed Sep 6 13:18:02 2006 +0200

    Fix #include paths for fontcacheproto headers.

commit f39fd4242902eaa862321d39337f429dd14ebacf
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Sep 5 15:23:54 2006 -0700

    (unsigned long)(1 << 31) = bad news on x86_64.
    (cherry picked from 410e5b1d738ba47b36778e6cbed44023a27ce259 commit)

commit 410e5b1d738ba47b36778e6cbed44023a27ce259
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Sep 5 15:23:54 2006 -0700

    (unsigned long)(1 << 31) = bad news on x86_64.

commit 0b81fccd2ee4e054e5cffb739de07460ff2c13f7
Merge: 20c4ac6 c281351
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Tue Sep 5 18:03:25 2006 -0400

    Merge branch 'master' into my-XACE-modular
    
    Conflicts:
    
    	configure.ac

commit c2813514cf7b1a36caa848cbc2ceef99cf2eb769
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Aug 31 15:36:13 2006 -0700

    Add missing file from previous commit.

commit 0f9cfb2f752a9010ff07f4b2bd891db0cc30b8e6
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Aug 31 13:54:10 2006 -0700

    Implement GLX_SGI_swap_control.
    
    Regenerate from glX_API.xml 1.2.  Add infrastructure to support
    GLX_SGI_swap_control for AIGLX when the DRI driver enables it.  Tested
    with R300.

commit a9ef5862919313582f72fc0cfb5ab0af4df6507e
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Aug 31 13:47:50 2006 -0700

    Fix problems with vertex program protocol
    
    There were two sets of bugs in the vertex program (ARB and NV)
    protocol.  First, several of the ARB functions were missing the
    'doubles_in_order="true"' annotation.  Second, after the ARB decided
    that glVertexAttrib*ARB functions must not alias fixed-function state
    for GLSL, Nvidia re-assigned GLX protocol opcodes for
    glVertexAttrib*NV (circa Septeber 2004).  For some reason gl_API.xml
    was never updated to reflect this, and the updated version of the
    GL_NV_vertex_program spec never made into the registry.
    
    This is just a server-side regeneration from gl_API.xml version 1.68.

commit 69d5becce4ca2cfc8f8de53672ed54a47de62164
Author: Matthew Allum <mallum@openedhand.com>
Date:   Thu Aug 31 17:30:24 2006 +0100

    Fix previous commit breaking other kdrives pulling in fbdev.a

commit fd609956f27d76ee76ac8623787f0fc8633a5546
Author: Matthew Allum <mallum@openedhand.com>
Date:   Thu Aug 31 17:18:57 2006 +0100

    Add framebuffer device command line switch for Xfbdev

commit 2fb7b8795a9a36cce61f6449f6ca26ffd1b071f0
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Aug 29 16:35:32 2006 -0700

    Minor extension tweaks.
    
    GLX_EXT_texture_from_pixmap should always be enabled.
    GLX_SGI_video_sync is only for direct rendering and should never
    appear in the server's string.

commit 1c8851ad491dd02d1c79e620b46384956838ed42
Merge: d59b52f 5ddbf4b
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Aug 29 16:34:04 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit d59b52fc08f2d80b38993e383e61c3eeb0bb0763
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Aug 29 14:40:13 2006 -0700

    Make sure unsupported extensions are disabled.
    
    GLX protocol isn't supported for GLX_SGI_swap_control or
    GLX_SGI_video_sync.  Remove them from the list of available extensions
    until they are supported.

commit db6d04d4b87fd9b6409a3ddf0479a88440c2eda1
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Aug 29 14:35:08 2006 -0700

    Add support for AIGLX drivers to enable GLX extensions that they support.

commit 5ddbf4bcd46fe0d3d682668c2748c712fea410ae
Author: Matthew Allum <mallum@openedhand.com>
Date:   Tue Aug 29 22:07:15 2006 +0100

    Re-add support for tslib (1.0 release) and Xcalibrate extension.

commit 4524a2bf6f22c871ed109b027a065f0262137dc5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 29 23:49:26 2006 +0300

    configure.ac: move tslib from KDRIVE_PURE_LIBS to KDRIVE_LIBS
    Yeah.  That was dumb.

commit 942b4369990a255257f66835caf8671432c405a3
Merge: 77d315b 393dc0a
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Aug 29 13:30:37 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 77d315bd2fd2f9014c831d313efbe5821189177c
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Aug 29 13:30:20 2006 -0700

    Remove __glXNoSuchRenderOpcode because it is no longer used.

commit 260c3f32b69c98f8fc5360f860f69d32c19f04a7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 29 23:18:12 2006 +0300

    configure.ac: fix XSDL test

commit 393dc0a3388d56186181b2bd9bcc1d267747e709
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 29 22:53:54 2006 +0300

    kdrive: remove @KDRIVE_LIBS@ from Xfoo_DEPENDENCIES

commit cff23616fe45e10c6786a303c8dcfc0a80463a53
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 29 22:44:09 2006 +0300

    configure.ac: allow disabling of XSDL

commit 89d272bb183e85715d8e6047929fb2d912033d82
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Tue Aug 29 15:05:31 2006 +0300

    [PATCH] kdrive/linux keyboard: remove more debugging spew

commit bd6f539ff9409aa7d9056fabe120b457b0a15997
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Tue Aug 29 13:21:58 2006 +0300

    [PATCH] kdrive/linux keyboard: silence excessive debugging noise

commit 5436fce09003e20744a388fa4ae49007c9cf8ede
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Tue Aug 29 13:21:40 2006 +0300

    [PATCH] GetKeyboardValutorEvents: be even more careful
    
    Don't accept devices without a keyboard feedback class.

commit 0eb7299f445455a7bcacf2410e83227b23259675
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Tue Aug 29 13:19:12 2006 +0300

    [PATCH] XkbCopyKeymap: still more range fixes
    
    Make sure we don't stomp preserve if it doesn't already exist, and fix a
    couple of range-related thinkos in level name copying.

commit 7fa3383e3c8eea7d1eb0e556393f2431cf8e6ed2
Merge: 8d77d44 ebbdc13
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 29 15:16:01 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit ebbdc1342a243b301723390696f742dc91f59764
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Mon Aug 28 18:17:32 2006 -0400

    Remove calls to LoaderCheckUnresolved(), since it's now a stub.

commit 8d77d44fda3aacbae62864a3620e09095b79e92d
Merge: d6f36bd 2fde560
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 27 23:08:49 2006 +0300

    Merge branch 'origin' into input-hotplug

commit 20c4ac6e038607ebbf6c04639670514c016d8597
Merge: 13c6713 8d4f21a
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Aug 25 18:49:46 2006 -0400

    Merge branch 'my-XACE-SELINUX' into my-XACE-modular

commit 13c6713c82763a85c725c998b37ad02156d803ba
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Aug 25 18:17:01 2006 -0400

    Add four new XACE hooks: auditing, key event notification, window init

commit 2fde560bbb9c1148f26fd969dc30c4e736672b7c
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Aug 25 13:01:51 2006 -0700

    Enable GL_EXT_texture_filter_anisotropic and GL_EXT_blend_equation_separate.
    
    Re-generate from gl_API.xml 1.65.  This provides the missing bits for
    GL_EXT_texture_filter_anisotropic and GL_EXT_blend_equation_separate.
    Enable those extensions.

commit e2d529963ed40b5f113cf82c17809d241cd4aac1
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Aug 25 12:05:16 2006 -0700

    Enable vertex and fragment programs.
    
    Implement glGetProgramStringARB and glGetProgramStringNV.  With these
    functions implemented, GL_ARB_{vertex,fragment}_program,
    GL_NV_{vertex,fragment}_program, and related extensions can be enabled.

commit 21291d6ca7188e5733ed0c93215ee0f1f0f90cc9
Merge: 1a5561c cd2da4e
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Aug 25 09:34:21 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit d6f36bd28009881ef7f7a20cdadb3808d808ed97
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 25 12:43:17 2006 +0300

    xfree86/parser: use 'kbd' driver when 'keyboard' specified
    Now that we've completely ditched the old driver, we should probably make a
    best-effort attempt to keep configs working.

commit 7c4167f0d6b33c9c602b04fcfd246fd3aeddd709
Merge: 393f834 cd2da4e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 25 11:15:33 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 393f8347edcccfc24d8902a86ea9def7ada2537b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 25 10:46:32 2006 +0300

    xorgconf.cpp: kbd, not keyboard

commit c33e39c86be2010b169ffbd8adbe53b93222dc5f
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Aug 24 20:33:57 2006 -0700

    Finish support for GL_ARB_texture_compression.
    
    Fill in __glXDisp_GetCompressedTexImageARB and
    __glXDispSwap_GetCompressedTexImageARB to finish support for
    GL_ARB_texture_compression.  With this extension (and the related
    compression extensions), the server-side GLX supports all of the
    protocol for GL 1.4.  w00t!
    
    The bad news is that this has received only minimal testing, and Mesa
    does not contain any good tests for GL_ARB_texture_compression.

commit cd2da4e41eae233b50f8830d9a8f5d1d916a5a1b
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Aug 24 18:00:16 2006 -0700

    Remove GL/glx/g_disptab.c, GL/glx/g_disptab_EXT.c, and
    GL/glx/g_disptab_EXT.h.  Unfortunately GL/glx/g_disptab.h has to be
    kept around a bit longer.

commit a29e6dd2d2d45c18c52737bb3b7945aafcea5032
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Aug 24 17:58:52 2006 -0700

    Add some missing bits of GL_SGI_color_table.

commit ae608b2071d882966e9c7ede71f846b1ecec0b23
Merge: 2c86527 b879356
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Aug 24 14:56:33 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 2c865277fe1d056981d1020e1af001d2319252c0
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Aug 24 14:54:49 2006 -0700

    Regenerate from gl_API.xml 1.63.  Enable extensions.
    
    gl_API.xml 1.63 corrects some problems with GLX protocol for
    GL_EXT_paletted_texture and GL_SGI_color_table.  Regenerate from that
    file, and enable those extensions and GL_EXT_shared_texture_palette.

commit 7d5de5c6657304246473d7ddd5c29bb0c7a3bc34
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Aug 24 14:49:46 2006 -0700

    Regenerate from gl_API.xml 1.62.  Functions move, no real changes.

commit 3a36b0a24aa9e9e238faa7f00100f59800f5142b
Merge: db1ab1b b879356
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 24 23:35:28 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit db1ab1bdb2f79eca593fe247056309a16ebd29c6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 24 23:33:59 2006 +0300

    XkbCopyKeymap: fix various range issues
    Fix a bunch of range issues caused by incorrect assumptions (e.g. that the
    design was at least halfway sensible), and copy types by hand, instead of
    just blindly memcpy()ing the lot, since it itself cleverly contains a ton
    of allocated pointers.

commit 5fb8d947bb88d715b9b236342885c445cb5a9387
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 24 23:16:43 2006 +0300

    configure.ac: more thinkos
    Fix auto tests for vidmode and xf86dga.  I win at life.

commit 4e37c07ba6e5d299d4f8922dc6cf054c814f7baf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 24 23:16:17 2006 +0300

    config: clean up debugging messages, make failure to acquire name fatal
    Bomb with FatalError when we can't acquire the bus and name.
    Clean up a bunch of debugging ErrorFs to be hidden behind #ifdef DEBUG.

commit b879356ce96929d02bcb75b9aa24b17ac7e28125
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 24 15:50:15 2006 -0400

    More #ifdef USE_DEPRECATED_KEYBOARD_DRIVER.

commit 4ed311cf1c29090c53e474a3001c5702ff8409df
Merge: 73e58ad b29b236
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Aug 24 20:17:10 2006 +0200

    Merge branch 'master' of git://anongit.freedesktop.org/git/xorg/xserver

commit b29b236d88789fd45d823a55dbedb393bb134c5b
Author: Lukáš Turek <8an@centrum.cz>
Date:   Thu Aug 24 15:57:09 2006 +0200

    Adapt to Mesa header name change.

commit ce4a0a4ddafd3833d7025f83ed3729915c8aba70
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Aug 24 13:56:22 2006 +0100

    Apply patch in bug #7919, blit improvements in
    multiwindow mode for Xming/CygwinX

commit 866ca1f929c95689bac9f0a0b3478f7b4d77214b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 24 15:46:44 2006 +0300

    configure.ac: fix XF86VidMode test

commit 2b06c69c8feaf3bdc065635ee711efa45b3033b3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 24 14:51:26 2006 +0300

    GKVE: pass correct arguments to XkbCopyKeymap
    Fix horrendous thinko.  Indicators now work perfectly.

commit 4adf9af313c9f63b6ad734e174efe1d36ddb5813
Merge: 33af05d 67bd672
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 24 10:59:33 2006 +0300

    Merge branch 'master' into input-hotplug

commit 67bd672c880869ef625ae0c0163c3ec1eba46abf
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Aug 24 08:47:06 2006 +0100

    Fix typo

commit 733c4beb16c2c4ad9e9a4ea9a85b09fc5062a775
Author: David Nusinow <dnusinow@debian.org>
Date:   Wed Aug 23 22:39:42 2006 +0000

    Add xorg.conf IgnoreABI option which does the same thing as -ignoreABI

commit b983773d446cef6a0948ca264ed48126e404ae9a
Merge: 0623d36 d9a8656
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 23 17:16:50 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 0623d3643fc28ebc514b2ca872c985d0cf0c753a
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 23 17:16:02 2006 -0700

    Fix the sorting of the extension string.  Add a few extensions that
    are supported by the new code.  A few of these were actually supported
    before but weren't advertised.

commit 5d2caacff570dd68bb3fb05e776e02515b2a9da0
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 23 16:47:00 2006 -0700

    Refector __glXDisp_Render and __glXDispSwap_Render to DoRender.
    Refector __glXDisp_RenderLarge and __glXDispSwap_RenderLarge to
    DoRenderLarge.

commit 866bb3f34046045c9fa0744db1d76e035b3da9c7
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 23 16:41:53 2006 -0700

    Memo to myself: Whenever a Makefile.am changes, autogen.sh must be
    re-run.  This is especially true if the change is to remove a source
    file.
    
    Fix RenderLarge to actually use the new protocol decode tables.

commit d9a86566c21afd7985673f3ed851b055d9dac46f
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Aug 23 16:15:19 2006 -0700

    Add LOCALCONN to dix-config.h template for xtrans

commit f6fd7d8f8393f93705e76b2b2777a0d9bcafa991
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 23 16:05:37 2006 -0700

    Convert protocol decode tabels for Render and RenderLarge to use nice,
    compact N-way search trees generated by scripts in Mesa.

commit 7ae82b5fc8721be78b43a322bbf2c46aac08b8cf
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 23 16:00:48 2006 -0700

    Fix __glXDispatchInfo::dispatch_functions and
    __glXDispatchInfo::size_table.  dispatch_functions had the const in
    the wrong place, and size_table was declared as an array of two
    pointers to int_fast16_t instead of a pointer to an array of 2
    int_fast16_t.  cdecl to the rescue!

commit 39a620d17809dc71fb5ad61a955fe3c442f90a05
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 23 14:24:34 2006 -0700

    Rename __glXDrawArraysSize to __glXDrawArraysReqSize.  This makes its
    name match the pattern of all the other functions in
    __glXRenderSizeTable.

commit 86406455f0e5fc977431948611e9bb5fda1e1d46
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 23 13:30:59 2006 -0700

    Re-generated files after a fix to glX_API.xml (in Mesa).

commit d7a7f12361d31001bbd9394a57de029ef0b934b8
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 23 13:30:13 2006 -0700

    Convert protocol decode tables for Single, VendorPrivate, and
    VendorPrivateWithReply message to use nice, compact N-way search trees
    generated by scripts in Mesa.
    
    The Render protocol decode tables are next...

commit bdec9680fa74dd23cf319d09af1940f8cf71a5b1
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Aug 23 14:43:23 2006 -0400

    Make sure Composite is never enabled for Xnest.

commit 9f2a108051aad9b024ab737b45fc12290a113e37
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Aug 23 14:38:34 2006 -0400

    Make 'Xvfb -render' also disable Composite, lest we segfault on startup.

commit 33af05d58f1f4f021036e9ce4b60fd76dbaebe73
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 23 19:05:50 2006 +0300

    XkbCopyKeymap: use correct range for MapNotify
    We haven't copied {min,max}_key_code by the time the notifies run, so use
    src instead of dst to determine number of keys, et al.

commit 6323a11d0db4d3cf0317af83f0362730142f5325
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 23 18:53:04 2006 +0300

    XkbCopyKeymap: optionally send NewKeyboardNotify/MapNotify events
    Optionally send a NewKeyboardNotify or MapNotify event when copying the
    keymap; modify GetKeyboardValuatorEvents to make use of this.

commit 728fbadd16a748b45c80bc2c65c46f82cf803578
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 23 14:33:59 2006 +0300

    gitignore: ignore vi swap files

commit 8f8487ff997670a4af0293fed77ff920cfc39fb1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 23 14:33:41 2006 +0300

    xkb/gkve: copy XKB map, not pointer-assign
    Write a new function to copy an XKB map (does everything but geometry at
    the moment), and use that instead of nasty pointer assignments.

commit 52ba722e4c89c052609b4fc62e965d92778aa2dd
Merge: 9138d5a 0554125
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Aug 21 18:49:31 2006 -0400

    Merge branch 'XACE-modular' into my-XACE-modular

commit 05541259bdb0dfaab015a01caa3722b7a1b782e2
Merge: c2535f6 a1ac044
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Aug 21 13:07:41 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into XACE-modular

commit a56b98bb047003a05e26ca9365c212a2da7ac200
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Fri Aug 18 18:03:41 2006 +0300

    dix: enable null root cursor
    
    Enable a blank root cursor, selectable with --enable-null-root-cursor at
    configure time.

commit 0704bb298cc826cd117815898c6bc015a693c2c9
Merge: c140369 a1ac044
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 18 17:30:14 2006 +0300

    Merge branch 'master' into input-hotplug

commit a1ac0440bba690368aa4226468ce571be1a09d95
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 18 17:30:00 2006 +0300

    dix: fix whiteroot thinko
    Note to self: run git update-index _after_ testing, not just before.

commit c14036977fef7b8787c0b68f5262fa0b6a2834f5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 18 17:24:34 2006 +0300

    input.h: add InitCoreDevices prototype

commit 1c2cb30cd88ba4453f9da339025f8ff39f7f5412
Merge: 633b6a6 70ddd0f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 18 17:05:50 2006 +0300

    Merge branch 'origin' into input-hotplug

commit 19f673b7788d32c220e7e06734f1074b0e4a999c
Merge: cb0a565 70ddd0f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 18 17:05:41 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit cb0a565d2b2cf8823abbd77b4426cc2237731dc1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 18 17:04:48 2006 +0300

    dix: add whiteroot flag
    Add a -wr option to use a white root window, and use a BackPixel rather
    than BackPixmap for both white and black root windows.

commit 70ddd0f39d5118db72a1a4e473cbfb502f1ed9ec
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Aug 18 14:43:10 2006 +0100

    Fix bug #5735, Serious flaw in CygwinX clipboard
    integration prevents paste from X to Windows apps
    (Brett Stahlman & Colin Harrison)

commit 708b225689b5a4ba9ffe3372b584b715ef9eacdc
Merge: e1f4565 ee5e2cb
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Aug 18 09:13:52 2006 +0100

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit e1f4565be5ce80be4655e81f77f4073fa3fbf8d0
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Aug 18 09:11:48 2006 +0100

    Fix bug #7302, make Xn.hosts work from the
    Microsoft Windows install directory on Xming.
    (Colin Harrison)

commit 1880defe4eaba02f9585b154d0883235eabc6d11
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Aug 18 09:09:53 2006 +0100

    Fix bug #7281, clipboard viewer should not
    call SetClipboard viewer when bogus in Xming/CygwinX
    (Colin Harrison)

commit a1a8e4f7f5917f537eb3dd51d3d6fa3e129236ce
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Aug 18 09:08:12 2006 +0100

    Fix bug #7280, round title corner background
    should be transparent not black in Xming/CygwinX
    (Colin Harrison)

commit ee5e2cbd2bee610a95facc6b486c4a5070973099
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 17 17:29:32 2006 -0400

    Un-cut-and-paste the mode rejection message.

commit 43e42eef1f5a22703eb64fc9cffecde036ea38e0
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 17 16:22:07 2006 -0400

    Fix default mouse device on Linux, again.
    
    It would be really nice if we only did this in one place instead of 40.

commit 633b6a69f560c0a77dcff78fdef5fcf0041e2e04
Merge: 95dbfcf 7da5144
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 17 21:25:14 2006 +0300

    Merge branch 'master' into input-hotplug

commit 7da51447eaab34292e14077fb5a48e6b2e587781
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 17 21:24:07 2006 +0300

    events.c: fix tiny XEvIE thinko
    Make sure xeviehot gets updated after the ConfineToShape() call.

commit 5d082f05632906c29296a44ef5c3a4962c0cbe62
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 17 21:18:18 2006 +0300

    events.c: make XEvIE a little less verbose
    Change a lot of:
     #ifdef XEVIE
     xeviehot.x =
     #endif
     sprite.hot.x = ...
     #ifdef XEVIE
     xeviehot.y =
     #endif
     sprite.hot.y = ...
    to one single
     #ifdef XEVIE
     xeviehot.x = sprite.hot.x;
     xeviehot.y = sprite.hot.y;
     #endif
    at the end of the functions.

commit 95dbfcf8828c041c218145afc87d21a6c9c7bc02
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 17 21:18:18 2006 +0300

    events.c: make XEvIE a little less verbose
    Change a lot of:
     #ifdef XEVIE
     xeviehot.x =
     #endif
     sprite.hot.x = ...
     #ifdef XEVIE
     xeviehot.y =
     #endif
     sprite.hot.y = ...
    to one single
     #ifdef XEVIE
     xeviehot.x = sprite.hot.x;
     xeviehot.y = sprite.hot.y;
     #endif
    at the end of the functions.

commit c6c39afde3e5f43b623ca6b52162b83c98a28d45
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 17 21:13:09 2006 +0300

    dix/events.c: add YAFIXME
    Add another FIXME to the cacaphony of XXX and FIXMEs in this file.

commit f9624e0109cf12b6af43fb4235aaa0b54340a4bb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 17 16:09:51 2006 +0300

    kdrive/input: verify SIGIO with --enable-debug

commit 73e58adda96c1d1b5176d819107faa7697c3eb94
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Aug 16 18:17:58 2006 +0200

    Fixed segfault w/ broken Xinerama configs.

commit cd3f744b1f983f71476db99c050045d981c5f5b2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 15 15:54:13 2006 +0300

    fix missing brace, trim unused variables

commit 5d073697adb3864133fa3221b82ab8d2f4a59758
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 15 15:37:10 2006 +0300

    kdrive/input: minor warning cleanups
    And also a compiler error fix when VERIFY_SIGIO is defined.

commit 47c1c948e69cfba950ad37a3133fa2db0bd0ff2c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 15 15:25:16 2006 +0300

    kdrive/input: only run special key behaviours on non-XKB
    Only attempt to manually deal with special key behaviours (e.g. terminating
    the server) when not using XKB, and leave locking behaviour up to GKVE.

commit 34228d8b280ef105a0c60b8de5dacf70a5ce24b5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 15 15:23:53 2006 +0300

    GPE: fix absolute button events / GKVE: (non-XKB) don't repeat lock keys
    Fix absolute button events in GPE, where we would previously send valuator
    events without bumping numEvents accordingly, causing the core event to
    go missing.
    In the non-XKB path in GKVE, implement proper lock behaviour (one press to
    enable, one press to disable, discard releases).
    Fix debug_events prototype.

commit d003bada3352ec7d734498c4c732904876a9d1e2
Merge: d6433be a815b9b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 12 22:48:55 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit a815b9b990e068f02d9cbba2b17f2cc3a30a9310
Merge: 37943e2 984babe
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 12 21:58:33 2006 +0300

    Merge branch 'master' of git+ssh://gsap7@git.freedesktop.org/git/xorg/xserver

commit d6433be3cca807dd78fbb1f45d9ba0212283083d
Merge: 2bf9e3d 984babe
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 12 21:50:52 2006 +0300

    Merge branch 'master' into input-hotplug

commit 2bf9e3dc1ec5fd7bf84a4a96899e5663a721d4a4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 12 21:50:39 2006 +0300

    make DIX more tolerant of devices without a CtrlProc (Debian #269860)
    Return BadDevice on client requests for devices without a CtrlProc, instead
    of tanking horribly.

commit 984babe86bf82002b4d6589b2750c7b5a5489bd5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 12 21:43:38 2006 +0300

    remove obsolete vendor defines
    Remove random behaviour changes for SGI and MetroLink.

commit 37943e2f1abc6709ff739000372b0394d5cd18c5
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 12 20:54:33 2006 +0300

    Call exaTryComponentAlphaHelper() for solid src also.
    
    Also, rename to exaTryMagicTwoPassCompositeHelper() as it is now called for
    non-component-alpha masks also, and add function description from
    http://anholt.livejournal.com/32058.html.

commit f7919c287936f55569c2301ebb1b5f52358e70fa
Author: Bastian Blank <waldi@debian.org>
Date:   Sat Aug 12 20:43:25 2006 +0300

    xfree86: don't do legacy IO on ARM or S/390 (Debian #362641)
    Don't attempt to poke legacy IO ranges on ARM or S/390.

commit 59dcc62906d8ee597cd43aa307f414cb47995cea
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 12 20:39:08 2006 +0300

    xfree86: remove Xqueue support completely

commit e641000b98e7c2e92e3c801eaa42aa15d5c16ad0
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sat Aug 12 19:41:59 2006 +0300

    xfree86: add Hurd support (#5613)
    Add support for GNU/Hurd.

commit 5a3488ccac8e5dabd9fc98bc41ef178ead1b2faf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 12 19:25:06 2006 +0300

    configure.ac: fix execinfo.h test (Debian #363218)
    Define HAVE_EXECINFO_H as well as HAVE_BACKTRACE, when we find execinfo.h.

commit 26c3cd1c9e3f52548389817a6d89a377e20c4269
Merge: 008aa7e c4951e0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 12 18:58:18 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 008aa7eb6ed090384e6c44f861410e317c78a1cd
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 12 18:56:05 2006 +0300

    completely remove OS keyboard layer
    Completely axe the keyboard layer from os-support.

commit c4951e0a6b6cf3eeee710cc5cda1d9bc929ee3d7
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 10 20:49:06 2006 -0400

    Fix a mode sanity check to not break reduced-blanking setups (LCDs).

commit e1921f014b102e3eecf3b41972f8672cf23264d6
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 10 20:43:15 2006 -0400

    Rename some mode tokens to better reflect their use.
    
    Per #5386, M_T_EDID -> M_T_DRIVER, since it's really for any driver-detected
    mode.  Also add M_T_PREFERRED bit, to select a 'best' mode out of a set.

commit c2535f67923bde0bfb0e72363467110806e2f40f
Merge: c0cb8d1 db82e12
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Aug 10 10:37:59 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into XACE-modular

commit 9525c2709ea3245c6518d4c3b5a0a4afff37181d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 10 20:29:57 2006 +0300

    configure.ac: fix xephyr conditionals
    Fix Xephyr build conditions, allowing it to actually be disabled.

commit 6d8d4abaaacf08140b673472d985117d448a62e7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 10 20:28:06 2006 +0300

    configure.ac: allow conditional building of XF86{DGA,Misc,VidMode}
    Allow conditional building of the above three extensions, defaulting to
    auto.

commit 1a5561c4ecccaf32b03c41373adf376100d457aa
Merge: 190f229 db82e12
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Aug 10 10:20:37 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit cec284f2b3e948deb9e56a1a8519fddf693ab952
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 10 18:03:58 2006 +0300

    kdrive: properly ifdef composite enabling

commit 45bce556e8665412b9f6e89f88ed5bedb41de1ba
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 10 18:02:47 2006 +0300

    GetMaximumEventsNum: be more conservative
    Be slightly more conservative in our maximum event count if we're using
    XKB (and thus don't need to count the extra repeat events).

commit 172d45b9b75f95c997d1e9358040eead496e2a06
Merge: 3832a3d db82e12
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 10 14:14:54 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 3832a3d7db0f3b5d7167e3b3b5ea6d6b3d96351a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 10 14:13:51 2006 +0300

    GKVE: don't repeat modifiers when using XKB
    Make sure we don't ever repeat modifiers (previously was repeating when
    using XKB); only do explicit KP/KR repeats in the non-XKB case.  XKB will
    take care of repeating when we're using it.

commit 9f188416bb6b4837d4c3f8773053d5eee0ff0ee1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 10 14:00:34 2006 +0300

    core devices: clear devicePrivates on close

commit 539d1f33475484d35fb5a377efc76dba2d868e3f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 10 14:00:14 2006 +0300

    GKVE/GPE: have DDX allocate events
    Don't allocate events on every GKE/GKVE/GPE call, just have the DDX manage
    it instead.  Introduce GetMaximumEventsNum(), which is the maximum number
    of events these functions will ever produce.

commit db82e12fac5eaa16a39fc1bd0bc31ad95089dc95
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Aug 9 14:55:17 2006 -0400

    Remove TargetRefresh option from the autoconfig logic.
    
    The default target of 75Hz is almost always wrong for LCDs.

commit fcd4167e8913f77bdf9e17a6955d0f2a9f4eeb10
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Aug 9 14:48:51 2006 -0400

    Remove the bc flag from the -help text, since it's gone.

commit 767f372dd02232469f9fd804b811a17eaf762e1e
Merge: c4f5de6 462bb61
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Wed Aug 9 20:23:30 2006 +0200

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit c4f5de6cc3b935025829af971b0b8010c1ecfedb
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Wed Aug 9 20:21:52 2006 +0200

    Sanitized glxdri's Block/Wakeuphandler calling.
    
    __glXDRIleaveServer() and _enterServer() used to call DRIDoBlockHandler
    (resp DRIDoWakeupHandler) directly. They are now calling DRIBlockHandler
    (resp DRIWakeupHandler) to account for driver specific block/wakeup
    hooks.

commit 5506b4ad200745236f997c121e8200179c47b749
Merge: 4be9abb 462bb61
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 9 07:21:01 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 4be9abb8504b3761b5f3a01851e4eb3da86c76e2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 9 07:20:16 2006 +0300

    kdrive: remove ddx_DEPENDENCIES
    Remove foo_DEPENDENCIES as they weren't guaranteed to just be libs,
    and loader arguments (-lfoo, -Lfoo) might've crept in.

commit 462bb61b0fe968fae1b99cf98ec6f7de09105dcd
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Aug 8 18:07:22 2006 -0700

    Add CompositeRegisterAlternateVisuals.
    
    This provides drivers the ability to add their own alternate visuals and then
    register them with Composite for implicit redirection.

commit 190f229ed77d87797e0f2f6762c86b3ad3a3dcbe
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Tue Aug 8 16:47:32 2006 -0700

    Make xf86PciVideoInfo static since it is only used within this file.
    
    Dummy out all of the PCI bus and device access control functions.  We
    need a better way to do this, and that will probably be in
    libpciaccess and / or the kernel.
    
    Refactor xf86GetPciInfoForEntity to use pci_device_find_by_slot.
    
    Refector xf86CheckPciSlot to use xf86GetPciEntity.
    
    Eliminate disablePciBios and the one place that calls it.

commit 5508f7646f9754b054e961a1025b7a52913b563b
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Tue Aug 8 16:43:31 2006 -0700

    Remove prototypes from some functions that were previously removed.

commit 9df53d903ed68073bf7d2c2a275b6f6556a85c0f
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Tue Aug 8 16:42:23 2006 -0700

    Rename xf86ReadDomainMemory to xf86ReadLegacyVideoBIOS, since that's
    what it is actually used for.  Modify a few routines in linuxPci.c to
    take pci_device structures as parameters in stead of PCITAGs.

commit fe351a711ef55c3ae1e784d4551147c080eda109
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 8 14:54:10 2006 +0300

    GKVE: send XkbMapNotify, not XkbNewKeyboardNotify
    Sending MapNotify is more correct in this case than NKN, so do that.

commit 31089816317f27c668b12a15c74fdd226a8df9f7
Merge: ab3ebfe 12dbd8a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 8 12:01:12 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit ab3ebfefdb7d21aba72a5030f6f93bf4fafed709
Author: Tiago Vignatti <tv02@c3sl.ufpr.br>
Date:   Tue Aug 8 12:00:34 2006 +0300

    xorgcfg: fix compilation error
    Add missing parentheses to IS_KBDDRIV macros.

commit 12dbd8a02f797ad57a1be683a02a1fcb1ca35438
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 23:43:40 2006 +0300

    remove optional R3 backwards compatibility
    Remove the permitOldBugs flag, which enabled backwards compatbility with
    broken R2/R3 era clients.

commit 7721ee308fbbb6fc9c969f15fe04b3346c04f843
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 23:03:02 2006 +0300

    config client: fix minor race with event queue
    Fix a small race whereby you could remove a device while events from it
    were still in the queue, by calling ProcessInputEvents immediately before
    RemoveDevice, to (hopefully) flush the event queue.

commit 458c63a84110f64c7fce397a531a3a779c2239a2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 23:02:17 2006 +0300

    enable adding devices after removal of a middle device
    Allow new devices to be added after a device that _wasn't_ the last on the
    list was removed, by ensuring inputInfo.numDevices always increases, and
    never decreases.

commit a31d11a7a8485cdc799f76c4d407d3b7f7c9b350
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 23:01:23 2006 +0300

    GKVE: get rid of bogus double-release check
    Get rid of a bogus double-release check which broke non-XKB servers.

commit bedc4ecf23c7150e3156e0d24602ed3bc3977225
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 23:00:45 2006 +0300

    xephyr: aid input debugging
    Add the 'ephyr' mouse and keyboard drivers to the driver list so we can
    re-add devices.
    Set the names properly in Ephyr{Keyboard,Mouse}Init, not in InitInput.

commit baf93b3abe1e88d82ee6a3d6939f50f96ded271a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 21:12:45 2006 +0300

    kdrive: move map initialisation to KdNewPointer
    Do a linear n -> n initialisation on the map up until KD_MAX_BUTTON in
    KdNewPointer, moving it out of both KdParsePointer, and KdPointerProc.
    Also remove dead pointer acceleration code.

commit ccb53340b66a778abf10182fd88a7d699207fb84
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 21:12:00 2006 +0300

    ephyr: cleanup
    Remove extraneous KdAddPointerDriver call.

commit d1c18af27e0aed73104743afb4bf4b8d3d1186cf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 21:11:38 2006 +0300

    GPE: use button map for DBP/DBR, not just BP/BR
    Make sure we use the button map for extended events, not just core.

commit 9b7ecbd1dd8d092221897e29c85f3306c7367716
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 21:09:32 2006 +0300

    kdrive: prevent overrun in map
    We actually need n + 1 elements for the mouse button map, not n.

commit eb6e8d4042252b13328dbb122e0e6186796a80ac
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 21:05:37 2006 +0300

    kdrive: increase maximum number of buttons
    Increase KD_MAX_BUTTONS to 32.

commit 1c72290cdf4d9b214e1b9c0526cb7cb8641051f3
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Mon Aug 7 09:57:58 2006 -0700

    Use DrawablePtrs instead of PixmapPtrs for Prepare/Finish access.
    
    Also, define some wfb functions even if FB_ACCESS_WRAPPER is not defined.  This allows a client to use libfb and libwfb at the same time.

commit afcad4ad99bbfc8bdcd0f4fdd70e072108410d30
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 18:11:05 2006 +0300

    xfree86 ddx: always free GKE/GPE events
    free() events we get passed back from GKE and GPE so we don't just, er,
    leak them all.  *cough*.

commit 98fdf874eeadd5b37413922d8afba8415d0c56bb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 16:51:39 2006 +0300

    move all autorepeat logic to DIX
    Move core autorepeat logic for keyboards down to the DIX, remove it from
    KDrive.

commit 5c7001fef8ffc6e3d8585a37d3f79a9495be8ed0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 16:51:09 2006 +0300

    memcpy() events in
    memcpy events into our event structure instead of doing pointer assignment.

commit c85e64cba1d2d88f676ca7cf23b52a6f8219e90e
Merge: a406f6b f54b71b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 7 15:54:55 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit f54b71b772a1f587394ae3968782b611e52f0e2d
Author: David Nusinow <david@nee.(none)>
Date:   Sun Aug 6 18:11:00 2006 +0000

    Document enable/disable flag for AIGLX in xorg.conf manpage.

commit a406f6bfeaa46e3236f7ab46813fe6c30b936a35
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 4 12:40:19 2006 +0300

    mieq: don't leak events
    free all events posted through mieqEnqueue.

commit 997ba45b192f21810099ed888792a45f1677a9ce
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 4 11:18:16 2006 +0300

    fix incorrect button test
    Test for n (1..nButtons) being under nButtons, not button (1..(1<<nButtons)).

commit 9138d5a51e411f598bc0e75a3e73d2c16187a518
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 3 18:24:04 2006 -0400

    Make SecurityLookupIDBy* part of the base functionality.

commit 45c229f526bf1dafb5e81b50d700449ba4e1613d
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Thu Aug 3 14:26:06 2006 -0400

    Remove LBX code.

commit 96e45626c43b7674b66e0258b0b1730d5ce71357
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Aug 2 20:29:59 2006 -0400

    Rebase Security extension to use devPrivates for storing security state.

commit 83ebf61ec03ff31005375900bee1e55e0e694c4b
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 2 13:33:33 2006 -0700

    Eliminate the last few places outside xf86pciBus.c that use
    xf86PciVideoInfo.  In all cases this means converting the code to use
    the pci_device_iterator interfaces.

commit 5bfb2ee9652e5ef6d076ef8b6df54baaa43b8e0c
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 2 13:29:21 2006 -0700

    Remove the last remants of the pci{Read,Write}{Long,Word,Byte}
    functionality.  This also allows the removal of PCI_CPU, PCI_CPU16,
    and a few other dangling bits of cruft.

commit a0f2e1cae46f189ed97e2d92b485d315b3d2627a
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 2 10:54:41 2006 -0700

    Move xf86FindPciDeviceVendor and xf86FindPciClass from xf86pciBus.c to
    xf86int10.c.  Refactor common code from those functions to do_find.

commit de8234606f87ce79d016f7ddeabdf57c4ad212f3
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 2 10:44:11 2006 -0700

    Modify xf86FindPciDeviceVendor and xf86FindPciClass to use the
    pci_interator interface instead of the xf86PciVideoInfo array.

commit 3c23dec5962b8b81ae838fe0ee2c7b0a789f5386
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Wed Aug 2 13:39:49 2006 -0400

    Call ClientStateCallback on serverClient devPrivates initialization.

commit 23f44df9009023e77508f03ac4a7595c7e3d40cb
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 2 09:55:32 2006 -0700

    Remove pciConfigPtr and all of the associated cruft.

commit 966ebd3d2d84b440e89504d055a0e937303ed11d
Merge: a941766 39169fd
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Aug 2 08:14:58 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit ee02e647882a4be29e1130bd79904ee79ed6b802
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Aug 1 13:45:43 2006 -0700

    Wrap libwfb memory access.
    
    Use the READ and WRITE macros to wrap memory accesses that could be in video
    memory.  Add MEMCPY_WRAPPED and MEMSET_WRAPPED macros to wrap memcpy and
    memset, respectively.

commit 39169fd373b97f34923f6494d697d9429d0b8aa3
Author: Matthew Allum <mallum@polystyrene.(none)>
Date:   Tue Aug 1 13:39:22 2006 +0100

    Back out 'mystery' spurious host window hints.

commit f737cc38baea6af8bf284c9e207e60a7d90eebe1
Author: Eamon Walsh <ewalsh@moss-uranus.epoch.ncsc.mil>
Date:   Mon Jul 31 19:58:42 2006 -0400

    Adding devPrivates support to the ExtensionEntry structure.

commit b04d64854712678701d5243aacf5cc93444cfadc
Author: Eamon Walsh <ewalsh@moss-uranus.epoch.ncsc.mil>
Date:   Mon Jul 31 19:35:08 2006 -0400

    Added devPrivates support to the ExtensionEntry structure.

commit a94176627cdd6122ffadb618995f9bcec872609a
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 31 14:33:58 2006 -0700

    Eliminate all uses of the businfo field of pciDevice / pciConfigPtr.

commit a69335dc299be6de8b82ed34de1cb30f1255feb4
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Mon Jul 31 14:15:55 2006 -0700

    Make ReadMemoryProcPtr take a const pointer.
    
    Fixes some warnings when using READ with a const pointer.

commit 26c9587f90806cce1c0d2a98e656e9c311a34ee5
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 31 13:54:36 2006 -0700

    Build fixes for last pull from HEAD.

commit 65dc25d8f86b962f2adc765a9ff327419f98092b
Merge: 69533fc b74c845
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 31 12:30:30 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit b74c845a1233f78b841ff8840272c50873300c20
Merge: 3112a6c 02daa6b
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 31 10:26:06 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 3112a6c4f26d5e9258b8def7ce4109b4bd408c67
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 31 10:25:31 2006 -0700

    Noting uses libdummy.a, so don't build it.  Only libdummy-nonserver.a
    is actually used.

commit 02daa6bb103e53e5a33db2bb6acbe57d0bf2c30e
Author: Matthew Allum <mallum@polystyrene.(none)>
Date:   Mon Jul 31 17:32:05 2006 +0100

    Improve XRes to;
     - Better estimate general pixmap memory usage.
     - Account for pixmaps shared between clients.
     - Account for window background and border pixmaps,
       and GC stripple and tile pixmaps.

commit 69533fc04f38c67fd424776c5191a4ba57ba8c8f
Merge: ef1aeca 24051ef
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 31 09:26:04 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/Makefile.am
    	hw/xfree86/common/xf86AutoConfig.c

commit 24051ef97406f28c102cf46a78223400b61fdae2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 30 12:15:33 2006 +0300

    remove filename that's too long for tar

commit ecb7d43a76d507d04891ab7f189b23be5eccda51
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 30 11:52:41 2006 +0300

    add sym.h to sources

commit bf2d7499c84c94f228d03b21448f5688b3cda1a8
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 30 11:17:02 2006 +0300

    add securitysrv.h

commit e87e68634d8eb66ab783e2802e2d5d12ff1031be
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 30 11:11:59 2006 +0300

    remove .cvsignores from EXTRA_DIST

commit ed0c807de9f07468385fcbd2e8a9c0737759a461
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 30 11:08:54 2006 +0300

    bump to 1.1.99.3

commit a68dc013a33d867e65a7e76b3eec5947b862a5b4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 30 11:08:47 2006 +0300

    remove README (which doesn't exist) from EXTRA_DIST

commit 87fe85f38b6f781bf0e2eb555526e3d77779f9fa
Merge: 3518e2d 654619d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 30 10:51:34 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 654619d76c779606f2315782fc01d1410399fa3b
Author: Kevin E Martin <kem@freedesktop.org>
Date:   Fri Jul 28 17:16:32 2006 -0400

    Revert xkb changes that broke XkbGetKeyboard()

commit 79016d4036786b091a9b9d1133a6cdfedd6c277d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Jul 28 16:02:02 2006 -0400

    Bug #5386 (partial): Move CVT mode generator from cvt(1) to server core, and
    export it from the X server to modules.

commit e6ae1612be519ee6224d354244d076d85d44a750
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Jul 27 18:24:59 2006 -0700

    Add fbHasVisualTypes and fbSetVisualTypesAndMasks to wfbrename.h and include -DXFree86Server.

commit 2a4ceb09ed5a09dc5763754ab865ec23df91ac9f
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Jul 26 19:39:17 2006 -0400

    Remove dead function prototypes.

commit 990a4009057e068f41d20b95aa0c59357185650d
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Jul 26 19:03:39 2006 -0400

    Remove getconfig horrorshow.  Replace with a static built-in rule list for now.

commit 377a581ddf5e428a368efb1b59fcb317666fecdd
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Jul 25 15:27:31 2006 -0700

    Switch to using void* pointers.
    
    Pass the size of the data pointed to by src or dst as an argument to
    wfb{Read,Write}Memory.  This allows one set of macros to be used with any size
    pointer.  Assumes that sizeof(FbBits) >= sizeof(FbStip).

commit a4005c15fbb48231cb958c32b2c791a2d23a135a
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Mon Jul 10 18:58:09 2006 -0700

    Add framebuffer access wrapper infrastructure.
    
    Create fbPrepareAccess macros to call into the driver to set up the
    wfbReadMemory and wfbWriteWemory pointers.  Call these from fbGetDrawable and
    fbGetStipDrawable.
    
    Add the READ and WRITE macros, which expand to simple memory accesses for fb,
    and calls through the function pointers for wfb.
    
    Add fbFinishAccess macro to give the driver an opportunity to clean up.  Add
    calls to this in the appropriate places.

commit 319efac445cebda5a2ac1db67efebe54bc47ba9d
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Fri Jul 7 18:45:30 2006 -0700

    Prefix all of the exported symbols in libwfb.so with "wfb".
    
    For now, just #define all of the exported symbols in wfbrename.h.  Later,
    we should add FBPREFIX() around the exported symbols and use -fvisiblity=hidden
    to hide the rest.

commit 7608a63ff7409f399c9a26962a304b84196a1868
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Jul 6 17:05:21 2006 -0700

    Build infrastructure for libwfb.so.
    
    Builds fb/* twice, defining FB_ACCESS_WRAPPER for libwfb.la.  Define a macro,
    FBPREFIX(X) which expands to fbX for libfb.la and wfbX for libwfb.la.  Use the
    macro on [w]fbModuleData so the new module loads.

commit 39158e98acb29e97a2682d4a37385f9141b484c4
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Jul 26 18:39:28 2006 -0400

    Remove another latent PowerMAX hunk.
    
    All your favorite running jokes of 2005, today!

commit ef1aecaaf6cd7e9e4f9d0c6373664e774500bc13
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Jul 26 13:25:13 2006 -0700

    Pass correct pointer to xf86MapLegacyIO.

commit 3518e2d0debc97e2bacdefe604b280e7fdfdd216
Merge: eb7733a 3821f6a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 26 11:29:21 2006 +0300

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit eb7733a48a92405660d5d2ab60913b62c30daaed
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 26 11:28:45 2006 +0300

    kdrive: drop excessive NewInputDeviceRequest debugging

commit 3821f6aeaa714582ee0a631de96c6e7cfd96303e
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jul 26 01:56:02 2006 -0400

    Unlibc-wrap DMX glxscreens.c and fix tag-removal typo.

commit 28ba8d56912ae56d7b9835188f621b0a491add30
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Tue Jul 25 15:38:09 2006 -0700

    Gut anything having to do with the PciBusPtr (or PciBusRec) type.
    Bump required version of libpciaccess to 0.5.0 so that
    pci_device_get_bridge_buses can be used.

commit 380b51d605a82c98082a2cebd70a0d1d0735eaa7
Merge: 82f6b7e 8977b07
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Tue Jul 25 11:30:04 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/common/xf86Init.c
    	hw/xfree86/int10/pci.c
    	hw/xfree86/scanpci/xf86PciData.h
    	hw/xfree86/scanpci/xf86PciStdIds.h
    	hw/xfree86/scanpci/xf86PciStr.h
    	hw/xfree86/scanpci/xf86ScanPci.h
    	hw/xfree86/utils/pcitweak/pcitweak.c
    	hw/xfree86/utils/scanpci/scanpci.c
    
    Re-removed most of the conflicting files.

commit 4ea475924c557ad0819b796f5369e5e669465709
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Jul 25 20:00:48 2006 +0300

    re-add OpenedHand copyright
    Ae-add OpenedHand copyright, accidentally dropped in KDrive new world
    order patch.  Sorry guys.

commit 82f6b7e75e04e3fb951ab71ad3c553c8b34ea995
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 24 13:52:58 2006 -0700

    Don't re-look-up pointers that are already stored in structures.

commit 2fd6b995ff927c8ca7267c201f535564b82e691f
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 24 13:33:34 2006 -0700

    Global s/xf86MapDomainIO/xf86MapLegacyIO/.  Let's call a duck a duck,
    okay?  Since xf86MapLegacyIO is called from only one place, cut the
    parameter list down to the one parameter that actually conveys some
    information:  the one that gives a PCI device.  Change from using a
    PCITAG to a pci_device.

commit aed6fe0bb12c68b94e564252bc03594728ed8c5b
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 24 13:13:05 2006 -0700

    Refactor linuxGetSizesStruct to take a pci_device pointer instead of a
    PCITAG.  Modify xf86BusAccWindowsFromOS and xf86AccResFromOS to call
    linuxGetSizesStruct directly with a pci_device pointer.  Remove
    linuxGetSizes.

commit e48762799248eb7e16ea2c0df1561ae1430f2112
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 24 12:23:23 2006 -0700

    Modify xf86BusAccWindowsFromOS and xf86AccResFromOS to use the
    libpciaccess interfaces.

commit 4b474cbc1a0fe17da2438a15291f04ee67ea28f8
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 24 12:17:27 2006 -0700

    The functions xf86PciBusAccWindowsFromOS and xf86BusAccWindowsFromOS
    are identical.  Just have one call the other.

commit 7dff8d98a9ed11f92806cb8c4b3f10e01c5d063f
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 24 11:56:37 2006 -0700

    Remove source files that have been dead since day-1 of this branch.

commit eb95128f615e2f3fab17dcafd4fc260c6d4d0644
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 24 11:53:37 2006 -0700

    Changes that were missed on the previous commit.  Perhaps oddness
    caused by doing git-update-index at the wrong time.

commit 05f8b772aec2b05d92078bb60a07bd8413386363
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jul 24 11:23:03 2006 -0700

    ScanPciDisplayPCICardInfo now uses pci_device interface for PCI
    scanning.  Log messages simplified to make the code shorter and less
    convoluted.  ScanPciDisplayPCICardInfo is now void since it was only
    called from one place with a constant parameter.

commit ca3f4fc1b0c21a0620ab1eb35c199cd55d795095
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 23 19:02:12 2006 -0400

    add fallback ChangeDeviceControl, allow XOpenDevice on closed device
    Add a fallback ChangeDeviceControl, which allows the attributes we know about
    so far.
    Allow XOpenDevice on closed devices.

commit e73e5e2a4d8f22889d840a7719479f9af686cb9c
Merge: a73cef1 8977b07
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jul 22 13:56:30 2006 -0400

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 8977b07434d75ca396d236dc1324f0c862b633c7
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jul 23 03:36:47 2006 +1000

    glx: fix typo from tag removal

commit a73cef1f005ca66db18e952e676ee5a21b829700
Merge: 672ca15 70869fc
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jul 22 12:07:22 2006 -0400

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 70869fc6777f87cd05794446caa739e3d9a91ffe
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Fri Jul 21 23:39:37 2006 -0400

    Yet more dead code.

commit 7c1b2ee7a8238c267bc97e78bbff204dc7723dd3
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Fri Jul 21 23:35:13 2006 -0400

    static markup, more dead code.

commit 1c4f90b1d05d4c49279f3224a6dd94850a6bd8d0
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Fri Jul 21 23:03:21 2006 -0400

    Open-coded path checks make baby Jesus cry.

commit 114264584ca43091a5e07282566a30a6378a1502
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Fri Jul 21 22:55:41 2006 -0400

    Remove a useless open() of the module we're about to load.

commit 985611d5cd079f97da700c7b8e898d33da004be0
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Fri Jul 21 22:37:59 2006 -0400

    Delete some long-unused testing code.

commit 525257eb98b46209c69c8576daa6bd7afc1f48a9
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jul 21 19:16:38 2006 -0700

    Fix stupid typos.

commit 672ca156bfb11440e6e234650bfba9d38e1edb52
Merge: d14d91f 6cf844a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:58:42 2006 -0400

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 6cf844ab69926b6d23619a12c97734af3881ba67
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:57:28 2006 -0400

    loader: walk directory paths with readdir(), don't stat() everything
    Walk the directories with readdir, and don't stat everything we can
    find.  Thanks to davej for the public humiliation reminding me to go back
    and re-fix this one.

commit d14d91f094c3897c889f6aafb66d738820dae0aa
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:57:28 2006 -0400

    loader: walk directory paths with readdir(), don't stat() everything
    Walk the directories with readdir, and don't stat everything we can
    find.  Thanks to davej for the public humiliation reminding me to go back
    and re-fix this one.

commit e18d34f4238e13e226b0407fa2f5f77d2038de39
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jul 21 16:47:45 2006 -0700

    Make the various implementations of xf86ExtendedInitInt10 use the
    libpciaccess interfaces.  This eliminates all calls to mapPciRom,
    which in turn allows the elimination of hw/xfree86/int10/pci.c.

commit 87a6346bf7f086b5f98b2b2ecd52f27efe864e56
Merge: b73fb2a 0486d39
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:36:25 2006 -0400

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 0486d3966d2888ef86d36c19f31bdbc2a3e8c652
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:35:04 2006 -0400

    fix kbproto dependency
    Depend on kbproto >= 1.0.3, for unconditional definition of
    XkbSA_XFree86Private.

commit b73fb2ae35a82e0bdd48f01132e971fb84946ff1
Merge: e7ac27a aff404f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:30:26 2006 -0400

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit e7ac27ad81efbea6128b3cec443ca98e228d14ad
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:29:28 2006 -0400

    revert accidental deletion of lnx_io.c; re-delete lnx_kbd.c
    Thinko'd which file to remove after merging from master.

commit 81913a12910e39d7ea6af8657c1c66cc6791cd65
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:10:26 2006 -0400

    remove undead files from master
    Remove dead files which worked their way back in when merging from master.
    Ugh.

commit 7465010d59ec435bd00b738f0cef766b352dc7eb
Merge: 1d31ed7 0aaac95
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:05:41 2006 -0400

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into input-hotplug

commit 1d31ed778284082e1060bff63317c94581d9eb9b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 19:02:52 2006 -0400

    xephyr: load keysyms at init, not enable
    Load keysyms at init time, not enable, so we don't get the wrong map width.

commit 63dfaa1d5ba556e09314ec914936e5471aab94b0
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Fri Jul 21 18:47:18 2006 -0400

    Delete internal usage of the symbol ref/req lists.

commit bca9364f3f4a2376edbcf57a34f704ce28be21ba
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Fri Jul 21 18:41:46 2006 -0400

    Remove the loader's required and referenced symbol lists, dead code.

commit 07ad92d2c4cb07db8487d76efc822fd7b88137cb
Merge: 18624a9 22db3fd
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jul 21 15:25:35 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/common/xf86DoScanPci.c
    	hw/xfree86/common/xf86Init.c
    	hw/xfree86/common/xf86pciBus.c

commit aff404f293ed86a44a093a51a9f11e79e6c3f4f6
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Fri Jul 21 18:24:37 2006 -0400

    Detach xf4bpp from cfb.

commit 0aaac95b0d12089b256c97f6ff955c8c229ae095
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Fri Jul 21 17:56:00 2006 -0400

    Remove RCS tags.  Fix Xprint makefile braindamage.

commit eeaad0e956640aac653d194a992df7792e4abcbb
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Thu Jul 20 18:19:07 2006 -0700

    Fix the RandR failure path for rotated screens.

commit 22db3fdb54d2f7f6b72638b46c186af6db04e214
Merge: 2f98841 93cd538
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jul 21 13:55:37 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 3eeb62e8f587732e6b433c2b9c6879eb26a3f1b4
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Jul 21 16:33:28 2006 -0400

    bug #890: completely remove deprecated keyboard driver
    Remove all remnants of the old built-in keyboard driver.

commit 60ea7b51fe2b8a19a08b63db48504971a7a50ee6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 21 15:23:37 2006 -0400

    xorg ddx: move to new input API, remove old keyboard driver
    Remove most of the rest of the old keyboard driver.
    Move to the new Get{Keyboard,Pointer}Events API, which is mostly
    complete at this stage: just missing the proximity events.

commit d32dc8bf19e1071fc30af2f0bc6a6699b351f39e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jul 20 18:40:47 2006 -0400

    be more careful in IVAS
    
    Don't walk off the end of a NULL pointer in InitValuatorAxisStruct.

commit 7711c56d2e2aeae4dcd6d9297bc144c1cb3cfab1
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Thu Jul 20 18:38:57 2006 -0400

    xephyr: fix keymap, pointer; dix: fix multiple axes
    
    Initialise our axes properly in the DIX, and make sure we don't
    unnecessarily clip maxval when it's not set.
    Fix keymap copying in Xephyr (to some degree: it's still broken),
    and set nAxes and nButtons properly.

commit f18c3122a57df9770087e5fc70ac488552222233
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Thu Jul 20 16:49:17 2006 -0400

    sanitise debug output
    
    Don't spit out huge chunks of pointless ephemera, especially without
    --enable-debug.

commit 463e0fe35bec3c91b19be9aacf34babb146a88c9
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Thu Jul 20 16:45:15 2006 -0400

    update KDrive to new input API
    
    Update KDrive to fit the new API (mieqInit and InitPointerDeviceStruct), and
    include InitTouchscreenDeviceStruct in the DIX.

commit 1987af8c498a1bf394a8951ca6d5b0b7f7a35188
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Thu Jul 20 16:39:54 2006 -0400

    add virtual core devices to DIX
    
    Add virtual core devices, with proper keymaps etc, to the DIX.

commit 737e6e4836a6af26fedc22cda8e7d366b52c8fa7
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jul 19 20:10:48 2006 -0400

    define SDevicePresenceNotifyEvent prototype

commit 7f36cc533e7f6ae44e973c5f00f9bfec7c6b7b50
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 19 20:09:13 2006 -0400

    distribute config.h

commit e896195eab726a2b307200958308eda8c93dd3cd
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 20:05:33 2006 -0400

    remove extraneous font debugging code
    
    Some of it didn't compile, and some of it was just unnecessary.

commit 99c57674c002c5e88c6db34488a27b05004c9197
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 19:59:11 2006 -0400

    avoid using font servers with built-in fonts

commit ecfad74c48f633916305bcc25baaaad74aa52b78
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 19:55:13 2006 -0400

    add support for built-in fonts
    
    Use --enable-builtin-fonts to only use built-in fonts, and avoid loading
    fonts.

commit 0a2068d123520d35818c38a555ae3ba06d8ca7fb
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 17:29:23 2006 -0400

    Xi: add XExtension{Keyboard,Pointer} types
    
    Report XExtensionKeyboard for non-core keyboards, and XExtensionPointer for
    non-core pointers/mice.

commit c7577f9b88aac84d59404f29d994ee7af583d33b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jul 19 17:27:58 2006 -0400

    Xi: add DevicePresenceNotify
    
    Add support for DevicePresenceNotify events.

commit 3a23e499017d5823157806029263edac53c663fd
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 17:00:23 2006 -0400

    make XInput mandatory
    
    Always build Xi, since GetPointerEvents/GetKeyboardEvents relies on it.

commit 02d09105113fb9b560a770fe15f7bb041165831c
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 16:51:04 2006 -0400

    new KDrive input world order
    
    Convert KDrive to GPE/GKE interface.
    Add first-class drivers and enumerate every device separately through
    Xi, instead of lamely attempting to aggregate them.
    Add XKB support to the Linux keyboard driver.
    Add 'thumb button' support to the tslib driver.
    Rejig InitInput, so each DDX has to add a list of drivers it supports.
    Support NewInputDeviceRequest, et al.

commit a274e7296b1bdd6f6c921f28b087610cec9548e0
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 13:56:23 2006 -0400

    add GetPointerEvents/GetKeyboardEvents framework
    
    Add GetPointerEvents (with XFree86 pointer acceleration) and GetKeyboardEvents
    to the DIX.  Extend the ValuatorClass structure to account for same.

commit b308dbf273f8c26361b0fee7aca64aec3245f60b
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 12:15:18 2006 -0400

    add DEVICE_TOUCHSCREEN and DEVICE_CORE Xi controls (DeviceIntRec ABI break)
    
    Add DEVICE_TOUCHSCREEN and DEVICE_CORE controls to the Xi code, and the
    TouchscreenClassRec and a coreEvents flag, to toggle propagation of core
    events.

commit c9a3d9baa81ceb940032ffe529d9eadf2d202ab2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 19 11:41:16 2006 -0400

    xorg DDX: implement NewInputDeviceRequest
    
    Implement NewInputDeviceRequest for Xorg, mainly written by Kristian Høgsberg.
    Move MatchInput to xf86Helper.c, as xf86LookupInputDriver.

commit 02a95311568e24e1055ea52c7df8cb7aa3f38ad0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 19 10:05:12 2006 -0400

    add basic D-BUS configuration mechanism
    
    Also move LookupDeviceIntRec into the DIX, and add InputOption type, and
    NewInputDeviceRequest prototype (DIX requests DDX to add a device).  Does not
    link without an implemented NIDR.

commit 93cd53860c3aca182a0a02543c41b5d71d65926b
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Thu Jul 20 16:52:31 2006 -0400

    kdrive: allow debugging

commit cd0874dda1c30ef91a7d2b3cd455676422599ccf
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 20:13:02 2006 -0400

    never define MEMBUG
    
    Definining MEMBUG causes allocations to randomly fail.

commit 093943d4d02f1dbc8935b8cf835866a6e3885193
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 20:09:55 2006 -0400

    define DEBUG in DIX
    
    Which makes #ifdef DEBUG actually useful.  Incredible.

commit 68b0678254240a984db9adefefb0cf68e9bfd4e4
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 20:08:32 2006 -0400

    exa: only disable cw when COMPOSITE is built

commit 27df2eda795681c9f05e2907d74e2c102d3441e4
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 16:18:28 2006 -0400

    fix KdXvCopyPackedData to actually work
    
    Remove extraneous bit shift in KdXvCopyPackedData, so it's actually
    useful.

commit 00b24f119f03da86fa98ffea545c5b041810ce53
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jul 19 17:01:20 2006 -0400

    fix minor typo

commit f8a7a1e40c14a85ebde11c5854c07a8d529d38b9
Author: Daniel Stone <daniel.stone@nokia.com>
Date:   Wed Jul 19 17:06:00 2006 -0400

    fix XEvIE build without XKB
    
    Don't unconditionally play with XKB stuff in XEvIE.

commit 2f98841fde6bad807967ed15e954291240714198
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Jul 20 16:08:27 2006 -0700

    Remove unused variable.

commit 985c34bf06af70a7296db8307899a17347a25558
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Thu Jul 20 17:33:13 2006 -0400

    Remove the DDXTIME conditional, for being unused.

commit c69c00d6523a35232a32e54a533811fc2b37815a
Merge: 4636935 84683f1
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Jul 20 12:08:38 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 84683f19b4d1c712281036bcabf8dc623e64b26a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Jul 18 18:16:12 2006 -0400

    get rid of XFree86LOADER, XFree86Server, XFree86Module, and IN_MODULE
    Get rid of almost all uses of these definitions.  They're still defined for
    delinquent out-of-tree drivers, and also for the Mesa build.  As well as
    for miinitext.c.  But largely gone.

commit 881953813c7307f2aac4057b48d233e5f4a574cd
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Mon Jul 17 13:50:38 2006 -0400

    Fix the Linux ACPI reopen code to use a repeating timer, rather than a
    one-shot sleep-and-reopen attempt.

commit f029e9a32dcaa95b84e08ec173a0cc78fd92bdbf
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sat Jul 15 22:05:38 2006 -0400

    Un-glx-libcwrap DMX GLX proxy so it works without GL/include.

commit 46369350d40819ecc2a9f37ed4aaa95866b80997
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jul 14 15:51:55 2006 -0700

    Add some const qualifiers to serveral function parameters.

commit 490fb304599b1f24b36439e5c1397781e7d2f612
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jul 14 15:26:56 2006 -0700

    Rearrange code in xf86int10ParseBiosLocation to use strncasecmp.  This
    eliminates the need for the first use of xstrdup in this function.
    The second use of xstrdup was *never* necessary and has also been
    eliminated.

commit d3ee49bcbafe4b4e6b308686020847e978473779
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jul 14 15:13:35 2006 -0700

    Refactor common code from the generic.c and linux.c version of
    xf86ExtendedInitInt10 to xf86int10GetBiosLocationType and
    xf86int10GetBiosSegment.
    
    These changes were tested on MGA hardware on x86-64 with various
    combinations of InitPrimary and BiosLocation.

commit 8793c7fd4ba7d1b3e2eff3f2c18d042ee9bb3f62
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jul 14 09:11:39 2006 -0700

    Refactor identical xf86InitInt10 function from generic.c and linux.c
    to helper_exec.c.

commit 1450fd596433f7adfe3d0798dc2ddceb9d0a9034
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jul 14 09:10:32 2006 -0700

    Trivial refactor of libint10_la_SOURCES.

commit 18624a9b7cf88e769c53cc3a876b3647c5d5057c
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Jul 13 21:10:48 2006 -0700

    Modify linuxGetSizesStruct to use pci_device instead of pciConfigPtr.

commit 12595a77d6c2f037f48dfe751bdc10505b3317df
Merge: 37838de 4c225a3
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Jul 13 12:48:03 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit 4c225a3a8b2e7e5e5510347d8473f1318bbac769
Author: James Steven Supancic III <arrummzen@arrummzen.net>
Date:   Thu Jul 13 10:03:57 2006 -0400

    Bug #7482: Fix Xdmx's Render code to match reality; fixes BadLength client
    crashes.

commit bb3aa94845a74d7718ba9539bb76203ec82957fc
Author: Drew Parsons <dparsons@debian.org>
Date:   Tue Jul 11 18:26:55 2006 -0700

    Bug #7346: Disable Composite extension in Xprt
    
    Xorg Bug #7346 <https://bugs.freedesktop.org/show_bug.cgi?id=7346>
    Patch #6184 <https://bugs.freedesktop.org/attachment.cgi?id=6184>

commit 10f3e32726d5b4981abd1a3a022e5b4f219fb41e
Author: Gustavo Pichorim Boiko <boiko@mandriva.com>
Date:   Mon Jul 10 16:37:53 2006 -0700

    Fix the configure check for the --{enable,disable}-dpms option

commit 2194d99d9ca3c607e0f5ddd911ee3df536d77564
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Jul 9 16:16:08 2006 +0200

    Replace GNU make-ism.

commit 90a9b82272446fdaebe71c966325fd7e670f75c6
Author: Matthew Allum <mallum@polystyrene.(none)>
Date:   Sat Jul 8 21:57:07 2006 +0100

    Fix crash in Xephyr when running on host X with keymap width < 4 ( i.e xvnc )

commit 21e3e3ca298dce22e5fad6ef38aa6fe9736a1d3b
Merge: e805621 39b2f7b
Author: Matthew Allum <mallum@polystyrene.(none)>
Date:   Sat Jul 8 21:13:52 2006 +0100

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit e8056218944e873135c93039d1e9646d51364467
Author: Matthew Allum <mallum@polystyrene.(none)>
Date:   Sat Jul 8 21:10:58 2006 +0100

    Add support to Xephyr for simulating 8bit grayscale.

commit 39b2f7b2182aedb1ab45415efb4c263012ace512
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Sat Jul 8 19:55:53 2006 +0200

    Bug #3042: Use autoconf to get the correct name of a struct member.
    
    This allows us to remove the kernel version ifdefs from the code, which
    are ugly and broken.

commit 63f13e01ee6e7df1753f2113f4cff9538596be0a
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Sat Jul 8 11:33:44 2006 +0200

    Bug #7097: do case-insensitive comparison for some hotkeys.
    
    xkb's strcasecmp implementation has been moved to the dix so it's now
    safe to just use strcasecmp().

commit 5416f90e9c939027005fc01fa3ce3df56919ae0d
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jul 6 21:22:34 2006 -0400

    Implement GLX_MESA_copy_sub_buffer.

commit b84374b2917a91a7732e780ffab6a29c807a3ecc
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jul 6 02:28:55 2006 -0400

    Add GLX_MESA_copy_sub_buffer marshalling support.

commit 2152e2d364bdd179cf218cde446c763d8c8bb833
Author: Ed Catmur <ed@catmur.co.uk>
Date:   Thu Jul 6 17:45:36 2006 -0700

    Remove hardcoded 'lib' in XPRINTDIR.

commit 233c004641483a75985e09fea5416ab2c7a97fc4
Author: Ed Catmur <ed@catmur.co.uk>
Date:   Thu Jul 6 17:41:53 2006 -0700

    Generate xprint.pre from xprint.cpp.

commit b3e4d1d1f4bcf900146d7b8cd19e008209294663
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jul 6 18:51:29 2006 -0400

    PPC64 build fix.

commit f847f3c0a956c0aec8ade8e32f770daae147f40b
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Jul 6 15:33:31 2006 -0700

    xorgcfg now needs libxkbui version 1.0.2 or better.
    
    Old versions of libxkbui use XkbStrCaseCmp which doesn't exist any longer;
    the server fails to link with that version of the libkbui library, so
    require the current version (1.0.2).

commit 27ffd7e03c05dd2083a10e5acebd2b385d729eeb
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Thu Jul 6 14:43:10 2006 -0700

    GL proto version 1.4.7 needed for texture-from-pixmap defines.
    
    GLX_TEXTURE_TARGET_EXT and GLX_TEXTURE_RECTANGLE_EXT are defined as a part
    of the new texture from pixmap GL extension in gl proto version 1.4.7 and
    are now used by the X server code.

commit d7a96dd6f18e54c26fc5881772d033ac078db3a1
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jul 6 17:39:14 2006 -0400

    Switch the default mouse device on Linux to /dev/input/mice.

commit 37838de62edc474f44c0a48bd56470a6c23f8956
Merge: fd49a0d 8d07ee0
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Jul 6 13:01:57 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework
    
    Conflicts:
    
    	hw/xfree86/os-support/bus/linuxPci.c

commit 8d07ee070ecf0d403d9d27c80764d343b80af6f0
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Jul 6 12:48:51 2006 -0700

    Refactor linuxGetIOSize and linuxGetSizes.  Eliminate the unnecessary
    optimization in the search loop.

commit 704e645207d88a2d0a372cf69f6abd778ed4c30b
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jul 6 14:22:33 2006 -0400

    Remind dlloader that it needs to search the global scope as well as the
    loaded modules.  Fixes LoaderSymbol() on symbols provided by the server.
    Spotted by Aaron Plattner.

commit fd49a0dcc13280cf195bd6c7ee0f23d0840cb665
Merge: e66e7b4 28b95fd
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Jul 6 09:52:15 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit 28b95fd9d1c2f078aaaac75c310a27b17c74a6fc
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jul 6 03:25:38 2006 -0400

    Drop unused GL/include subtree.
    
    Woo, less Makefile's to generate.

commit fc1a55671dceae0e2a701e044ff8203fae5eb1ba
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jun 29 04:35:45 2006 -0400

    Implement glXCreateWindow and glXDestroyWindow.

commit ee012588d28b468bd41da8d216210f8cb2bf8cb5
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jun 29 04:25:54 2006 -0400

    Move __GLXdrawable lookup and creation into GetDrawableOrPixmap.
    
    Also refactors __glXSwapBuffers to use GetDrawableOrPixmap for
    getting the __GLXdrawable.  This patch paves the way for GLXWindows
    with XIDs different from the X Windows they are created for, a
    prerequisite for glXCreateWindow().

commit 8b5bc6a9ab487fdea754266b120c686d75d9e100
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Jun 29 00:05:01 2006 -0400

    Drop global GLX error integer variables and use __glXError() instead.
    
    Also drop glxerror.h (__glXError is now declared in glxserver.h)
    and global.c (last remaining globals are in glxext.c now).
    
    With this change we now support all GLX 1.3 error codes.

commit 7cf3ec7b59223f15314a0629f122ecb796678421
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jun 28 17:00:23 2006 -0400

    Move createDrawable from __GLXcontext to __GLXscreen.

commit eea8efe4516750b2505b52ebc9f769f5e8a6f94c
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jun 28 15:59:01 2006 -0400

    Add marshalling for GLX 1.3 requests.
    
    Also, hook up glXGetDrawableAttributes and glXQueryContext to existing
    DoGetDrawableAttributes and __glXQueryContextInfoEXT.

commit e66e7b48e15543f3753951a19376f0446759963a
Merge: a9d4842 eb35f81
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Jul 5 15:21:36 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit eb35f812a5b65adcc5f6cbb91b31b69cae5d7f3d
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jul 5 13:27:26 2006 -0700

    add another file to .gitignore

commit 863f5cc31b747bc9f2fcd6a9e20c613a11733bf4
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jul 5 13:26:34 2006 -0700

    fix compiler warning in hw/xfree86/common/xf86Config.c

commit f059b61ab3af25b03c704669eddb838d3ce4366c
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jul 5 11:47:25 2006 -0700

    fix compiler warning about xnestRecolorCursor() not being defined

commit cc3e99f747586f9d32622e5a682de39891b1fcba
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jul 5 10:13:19 2006 -0700

    fix some more compiler warnings due to defines being declared differently

commit 59836c0f2abee3339e1aa30dacadb82e477943d6
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jul 5 09:30:48 2006 -0700

    fix wrong function pointer type in hw/dmx/dmxcmap.c

commit 12563db59dd613ecc926e3bed9534152ebc0a2fb
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jul 3 12:52:27 2006 -0700

    Revert "Optimize out computing a gradient pixel if the mask value is 0."
    
    This reverts cf46242e337481cd3b9b39d77dd621d2a63b11f9 commit.  It wasn't meant
    to be pushed to master yet, and doesn't work.

commit 002e28c12c74aa63777f65cbfb382c2bfd0d6850
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jul 3 12:48:12 2006 -0700

    Correct AGP memory deallocation argument on *BSD.
    
    This fixes leaks and eventual crashes with RandR resizing on Intel.

commit cf46242e337481cd3b9b39d77dd621d2a63b11f9
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Wed Jun 28 18:35:59 2006 +0200

    Optimize out computing a gradient pixel if the mask value is 0.
    
    Obtained from:	kdrive CVS (DavidR XGL fb/ megapatch)

commit a838fb70c52a829872680f6a2a2e7dd6d2dc9247
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jul 3 19:22:36 2006 +0200

    Bump server version to 7.1.99.2 for gradient and repeat fixes.

commit 25d871d98462f0481ee419295ddc94b8c79dc881
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jul 3 19:22:26 2006 +0200

    Fix source picture filter check for multiple screens.
    
    Now, we only check for filter commonality if we're operating on a source
    picture, and we compare the id (screen-independent index of the filter name)
    rather than the pointer to the filter (per-screen state).

commit 7106a77df37c06d2b5568eceeb9297096bff3137
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Sun Jul 2 12:41:35 2006 +0200

    Fix bugs in support for new repeatTypes in XAA and EXA.
    
    EXA now won't pass pictures with new repeatTypes to drivers.  We can add a flag
    for them to support it at a later time.

commit f5e92542a14f51029347b6476e4e4af69144930b
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Fri Jun 30 12:03:47 2006 +0200

    Bug #7366: Fix crashes when setting filters on source pictures.
    
    Now, filters may only be set on source pictures when the filter is common to
    all screens.  Also, like SetPictureTransform, ChangePictureFilter is now not
    called on source pictures.

commit 6ef457913955d4289081c7d07d528963ccf5272c
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Fri Jun 30 03:01:14 2006 +0200

    Bug #7366: Fix two crashes in operations on source pictures.
    
    A screen's ChangePictureTransform now isn't called when changing the transform,
    as source pictures aren't associated with screens.  Also, attempting to set
    an AlphaMap to a source picture will fail with BadMatch just like a Window
    would, preventing another crash.

commit 50a3e1ad18c815a5adafee22beccdf970bae62d6
Author: Rudo Thomas <rudo@matfyz.cz>
Date:   Sat Jul 1 12:34:36 2006 -0700

    Missing close parenthesis in one of the setuid() fixes.

commit 124a81eb389dfa510ac07ca93ee17c4c9d6e56ea
Merge: d3d6c5f 179737d
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Sat Jul 1 11:12:50 2006 -0700

    Merge branch 'origin'

commit d3d6c5f4d05e0ca5b566e19657e0fe2b3898482a
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Jul 1 11:10:18 2006 -0700

    Bug #7381: Coordinates get wrapped in accelerated line drawing on pixmap
    
    XAAPolylinesWideSolid was adding the drawable origin onto each element in the
    pPts array.  Since the values got stored back into the pPts array, they got
    truncated to 16 bits, causing the overflow I saw.  This patch avoids storing
    the coords back into the pPts array (and actually reduces the size of the
    code too :).  Now the 32-bit sum of coords + origin doesn't get truncated to
    16 bits, and the problem is solved.

commit 179737d4a07ed10a734fe017b5680f8e78ffda96
Author: Jens Granseuer <jensgr@gmx.net>
Date:   Wed Jun 7 01:46:00 2006 -0700

    Bug 7145: fix build with gcc 2.95 & other c89 compilers
    
    Move variable declarations to start of blocks as required by c89

commit a9d4842893b65232d61fe4c63f074d30e81021d2
Merge: 66cac9b 6bd4c25
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Fri Jun 30 11:49:29 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit 6bd4c254396cb0f4e8ae21ff455ebb15cd9f4f10
Author: Martin Bochnig <mb1x@gmx.com>
Date:   Mon Jun 26 01:52:24 2006 +0200

    Updated Solaris aperture driver to build on sun4v & amd64 kernels
    Updated for Solaris 10 changes to DDI

commit 66cac9b17498497d939bfb7a4075bcee5a485e5f
Merge: 7c4e540 54d9acd
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Jun 28 14:11:49 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit 54d9acd5113318274e291abab4554b8e678227df
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Jun 27 19:44:52 2006 -0400

    Add damage tracking to GLX_EXT_tfp implementation.
    
    - Only update when pixmap content actually change;
    - Only update the regions that acutally changed.
    
    This is a worthwhile optimization, but it doesn't completely remove
    the bottleneck, as mesa still uploads then entire texture whenever
    it changes.

commit adfe8e7437ff739f54d1d074008e8cc0e3bcb4d3
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Tue Jun 27 21:49:00 2006 +0200

    Bump server release to 7.1.99.1.
    
    This will be important for a couple of cairo workaround tests.

commit 63c169e3b1f7d6a7375a414fcd50cce32358a525
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Tue Jun 27 04:11:47 2006 +0200

    Fix MMX Saturate implementation.
    
    The code was expanding the source blend factor from the wrong channel.  Fixes
    cairo's clip-operator test.

commit 7c4e54025345455f420cd2abaa7a40679689d3cb
Merge: 9d0a15d ff6b59a
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Mon Jun 26 14:39:44 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver into pci-rework

commit ff6b59a0dbadbe61a53e48c23965d3073d95791b
Merge: b3c8693 48c8715
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Jun 26 13:02:33 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit b3c869304cd85af034aa9debaa874e29d14fcbe6
Author: Peter Breitenlohner <peb@mppmu.mpg.de>
Date:   Mon Jun 26 10:48:44 2006 -0700

    Free small, one-time memory leak in xdmcp -from handling
    
    Part of Patch #6046 <https://bugs.freedesktop.org/attachment.cgi?id=6046>

commit 48c871564d493203d434d5da015903399287f619
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jun 26 15:57:32 2006 +0200

    Move EXA_PM_IS_SOLID() to the public API, since drivers will want it frequently.

commit afb84c2fca56887b3bfe7aa93f337c49b087acdc
Author: George Fufutos <fufutos610@hotmail.com>
Date:   Sat Jun 24 15:23:14 2006 +0200

    Bug #6911: Check return value of exaGetPixelFromRGBA().

commit 930b9a069a425818d4e9965f53be7df1f4d7d422
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Jun 24 15:21:17 2006 +0200

    Bug #6818: Avoid infinite loop in exaLog2() with negative arguments.

commit 36756fdb2ddc154b406f664a6af0f38d26e6973d
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Jun 24 15:09:24 2006 +0200

    Make sure <execinfo.h> is actually included when needed.
    
    configure only defines HAVE_BACKTRACE, not HAVE_EXECINFO_H.
    
    This could cause problems on platforms where the size of a pointer is greater
    than that of an integer, see
    http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=363218 .

commit 4426215a6e99f84550aaac23ac9c2018668bfbc1
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Jun 24 15:02:56 2006 +0200

    Bug #7213: Fix the XFree86-DRI extension for byte-swapped clients.
    
    These clients are by definition non-local and thus not direct rendering
    capable, but they still need the QueryVersion and QueryDirectRenderingCapable
    requests to find out cleanly.

commit a195a3debca02572d9f7d7a9976b5bf67acc5d08
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Sat Jun 24 14:54:52 2006 +0200

    Fix byte swapping in some GLX requests.

commit bc6cfde19887eff7a07dc739ffa29609fb55b83d
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Fri Jun 23 20:07:34 2006 -0700

    Use correct OSNAME setting so we can find os-specific modules like libdrm.

commit c7ac485a59709572307b9a4a9abacc52c7021b65
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Wed Jun 21 09:34:55 2006 -0700

    Remove the default case from fbcompose.c switches which should cover all cases.
    
    Instead, stick the NULL return default case afterwards, so that the compiler can
    warn us when we've got unimplemented cases.  Removes some unimplemented and
    unused 8bpp, depth 4 picture format names.

commit 2cf1f39ca974c81a2f52d2f7509aa3d098a87176
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Wed Jun 21 09:30:59 2006 -0700

    Add a manpage for EXA.

commit 9d0a15dca56b14821cad474f9db9c332acb3b1e6
Merge: 6c514ca d67fd10
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Jun 22 16:21:10 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver
    
    Conflicts:
    
    	hw/xfree86/loader/xf86sym.c

commit 6c514ca14c2326c2cf82b73196429789d11e4a01
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Thu Jun 22 15:51:16 2006 -0700

    Use XSERVER_LIBS instead of XORG_LIBS for -lpciaccess.  The former is
    only for libraries that are built as part of the xserver build.

commit d67fd106968e371d8be3966ed5ecdd3c69f36e3a
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jun 22 12:47:51 2006 -0400

    Add kdrive servers to .gitignore

commit bf17c6dede1c0cf1edee10f2cc7e1e619b944d3a
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jun 22 12:24:09 2006 -0400

    Drop libz from the server's link line, it was only needed for LBX.

commit c0cb8d1fb80540e093da54da3ee2f55bdf139274
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 21 18:12:41 2006 -0700

    Use XACE, not XCSECURITY to decide if SecurityLookup* are exported

commit 3177dc498a955cd58cd6054a7c7e69724db4a59b
Merge: 3f19803 91dcac5
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 21 18:06:06 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 3f19803e0b1adc66e695f63f915b8dc85eb84215
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 21 18:05:51 2006 -0700

    APPGROUP requires both X-ACE & XC-SECURITY now

commit 91dcac5295486cc55a34ad91704bfa483bd31eeb
Merge: d8135eb 77c947b
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Jun 21 20:49:30 2006 -0400

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit d8135eb9e414bf6957f64c5102ee0ef7c2404c6f
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Jun 21 20:49:21 2006 -0400

    Unbreak unbreaking the loader.  Re-add the symbol reference lists so that the
    linker will include everything it's supposed to.  This is a terrible solution,
    but ld semantics don't let you do anything better.

commit f83cee0338eca095ad601374a87775be823a2565
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Wed May 5 20:07:37 2004 +0000

    Modify XC-SECURITY and XC-APPGROUP extensions to work with XACE

commit 15c9002d68a7eeb02a6db1f231af7a18a3cf7512
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 21 16:24:20 2006 -0700

    Correct ifdef - should be XACE, not XSECURITY

commit 90af38fa0c46c2081d2becac262a614c26ba6ef1
Merge: 3e098ef 77c947b
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 21 16:23:31 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver
    
    Conflicts:
    
    	Xext/appgroup.c

commit 3e098efa35ba70ad4d5699af3130a3b02e1cb06e
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 21 16:21:03 2006 -0700

    Correct ifdef - should be XACE, not XCSECURITY

commit 77c947b900faf34f425eef1549d8210c475e093b
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jun 21 16:18:41 2006 -0700

    Move Xserver internal API for appgroup from Xagsrv.h to appgroup.h
    
    (Since all use is inside the xserver module, might as well keep the header
     in the Xserver module instead of in proto/XExt to allow easier synchronization
     of updates.)

commit aa131c51e06e735d7b54cadf51205f703a3de4ef
Merge: 1708b0c 77aa701
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Jun 21 14:39:52 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 1708b0c7d962b80073500eb1c483447bbf965bc9
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Jun 21 14:39:39 2006 -0700

    Eliminate "ugly" spaces around parenthesis.  Add const qualifier.
    General code clean-ups.

commit a3c26d01a16e4ae20a5d1acf9d888e95760c3da1
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Wed Jun 21 14:38:07 2006 -0700

    Move declaration of "j" inside #ifdef block where it is used to
    eliminate compiler warning.

commit 40aafaf154ba8a2cba857689d1481be2d4a610c2
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 21 14:36:09 2006 -0700

    fix a number of compiler warnings in os/*

commit 77aa701e898c6525322cc4029d95167dd9f6e618
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 21 14:16:48 2006 -0700

    add some function prototypes to hw/xprint/DiPrint.h as they are exported

commit 865884d050e1778180f7677e15f9ee1625ea4bb2
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 21 14:16:28 2006 -0700

    fix compiler warning in dix/xpstubs.c when XPRINT is not defined

commit ed18d776f02e2ab235954501ef64936af9f9d909
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Jun 21 16:22:14 2006 -0400

    Fix #2488 for fb too: sample pixel center when transforming.

commit ea5e0eabd1303a55d8fc10f44d21a3d371ce8919
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Jun 21 17:08:51 2006 +0200

    Bug 4320: Fastpath corner case improvement for Composite.

commit 9af315a9be19b48faa1249e0575cbe3d1e31dec5
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Wed May 5 20:07:37 2004 +0000

    Modify XC-SECURITY and XC-APPGROUP extensions to work with XACE

commit f68ecfa482b2c2037f929710310c7b9ce6fe9291
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Jun 20 19:01:34 2006 -0700

    Add X-ACE to build system
    
     - Added --disable-xace to configure.ac and issue configure error if trying
       to build XC-Security without X-ACE
     - Added XACE #define to dix-config.h
     - Added X-ACE sources to Xext/Makefile.am

commit a46c06dab8392cf8012c7cc0b916de9a9e569671
Merge: 49b368c d44b2a0
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Jun 20 18:40:18 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver
    
    Conflicts:
    
    	Xext/appgroup.c
    	Xext/security.c
    	dix/devices.c
    	dix/dispatch.c
    	dix/dixutils.c
    	dix/events.c
    	dix/extension.c
    	dix/property.c
    	dix/window.c
    	os/access.c

commit d44b2a0a57fb89741173c31676af0ccc822387dc
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Jun 20 18:22:51 2006 -0700

    Move Xserver API for security extension to securitysrv.h

commit a54435946544a039fc333bb5e3438501d0d1ffc6
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Jun 20 18:14:27 2006 -0700

    Move Xserver API for security extension to securitysrv.h

commit 49b368c0bb04816c4a3579071c596b2398cae3ec
Merge: 63f6e6b 481d401
Author: Alan Coopersmith <alanc@alf.(none)>
Date:   Tue Jun 20 16:22:39 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 481d4012e74d9b0e98911f0ae02700ecf4cfc5ac
Author: Alan Coopersmith <alanc@alf.(none)>
Date:   Tue Jun 20 16:16:19 2006 -0700

    Don't add -ldl to XORG_LIBS if it's not needed for dlopen

commit 63f6e6bbfd0d3677e29621af982c9392ead98dd7
Merge: 88ede2c 6df52fb
Author: Alan Coopersmith <alanc@alf.(none)>
Date:   Tue Jun 20 16:03:34 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 6df52fb7745c185c0168060f69cc6b4f5315914e
Author: Alan Coopersmith <alanc@alf.(none)>
Date:   Tue Jun 20 16:02:55 2006 -0700

    Delete code that's been inside #if 0 since X11R6.7.

commit 75398cff82b56c0a8fc301e84e2087f59a61a360
Merge: 1f91b57 2b58685
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Tue Jun 20 15:49:47 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver
    
    Conflicts:
    
    	hw/xfree86/loader/Makefile.am
    	hw/xfree86/loader/xf86sym.c

commit 88ede2cec79281a43cecb43ee6dec65770f82530
Merge: 227a319 2b58685
Author: Alan Coopersmith <alanc@alf.(none)>
Date:   Tue Jun 20 15:29:55 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 227a3193405147fbbee2971cc15bac92cc13285a
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Tue Jun 1 21:09:25 2004 +0000

    Add XACE extension source files.
    
    (Copied from XACE-SELINUX branch in Xorg monolith CVS since these were never
     imported to modular cvs or git trees.)

commit 1f91b5726c721778de0627c0139100744db06934
Author: Ian Romanick <idr@umwelt.(none)>
Date:   Tue Jun 20 15:03:13 2006 -0700

    Fix a compiler warning about varibles being used without being set.
    
    Add some const qualifiers.
    
    Remove some "ugly" space around parenthesis.

commit 2b58685402e70f123e131fd8146e6083ff5214a4
Author: Matthieu Herrb <matthieu@deville.herrb.com>
Date:   Tue Jun 20 21:07:53 2006 +0200

    Check setuid() return value. Bugzilla #7116.

commit 4365d16c8629e824973ee0c357efdfbfd28b672c
Author: Kristan Høgsberg <krh@redhat.com>
Date:   Mon Jun 19 22:13:22 2006 -0400

    Pull over convolution filter fixes from xgl-0-0-1 branch.
    
    Cherry-picking patches:
    
    	8a5ea68800b9d7dca90ff4e573ad8533852f1ea3 and
    	4d755fe14274a7293748ce9aa666ab85df6297c5

commit f818e0ab60da3779ab2602c6e6d3ff261b50917e
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Wed May 5 20:07:37 2004 +0000

    Modify XC-SECURITY and XC-APPGROUP extensions to work with XACE
    (cherry picked from 0106715000196c7b349a0b4494b61545f0f5e138 commit)

commit 0707eb33d6826e1300a905edea28c12134600b12
Merge: 37f0ae0 98d17bb
Author: Alan Coopersmith <alanc@alf.(none)>
Date:   Mon Jun 19 17:09:51 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 37f0ae02457bd22b27f8f30a373e5cb19f2fbaea
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Wed May 5 20:04:52 2004 +0000

    Replace XC-SECURITY code with XACE security hooks
    (cherry picked from 8526cd6395490b03b279f1962df777fb0e4a9878 commit)

commit 98d17bba716619e3402bd74c7c3e1c01d055ef6e
Author: Alan Coopersmith <alanc@alf.(none)>
Date:   Mon Jun 19 17:07:59 2006 -0700

    Tell git to ignore emacs *~ droppings and git .msg files

commit 569c808a2375be71f835ee8693605487484bd22e
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jun 19 16:42:09 2006 -0700

    Fix crash when using PICT_x4a4 by supplying an appropriate fbFetchPixel_x4a4.

commit 8d9ccc90a54c786ca4ba5620ab0a965e3f3bc8ea
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Wed May 5 20:15:41 2004 +0000

    Add XACE extension
    (partially cherry picked from 8d4f21ab53c44ca48501d6211ea6db0c0b8af916 commit)

commit 55426650417df4ec22ea0e2a67f6074f0ac1d54e
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jun 19 15:04:46 2006 -0700

    Clean up gcc warnings from picture format CARD32 -> enum change.

commit 520c80f4b807ae6419e70fe2b524532465b509ac
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jun 19 14:40:27 2006 -0700

    Don't forget to step the rows when verifying the equivalence of fb/sys areas.
    
    This is only used by fakexa, but we would have missed some errors without this
    fix.

commit e793f0eeee3e9c83b6a7b50d451fb6db12839087
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jun 19 14:06:02 2006 -0700

    Correct component ordering when fetching [ax]4b4g4r4 pixels.
    
    Noticed by:	rendercheck

commit e1672a12eb70836a2ceec803d505294897ae8cd2
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Mon Jun 19 13:20:56 2006 -0700

    Convert PICT_* names from #defines to an enum to aid in debugging.

commit 9742d55c820a260a42a4537502295931d4529deb
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 19 14:40:14 2006 -0700

    update .gitignore to handle Xprint move

commit d97a21acb878bc4e5e6542912fbd820503bba312
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 19 14:36:54 2006 -0700

    fix compiler warnings in hw/xfree86/i2c/fi1236.c

commit 29c78321e86956c4ce0c1c899d82557f927e04da
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 19 14:36:41 2006 -0700

    fix compiler warning in hw/xfree86/i2c/tda9850.c

commit 9f2793551f335e5fb08990fc8bb9e05e0ffb68d5
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 19 11:50:47 2006 -0700

    fix compiler warning in hw/vfb/InitOutput.c

commit b20ae5ddb7682bafcee6f8bf0c8208a3f70b882b
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 19 11:38:52 2006 -0700

    fix compiler warnings in hw/xfree86/xf4bpp/ppcGC.c

commit 4d258f31967141e3c4a6e4abbef89ffa717e85aa
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 19 11:27:47 2006 -0700

    fix compiler warnings in XTrap/xtrapdi.c

commit 870cecb72c2cba44dc64cb202917453603c8f287
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 19 11:22:42 2006 -0700

    fix compiler warnings in XTrap/xtrapdiswp.c

commit a28652f9c35fbc009245382a5cc2a022f42366fc
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Mon Jun 19 00:57:18 2006 -0400

    Another round of loader sense-beating.  Remove the (unused) server export
    lists, a really bad hash table, the last vestiges of the other backends,
    and some miscellaneous cleanups.  Good for dropping 300k from the size of
    the built server on x86.

commit 98a602fab1f307a07a96868d7dae12b6f8d7f405
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Sun Jun 18 23:54:04 2006 -0400

    Don't bother building RAC as a module, that's just absurd.

commit 76aaf7eae7409162c5ed2963f2e27d019cb30263
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Sun Jun 18 19:47:29 2006 -0700

    Add a couple of (doxygen) comments I wrote while looking at modesetting.

commit 6aaf0e5b581b06fc73e56f863a26cd9d684eb9c0
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Sun Jun 18 19:12:15 2006 -0700

    Add options to disable EXA acceleration for Composite/UTS/DFS, and always print
    
    out how much memory EXA is managing for offscreen pixmaps.

commit 21ef7e17ef6dca177461c9438b9df707a4d664a2
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Sun Jun 18 18:57:55 2006 -0700

    Add some missing .gitignore stuff for Mesa symlinks and other generated files.

commit 71fbda8049f64c7fefae8ab817fb5f37ee2ee134
Author: Adam Jackson <ajax@theobromine.nwnk.net>
Date:   Sun Jun 18 21:07:28 2006 -0400

    Xprint/ -> hw/xprint
    XpConfig -> hw/xprint/config

commit 868e2cab706e317618646e064b0559d4e68c7b32
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Fri Jun 16 10:17:51 2006 -0700

    Add explicit dependencies (Xorg_DEPENDENCIES = ) on the internal libraries
    (such as libcw.la) that we link into the server, causing it to be rebuild
    automatically when they're updated.  Some system libraries are included, but
    don't appear to cause any harm.  You would think this would be automatic...

commit 53f74b6aa95fe57fda45fd8a051595e772f00402
Author: Eric Anholt <anholt@FreeBSD.org>
Date:   Fri Jun 16 10:14:30 2006 -0700

    Bugzilla #5120, #7246: In CW's GC ops, validate the backing GC against the
    backing drawable if the serial numbers differ.  Fixes crash in XAA which
    occurred when the DDX bumped the serial number on the backing drawable and
    expected it to get re-validated, and we didn't because the wrapped drawable
    hadn't been bumped.

commit 72ac20c0e878ad48ff61f7e846cbf1005a4eb435
Merge: fc3e814 b900883
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Tue Jun 13 21:13:02 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit b90088321e6ef84970aa97d7c851af93f49bf4b7
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Mon Jun 12 15:22:31 2006 -0700

    Add arrayobj.c to the Makefile as well.

commit f9f33b72e34eaeccea2a20f4a3dd68c2dbefc90e
Author: Michel Dänzer <michel@tungstengraphics.com>
Date:   Mon Jun 12 20:19:11 2006 +0200

    Track per-drawable damage to minimize UTS and DFS transfers.
    
    Based on work by Eric Anholt.

commit 6060b612de6b41f872d034c6130770c1d189d0a3
Author: Eric Anholt <eric@anholt.net>
Date:   Mon Jun 12 20:12:31 2006 +0200

    Provide option to report damage after operation is complete.

commit fc3e81473a98d3b932faa73c0c01c21366a48a9e
Merge: 4bedaad 041ef23
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Mon Jun 12 09:41:06 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 041ef23192b193b87f6cfc3e74e2e77f9f47cd4b
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Mon Jun 12 09:39:18 2006 -0700

    Add new Mesa files arrayobj.c and arrayobj.h.

commit 4bedaad17dc75dfbada91f47e1007a8c090300a9
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Mon Jun 12 09:29:05 2006 -0700

    Add new Mesa files arrayobj.c and arrayobj.h.

commit 4e3c9ab8c90d474a2224dbfa0807bc01fc012f7c
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Fri Jun 9 16:56:54 2006 -0700

    Remove some static declarations for things that were removed in
    previous commits.

commit 8b6596b1e1864dd79a3c53ee3ceb7a8e9bdb6ec7
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Fri Jun 9 16:08:06 2006 -0700

    Move probe_devices_from_device_sections,
    add_matching_devices_to_configure_list, and check_for_matching_devices
    from xf86Helper.c to xf86Init.c.  These functions are only called from
    a single place in xf86Init.c, so it makes sense for them to live
    there.  They were originally in xf86Helper.c because they evolved out
    another function that was already in that file.

commit 7810d87cd6ae9316d88f6a2e7696deb8837cec27
Merge: dcfaa9f caad8b7
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Fri Jun 9 15:16:50 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit caad8b724b97074e41de447fe77dda189f287a26
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 11:24:57 2006 -0700

    fix compiler warnings in record/set.c
    
    (note this only fixed up the function definitions for the static functions
    which can not cause any abi incompatibility)

commit 51489bb5ed86cb6aa07e26a13618765c29f913e4
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 10:59:47 2006 -0700

    more .gitignore updates

commit c4d251bd3e88cf8dfd6872537dbe30c07344b196
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 10:46:18 2006 -0700

    updated .gitignore with more pre-generated files

commit 9f31ef83be61a900c701fcbc9a43ffae40ca7005
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 10:44:46 2006 -0700

    fix compiler warning in hw/xfree86/loader/loaderProcs.h

commit 490ffc205a7714145cac0c63efeb6374ea28141f
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 10:44:25 2006 -0700

    fix compiler warning in hw/xfree86/loader/loadmod.c

commit 6119845d1ff832ea2b7c9cbe7ed6c6637cdcf305
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 10:14:08 2006 -0700

    fix compiler warnings in hw/xnest/Keyboard.c

commit 1a7335ff932baa59a3283c50dd6007d81989b7e3
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 10:02:08 2006 -0700

    remove unneeded externs from Xprint/ps/psout.c

commit 9583859d538394e98ac1f38b8e6f0997e321621d
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 09:59:22 2006 -0700

    remove unneeded "extern" in Xprint/ddxInit.c

commit cb9e29c184474edd75645e3b52e22a097a242e40
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 09:54:50 2006 -0700

    removed unneeded extern in Xprint/ps/PsWindow.c

commit 96c19a3ec1b7e43782d373b8015fa0ca24cb4f5b
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jun 9 09:51:28 2006 -0700

    put function prototype for ShapeExtensionInit() in proper place
    
    based on FIXME in mi/miinitext.c

commit dcfaa9f4f8fb10b75be50c9a49ccd88caf6d0f6a
Merge: af9afe4 576e6fb
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Thu Jun 8 15:03:00 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 576e6fb1124a47493371210adf99d6f2076e72c5
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jun 8 17:49:02 2006 -0400

    Bug #7120: Multimonitor (non-Xinerama) support for xwin servers.
    (Tom Whittock)

commit d42cf4a2a4980fdd29fb15c4fd8fddda67b36256
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Jun 8 17:46:53 2006 -0400

    Bug #7121: fix clipboard handling in Xming (Colin Harrison)

commit af9afe4cc50df973bea2293a803f7dfdefaa6411
Merge: caffac3 3930da3
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Thu Jun 8 11:37:09 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 3930da3f6209312dd0f10aba0b16ef45996a07fe
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 11:27:29 2006 -0700

    fix compiler warnings in Xprint/ps/psout.c

commit c496a3b9c981dc079fcc6c0ac4db3aa912b3dcf1
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 11:23:53 2006 -0700

    fix compiler warning in Xprint/ps/PsImageUtil.c

commit ea24b5a25c2544f3b3de6480da125edb23a6b3a9
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 11:22:01 2006 -0700

    add proper function prototypes for Xprint/ps/PsCache.c to Xprint/ps/Ps.h

commit ee2bb4d1929e20436cf0e830ece02fe07db2d524
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 11:15:34 2006 -0700

    fix compiler warnings in Xprint/ps/PsArea.c

commit 92303d534a91cb0ea30e4cd0f639efd70b9739b4
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 11:12:16 2006 -0700

    fix compiler warning in Xprint/ps/PsGC.c

commit cf6169f9e99e6e8ab264f284cfa13cb379b36207
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 11:09:56 2006 -0700

    fix compiler warnings in Xprint/ps/PsFonts.c

commit 1abc7f96edf37a1e2c766b9cdba7fc9b2cb06d19
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 11:06:51 2006 -0700

    fix compiler warnings in Xprint/ps/PsInit.c

commit 2dc291384c550badf55542ae645240e166676848
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 11:04:40 2006 -0700

    fixed compiler warnings in Xprint/ps/PsPixmap.c

commit aef092e0290143c2b8b1cb98fdf55c9630032aaf
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 10:53:17 2006 -0700

    fix compiler warnings in Xprint/ps/PsPolygon.c

commit 511b231ded61159ebd70cab020ca1ca003fd0784
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 10:41:34 2006 -0700

    fix compiler warnings in Xprint/ps/PsPrint.c

commit 35fccb0068e8d73d1e6a16aefdc771506e620f83
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 10:40:24 2006 -0700

    remove some compiler warnings in Xprint/ps/PsText.c
    
    Note that one of the existing warnings is pointing out a
    real bug (uninitialized use for fontPage in PsPolyText16())
    if anyone really cares about this code.

commit caffac38432009e8dc01e7d3e72a7fa6fba2f078
Merge: c5b3aa1 9fa7372
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Thu Jun 8 10:38:43 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 1ac30947f4a222ba78558eddf8e5f03cec31f613
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 10:35:18 2006 -0700

    fix compiler warnings in Xprint/ps/PsWindow.c

commit 9fa73721f0c3df73e508da909a5665f47a54cb57
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 10:27:28 2006 -0700

    fix up EnableDisableExtension() and EnableDisableExtensionError() prototypes

commit c405659626477f2009603d8c0e381b8b62277bb6
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 10:19:24 2006 -0700

    comment out QualifyName in Xprint/Init.c which is not used anymore
    
    If someone else wants to delete this function, that's fine with me too.

commit a940b851faba569e36983f7885aefa72f7bf2ade
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 10:17:53 2006 -0700

    fix function pointer warning in Xprint/Init.c

commit 9e0c82386ae389bcc296a5ad44e996790b033ad3
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 10:16:37 2006 -0700

    fix already-defined warning in Xprint/Init.c

commit 40fb7eecaf14a76f35ac2dc350ad2fffdaf6e0d0
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 10:11:17 2006 -0700

    fix noDamageExtension warning in Xprint/Init.c
    
    Also took out duplicate definition of this variable in mi/miinitext.c

commit 494895e0fbbf0a71bc535c0a2358c9db54c95c5a
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 09:43:44 2006 -0700

    Properly define dispatchExceptionAtReset to fix compiler warnings

commit d90eecf40ea768b2bf6340f15bb0af9dab2f3cf3
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 09:11:41 2006 -0700

    add some missing function prototypes to Xprint/AttrValid.h to fix compiler warnings

commit bccde1609153dee93f6fe5a138fc0c0f2fe08212
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 09:01:59 2006 -0700

    fix incompatible pointer warning in Xprint/ddxInit.c

commit 60bd8893d50ed1da9b94f4b96a07ea432e23f467
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 09:01:21 2006 -0700

    Properly #ifdef out ddxBeforeReset() to fix compiler warning

commit ac21e6a594eac69101aa8920d70a9d60412b57f6
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Jun 8 09:00:42 2006 -0700

    remove unused variable warning in Xprint/ddxInit.c

commit 71dd44b0ad617dd36ce4ed328f9e1e8c5ef713a5
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 19:17:26 2006 -0700

    Fixed up most "warning: function declaration isn't a prototype" warnings from Xprint/

commit 839305bac98856a2bb1d96691e4dcf49db229f90
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 19:12:23 2006 -0700

    Remove unused variables from Xprint/attributes.c

commit c5b3aa120bf96ee169d07c33a2698499944a1624
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Wed Jun 7 17:46:23 2006 -0700

    Added a comment about some suspicious code.

commit 50112dfcc82dd476727fa453b9e3d1852e06d678
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Wed Jun 7 17:46:05 2006 -0700

    Fixed severly broken calls to pci_device_find_by_slot.  I mis-read the
    tag bits when I originally coded it.  I mistakenly thought that the
    original code masked off the PCI function bits, so I just always
    passed 0 as the function.  That was a mistake.

commit f9e7128d948a0b62e6f03295305e0080d9233fd8
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Wed Jun 7 17:44:06 2006 -0700

    Added missing include of Pci.h.  This caused the server to terminate
    when the symbol PCI_DOM_FROM_TAG couldn't be resolved at run-time.

commit 23182315f34e3a0065739b43b15d4560e75b41a1
Merge: bc05158 757f40f
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Wed Jun 7 17:03:48 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 7a40ac2585028860730ffcd333eb3fe9de63680c
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 16:23:45 2006 -0700

    remove a bunch of unused variables in Xprint/Init.c (fixing the compiler warnings)

commit 163980138cc0bfc9124456781b3dc45a49e2a129
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 16:11:20 2006 -0700

    remove some unused local variables in Xprint/Oid.c

commit 8e41640db884a4633b598d0a52b269e6547c8bf0
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 15:56:43 2006 -0700

    add bison generated files to .gitignore

commit 78f4ab6b89fca3086b9c9471b40c11c23fbb6142
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 14:12:40 2006 -0700

    Fix compiler warning about undefined ReinitializeRootWindow function

commit 757f40fca50a99377e437949ee77b983c8cd6087
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 14:09:13 2006 -0700

    updated the .gitignore file with more auto-generated files

commit bc05158a5ab00c548e4b04b5638afe07bc702260
Merge: 46f55f5 cc46580
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Wed Jun 7 14:09:12 2006 -0700

    Merge branch 'master' of git+ssh://git.freedesktop.org/git/xorg/xserver

commit 46f55f5dead5d70cdff30531d80a72f6be042315
Author: Ian Romanick <idr@localhost.localdomain>
Date:   Wed Jun 7 14:09:02 2006 -0700

    Initial batch of changes for PCI rework.  All future changes will be
    tracked individually.

commit cc465800ddca5fb6c9ec09fdfa8f1f05359cf396
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 14:03:35 2006 -0700

    Fix compiler warnings about SetVendorRelease and SetVendorString

commit 785c9789704ed142fe98cd17b5995e4a95b7141f
Merge: 21ebcfd 36d786e
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 13:20:21 2006 -0700

    Merge ../xserver

commit 36d786e9f051c5c95c1cc8c098c84e118ed3cc85
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 12:47:50 2006 -0700

    add more files to .gitignore

commit 8f5aa38abf1158a789b5528df9d98826342e30cf
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 12:33:44 2006 -0700

    fix compiler warning about XKB_IN_SERVER redefinition

commit 101ae616962c355388722e05ab8413eb5f5c3402
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 12:06:22 2006 -0700

    Add PanoramiXExtensionDisabledHack to globals.h as it was missing.

commit e5b72bd9c6fb06640a5de4031be0dc9b04b4b215
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 12:05:39 2006 -0700

    Remove 3 compiler warnings in the Xext/xevie.c file

commit e3c11f66516521959127b9ab8fd88cc4c954f5bb
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jun 7 12:05:01 2006 -0700

    Added first cut at a .gitignore file to make using git easier.

commit 21ebcfd7027b2a6182d4065e56a2ef814f5181ae
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Jun 7 14:17:31 2006 -0400

    Demolish now-unused loader functions.

commit f90761b06eaa5fa44fe85289e54eed5f47eff3b9
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Jun 7 13:58:24 2006 -0400

    Add a token for EDID-supplied modes.

commit d00aa6b8559d3e5f70c6558ce0abd12f7d758491
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Wed Jun 7 11:44:36 2006 -0400

    Delete a (now misleading) message from the crash handler.

commit f8535edec736cf19740bd41ed2adfe531f2c26ac
Author: Keith Packard <keithp@neko.keithp.com>
Date:   Tue Jun 6 10:29:34 2006 -0700

    Remove ChangeLog file.

commit 8444bb77c91cf8a23d32b3cc9749e2a3d3f9f9eb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Jun 5 20:22:06 2006 +0000

    When we can, bound the maximum number of PCI devices to attempt to scan, by
        the number found on the system. Only implemented for Linux right now.

commit 11cf4d2fde9219e8d6ca427acae89a0c9f5d71b1
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 5 07:15:23 2006 +0000

    Update AC_DEFINE_DIR to version compatible with CVS autoconf which requires
        double eval to avoid leaving ${prefix} in output

commit 52fc7c8dc70226cc7f03454e9be86a627672295f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jun 5 03:00:24 2006 +0000

    Ensure all *ModuleData symbols are marked _X_EXPORT. Start removing
        XFree86LOADER ifdefs, non-loadable hasn't been supported for a while
        now. Remove completely gratuitious REMOVE_LOADER_CHECK_MODULE_INFO
        ifdefs surrounding a call to a function added in XFree86 4.1 (!).
        Miscellaneous static markings.

commit d22582dc5a070f72d4653e24d1e4ebe4a112276e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jun 4 16:13:26 2006 +0000

    Remove a stray LBX reference.

commit ddc6b99505e227f99585b8c2392da524022a73e6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jun 3 11:24:33 2006 +0000

    Bump to 1.1.99.2.

commit 4fd668940f2155c4b06d24b6da8bcccd01f66f4c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jun 3 10:58:37 2006 +0000

    Bug #6619: Fix disappearing hardware cursor. (Colin Harrison)

commit ee71cb61f8da29bcf36ea4b199d629e34f89b119
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jun 3 10:54:38 2006 +0000

    Bug #6956: Fix crash when removing session leader before its children.
        (Rich Coe)

commit cd384af3058fe15077c57eccdffed3b61e261e7f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jun 3 10:50:23 2006 +0000

    Completely remove relocation pointer table.

commit 8e8c6faecddbe014d8760822e1f705b43a00fa33
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jun 3 10:48:37 2006 +0000

    Add support for kFreeBSD systems. (Robert Millan, Aurelien Jarno)

commit 5b703f847d166176920077c1e6ba1d9559fc8481
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jun 2 12:05:32 2006 +0000

    Fix type confusion.

commit 56f21bda1ce95741c88c423b60bd709eef26eb12
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 22:30:52 2006 +0000

    Bug #6583: Only open /proc/bus/pci/devices once. (Bill Nottingham)

commit a9ed5a87902a839a5a135af03db78f113b18bd86
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 22:06:41 2006 +0000

    Kill LBX, too.

commit df6da66525836d515f408a82f1a13ca5251ff0f7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 20:56:39 2006 +0000

    Simplify the unsupported XI function list.

commit 97203f1cf6e5b7c6389f69cbb1b75ac675d09531
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 20:41:21 2006 +0000

    Clean up a warning, and remove excess multiple-suffix code.

commit 6d594ebc667afd404556ec3e108c810946b20ac5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 20:22:39 2006 +0000

    Ditch more alternate-loader braindamage.

commit c9468177486833d521ec62c7b0266b4be8200de7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 20:18:30 2006 +0000

    Kill a.out, COFF and ELF loaders with FIRE.

commit a3a4221495dfe4cc0a3874a08dd5364ef45a7f2e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jun 1 19:53:06 2006 +0000

    Add bitmap to the ignored module list.

commit ee689c104287140db38bbd26959ab1b4847c168e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 19:49:55 2006 +0000

    Ignore requests to load GLcore and speedo.

commit 07c731a2bc21e6b98f28a2c0ebc42f01b67b824b
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jun 1 19:37:53 2006 +0000

    Bug #5089: Die, libbitmap, die!

commit 32be08ba7242da74de5defd6a4dcb536a273f57a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 19:22:38 2006 +0000

    Remove horrendously ugly DDX backward-compatibility.

commit d81edb9e00680e3c0001f343fa1d0c310b86cb93
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 19:22:01 2006 +0000

    Forgot to remove this one too.

commit a73e0f8cdfec1c9199ffe696146ba7d677c4c10d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jun 1 18:47:47 2006 +0000

    Die XTESTEXT1, die!

commit fc5ca97284ef237a91f6adb433148ff57a673c08
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue May 30 22:56:36 2006 +0000

    Powerpc machines also need ioperm_noop.c

commit 07b168c8d8b2d79a4e7cf8dc5124eafc0f2bbcd0
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue May 30 16:10:59 2006 +0000

    Properly document the DPMS, SyncOnGreen, and TargetRefresh options.

commit 107defd920d9b1eb52b15e8ca8665bc48bb933d6
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon May 29 19:53:18 2006 +0000

    Remove superfluous definition of tfp tokens.

commit fd8bde8bb0f9d796b3464973b53285c0a6d22a31
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon May 29 11:14:03 2006 +0000

    Remove -xkbmap argument.

commit db0680cf70b8367e1f8a7fff9c0f6ec414db0542
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon May 29 09:26:32 2006 +0000

    Minor #include cleanups.

commit c38aab293a06f43c04f14223f94f822d91d73396
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat May 27 23:15:05 2006 +0000

    check buffersize before reading next char, fixes the "mouse stuck at left"
        bug (bugzilla #3113) for BSD systems using wscons. (Dale Rahn).

commit 2102fdd0a58e18aeaa842b2ec73b6071970fafb7
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Fri May 26 00:12:18 2006 +0000

    RGB color database and XErrorDB install to "share" not "lib" by default (by
        app/rgb and libX11).
    TODO: They are customizable, so maybe cpprules.in should be extended.

commit 354086d7e8e13fc7acbcc6603ca2a03c8cc806ee
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Thu May 25 23:32:33 2006 +0000

    Don't do fixup_video_driver_list if no drivers. (I had signal 11 and core
        dump when drivers not installed yet.)
    TODO: fix fixup_video_driver_list to handle NULL argument.

commit c6b1cff43238deded11dc58945778aec3d844598
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Thu May 25 13:27:42 2006 +0000

    update to build against Mesa CVS HEAD (Carlos Eduardo Rodrigues Diogenes).

commit 99724c16c9c58eb3e20ba91c79464747b8ee3fcf
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Thu May 25 10:14:39 2006 +0000

    typo

commit 5c7aef148de23f39027fda647bbb53bb5b992683
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Thu May 25 09:57:47 2006 +0000

    Don't destroy a pixmap twice on server exit (bugzilla #4247).

commit 693079442377daa2dc48bf318a0d7dd256cb2738
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Wed May 24 22:58:03 2006 +0000

    NetBSD also has curses.h instead of ncurses.h. (TODO: Maybe instead of
        checking for SCO, UnixWare, Sun SVR4 and NetBSD, the curses.h versus
        ncurses.h should be tested in configure.)

commit 9477e5e0be04f4f6fa311de8b3693fbc8a082fbf
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Wed May 24 22:43:13 2006 +0000

    On NetBSD, add -li386 for i386 and -lx86_64 for x86_64 to SYS_LIBS. (x86_64
        on NetBSD not tested.)

commit b3031532ca96b22e81863202efb8bbcb9d701fac
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Wed May 24 20:11:38 2006 +0000

    Remove tolower() which was missed in the _XkbStrCaseCmp/strcmp changes.

commit eb696f72a0819edef550bce9ff55730c02f70452
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue May 23 16:17:09 2006 +0000

    Add AC_SUBST([SOLARIS_ASM_CFLAGS]) that I forgot when splitting them out of
        the XORG_CFLAGS.

commit bc0c56c407117d1545e20d21f7d30eb3472d618b
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon May 22 15:47:56 2006 +0000

    Bug #6924: Restore the ABI for DrawableRec and ColormapRec to the state
        they were in prior to the fix for #6438. Based on a patch from Andy
        Ritger.

commit cc3b882bd141218052cdde0144fc2a707ceee83d
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat May 20 00:55:44 2006 +0000

    Update to 2006-05-19 snapshot
    Remove entries now present in pci.ids
    Regenerate from updated pci.ids & extrapci.ids

commit 0b2c2b6bba5b578d5f0ac2d709d5d2ce7cb32bef
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri May 19 20:29:47 2006 +0000

    Remove dead DPMS timer functions from the installed headers. (Fredrik
        Höglund)

commit deebf6bd51117c01a3217f134bd952481b9e41ab
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu May 18 23:52:51 2006 +0000

    Bug #4139: Fix a BAR remapping bug that could lead to IERR and system hang.
        (Egbert Eich)

commit 91239d83f4e27835cf871348b5ff6c892bd4f4f4
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu May 18 23:52:41 2006 +0000

    file getemptypci.c was initially added on branch server-1_1-branch.

commit c11cfcfaffc79be5686c666f881c4c08f69e1b86
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu May 18 23:48:57 2006 +0000

    Bug #6377: Ignore disabled BARs, and allow matching BARs aligned to less
        than 16 bytes. (Felix Kühling, ATI)

commit fa9a49a92db52de968d7147c71c6b9a8fd480f1e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu May 18 18:18:41 2006 +0000

    Bug #5877: Avoid burning CPU when acpid dies. Require acpid to be running
        for ACPI support on Linux. Minor errno handling fixes. (Valery
        Inozemtsev, Adam Jackson)

commit 7893dadb2f6df218a4f4ea30a41c1aa9838da1f0
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu May 18 14:39:59 2006 +0000

    Bug #6827: Fix texel fetch in fbFetchTransformed to avoid crashes. Still
        not 100% correct, but better than 7.0. (Radek Doulik, Matthias Hopf)

commit 2892dd6d2e34957650ef1630a94d471dfa71f888
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed May 17 16:20:03 2006 +0000

    Make Xv symbols conditional. (Enrico Wiegelt)

commit a317bf482257f0e1b612dec7961fdfa564f0b9f2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed May 17 15:00:18 2006 +0000

    Make DBE support conditional. (Enrico Wiegelt)

commit 321dbed5f5a857a23525167ab85d4d7699429132
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon May 15 18:27:18 2006 +0000

    Bug #5209: Fix APM/ACPI support, again. (Michel Dänzer, Valery Inozemtsev)

commit dd38d3bd673cf830c2cd591fe1245909aa729892
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun May 14 16:22:24 2006 +0000

    Don't use AM_CONDITIONAL inside shell conditionals. Bugzilla #6916.

commit 6558ba4e62dba99f2a4d830f1c16f8d1c255b316
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri May 12 21:53:28 2006 +0000

    Fri May 12 17:51:26 2006 Søren Sandmann <sandmann@redhat.com>
    Keep track of the previous item and update its next pointer when deleting
        from the linked list.

commit 9e239a0df7ededb50de091e5271cbfddd2b683c3
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 11 11:23:43 2006 +0000

    Bug #5796: Wrong fastpath selection for repeating sources.

commit 9db5d2dfc33e384ea4db1b7cbc377e0b05cfb3ff
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu May 11 10:18:08 2006 +0000

    Bug #4320: Improved XAA Composite fastpath.

commit 9a2a63ca3ff30d15e82a29e75a3720ba5b446978
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed May 10 15:44:27 2006 +0000

    Bug #3561: Crash fix in the Record extension. (Paul Anderson)

commit ab1a0249ba5e3174f18a1db212bc511fd7d74cb0
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue May 9 22:36:01 2006 +0000

    Bug #6867: Yet another Render crash fix. (Michel Dänzer)

commit 24310f827b71009c7510a674d2f92ced89847e37
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue May 9 18:12:50 2006 +0000

    Revert accidental commit

commit 86ffb46358965509aa3ee536f15cb5a4e5e04426
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue May 9 18:04:29 2006 +0000

    Bug #5209: Re-enable building APM and ACPI support. (Michel Dänzer)

commit b46d6a44fa97a3e66de828385026b7f84d9e59b8
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed May 3 23:45:16 2006 +0000

    Make Xephyr build on Solaris:
    Add #include <sys/file.h> on Solaris for FNONBLOCK/FASYNC definitions
    hw/kdriver/linux/Makefile.am Move agp.c & agp.h to KDRIVE_HW_SOURCES since
        they're not needed for Xephyr-only builds
    Add -lrt to XEPHYR_LIBS if needed to get nanosleep().

commit fc91ca069dd55490b99b096f029e0864b049120c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed May 3 17:50:10 2006 +0000

    Redact a few mentions of speedo font support.

commit b9a9cf618566bdd796556b8a1f31949f66184352
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue May 2 14:09:30 2006 +0000

    Typo in ALLLOCATE_LOCAL() arguments, causing mis-computation of the buffer.
        Bugzilla #6642.

commit 1e8a594957d84a37e66183e9c0cb9d42b62bdb24
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue May 2 01:37:25 2006 +0000

    Fix Solaris build with Sun compilers to work when exa is built before
        hw/xfree86/os-support/solaris (as it is by default now).

commit 724dbc2f8bbe2f21bf16f20ca7b8bb555516626c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue May 2 01:30:37 2006 +0000

    Use min() [defined in include/misc.h] instead of MIN() [not defined in any
        Xorg header].

commit ad124742ae2a265a54a4a7ac91709ec6fd6ced34
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Apr 30 20:33:27 2006 +0000

    Remove stray mfb/cfb references.

commit 291e89d4f2a4bb3177b2dfe6421680e23f120b8e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Apr 30 19:16:14 2006 +0000

    Remove NEED_LINEHELPER BC cruft for pre-R6 DDXes.

commit fdcacc5a4bc1d6cb7347fc66041a9c686c5c74d1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Apr 28 03:27:12 2006 +0000

    Add Polylines and PolyPoint acceleration as well. This is primarily to
        clean up fallback debugging output, so I can focus on more imporant
        cases. Performance is comparable but without hardware stalls, and
        passes Xlib9.

commit 005529a1c9c9e78f06565dff081f03b74988081e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Apr 28 03:26:30 2006 +0000

    Correct some bugs causing performance issues in the "Smart" scheme.

commit 8738bc295bba229e36d064713e0c28aa8720c494
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Apr 27 20:27:27 2006 +0000

    Improve EXA fallback debugging output to include the locations of pixmaps.
        This is being used in tracking down recent compositing performance
        regressions.

commit 83b061776a57025076fc26d6d01fe2e049c2243b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Apr 27 19:17:34 2006 +0000

    Add trivial PolySegment acceleration for 0-width horizontal/vertical lines,
        which still happen somewhat frequently and were cluttering up my
        fallback debugging output. x11perf says it's a major performance win in
        those cases (though probably irrelevant), and it passes Xlib9.

commit 69164ec00c749787dd59d5913ec6b3d159ad74d7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Apr 27 02:15:19 2006 +0000

    In drawing glyphs, shortcut our way to exaComposite instead of going
        through the whole CompositePicture stack and doing things like
        computing damage over again. This is a sizeable win for text drawing
        with a compmgr. Also avoid calling down into the server for dealing
        with the scratch pixmap when we are able to do UploadToScreen
        successfully and never need it.

commit 3d4ca57b69c40d27fe191170d0819013f8cc4947
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Apr 26 18:27:40 2006 +0000

    Add a helper for the Component Alpha Over case, which breaks the operation
        down into an OutReverse and an Add. Turn off the fallback to software
        glyphs when component alpha, now that we expect all (new) drivers to be
        able to support it. Also, make Xephyr fall back in the CA Over case to
        exercise this code. This speeds up my rgb24text and ls -lR in
        gnome-terminal by a factor of 5.

commit 26fa45b64258894201496f921eccb0cb7028c28c
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Apr 26 11:40:58 2006 +0000

    Bug #6751: Use the Linux PCI ROM interface on Linux properly. The old
        domain code, still modified BARs not a good idea, Just talk to sysfs,
        if 0 read, fallback to old methods.

commit c339b221d3f59130a39e63d4cec3de7e3de95bf3
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Apr 26 11:31:07 2006 +0000

    Bug #6750: This patch detects Intel bridges that are transparent but aren't
        reported as such. From the Linux kernel fixups. This patch also removes
        the reserved BIOS area from the area to allocate resources in.

commit 6d156c044085881c6ecbd8a13521c0a26df71c30
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Apr 26 01:33:15 2006 +0000

    Improve the migration debugging output.

commit eaed7545a25a08b3223bf620c2ab6f80fe7cfdf6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Apr 26 01:32:55 2006 +0000

    Fix a bug in the intersection computation that could concievably cause
        incorrect results to be returned (but would probably usually be
        over-conservative).

commit 5d00859c6e7d4b7ebce56f438ec4993334de2328
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 25 23:56:17 2006 +0000

    Bug #4668: Check if the lists of glyphs don't have any intersecting glyphs,
        and if they all have a maskFormat matching the format of the actual
        glyphs If so, we can avoid the temporary pixmap for accumulating
        glyphs, which reduces the number of operations done, and makes it
        easier on the migration system. This fixes some significant performance
        issues, particularly with subpixel antialiasing. Note that it does
        increase the amount of damage computation which is done, so is not
        always a win with a compositing manager running.

commit 074dc9a023b3967ce00aa42c26a7c988423afe8a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 25 16:47:23 2006 +0000

    Add an option to verify at the point of migration that pixmaps which aren't
        marked dirty are in fact not dirty. This will hopefully help catch
        issues like the previous commit. Leave it on in fakexa.

commit 702d9226d57ec1584de2e8a85c268795650b1094
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 25 15:46:04 2006 +0000

    Don't forget to mark the drawable as dirty in exaPutImage(). Fixes
        corruption with drivers that have UTS. (Michel Dänzer)

commit 39ca0867c7dd6f3bdecc52aec8df435946682098
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Mon Apr 24 05:44:06 2006 +0000

    Remove another reference to cfb16.

commit 81f3c2937df6230542f3223c201da8c41ff59945
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Mon Apr 24 05:39:47 2006 +0000

    strlcpy() doesn't exist on Linux, so use the implementation in os/.

commit a715634d23fb3124261dbbd8d7d4e6522551bb9b
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Apr 23 13:14:50 2006 +0000

    Don't access free memory after unloading a module. Bugzilla #4168.

commit 79dc6892610c9f8385cde4f0d601cc7481225c16
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Apr 22 03:22:17 2006 +0000

    When reading the kernel keyboard mapping (readKernelMapping in
        os-support/linux/lnx_KbdMap.c) we overrun the usefully-named global
        array 'map', scribbling on other random static variables elsewhere.
        This is fixed by changing the size of at2lnx. (David Woodhouse). Bug
        #5169

commit b37c515320dc8df2b1d160cc3f37d6bfac109b91
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 19 21:56:13 2006 +0000

    Add support for x4a4 format (depth 4 at 8bpp). Bug #6325.

commit c947d796aad0b81d661a10b787deed967376da79
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 18 19:18:43 2006 +0000

    Missed in previous commit: Add a new migration scheme, called "Smart" for
        lack of a better name. This one behaves somewhat between Greedy and
        Always. It moves in if we can accelerate, unless the destination is
        clean and shouldn't be kept in framebuffer according to the score, in
        which case we migrate out (and force-migrate anything where migration
        is free). This should help fix lack of acceleration for drivers without
        UTS since removing exaAsyncPixmapGCOps, and has removed one performance
        trap with Radeon I'd noticed. It is the new default.

commit b17a4de83e7ab18bef29ae898195889638f1cc6a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 18 19:14:07 2006 +0000

    Add a new migration scheme, called "Smart" for lack of a better name. This
        one behaves somewhat between Greedy and Always. It moves in if we can
        accelerate, unless the destination is clean and shouldn't be kept in
        framebuffer according to the score, in which case we migrate out (and
        force-migrate anything where migration is free). This should help fix
        lack of acceleration for drivers without UTS since removing
        exaAsyncPixmapGCOps, and has removed one performance trap with Radeon
        I'd noticed. It is the new default.

commit 771b366abe0bc060592b548612ec413291e14bf0
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 18 18:50:35 2006 +0000

    Fix exaGetPixmapFirstPixel to migrate as unaccelerated. Also adds a bit of
        fallback debugging info to PolyGlyphBlt.

commit 782d61a03176264e0a9eb222ae97be3d175cf0ab
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Tue Apr 18 17:28:44 2006 +0000

    Update all prefixes in config tools, so they mostly work again. Also, make
        RgbPath commented out when using xorgconfig. Start using
        /dev/input/mice as the default mouse location on Linux.

commit 0f065059dcaf9c452f1cdec115f619f697fd71cc
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Mon Apr 17 07:27:43 2006 +0000

    Wrap a couple more SDK headers in if XORG, as per Dave Airlie's commit on
        2006-01-18.

commit ba632f697a782cd47870705b6cecaac2c60d30ff
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Mon Apr 17 07:10:31 2006 +0000

    Fix kdrive build by linking in libexa before KDRIVE_LIBS.

commit 0e62d92d5b809bc3a6503e9bc386cf961fc22557
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 14 23:43:32 2006 +0000

    Coverity #804: Another leak on OOM path.

commit d61219aaadf9e4aa83644a69627d3a1d3282c95f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 14 23:38:11 2006 +0000

    Coverity #806: Another memory leak on OOM path.

commit 1b04e313920447e4c1f42bdd5a61f188d463210c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 14 23:32:22 2006 +0000

    Coverity #847, #848, #849: Three more memory leaks.

commit 6545051902f2ce00c98bd1373f97ebc942667e9c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 14 23:10:59 2006 +0000

    Coverity #1003, #1004: Two more useless null checks.

commit ab1d420022fb09d36a0d6ad948c38147c65b9adf
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 14 23:09:38 2006 +0000

    Coverity #1005: Avoid a null deref.

commit d01e0956a8903fb41e8a34c78973b9b2860b6446
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 14 23:08:10 2006 +0000

    Coverity #1007: Fix a silly null check.

commit 6d29f659318364afe046dc242d6f506ce40a944a
Author: Luc Verhaegen <libv@skynet.be>
Date:   Fri Apr 14 23:01:35 2006 +0000

    CVT means Coordinated Video Timing instead of Common.

commit 82b6ea1a4b414426072bf001daeb3e9de0e93589
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 14 22:51:19 2006 +0000

    Bug #6580: Don't install xf86drm.h, that's libdrm's job.

commit aefa347bded9a3179ab139d0ccddce314040e9b9
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Apr 13 21:08:25 2006 +0000

    Fix build for added file to Mesa CVS. This is always fun. :(

commit 6aadd454e70d83921685b58bf57ec30d95920734
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Apr 10 10:11:19 2006 +0000

    Fix stupid thinko.

commit c9f6e60d42dec82d06995c05a2a011c338cadd87
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Apr 10 08:50:33 2006 +0000

    Coverity #826: Fix potential memory leak.

commit 1357af2474be9a3bce7ee2350fd4252eee89a3b1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Apr 9 17:39:10 2006 +0000

    Coverity #340: Fix potential NULL dereference. Clean up proliferation of
        'register int n' in loops of ProcXkbGetNames.

commit f324be00c547effc698ae6679d12ffe90bd90e43
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Apr 9 17:28:42 2006 +0000

    Coverity #324: Fix potential NULL dereference. (Alan Coopersmith)

commit 7637aa17f21e26d979fbb210a638d6751c98b1eb
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Apr 9 17:26:17 2006 +0000

    Coverity #169: Fix potential fgets() into NULL (?!?).

commit d5bc41b88272b4a3a1841cc1189720b0549db215
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Apr 9 17:15:51 2006 +0000

    Coverity #323, #445, #446, #447: Fix potential NULL dereferences.

commit 2387bfa5ff5ed82f3f732fb9152c1ea95850a914
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Fri Apr 7 18:56:04 2006 +0000

    Bump the ABI versions. Due to Glyph privates and the XV update below, the
        video driver ABI needs to be bumped to 1.0. The rest of the ABI minor
        versions were bumped to include the LoaderGetABIVersion function.
    Add a DrawblePtr argument to the XV hooks. This allows drivers to determine
        that the target window is redirected and draw to the appropriate place.

commit dc43909219fe2a4d03139638814b89032b2921b9
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Apr 7 17:49:32 2006 +0000

    Fri Apr 7 13:46:45 2006 Søren Sandmann <sandmann@redhat.com>
    Use FreeResource instead of deleteCompOverlayClient()

commit 94e7213d594dbbb53a6bb05d1dab7514c4ff5350
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 16:08:50 2006 +0000

    Remove libc wrapper types from Xisb interfaces.

commit 47bdc9528c2dd4ea9d59a0944c023173ea7a7a66
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Apr 7 16:07:50 2006 +0000

    Coverity #844, #845, #846: Fix memory leaks.

commit 2c90c3bfef8563f739a72bb645dd52b35b6ff6d5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Apr 7 15:57:17 2006 +0000

    Coverity #987: Avoid potential NULL dereference.

commit 843146cfbaef234e13df9a62b6f0232a5efdf7f0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Apr 7 15:53:21 2006 +0000

    Coverity #1216: Fix double-close of file on error.

commit 5dacc822327689c0f096093756473c96fba67d76
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Apr 7 02:20:11 2006 +0000

    Coverity #333, #334 - eliminate unncessary test for always true condition
        in fbEvenStipple.

commit 75a9afdbf42e4196471774102e1758f18866bec6
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:53:43 2006 +0000

    Coverity #488: Avoid smashing an array on malformed config files.

commit 20c1ef2cc30abe45eeaf5b0833cbc0095ed05c02
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:50:07 2006 +0000

    Coverity #769: Fix a potential memory leak for systems that allocate on
        malloc(0)

commit 5ef711032b821be82fd7281fe64872bcbaff0327
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:41:00 2006 +0000

    Coverity #838: Plug two more memory leaks.

commit 69477ea4b6e666940c5dd4422bedfa6432dead04
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:37:11 2006 +0000

    Coverity #837: Fix another another memory leak.

commit b472ce7307dd88a21c7713a2b127e34f5c2bc817
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:35:43 2006 +0000

    Coverity #836: Fix another memory leak.

commit 9c84ed5f8d9eded1a8b509c9cad1ca0ebcf2166a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:34:29 2006 +0000

    Coverity #835: Plug memory leak in extension section parsing.

commit 12924d0da36ad2266bb040caac58534c07e85261
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:29:39 2006 +0000

    Coverity #812: Fix parser memory leak.

commit 49abff79957799e9229d5c0226ee1b0d7505003d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:26:33 2006 +0000

    Coverity #818: Avoid memory leak on error path.

commit bda292120fc97f890c1f58a31177c0f7c0bfa048
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:23:50 2006 +0000

    Coverity #985: Avoid segfault on malloc failure.

commit 536628bb4bcb0a0d749e0c01412a5eb5d6d24063
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 7 01:18:01 2006 +0000

    Coverity #1037: Sanity check idx before use.

commit 53e97ce4ddd993248561c245143b61915ea254b5
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Apr 6 22:04:12 2006 +0000

    missed a line while removing cfb16

commit 4ae12636694af05cee4287b119bde08e9ceaa8aa
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Apr 6 18:59:11 2006 +0000

    Remove cfb16, no longer used.

commit e1fc15a85fb367ee9afd63c920c3327c3f45158d
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Wed Apr 5 21:08:45 2006 +0000

    Put the screensaver extension back in the Xext module.
    Move the screenSaverSuspended variable to DIX globals.
    Restore the old link order for the Xorg and Xdmx binaries.

commit 383c2e1e9ec54ab9de356993ad552c1aa6ec094f
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Apr 5 19:52:12 2006 +0000

    Include fbmmx.h in fb/fbwindow.c when USE_MMX is defined. Fixes build
        problem on x86-64 resulting from fbHaveMMX being a macro instead of a
        function on that platform.

commit 4697da177d545a2f8bb6fd0d6588a1c40532c339
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Apr 4 18:30:28 2006 +0000

    Initial checkin

commit 83ea57bcc82f478a7ecdcd6ed73ca4be01cd9c26
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Apr 4 14:39:06 2006 +0000

    Bug #5729: Convert xf8_16bpp to fb. chips(4) users please test.

commit 4c7da861185080d15b3ff4301af4af0e85a71f93
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Apr 4 14:17:04 2006 +0000

    Bug #5300: Fix missing spaces in the Build OS line in the log. (Egmont
        Koblinger)

commit fb6f61b50f1c701041680e49f6a406a6603f1577
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Apr 4 12:36:16 2006 +0000

    Bug #4806: Dump the raw EDID contents in hex to the log file for better
        debugging. (Philip Prindeville)

commit 14af50371c7f23855781924cdf6afa6ab7566a87
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 22:00:06 2006 +0000

    Bug #2142: Make font path logging more readable. (Eduard Fuchs)

commit 373f9f92566290d979730c09c9c5c5d50e23390c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 21:45:54 2006 +0000

    Bug #4766: Convert all Xprint drivers to fb.

commit d9b8bfbfafe8758ceb629606607e37546d51ca52
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 21:16:30 2006 +0000

    Bug #5478: More use of fbSOlidFillmmx. (Jim Huang)

commit b0e67782653033c6518944adfbf23e466bd8bc39
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 19:50:15 2006 +0000

    Bug #6346: Build fix when using gcc -mno-sse. (Jonathan Adamczewski)

commit 66500819b1ca730a7b1df400a8368a08cbe49335
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Apr 3 11:37:30 2006 +0000

    Bug #1358: Make ISO_Prev_Group cycle/wrap as ISO_Next_Group does.

commit 2a6c11aa3b06f13dad94f3441c7184e6720a2bf4
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Apr 3 09:12:28 2006 +0000

    Fix a server crash due to memsetting beyond allocated memory when running
        GL applications.

commit f6ca2b3ea92b7fe98408c51a17a590435e808b1d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 02:15:55 2006 +0000

    Coverity #38: Dead branch elimination.

commit 9b9dd747d8f4697c6d5c947c160d5991c7c8fde5
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 02:13:47 2006 +0000

    Coverity #75: Dead variable elimination.

commit 3f87aeefb4be3ac23ae636d3756ffdc446eaa62d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 02:12:11 2006 +0000

    Coverity #82: Dead variable elimination.

commit 61926dbe592468076f8c9a666f0098d067d2213e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 02:09:05 2006 +0000

    Coverity #271: Fix an unbelievably boneheaded NULL chase.

commit 7ef95da8a3e22e710882590fc47d56893159cb5d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 01:51:54 2006 +0000

    Coverity #616: Fix a rare memory leak.

commit 01ebd633017249c496f378df511586c973d49708
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 01:43:33 2006 +0000

    Coverity #833: Fix a rather nasty memory leak.

commit a01f17d6dec02f80144e108f748783cb4e429ebb
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 01:35:05 2006 +0000

    Coverity #983: Move some risky debugging code inside #ifdef DEBUG.

commit c03cfca3806f45948627715b25b46839a07be979
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 01:31:59 2006 +0000

    Coverity #986: Prevent a NULL chase.

commit 07ecf49521973bbb205b199c39e1171f1163df2b
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 3 01:28:11 2006 +0000

    Coverity #992: Prevent a NULL chase.

commit c6b3b3354c2d9139b19b132051d434e97dd19715
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Apr 2 22:51:42 2006 +0000

    Bump to 1.1.99.1.

commit 7e085f52b6f07c076bd3bcfdce27c17d14d7822e
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Apr 2 22:31:13 2006 +0000

    Use xf86LoaderCheckSymbol to check for DRI symbols instead of dlsym,
        avoiding RTLD_DEFAULT. (__glXDRIscreenProbe): Change GLX-DRI to AIGLX
        in LogMessage for consitency.

commit b2097b99a2e6cc045ee9b6d80946bc06c4d9302c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Apr 2 21:45:03 2006 +0000

    ../stub

commit 4e3a4cfdd1d7153eb88aab05ed02ddb32601ae93
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Apr 2 06:22:05 2006 +0000

    Use RTLD_DEFAULT, rather than relying on NULL happening to map to it as it
        does on Linux.

commit 323fec20292fc5ad90bfee9015ecccdc13c968ad
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Apr 2 00:46:20 2006 +0000

    Reorder link order for Xdmx to fix new screensaver variable reference
        properly; remove previous awful hack.

commit a605b9ffd3c2e7d227e35b911761f720bf07b7e6
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Apr 2 00:09:43 2006 +0000

    Fix some includes to point into X11/fonts/ properly.

commit e5b1d38e142807b59ce4ec89764c949f707ec541
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Apr 1 23:53:33 2006 +0000

    Disable Xprint freetype support momentarily. Needs ttf2pt1.c, which exists
        in the monolith but has an advertising clause in the license.

commit ccca76b8083b83825fa16483b44e8926a35412bb
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Apr 1 23:41:23 2006 +0000

    Clean up warnings and a debug printf.

commit 6afa814ab16f351b2eb787e5bf481a1f9738b391
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Apr 1 23:28:17 2006 +0000

    Pull out fb's tile handling during fbValidateGC so we can do the necessary
        exaPrepare/FinishAccess()es. Revealed by xtest with fakexa.

commit 277f612d4eeb89adb8ccda4e8fd3d211d8d1705e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Apr 1 23:19:08 2006 +0000

    Hack around the new screensaver variable for DMX, which is otherwise
        blissfully ignorant of it.

commit 5f95146fcfcae60cc29265799ba3b851647105d6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Apr 1 22:35:16 2006 +0000

    Export exaPrepare/FinishGC to the rest of EXA, and use it in the ImageGlyph
        implementation to avoid unprepared access to the tile. Also, relocate
        the fbGetDrawable to avoid using a stale dest pointer after
        exaSolidBoxClipped() may have migrated it. Revealed by xtest.

commit c720ffe875e4b2038746ff9b4767f8b90db0a307
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Apr 1 22:17:44 2006 +0000

    Use fb's depth-to-planemask computation, which doesn't suffer from getting
        a 1 planemask at depth 32. Fixes Get/PutImage xtest tests.

commit 5c0a2088e229d05c38e5df7daea45af0d7db7daf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Apr 1 21:49:44 2006 +0000

    Bug #6428: Fix off-by-one error when walking off the end of the vmodmap
        list.

commit 1e764feab595b781dab22d6e41c26f118c9d41b5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Apr 1 21:20:31 2006 +0000

    Bug #5801: Check for MTRR support under Linux. Minor refactoring of MTRR
        checks for other OSes.

commit 978c7b14a18caffde5600480824d04492fc32aef
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Apr 1 21:02:40 2006 +0000

    Make Xprint AC_ARG_ENABLEs and AC_ARG_WITHs unconditional also.

commit 71a6f2ef6c1138c5c6918a54dfb856183f4f242c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Apr 1 20:58:42 2006 +0000

    Unconditionally run XP_USE_FREETYPE AM_CONDITIONAL, not only in the Xprint
        path.

commit d1e90113fc32b6ddc4dbe1a074763c31bc133e75
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 31 23:22:29 2006 +0000

    Don't attempt to Prepare/FinishAccess NULL pDrawables. Exposed by new
        gradient testing in rendercheck.

commit 2e38fedd29e7e55d01e3edce6a73b8ceaac17911
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 31 19:41:28 2006 +0000

    Add an option to EXA for the DDX to request that EXA hide the pixmap's
        devPrivate.ptr when pointing at offscreen memory, outside of
        exaPrepare/FinishAccess(). This was used with fakexa to find (by NULL
        dereference) many instances of un-Prepared CPU access to the
        framebuffer:
    - GC tiles used in several ops when fillStyle == FillTiled were never
        Prepared.
    - Migration could lead to un-Prepared access to mask data in render's
        Trapezoids and Triangles
    - PutImage's UploadToScreen failure fallback failed to Prepare.

commit f480dc797b51f080f912efc7867d6d8e50be074c
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 31 19:25:42 2006 +0000

    Revert mistaken commit to exa_unaccel.c. Should have been to
        exa_offscreen.c: Correct a typo in debug-only offscreen validation
        code. (Wang Zhenyu)

commit 1a8167c1baa767fc056d1e17d96d0ea98a5f3b17
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 31 19:16:51 2006 +0000

    Correct a typo in debug-only offscreen validation code. (Wang Zhenyu)

commit 7ea30b507f4ce5ce20fbfaca80f7d5b53a99eb1d
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Fri Mar 31 18:49:38 2006 +0000

    Move the screensaver extension from module to builtins.
    Add the server side implementation of the ScreenSaverSuspend request.
    Require scrnsaverproto >= 1.1, and change the linking order of the Xorg
        static libs.

commit acca49b1a5a6c034f3b9d51d9016b8a7d43da809
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Mar 31 17:39:35 2006 +0000

    Fri Mar 31 12:37:16 2006 Søren Sandmann <sandmann@redhat.com>
    Fix copyright statement

commit b074ce22470ba0a51eda2af7100d09a260a1e8bb
Author: Egbert Eich <eich@suse.de>
Date:   Fri Mar 31 15:11:51 2006 +0000

    fixed typo.

commit 710bb2e6c8b2874406e48fa8ad24539290c98d41
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Mar 31 14:52:57 2006 +0000

    Reindent with -cbi0.

commit 7c44bb8c49656133eae675377edea55322d254ca
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Mar 31 07:33:34 2006 +0000

    Simplify XkbWriteXKBKeymapForNames a bit, and remove debug spew.

commit 4c317bbc1259fa555dc5d5278226b21c42845c0c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Mar 31 07:21:41 2006 +0000

    Add full FreeType support for Xprint. (Drew Parsons)

commit 759033703ce17b20d57756206f48a7ae410a50d1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 30 21:44:36 2006 +0000

    Remove the exaAsyncPixmapGCOps mostly-unaccelerated ops vector, and always
        plug in the accelerated one, even if the destination pixmap is
        currently offscreen. This was a leftover from when kaa originally got
        accelerated offscreen pixmap support, and its only concievable use was
        to avoid a little overhead on ops to in-system pixmaps that weren't
        going to get migrated. At this point, we probably care more about just
        getting everything accelerated that we easily can, which should happen
        with the new migration support.

commit b9203dc068ccd4c0d22d49a94b910783432b96a8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 30 21:25:43 2006 +0000

    Don't do an extra fallback path for CopyWindow while swappedOut, since
        exaCopyNtoN takes care of the fallback anyway, and we don't care about
        the performance of this path.

commit 5c04610f8aeceed9ec7cd0ca8c5eb314cacc3c25
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 30 21:21:59 2006 +0000

    Add a dependency on EXA, so it rebuilds when the library does. The manual
        indicated I shouldn't do this, but experience indicates I should.

commit 8ec42a10ff04e51e8d0b4cffb15064d901bc398d
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Mar 30 20:08:44 2006 +0000

    Mark the ARGB FBConfig as nonconforming to prevent drivers and apps from
        falling over.
    Add @GLX_DEFINES@ so GLcore gets compiled with TLS support if configured.
    Only destroy the mesa buffer if it got initialized.

commit 08e319091fae7a60ae9fa757659cfde2966af9e9
Author: Egbert Eich <eich@suse.de>
Date:   Thu Mar 30 18:53:41 2006 +0000

    Added notice to last ChangeLog entry
    Fixes for some vsw4 failures on 64bit BE platforms such as PPC64 and s390x.
        Provided by Hong Bo Peng of IBM (slightly modified). Patches try to
        resolve some of the careless mixtures of ulong and uint (which are
        different size on
    64bit). > This patch will break the driver ABI! < Bugzilla #6438.

commit 9da1d2257d02155cc8b4541cf5fcb4e64d756945
Author: Egbert Eich <eich@suse.de>
Date:   Thu Mar 30 18:48:11 2006 +0000

    Fixes for some vsw4 failures on 64bit BE platforms such as PPC64 and s390x.
        Provided by Hong Bo Peng of IBM (slightly modified). Patches try to
        resolve some of the careless mixtures of ulong and uint (which are
        different size on
    64bit). Bugzilla #6438.

commit 6d7ad353bafe914f0b50887daaeaae89ada6ebd3
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Mar 30 18:29:53 2006 +0000

    Regenerate these files using updated scripts to avoid unused variable
        warnings.

commit 2153fa97482bae5737def3ecd4fe1cdc03834991
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 30 05:24:27 2006 +0000

    Bug #2986: Add PutImage acceleration for the ZPixmap, planeMask ~=
        FB_ALLONES, bitsPerPixel >= 8, GXcopy cases. With the radeon driver on
        my machine, this gives about 10% speedup in PutImage
    10x10 and 500x500, and 40% speedup for 10x10 ShmPutImage, up to 65%
        improvement in 500x500 ShmPutImage. Also fixes a crasher in GetImage
        that slipped in at the last minute.

commit 3cf46cc1e32efc0e4be1d88be111ba0438e0f021
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 30 05:15:58 2006 +0000

    Add an UploadToScreen implementation, for testing PutImage support, and
        make the DownloadFromScreen more robust.

commit e799dd68e2bd0fa8ac3c344111fb12e1f32d4c10
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Mar 29 22:25:17 2006 +0000

    Bug #2986: Add acceleration of GetImage using DownloadFromScreen for the
        ZPixmap, planeMask ~= FB_ALLONES, bitsPerPixel >= 8 case. I'm pretty
        convinced that this is the only case that we care about at all. Tested
        with xwd -root and xwd on a gnome-terminal, in a composited environment
        or not.

commit 4bb5ab0b4453208573b91b334940f190a8f7210a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Mar 29 22:03:18 2006 +0000

    Add a DownloadFromScreen implementation, used for testing GetImage
        acceleration, and set the migration scheme to Always on init (since
        this is all for testing, and Always should make migration happen more
        frequently than Greedy).

commit e31e8ace1043eab340d6b60a6e98b23ebf102786
Author: Deron Johnson <deron.johnson@sun.com>
Date:   Wed Mar 29 17:51:54 2006 +0000

    Fix composite overlay window bug 6411

commit ff6f88348c7498e83b0b143ef3737fd6eb0995e4
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 29 01:05:09 2006 +0000

    More warning cleanup.

commit 52d9ce7f4fc599d30dec2e61fc1720597043d91c
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Mar 28 21:45:14 2006 +0000

    Fix another typo.

commit 7df64898eac46a487e8eab2af7213d133b9ca419
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Mar 28 07:46:04 2006 +0000

    Fix a couple of typos.

commit bd283c2464e2c0e1fd0aca1dedff0f39c2564c34
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Mar 28 07:21:50 2006 +0000

    Add a new export, LoaderGetABIVersion. This function allows modules to
        query the versions directly instead of having to guess. Bug #6416: Add
        LoaderGetABIVersion.

commit a06342eccc76035ff859fee4d283b288c90ee923
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Mar 28 02:57:07 2006 +0000

    Add --enable-glx-tls ./configure option to enable use of TLS for storing
        current GL context. Use this option to let AIGLX load DRI drivers
        compiled for TLS.

commit 77531dfb9f9f3ca0e38ad0555ee3735d6f28cf19
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Mar 28 01:22:01 2006 +0000

    Silence some editorializing in the configure help text.

commit 7deaaa797cf8e7ca71e9b34fa6f413d1ed2b3dab
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Mar 28 01:21:00 2006 +0000

    Big old pile of warning fixes.

commit 7342dbe4b2108827eaf30993ceeecbd828da2290
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Mar 28 00:18:31 2006 +0000

    Remove long-dead screen region code.

commit 0e88cefbfecbff0c7dd606ce0caca840f45cbc0d
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Mar 27 23:03:47 2006 +0000

    Prune XKB code to only what we need to run the server. Remove dead
        !XKB_IN_SERVER codepaths. Remove HAVE_CONFIG_H codepaths.

commit 5be8a66d324f3d5840b134ad29069eace64e6f12
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Mar 27 22:28:32 2006 +0000

    Fix remnants of previous busted _XkbStrCaseCmp commit.

commit 9e202dfe40e2bdd66f461a6ba531e927f82096ae
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Mar 27 22:25:56 2006 +0000

    Remove remnants of XkbCF code.

commit 7257590651328f89d23e80da1ec6241542a660cd
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Mar 27 21:15:06 2006 +0000

    Move XFree86 DDX XKB actions into dixmods.

commit d7b9e2b0e9d6889ea6b05e63892e612f4e5f19f5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Mar 25 23:09:50 2006 +0000

    Bug #3819: Remove open-coding of strcasecmp.

commit b3570dd94aa72f94e537a17680150e91e7712f5a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Mar 25 22:37:58 2006 +0000

    Remove INITARGS braindamage, change to void; add XkbExtensionInit prototype
        to xkb.h. Explicitly initialise nTypes in xkb.c.

commit 1ef60ce8ebb681b3cfb5e515be5c187c0442dcda
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Mar 25 22:35:48 2006 +0000

    Really remove all DDX pre-config code.

commit ec10f70b2114e5369a5b2f34b084dcf55634dcb4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Mar 25 21:52:49 2006 +0000

    Remove XkbCF DDX configuration code.

commit aae4238360b842ac34dc8ee16e165a1821f9a801
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Mar 25 20:17:58 2006 +0000

    Fix two glaring unconditional-NULL-dereferences.

commit a68c11bb1d7c5419004a1714e49dffac57304e78
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Mar 25 19:52:05 2006 +0000

    Mark everything in xf86sym.c as _X_EXPORT.

commit ae935832facfa81a9689882406ecca74b0346790
Author: Fredrik Höglund <fredrik@kde.org>
Date:   Fri Mar 24 20:50:13 2006 +0000

    Refactored the screensaver and DPMS timer code to use the screensaver timer
        for both screensaver and DPMS. Removed the SetDPMSTimers() and
        FreeDPMSTimers() functions.

commit d1746ec0f0c8a0b750f390e7a7faf21b67683f4a
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Mar 24 17:58:39 2006 +0000

    Make sure DRI module is loaded before calling DRI functions.

commit f1616508c95d12dfaad2cfd61b40228b3dba6f60
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Mar 23 23:54:08 2006 +0000

    Add ast driver/pci id (Carl Switzky, Sun Microsystems)

commit 6d2896b384e17512e8f12036daabcd575d21f804
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Mar 22 22:49:52 2006 +0000

    Improve error logging.

commit 5449634e3c9428005aba5b3322ced7e86c62f185
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Mar 22 21:37:49 2006 +0000

    Wed Mar 22 16:28:46 2006 Søren Sandmann <sandmann@redhat.com>
    Use inline assembly for copy area, since gcc doesn't generate movq
        instructions.

commit 5b3084c64f7bd1232603ffb3e985600b8d045453
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Mar 22 21:13:08 2006 +0000

    Wed Mar 22 16:05:09 2006 Søren Sandmann <sandmann@redhat.com>
    Use inline assembly for solid fills, since gcc doesn't use the movq
        instructions.

commit a08e5e0c68baaf85b0fc3ecde74a6bcf80bcd4bf
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Mar 22 18:44:26 2006 +0000

    Wed Mar 22 13:42:44 2006 Søren Sandmann <sandmann@redhat.com>
    Patch by Keith Packard to make sure redirected windows don't get considered
        "FullyObscured".

commit 966d93ef6d1f2ed02f3b81b5bf5a1ebbdd48c93d
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Mar 21 22:54:38 2006 +0000

    Make the server distcheck and tag 1.0.99.1 snapshot.
    Bump CVS version to 1.0.99.1.
    Distcheck fixes.

commit 8e3ad87d01c102591c7dc25614f6ac10e444a1b1
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Mar 21 22:32:13 2006 +0000

    #include indirect_dispatch to get prototypes for FBO functions.
    Fix a couple of warnings.

commit dcc43d57cbe9d2b65384fe9ba2e4e4fbb43cb0a1
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Mon Mar 20 20:10:29 2006 +0000

    Finish glx_ansic.h wrapper changes to make Xvfb and Xnest link again.

commit 9509c6799e31e96677b6d07bdf24ea91ddd30020
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Mar 20 19:32:18 2006 +0000

    dead file removal

commit 61a020265c5915e3d671d5b2047b81a5d15594c3
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Mar 20 18:43:18 2006 +0000

    Bug #5549: Fix build for sparc64. (Matthieu Herrb)

commit 6eb4e2303aaab8d64e3f6cbc0bbee55689bdcb82
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Mar 20 14:01:05 2006 +0000

    Bug #6213: Check geteuid's return value, not its address, otherwise
        unprivileged users can set the modulepath and run arbitrary code. Patch
        from Matthieu Herrb. (CVE-2006-0745, Coverity #4)

commit 8c1bb37d0649b269b78c457b8b41ff59a41d89af
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Mar 17 08:55:07 2006 +0000

    Typo fix, reindent.

commit 2d2d38d17cc2558f8a41166a4a1578bc4c663c37
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Mar 17 01:47:25 2006 +0000

    Check for glproto when building GLX and make sure we have at least 1.4.6.
    Drop glx_ansic.h wrapper and call xalloc, xrealloc, xfree and str-funcs
        directly.

commit 2c11cde3367fcd22740b577a4364b1e41cf3e1d2
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Mar 17 00:35:18 2006 +0000

    More patches from David Reveman:
    Add GL_ARB_texture_non_power_of_two, GL_EXT_framebuffer_object and
        GL_NV_texture_env_combine4 extensions.
    Add __GLXcontext destructor and flush context cache there and on
        loseCurrent.
    Chain back to new __GLXcontext destructor. (__glXMesaContextForceCurrent):
        Set render table on forceCurrent. (init_screen_visuals): Index pVis
        array correctly. (GlxGetMesaProvider): Add this.
    Hook up FBO marshalling.

commit 14aafc258cd774cf937f9798a888c2d3c97ccacf
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 16 18:43:55 2006 +0000

    Change EXA so that exaMoveOutPixmap() retains the framebuffer copy of the
        pixmap, and damage is tracked so that a later exaMoveInPixmap won't
        result in an upload if no upload is necessary. This will likely improve
        the performance of the "Always" migration scheme significantly, and is
        a step in the path to more exact damage tracking between framebuffer
        and system memory.

commit d0d336efd58896718f31a400651bacd9b769fb5a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Mar 16 16:29:17 2006 +0000

    Add support for ZX2 PCI-E local bus adaptors. (Alex Williamson, HP)
    Use soft timeout register to avoid MCAs when probing for non-existent local
        bus adaptors on ZX2. (Alex Williamson, HP)

commit 175980580e572745a9a381b4432e3ba0457d3ba3
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 23:05:53 2006 +0000

    Bump to requiring fixesproto >= 4.0 and compositeproto >= 0.3.

commit 6fe377af5a82deb6f8b0f3b75414335e7845caac
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Wed Mar 15 21:25:38 2006 +0000

    - OpenBSD needs -Wl,-export-dynamic to export symbols from main executable
        to modules.
    - Probe for OpenBSD aperture driver and define HAS_APERTURE_DRV
        accordingly.

commit 21f7f2fb113ee4f9cd011c3cc2d45d43bbdd35fa
Author: Felix Kuehling <fxkuehl@gmx.de>
Date:   Wed Mar 15 18:43:32 2006 +0000

    Enable correct handling of the BTS instruction (opcode 0f ab) The code was
        there but #ifdefed out. Insead of BTS, BT was executed. This patch
        enables the BTS function and hooks it up the the correct opcode. (ATI
        Technologies Inc.)

commit b726aa502a871c700bc42b5325abf2c6820ff756
Author: Felix Kuehling <fxkuehl@gmx.de>
Date:   Wed Mar 15 18:37:44 2006 +0000

    Update to build against Mesa CVS HEAD.

commit c74464d92cd673ff0669375757caab798cc57e95
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Mar 15 16:59:45 2006 +0000

    Don't let pinned pixmaps get migrated in when using the "Always" migration
        scheme. This notably keeps the visible screen from getting migrated in
        to a new location in framebuffer.
    Reported by: Michel Dänzer.

commit b9c43cde1e368903786977b06368d5e36db9ffe8
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 16:56:10 2006 +0000

    Coverity #1042, 1043: Nuke some dead variables.

commit 5e106a71b9f8077216d41619402952b0005dd8a4
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 16:49:04 2006 +0000

    Coverity #807: Fix a memory leak in XFixesExpandRegion.

commit a3ef63696cac950b2520e7c85564befc0a830fde
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 16:36:31 2006 +0000

    Coverity #490: Fix a range check in xf86vidmode extension.

commit 152090ce442e94de1ae920208a92931af6493c8c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 16:33:12 2006 +0000

    Coverity #487: Check version number correctly.

commit 72cc6307257fcbb800267464487bf918ee674328
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 16:32:05 2006 +0000

    Coverity #491: Check version number correctly.

commit 460f2ea4a594a53536f34c4ad27795fceec50bcc
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 16:21:04 2006 +0000

    Coverity #794: Fix a highly unlikely memory leak.

commit 116d158e85ec43577ff69aeb3271ab1f888500c9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 16:16:24 2006 +0000

    Coverity #269: Compare the requested ABI class against the ABI class of the
        module, not the module class.

commit d8221a9b70a11606a0f7e1f69afee6049d7f182f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 16:11:34 2006 +0000

    Coverity #484: Fix an off-by-one in module refcounting.

commit 6bb2dc02a7cffd6ed7dd28e88d584920a4150749
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 16:01:47 2006 +0000

    Coverity #337: Remove useless NULL check.

commit 1e5c0842af99027cc6c30a16f967d8b60c9a894d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Mar 15 15:34:57 2006 +0000

    Coverity #1053: Nuke a dead variable.

commit 7314d16cde4c3f99d9d9f1d539f0c5ff4942e653
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 15 03:18:42 2006 +0000

    Fix DRIExtensionInit() to not register callbacks when it hasn't been
        initialized for the current server generation. Fixes a problem where it
        would use stale private index and blow up in colorful ways if no driver
        called DRIScreenInit() on the second generation (which happens due to a
        bug in radeon that i'll fix separately). Note: clearing the index in
        DRIReset() wouldn't work as DRIReset() is called before the
        CloseScreen() chain

commit 02d80a0de93f7592e69065b0fbe5820dcdebdb44
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 15 03:12:32 2006 +0000

    Make xf86 linear allocator smarter when dealing with alignment constraints
        when falling back to X/Y allocations. Fixes various problems of Xv
        allocation failures, notably with "nv" driver.

commit c1601717d536419693b3ef6e8a3d69b9f2fdc2b3
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Mar 15 01:20:08 2006 +0000

    Add a new migration scheme, "always", which will move pixmaps to their
        desired location always (unless they don't fit in FB, in which case
        they all get moved out for software rendering). The default remains as
        before, but can be controlled by the MigrationHeuristic xorg.conf
        option (which is intentionally not documented, as it may be
        short-lived). This is part of the exa-damagetrack work, which appears
        stable in testing with fakexa, unlike the work as a whole.

commit a90cff266cc81993ed804fb320c1dbfe5e0d4787
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Mar 15 00:13:52 2006 +0000

    Add more doxygen documentation, including notes on WaitMarker() and
        MarkSync() that I noticed were needed while reading the VIA driver.

commit 693e42114f1127528448126d78a5209dd1198d8d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Mar 14 21:30:12 2006 +0000

    Move migration logic to a new function, exaDoMigration(). This is largely a
        manual conversion to allow for different migration schemes to be
        implemented reasonably, but does include some minor improvements such
        as accounting for pinned pixmaps not being acceleratable, and for our
        current GetImage and GetSpans not being accelerated.

commit d30905478078036383977ae9d4a3685c2e2c642f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Mar 14 20:38:06 2006 +0000

    Pull code for getting the (0,0) pixel from a pixmap out to a separate
        function, since it gets repeated (with bad error handling, in one
        case).

commit 01aa209f2056ef04e3f2735756a0f8b4a67a3d87
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Mar 14 19:32:27 2006 +0000

    Bail out early if screen doesn't support DRI.

commit 0cc34266d6e84bb491fcf9aa74e34615b2fca4fc
Author: Deron Johnson <deron.johnson@sun.com>
Date:   Mon Mar 13 22:43:42 2006 +0000

    Updated ChangeLog for my latest composite and xfixes changes.

commit 450018f48b2796345a4eaccbb94c1971ebd30114
Author: Deron Johnson <deron.johnson@sun.com>
Date:   Mon Mar 13 21:59:55 2006 +0000

    Part 3 of 3 (Other parts are in proto and lib) Composite Version 0.3:
        CompositeGetOverlayWindow, CompositeReleaseOverlayWindow Xfixes Version
        4.0: XFixesHideCursor, XFixesShowCursor

commit e5956f49b217b0ee9c9f35b6a58f339a8d22b1d7
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Mar 13 01:54:59 2006 +0000

    First batch of AIGLX fixes from David Reveman.
    Add getter for Mesa provider.
    Export this for Xgl.
    Move resource tracking out of drawable constructor to allow wrapping.
    Use corrent reply size #define.
    Add this function. (DoGetDrawableAttributes): Fix array length.

commit eb63e50d95da4e1e08fc6fcec46ac63d5e3b7bf4
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Mar 12 17:14:03 2006 +0000

    Fix build when AIGLX is false.

commit 9ed3463450469c3108e0be7e4baabc0a403a78b2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Mar 12 03:04:52 2006 +0000

    Improve doxygen formatting, and attempt to clarify the 1:1 ratio of
        successful PrepareCopy()s to DoneCopy()s.

commit 9a7fba5fd07c8831d0acab8d901605de537ae273
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Mar 12 03:02:26 2006 +0000

    Make exaCopyNtoNTwoDir() call DoneCopy() at the end of each string of
        consecutive Copy() calls (rather than exactly once at the end of the
        function).
    Reviewed by: jbarnes

commit c3342c8000f6d2bfb61e2cf95e028d11b59698fa
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Mar 12 00:11:34 2006 +0000

    Merge accel_indirect branch to HEAD.

commit b1b731c28630965d9e2defe62d1108270dc8264c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Mar 11 02:43:51 2006 +0000

    Fix buffer size checks to prevent 2-byte buffer overflows. (Coverity #480,
        #481, #482, #483)

commit fc0772de36315f19f5b57220db69f48a3b1fdc9a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Mar 11 02:10:14 2006 +0000

    Add HAS_MMAP for Xvfb
    Fix Xvfb option parsing to exit on bad arguments, not just issue error
        messages and continue on. (Coverity #492)

commit f2ecbb30187000547a98ca7cbaee433ea4ba8fe3
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Mar 11 01:58:32 2006 +0000

    Pass sizeof the correct buffer to XmuSnprintf. (Coverity #489)

commit d6955798489813ef77cca13cf5f5c67d49e6dece
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 10 21:36:24 2006 +0000

    If fakexa is enabled, create a larger buffer in the Ximage, but keep the
        same width/height for front-buffer drawing. The fakexa code then uses
        this extra space for offscreen pixmaps. Note that this tones down the
        absurdity of fakexa's offscreen pixmap alignment requirements (odd
        alignment is too weird, so stick with "24", which is still strange but
        exists out there). It also fixes a couple of bugs in the fakexa
        implementation revealed by using offscreen pixmaps.

commit 5b1a7b478f072f56e836f2d4c0fbc1985842e2bb
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 10 21:32:34 2006 +0000

    Move the exaDrawableDirty in exaPrepareAccess to exaFinishAccess, which is
        after the drawing is done. Previously, a failed PrepareAccess could
        have migrated and cleared the dirty flag before the damage was ever
        done.

commit ffdbb547becc71f1cfdd035d0d6c71539f185fb1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 10 08:06:42 2006 +0000

    Coverity #1011: Remove a useless NULL check on a pVbe that had been
        dereferenced many times before.

commit 1bc72dce5f8bc40e369e69b684816fdaaa07da43
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 10 08:03:24 2006 +0000

    Coverity #857: Fix resource leak in error path by freeing earlier.

commit 55f677d600370b19d62ef821025481f2be6f5edb
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 10 07:58:27 2006 +0000

    Coverity #813, #814, #815, #816: Fix resource leaks in error paths of
        config parsing code.

commit 2bd41105496b729395fbcf97f09581eb0efb3510
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Mar 10 07:45:25 2006 +0000

    Document the restriction on PrepareAccess() failure, from discussion with
        benh.

commit 21dcd0304879f38ea8ea01ba88e7cc7783771adf
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Fri Mar 10 01:34:45 2006 +0000

    Just like FreeBSD, let DragonFly's default mouse Device be /dev/sysmouse
        (since /dev/mouse don't even exist by default).

commit 9a99afdfb292f303f914039952fdd772eed9e03a
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Fri Mar 10 01:22:26 2006 +0000

    Add DragonFly support. (It is like FreeBSD.)
    This patch is from DragonFly developer Joerg Sonnenberger and the pkgsrc
        collection.
    I tested using /dev/sysmouse with moused using my serial /dev/cuaa0.

commit 7a0f7f739804bc7d9c5562701abee8d134878977
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 9 23:29:44 2006 +0000

    Coverity #349: Fall back to software early if pSrc->pDrawable is NULL, or
        pMask is non-NULL but pMask->pDrawable is NULL. This prevents NULL
        dereferences on gradients and other Pictures which have no pDrawable.

commit 8a3ff42abb726d1604af39b4653ede5f760b7e69
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 9 23:25:35 2006 +0000

    Commit changes missed in last commit (mis-typed path and didn't notice): Do
        a first pass of doxygen documentation of EXA. This removes the
        corresponding pieces of exa-driver.txt, which were becoming stale.
        Hopefully the documentation will stay much more up-to-date this way.
        Many thanks to jbarnes for writing exa-driver.txt which was used a lot
        in writing this documentation.

commit ab35c3fbc135bafdfc5057ef5d6227ca3534ed26
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 9 23:18:15 2006 +0000

    Do a first pass of doxygen documentation of EXA. This removes the
        corresponding pieces of exa-driver.txt, which were becoming stale.
        Hopefully the documentation will stay much more up-to-date this way.
        Many thanks to jbarnes for writing exa-driver.txt which was used a lot
        in writing this documentation.

commit d8f8bfeccef0750d79f852b9ae7152e841227d5a
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Mar 9 14:23:57 2006 +0000

    Do Xorg configure checks for Xgl only as well

commit 2822cbc1fb2271844e7ae10c3629aaa940ae4042
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 9 06:04:07 2006 +0000

    Rearrange EXA driver structures so that there's a hope of maintaining ABI
        when extending the driver interface. The card and accel structures are
        merged into the ExaDriverRec, which is to be allocated using
        exaDriverAlloc(). The driver structure also grows exa_major and
        exa_minor, which drivers fill in and have checked by EXA
        (double-checking that the driver really did check that the EXA version
        was correct). Removes exaInitCard(), which is replaced by the driver
        filling in the rec by hand, and the exaGetVersion() and related
        EXA_*VERSION which are replaced by always using the XFree86 loadable
        module versioning.

commit 65aa33f9173b1554924437685698f7c5f645a3c4
Author: Lars Knoll <lars@trolltech.com>
Date:   Wed Mar 8 06:19:37 2006 +0000

    render/picture.c Initialize the format of a source picture to
        PICT_a8r8g8b8. Fixes a failure in the gradients test of rendercheck. In
        the long term we could do better by setting the format to something
        without alpha whenever the gradient doesn't contain colors with alpha.
        This triggers a reduction of the over operation to a pure source
        operation.

commit cb5090e8d60f4e9780c859faeea5c24587f6bee7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Mar 8 03:32:07 2006 +0000

    Bug #6150: Do the obvious fix of an insane sanity check in
        xf86InitFBManager. (Julio M. Merino Vidal)

commit 2e6f801fe1a749f6a4db2cfd8a43abec5caceae0
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Mar 7 23:58:22 2006 +0000

    Numerous amounts refactoring and comment adding (see ChangeLog for file by
        file details). The primary intention for these changes is to pave the
        way for the new device probing and PCI configuration code that I'm
        working on.

commit b7d2dfc1e5e07051732303731ff3e4e76852dd94
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Mar 7 20:06:15 2006 +0000

    Add appropriate MIT license. Oops.

commit 9d8c0e4bcbb111e860b7c3c33c224c22589006b1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Mar 7 19:57:46 2006 +0000

    Add a new flag to ephyr, "-fakexa", which turns on an EXA acceleration
        implementation that calls fb to get its work done. The purpose is to
        have a trusted EXA driver for use with testing changes to the core of
        EXA. However, fakexa has not received much testing yet, lacks offscreen
        pixmaps support, and doesn't reliably provide garbage when EXA doesn't
        get its syncing right. All of these should be fixed soon.

commit 0a3d6c739968bf5af81fc0e8ea7211c20d52080b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Mar 7 19:49:31 2006 +0000

    Remove stale EXA files, which failed to get removed during the move to
        top-level, somehow.

commit 68a8963f726cb92624665669813b6d952d53556e
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Mar 7 16:00:57 2006 +0000

    Fix cvt -r check again. CH7011 TV encoder had 800x600 PAL hit the check.

commit 0693083335185ce05ee64546151f3fc43ce98575
Author: Lars Knoll <lars@trolltech.com>
Date:   Mon Mar 6 21:00:09 2006 +0000

    render/picture.c Correctly initialize devPrivates variable in source only
        pictures to 0
    miext/cw/cw.h Don't try to access devPrivates of source only pictures

commit 448997ebcd2bab02be1059b07b91b63b0d05d268
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Mar 5 16:43:10 2006 +0000

    Only output SetClientVersion message if verbosity > 1, like other
        extensions do

commit d921173833cc207380eb08b6675393f5e8139d5f
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Mar 5 16:35:08 2006 +0000

    define SYS_LIBS to hold system dependant libraries that may needed. and add
        it to libraries list where needed. Update ChangeLog for previous
        changes too

commit 82cbd2ee0d20225b9edbb5246c8ed116b4614e1a
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Mar 5 16:33:17 2006 +0000

    Don't hard-code -DUSE_DEV_IO here. configure generates the proper OS
        specific values here.

commit b56a1513d27f84dcd55f3dc6053f183aa6f7855b
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Mar 5 16:32:40 2006 +0000

    Definitions for bswapxx() macros on OpenBSD.

commit 4335868476af7c821c64def52b102b93ae91f8b0
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Mar 5 16:13:21 2006 +0000

    Fix build with non GNU make.

commit b2f8f410c0bb8bc24039b2a593f8a2a483659914
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Mar 3 09:54:54 2006 +0000

    https://bugs.freedesktop.org/show_bug.cgi?id=4341 Make Xming error messages
        more meaningful.

commit 29237c1977e454511e0d0244c68d34d572b68458
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Mar 3 09:50:55 2006 +0000

    https://bugs.freedesktop.org/show_bug.cgi?id=4538 Fix mouse button release
        on multiwindows scrolling.

commit 06f01623fde61f1a11c2c1ecfae6a4c346473b05
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Mar 3 09:43:42 2006 +0000

    https://bugs.freedesktop.org/show_bug.cgi?id=5138 Check for NULL pointer

commit 054c291b274b238893e408e070aef13a7933400b
Author: Felix Kuehling <fxkuehl@gmx.de>
Date:   Thu Mar 2 18:35:08 2006 +0000

    Fix build against Mesa CVS HEAD: added s_blit.c to symlink-mesa.sh.

commit c1a82b9554028640dc4e08f042f1a8faf3372627
Author: Brian Paul <brian.paul@tungstengraphics.com>
Date:   Thu Mar 2 03:43:26 2006 +0000

    added s_blit.c file

commit 5f4d11c8d926cf396e0a8e203e14a8e1e123e011
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Wed Mar 1 16:31:53 2006 +0000

    fix spelling error, document EXA_TWO_BITBLT_DIRECTIONS device flag

commit 044a3abb382a4850722c391f04d09d3160790814
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Wed Mar 1 16:28:34 2006 +0000

    Add accelerated two directional blt support to EXA

commit 96ca329382141fd50dccb1cc35a71a333d80bce4
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Feb 28 23:07:09 2006 +0000

    Remove redundant definition of struct Inst. Safeguard xf86AddDriver against
        future additions to DriverRec.

commit 1cfa9f647e0241f4b9e56556b128d7bfd987eaca
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Feb 28 16:55:26 2006 +0000

    Bug #5216: Allow options to appear with other components.

commit e3b6b95f29cb2ea00b4290d694c5e202b8d180ad
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Feb 28 16:26:16 2006 +0000

    Bug #5627: Fix Xprint font symlinking. (TIlman Sauerbeck)

commit e7f0b84fa7bd0c40cb456ec4e447103442c8dae3
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Feb 28 05:20:20 2006 +0000

    fix exaInitCard by making it a real function

commit 088e5768faa90fe16de41b135b1111b5d25c64ad
Author: Felix Kuehling <fxkuehl@gmx.de>
Date:   Mon Feb 27 18:12:24 2006 +0000

    Fixing the Mesa build again, sigh. Add slang_execute_x86.c. Add
    -I../shader/slang to swrast INCLUDES.

commit 345d99c972cac67f2cdc38750e4ba2dea1cdb360
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Feb 27 16:19:39 2006 +0000

    Typo fixes (Nicholas Joly, XFree86 bugzilla #1658)

commit 6b08a5013b4e9e350ba461c9a59d30bb41feef8f
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Sat Feb 25 20:26:49 2006 +0000

    EXA driver doc cleanups and additions.

commit f41ec003f39c575299429897d4287233184583ad
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Sat Feb 25 01:17:10 2006 +0000

    Add two radeon pci ids (one is used for a radeon mobility X700 XL in a
        medion notebook, the other is for a AIW X800 VE)

commit 01a0bf881ada03ca3c27bdef7423c760c3bc2f9c
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Fri Feb 24 17:01:57 2006 +0000

    OpenBSD supports PCVT and WSCONS. PCCONS is long gone.

commit d3e1587c20c155b7873b6646ddf0b96f806f8a7f
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Feb 24 16:50:42 2006 +0000

    file glxdri.c was initially added on branch accel_indirect_branch.

commit 5d9a620726d2b0ad89625574478d2fd4536485b0
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Feb 23 19:25:57 2006 +0000

    Remove redundant composite op reduction, done in Render now.

commit 028d6903f674fa77617f333b25356710d1682b05
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Feb 22 16:29:07 2006 +0000

    Bug #5978: Added missing swap of input variables. Added missing cases for
        GL_SECONDARY_COLOR_ARRAY and GL_FOG_COORD_ARRAY (Colin McDonald)

commit 43324132afcbb6b231efcc24ec72ee44678d5771
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Feb 22 16:08:56 2006 +0000

    Added Mesa include directory

commit 43fbcc28c960ce5abe1d3223441c3dc5a10cde27
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Wed Feb 22 02:47:00 2006 +0000

    Update to build against Mesa HEAD. (Thank you Felix for feedback on xorg
        list.)

commit cfdacab33a62b47f22bb54683e3ca20ec9824864
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Feb 21 00:02:08 2006 +0000

    Eliminate unused PCI BIOS reading functionality. The old code used several
        function pointers to implement a level of flexability that was never
        used. The code also had unused support for extracting a single image
        type from a larger expansion ROM.
    Fix the spelling of PCI_BIOS_OPEN_FIRMWARE.
    Fix a couple errors in #ifdef debug code.
    These changes have been tested on x86 and x86-64 Linux.

commit 5fd0f94006775e2271107c960dfa3314dddd9a5f
Author: Ian Romanick <idr@us.ibm.com>
Date:   Mon Feb 20 23:45:50 2006 +0000

    Eliminate all the code for querying the PCI class from the PCI ID database.
        Class information is not, and never has been, stored there. Therefore,
        this is just a bunch of elaborate code to read 0x00000000.
    This has received testing on x86 and x86-64 Linux.

commit 6d7083bd69724586338d79784655328f1fcd2ae5
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Feb 20 22:16:49 2006 +0000

    indent fixes (OMG SO UGLY), and nuke old RCS keywords.

commit 5480c537cee79b324736eac3e438a4713dfa1036
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Feb 20 21:50:49 2006 +0000

    ANSIfy Xi/. Mostly automated via protoize(1).

commit cc42e153c2437fe9c94b0c20e1b56277474d94d0
Author: Felix Kuehling <fxkuehl@gmx.de>
Date:   Mon Feb 20 03:00:09 2006 +0000

    Update to build against Mesa HEAD.

commit ed3ea887a6b1c9fdc83895c40da34076121f05e9
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 16 21:49:51 2006 +0000

    Fix the encoding of DES's name.

commit ea0b3f65f77a78df1671b09739c00762a8875607
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 16 21:45:12 2006 +0000

    Fix build of Xorg by putting xf86bigfont back into builtin instead of
        module sources list.

commit d97f29be22e22e6f5bc23229ffa5ef087f992c8c
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 16 21:35:32 2006 +0000

    Bug #5453: Don't forget to still do AM_CONDITIONAL for XVMC even if XV is
        disabled, and also force XVMC disabled if XV is disabled. (Dag-Erling
        Sm�rgrav)

commit d33c2e0d1079f93f4ba8b28d19950d384a9e7c32
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 16 19:36:39 2006 +0000

    Add oscolor.h

commit 60d4839a2d373cc6d8c0d5004284494d3a994a63
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 16 19:03:07 2006 +0000

    Forgot to include this file in previous patch

commit 8987b2c1efc9a4667e278e6ba411772ba2a4a4e6
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 16 07:17:31 2006 +0000

    Make more extensions optional in build (for kdrive). Fix kdrive build for
        actual hardware. Fix kdrive pointer signed/unsigned types. Add
        kdrive-required YX rotation functions. Replace rgb text file loading
        with static rgb color table.

commit c8acb342695936db062c966029019a458d45459e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 16 06:52:12 2006 +0000

    Fix an occasional crash on VT switches: the server would save a pointer to
        the current cursor when disabling FB access and would try to restore
        that cursor when re-enabling. However, that cursor might have been
        destroyed in between. This fixes it by updating the saved cursor
        pointer when a cursor is set and vtSema is FALSE.

commit c845e152f52b3e8cef579797c5c8834ad2fd2cd5
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 16 05:46:08 2006 +0000

    Bug #5871: Drop special build infrastructure left over from libcwrapper
        times. (George Fufutos)

commit c2f685e64464ccf86ed47ae37f74bf46877e0739
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Feb 16 05:18:20 2006 +0000

    Fix XSERVER64 should be _XSERVER64

commit 1bbd5e49b1dcc2e3f9785bd2bb58f946b9998099
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 16 04:59:45 2006 +0000

    Bug #5869: Remove traces of EXTMODULE define, which doesn't appear to be
        useful any more. (George Fufutos)

commit c03b06bdf04fa8500d0f85314c7268848b4d50be
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 16 04:39:00 2006 +0000

    Bug #5888: Remove orphaned laymodule.c from miext/layer removal. (George
        Fufutos)

commit 3b32e902c7a12aa2320da27d984029cde28fd8c3
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 16 01:49:23 2006 +0000

    Add entry missed in my last commit.

commit c4767794ef5b014ae25fe8541e72348ecfb1ee49
Author: Zephaniah E. Hull <warp@aehallh.com>
Date:   Thu Feb 16 01:03:09 2006 +0000

    Export xf86ActivateDevice, used by the evdev driver.

commit dc0354104cb4057dfcc7b2ccb8e2ae8474d70b15
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 16 00:14:11 2006 +0000

    Move EXA implementation up to the top level and remove its XFree86
        dependencies. It was nearly abstract enough already to be used by
        multiple DDXes. This will be useful for EXA development through
        providing a fake acceleration implementation within Xephyr, so that
        testing can be done on new EXA code without worrying about buggy
        drivers.

commit c170aa830d0ce3dbff6b30081e04c3f91bf921be
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Feb 15 23:27:40 2006 +0000

    Forced commit to note repocopy from hw/xfree86/exa/

commit 6770f1bdb145e7a6c431d0523f10d12155f58273
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Feb 15 21:09:14 2006 +0000

    Define NO_LIBCWRAPPER in dix-config.h, and rely on Mesa including
        dix-config.h if DIX_HAVE_CONFIG_H is defined to get it and _XSERVER64,
        instead of defining things like this per directory.

commit 7d7fc927cd90146788780477b8e3379d91c3b910
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Feb 15 20:47:44 2006 +0000

    Remove a few #ifdef vms; whatever problem that was solving should assuredly
        be solved some other way.

commit f105b8da11fcf337512b3c39da3368f98da07a33
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Feb 15 20:44:13 2006 +0000

    Mark everything in dixsym.c as _X_EXPORT.

commit 010d6effa6fa210251b12459882e88aeee82c2c0
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Feb 15 19:15:32 2006 +0000

    Mark everything in {ext,font}sym.c as _X_EXPORT.

commit 3fe482c77e7b3e46739d011d8bbdee527d7a42fc
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Feb 15 19:05:55 2006 +0000

    Mark everything in misym.c as _X_EXPORT.

commit 6ad4325b87889e1aada9333d750b7bb586c38b52
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Feb 15 18:26:45 2006 +0000

    Update to build against mesa head.

commit 50e2ff9a2500078ebbd833fddab0d93f3a50b6a6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Feb 15 03:20:55 2006 +0000

    Remove the waitSync from KdDisableScreen and push it off to drivers'
        disableAccel hook, which is more correct anyway. This makes kdrive.c
        not have any knowledge of kaa, opening the way for using exa from
        kdrive.

commit 0446aafa9467f43515fb578d50f45e2c3153c8cf
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Feb 15 03:07:23 2006 +0000

    Avoid some more libcwrapper damage that prevented kdrive linking.

commit 5c9b6f0fb01252d704de1bbdf3015dee7f956593
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Feb 14 08:14:42 2006 +0000

    DRIGetSecs() would call getsecs() when XFree86LOADER is defined, relying on
        the wrappers to provide it. Wrapper gone, and getsecs doesn't exist on
        linux so it now blows up. Fixes it by just calling gettimeofday() in
        all cases instead.

commit 049dca0f43eb2179d2c61033a17ff1a89f8fb689
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Feb 14 08:11:41 2006 +0000

    Remove useless line of code that contained a bug and triggered a gcc
        warning. This variable will be overriden before being used anyway.
        (Bugzilla #5595)

commit 1132d0e6102d4564f70f0e8c98854e3acf25b109
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Feb 14 06:27:59 2006 +0000

    update to latest Mesa CVS HEAD

commit bb8c36690ab411c11aa8dd3d4520d513eb8f9091
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Feb 14 04:20:37 2006 +0000

    Bump shadow module version number to 1.1.0 from 1.0.0

commit cc9dfab0b31c7956f99d1f1b9c195065b5e18c29
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Feb 13 18:57:38 2006 +0000

    (Reverted)

commit 83dd6241c8cd81e8d897bd17588ada92a945e647
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Feb 13 18:55:44 2006 +0000

    Reverted, did nothing anyway, I'm not smart today.

commit 4a7f6f53cad541e8c5042a6472e3b3886fc9b7e6
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Feb 13 18:09:51 2006 +0000

    Further op reduction when both src and dst alpha are absent.

commit 28ced9f3e0dd4bd81067f590a1d64ba0844edb06
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Feb 13 05:29:00 2006 +0000

    Add missing ChangeLog text for r1.2 of GL/glx/indirect_reqsize.h

commit 4839e91fcab4c344e672154a447d8c7035fce1f4
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Feb 13 05:03:13 2006 +0000

    HAS_MKSTEMP vs. HAVE_MKSTEMP (From Fredrik Höglund)

commit 1a4f20541a9f4f41f444d826d743899ea2dee2db
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Feb 13 04:56:27 2006 +0000

    Fix linux build without libc wrappers (From Fredrik Höglund)

commit 2dc7b5e0d96a187bfbb355caa788f0fdcd88eaad
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Feb 13 04:43:40 2006 +0000

    Move call to xf86WrapperInit() to OsVendorInit() in xf86Init.c and remove
        stubs in other DDX.

commit 34d0b9228f46c2f87be74dddc9c7d97aab091d03
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Feb 12 20:53:35 2006 +0000

    Simplify ops that would use the alpha channel when an alpha channel is
        always 1.0, and short circuit PictOpDst for good measure.

commit 5f45776ef3b9256bea44842d1c50f269422531a1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Feb 12 10:30:47 2006 +0000

    Add missing HAVE_DIX_CONFIG_H which caused issues with mismatched screen
        structure interpretations, and remove a bunch of unused junk from
        kdrive-config.h. Xephyr almost works on my amd64.

commit 5249416d091d59c248c8dda44529b8aa4910b1a0
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Feb 11 22:40:50 2006 +0000

    Add stub xf86WrapperInits so that the servers will build even if os/ was
        built with XFree86LOADER set.

commit a2a5254675a6b7ef0f7da9caa76c028b7c526502
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Feb 11 19:16:51 2006 +0000

    Add <string.h>, <stdlib.h>, and <stdio.h> to clear undefined function
        warnings after the removal of libcwrapper headers.

commit d6337c83241f0fa4bb03039a9767b58d8a1a7c91
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Feb 11 17:42:31 2006 +0000

    <sys/limits.h> -> <limits.h> so we can compile on non-BSD OS'es

commit 4fafba61d5402d4e4d2c21ba1be3ed8969b99334
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Feb 11 03:03:45 2006 +0000

    Remove libcwrapper damage from GLX (requires fresh Mesa HEAD), and get it
        compiling in kdrive.

commit c3d14036729fd186d4ec7ca1de603e1f2d174e2f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Feb 10 22:00:30 2006 +0000

    Remove libcwrapper usage from xorg server modules. The libcwrapper is only
        of (marginal) use in the drivers, and that usage remains.

commit a8cec1b656f57746758613213de1d6e5acb79451
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Feb 10 09:00:02 2006 +0000

    Merge from kdrive: use RECT_PRIM to avoid tearing in xvideo.

commit efc3fab7f4b29f56fffd21304c64c03a48aa5b4b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Feb 10 07:52:05 2006 +0000

    Make kdrive (i.e. Xephyr only) buildable on FreeBSD and probably other OSes
        without linux VT switching, fbdev, and vm86 support.

commit fa3a65e33d8c893c7867ea507afc7caa1361aa9c
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Feb 10 07:47:21 2006 +0000

    Remove the include of X11/misc.h, which fails to compile and isn't
        necessary.

commit d875bdb2756b082ce93bd86016c369ea85c04d17
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Fri Feb 3 02:44:19 2006 +0000

    hw/xfree86/os-support/xf86_OSlib.h Fix sysmouse handling on DragonFly,
        mostly garbage arrived. From Joerg Sonnenberger.

commit 0946bb9427695a4314e5c43de573b3a75a18e466
Author: Jeremy C. Reed <reed@reedmedia.net>
Date:   Fri Feb 3 02:37:52 2006 +0000

    Fix sysmouse handling on DragonFly, mostly garbage arrived. From Joerg
        Sonnenberger.

commit 5e2a7af23bd0f46fbddca34098cb297be58b7a55
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 2 21:07:06 2006 +0000

    Move the frequently-repeated code to get the pixmap that backs a drawable
        to a new function, exaGetDrawablePixmap().

commit ee3c7ccb175752dbeaed6b0113d0819b3fcd2398
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 2 20:51:54 2006 +0000

    Remove more debugging leftovers.

commit 3366b6836572461209bb2f8aa28d9e662067dc54
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 2 20:09:14 2006 +0000

    Rearrange and rename EXA code to be a bit more logically organized. Also
        removes a little bit of debugging leftovers. Summary:
    exa.c -> exa.c (miscellaneous code) exa_accel.c (all acceleration code)
        exa_migration.c (migration logic) exaasync.c -> exa_unaccel.c (software
        fallbacks) exapict.c -> exa_render.c (render extension stuff)
        exaoffscreen.c -> exa_offscreen.c exaPriv.h -> exa_priv.h

commit 25d4ff870d49533d82a77f144722ff7934d52e0b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Feb 2 20:04:15 2006 +0000

    Forced commit to note repocopies: exa.c -> exa_accel.c exa_migration.c
        exaasync.c -> exa_unaccel.c exapict.c -> exa_render.c exaoffscreen.c ->
        exa_offscreen.c exaPriv.h -> exa_priv.h

commit 2ab487d4d20e4e34e73cc6d87f41bf0836c7a8af
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Feb 1 22:20:05 2006 +0000

    Add a new function RRGetRotation() which does exactly the same thing as
        xf86GetRotation(), but allows for drivers to provide their own RandR
        implementation. xf86GetRotation could be obsoleted by this change.

commit f4898b409376803c9a9dd8475bdd5576ff1cc59d
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jan 31 14:49:43 2006 +0000

    Further bug #5386 fixes: Fix some problems with the EDID code: Some
        bitoffsets were wrong. Unknown Detailed Sections weren't handled
        properly and defaulted to Detailed Timing.

commit 437b385ce4cc3ff00e14d3d39f4a2f6c8f0c67a0
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jan 31 13:55:01 2006 +0000

    Bring the cvt utility up to date with bug #5386 changes. Fix 2 issues with
        the generator routine: the allocated modeline wasn't nulled and
        mode->name's \0 wasn't copied over. PrintModeLine was rewritten and
        HDisplay gets rounded up to character width instead of refused.

commit 8f3c69dcf17691f71bca7b0a2cd34f7788a97b8c
Author: Luc Verhaegen <libv@skynet.be>
Date:   Tue Jan 31 13:04:02 2006 +0000

    Accept modes with less than 25% horizontal blanking again (you can push old
        gtf timing to below 25%), only stop cvt reduced blanking. Users should
        be free to blow up their monitors if they so choose.

commit 701b63cf1dcd3e49602114fb1dde45a74b4e1122
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Mon Jan 30 20:04:56 2006 +0000

    Update to build against Mesa trunk.

commit dd50015b05b901fe0c60717512c854389610aea2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jan 28 02:20:37 2006 +0000

    Add libc_wrapper support for random(), which will be used in upcoming EXA
        memory manager work.

commit 3d1667278ff309d7f8e61a6d330f712bae5bcd41
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jan 28 00:37:52 2006 +0000

    Remove leftover variables for cfb24 build, and finish commenting out Xglx
        standalone stuff, which some versions of automake get whiny about.

commit ab01eb247f9e5d7c9995bf2d6432358cd64bf11d
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Jan 27 12:27:34 2006 +0000

    update pci ids

commit 261aa4403c77203f8f02b399ddd382c731dda324
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Jan 26 09:04:22 2006 +0000

    remove that, and will put it in a i810 driver specific Changelog

commit 94e678fd014c61d12591d7398b6591f24c3d71f1
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Jan 26 08:49:19 2006 +0000

    add changelog for i810 updates

commit c5e93182905332383ca3ef5db3f334cec69c8dda
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Thu Jan 26 04:32:45 2006 +0000

    Really allow linking against Mesa trunk to work.

commit 0dc0f17f27f99da79c99031b41b0c0e95ef035f5
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jan 26 04:10:43 2006 +0000

    Speed up checkout and autogen by removing disused iplan2p4 and ilbm.

commit 023d2b4e3c392eed1f149dc5b13a83429cd052a3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jan 26 00:23:44 2006 +0000

    Add forgotten HAVE_BACKTRACE define.

commit 14fdd81614cdd6ef7e01976a43da8b6a3bf8386e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Jan 25 23:05:26 2006 +0000

    Remove xf8_32wid, it's dead code with no maintainer interest. Also remove
        cfb24, since xf8_32wid was the only user.

commit 2e28f4104ddf94a8f9a70fe6b2a2a6859ffedc8f
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Jan 24 22:05:33 2006 +0000

    Allow current trunk to build against Mesa trunk

commit 0d9ed2624fe8fb95c57930da523351556ba11351
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Jan 23 22:01:34 2006 +0000

    Commit #4633 - Initial mouse pointer incorrect with EXA which also fixes
        the repaint of the cursor image with randr events.

commit 9148d8700b7c5afc2644e5820c57c509378f93ce
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Jan 23 13:59:14 2006 +0000

    Commit slight variation of bug #5460 which is the merge of the new shadow
        code from kdrive.

commit cfd3988ed906ab48ca4362256f8dbb8852d7ca0a
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Jan 23 13:58:19 2006 +0000

    wrap with if XORG / endif

commit f51ecc66e9ad6d2c3541b1dafa7659da5a0a3a86
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Jan 23 13:54:59 2006 +0000

    #include "gcstruct.h"

commit 80f45fa4dfa011c2ae7bcb34f87aafb91763f1fe
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Jan 23 13:54:34 2006 +0000

    add damage.h & damagestr.h to SDK headers

commit af5b3ea4b3df9e9c6dd6993c5e7238a366a3f508
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Jan 19 14:51:09 2006 +0000

    add randrstr.h to sdk_HEADERS

commit 03ebd37baba2f5af3ab502ff02ec14c15859dc3f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jan 19 12:25:01 2006 +0000

    Make error() bomb with exit code 1, not 0.

commit adce1f16e0d815e5c762407da3544a7d2eff9303
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 19 00:06:57 2006 +0000

    Only try to use byteswap.h on linux. Assume that everyone else (thinking of
        BSDs here) has sys/endian.h, and use macros as appropriate for the
        names. This should probably be in a gloabl header.

commit 1c3f8727b2349c9b988eaa744f11366322d42538
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Jan 18 19:42:56 2006 +0000

    More kdrive merge, fast path fbBlt to use memcpy() when possible. Good for
        -5% to 60% speedup on XGetImage, and 0% to 10% speedup on copies within
        host memory. Based on work by Jaymz Julian.

commit e70b64b93024d05519014fb1b76fe26bd9f3a496
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Jan 18 07:15:55 2006 +0000

    Updated xgl code drop from Novell + xserver tree changes

commit b5356e0afaf2b660c8905f63d5fdcb03402b81c5
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Jan 18 07:00:50 2006 +0000

    typo in last change

commit 506eca5f57b960a6650c3387047a6ae8a22181e9
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Jan 18 06:56:52 2006 +0000

    Wrap sdk_HEADERS in if XORG as otherwise installing non-xorg servers
        breaks.

commit 8ccf4f2b8fdb5e57d2ec5f2d54731fbf83fb9d8c
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Jan 18 06:49:17 2006 +0000

    This is a fix from David Reveman from the xserver tree, Make fbPadPixmap
        work with negative stride

commit a1f9262c6acd195c0fcf5f602d5ca0c252993521
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Jan 17 21:27:49 2006 +0000

    file glxvisuals.c was initially added on branch accel_indirect_glx.

commit c2dedf4d17f8a5b1a8037fd2b4e29122ef78945a
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Jan 12 22:14:56 2006 +0000

    Thu Jan 12 17:09:18 2006 Søren Sandmann <sandmann@redhat.com>
    Add new functions to enable and disable events on Map and Unmap.
    Use them here to make sure Composite redirect doesn't cause Map/UnmapNotify
        events that would confuse window managers.

commit 847d83ec3c90c5b298eaf19ba55251b4a30f4155
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Jan 12 00:21:59 2006 +0000

    Bug #2996: libglx / libGLcore should use a dispatch table
    Port all changes from the (monolithic) accelerated_indirect-0-0-1 branch to
        the modular trunk. This will break the Darwin and cygwin builds. Other
        than the changes to symlink-mesa.sh and the various Makefile.am files,
        to code is identical to what's in the branch.
    Reviewed by: airlied, krh

commit c56e9a8849ce8dd5c09732ae1860e409e7886690
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Jan 10 03:24:53 2006 +0000

    Bomb when symlink-mesa.sh continues, instead of silently failing.

commit 2949c705f11f8710301555c039bcecbe748cabd9
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Jan 10 03:23:05 2006 +0000

    Add all subdirs used to DIST_SUBDIRS, and files to EXTRA_DIST.
    Attempt to build xeglmodule.c, not xglxmodule.c.
    Add xf86Sbus.h to EXTRA_DIST, as _HEADERS doesn't appear to get the same
        treatment as _SOURCES in terms of automatically DISTing.

commit 4fc9eb592a446ad5711bdaa82c60e9fe010fd76a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Jan 10 02:32:20 2006 +0000

    Bomb out if symlink-mesa.sh failed.

commit 890ec849479db2510a9b4bc5e5e2f7978ca37b83
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Jan 10 02:30:56 2006 +0000

    Add xgl to DIST_SUBDIRS.

commit 53dbd00a75313ec5301ca95b2e91d5d02bdaf820
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jan 8 23:43:54 2006 +0000

    Remove remaining #ifdef DPSEXT stanzas.

commit 7fc9bc44e099f8f046bf707cb87ef7d736933f80
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jan 7 01:29:05 2006 +0000

    Compile fix, again, stupid non-clean builds

commit 9d62d1e6903ccc095f784279a699b3f40a8f0cf8
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jan 7 00:45:17 2006 +0000

    Bug #5218: Don't crash on unconfigured interfaces. (Andrei Barbu)

commit 3c58072956c28ebc3ca2eb50c1ff09823e1219d7
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jan 7 00:33:41 2006 +0000

    One more build fix.

commit 07303c1b42afd1ada98cbc11d1ba616d366017fb
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jan 7 00:05:46 2006 +0000

    This version will actually compile

commit 7f46aba35ee482e9b28ecc81d1a99d423fc88a70
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jan 6 23:52:23 2006 +0000

    Compile fix

commit 25babf2791ad42101a86ba2a0f14564328256ee2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jan 6 23:36:53 2006 +0000

    Missed file.

commit 13c9e0c094c4e34cd1e43a7cc08b2dca39a32412
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jan 6 23:06:15 2006 +0000

    Bug #5525: Build a working Xprt. (Drew Parsons)

commit fe0c838b5d8bc8d9cf5a686bb7d3e90682d2d19a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jan 6 18:06:02 2006 +0000

    Move drawable lock acquisition into DRIClipNotify from DRIValidateTree, so
        we only take it when clipping a DRI drawable instead of on every tree
        update. Note drawable lock acquisition per- screen instead of globally,
        and drop it in BlockHandler if necessary.

commit 39ce5f1544029412f4060f3e89ce1d87222ef42b
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jan 6 17:05:26 2006 +0000

    Remove unused X11R4 DDX compatibility function miClipNotify.

commit 07ecb969d7eb8d4ab0bb0b8a55a5f40f3c8ec5e3
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jan 4 03:29:15 2006 +0000

    Forced commit to note that glyph privates commit was:
    Obtained from: xserver tree (David Reveman)

commit b6b88d2f62d8c596171f487dd25fbdbc85d0c5a8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jan 4 00:05:16 2006 +0000

    Correct rounding in divide-by-255 code. Obtained from xserver.

commit b9c0ae867e1b52186c26841a77745f7f5a0a76dd
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Jan 3 22:36:46 2006 +0000

    Remove the manual AddFilter for convolution, which I'm pretty sure
        shouldn't be necessary due to it already happening from
        PictureSetDefaultFilters.

commit 601ab861b46a62b0742ffd3e937c4fab129664f0
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Jan 3 22:06:23 2006 +0000

    Add glyph privates for Xgl, which uses them to implement a glyph cache. EXA
        would probably also like to do this. This breaks module ABI for EXA and
        XAA, and likely breaks proprietary drivers as well.

commit 1729fc882ceec392331566c95efd5968fe9e97fd
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Dec 31 08:06:00 2005 +0000

    Change REGION_INIT(pScreen, &foo, NullBox, 0) to REGION_NULL(pScreen,
        &foo). While it is no longer (or rather, once again not) required as of
        regionstr.h r1.4, it matches the style of the rest of the xorg code.

commit c25536a7937b11a5347bfb8796d5cb6eb0445b51
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Dec 31 08:01:31 2005 +0000

    Initialize the fourcc value in stack-allocated glitz_pixel_format_t
        structures. Greatly reduces the number of uninitialized-value accesses
        during Xgl startup according to valgrind. Allocating and filling these
        in by hand on the stack seems very shady to me.

commit e6dab3d7c429a2d30d31f188c4554e870011e051
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Dec 30 12:05:47 2005 +0000

    Fix the AC_TRY_RUN for sys/linker.h which had no hope due to lacking a
        main() to instead use a nice AC_CHECK_HEADERS that works. Also, fix the
        nearby SYSV IPC check which was lacking an argument and giving bogus
        results (it's "AC_TRY_LINK(includes, main, yes, no)").

commit eef16c36ad6e90fd8eaad4d8bdbc1205bc28a66f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Dec 30 05:44:14 2005 +0000

    Add #undef BSD44SOCKETS, without which the listener socket on FreeBSD would
        be created without the port number due to xtrans's define not being
        used when xtrans was compiled in the X Server.

commit 7aa0ea23bc9b8df582fe06f2bc39dcfe34583c7e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Dec 30 04:11:42 2005 +0000

    Add an empty all-local target for FreeBSD make's sake, which doesn't deal
        with .PHONY.

commit 49a9249239b0dd105b83a101db6e32549978f0d5
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Dec 29 21:11:41 2005 +0000

    Make kdInputMachine static const, shrinks .data a bit.

commit 6d7ee4167d9daeef9b793789a70aa724c4fe6bf4
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Dec 29 20:54:08 2005 +0000

    Style fix, make SCREEN_EPILOGUE two arguments instead of three.

commit b1efb3810cfea8116d76bae3ff3acfee521f4793
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Dec 29 20:42:54 2005 +0000

    Missed one

commit 858b4bc14a7adc7314ce5043c7ff8ca1891dd0c9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Dec 29 20:38:29 2005 +0000

    missed changelog entry:
    Enough build fixes to get {sdl,ephyr,fake} to link.

commit 54922aeadb29df0a1819afd3f616131aa56e140a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Dec 29 20:29:26 2005 +0000

    Disable building LBX by default.

commit fc69a2e729532ee062af6676fb187a89f7fffe8a
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Dec 29 08:42:49 2005 +0000

    Remove PowerMAX_OS define it never worked , it'll never work again,
        finishes running joke of OLS2005

commit 25d3852b833bc0b61ce8313ce116251a2602b827
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Dec 29 00:44:20 2005 +0000

    Undo spamming of libv's ChangeLog entry.

commit d6646307f063b938c44d6193a2e8872e178aa90f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Dec 29 00:19:33 2005 +0000

    Add necessary *CONFIG_H declarations and a force-off of XF86* extensions in
        miinitext in the XGL case. Prevents mismatched structure sizes on my
        _XSERVER64 machine. At this point, with the uncommitted render/ diffs,
        Xglx starts up but displays badly.

commit 3664c3ebf348d07ae3fe301fb8720adf32cf6d64
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Dec 28 15:22:21 2005 +0000

    Bug #5153: standalone CVT modeline generator.
    - add hw/xfree86/utils/cvt/, cvt.c, cvt.man.pre and Makefile.am.
    - Adjust configure.ac and hw/xfree86/utils/Makefile.am for cvt.
    - Add MonPtr->reducedblanking and Option "ReducedBlanking" to the Monitor
        section.
    - Check for reduced blanking in xf86CheckModeForMonitor and disallow modes
        with less than 25% blanking otherwise.
    - Fix some warnings in hw/xfree86/common/xf86Config.c.

commit 08708f7d616a7c0a596fb71dd7acd76d45257fec
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Dec 28 11:48:14 2005 +0000

    Merge from xserver: Make the existing ChangePictureFilter and
        ChangePictureTransform screen hooks get called at appropriate times.

commit 31d0fdde19598ce9375cc9638ad4e2c8b5af8d9a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Dec 28 10:46:56 2005 +0000

    Remove a debugging printf

commit 64ac7401ad5022462279dff4dcfb12844c9857ae
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Dec 28 10:43:02 2005 +0000

    Fix a copy'n'paste-o that would result in mis-rounding of the results of
        several composite operators in A and G channels.

commit 9ceffb6b92e55f0d74d71489900d43940f14dfd9
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Dec 28 10:37:17 2005 +0000

    Merge from xserver a header for shm's server internal functions, which are
        called by DDXes. Desired by XGL, and should be used in other locations,
        probably.

commit b1b40ed6a87f72d07825624730cca193d5a89baf
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Dec 28 10:31:46 2005 +0000

    Initial commit of XGL build infrastructure and XGL code changes for
        building within the xorg server tree. Requires additional, uncommitted
        dix changes to successfully build, and successful running is still yet
        to happen.

commit 36061c75ae42aa733cde9b3fd05e0c8280b31655
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Dec 28 10:10:59 2005 +0000

    Forced commit to note repocopy from xserver CVS as of a few minutes ago.

commit 05c139d4cdfd11d39c0168d0c80ac1dbdd069b4c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Dec 28 10:02:54 2005 +0000

    Enough build fixes to get {sdl,ephyr,fake} to link.

commit aeb770f645e2d591b255ec4ab06addcb1beafa5f
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Dec 28 02:43:50 2005 +0000

    recommit previous changes to evdev.c

commit ce7c0c89375ec74f89ae5727998fd75fb768d280
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Dec 28 01:57:11 2005 +0000

    some updates for default colormap install

commit 022aa1127c7dcd133ce73dbc12a10bfba8b1ed6e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Dec 28 01:01:06 2005 +0000

    Get Xsdl closer to linking.

commit 27d79ab2bcebb634d0b69c851c72283a7514eb0c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 27 23:03:15 2005 +0000

    s/XSERVER/KDRIVE/

commit 72817714a0787536ce8e8ad0d5473dea0f1c1abe
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 27 23:01:27 2005 +0000

    Remove Imakefiles.

commit 9dd0af6cb4e2c8976ada57a4f4ed16faae090a9d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 27 08:31:37 2005 +0000

    Skeletal kdrive build system. Totall non-functional atm.

commit 7fd73d2953cf9449c15462cf4bf67639db64f997
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 27 08:29:50 2005 +0000

    Build fixes: XSERVER_LIBS -> KDRIVE_LIBS, config.h -> kdrive-config.h

commit 2f3ac6e5fcbd0e954a094fb6b975d7c8816c44b7
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 27 08:26:03 2005 +0000

    Start importing kdrive.

commit 6798fd0170f4225ce4e69148978533fcee9bdc34
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Dec 26 19:13:52 2005 +0000

    Bug #4190: Add a rule for 'make relink' since automake sucks.

commit 8fc4ea8620913776a903ee2b4f22c306d5778623
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Dec 26 18:55:09 2005 +0000

    Nuke unsupported NDBM routines. Shrink the hash table a bit, over
    25% of the buckets were going empty.

commit ed33c7c98ad0c542e9e2dd6caa3f84879c21dd61
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Dec 26 04:23:58 2005 +0000

    Remove unused -xkbdb and -noloadxkb options. Rename -ar1 and -ar2 to
    -ardelay and -arinterval, respectively. Remove XKB banner from help text.

commit 7e3cb9a09ac422179be89773f7fb14a462d25434
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Dec 25 22:25:15 2005 +0000

    Remove unused layer module.

commit 9b083369ded2258cbc8ac2058e06ec8a3b171178
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Dec 23 20:11:12 2005 +0000

    Change list of X server man pages in "See Also" section to list the ones
        actually included and remove the ones that are no longer.

commit 5fd978b1e7bce9169f87712a4a7c2c36a68ac00a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Dec 23 07:40:44 2005 +0000

    Make LBX configuration default to auto.

commit 5230e86b1cc841bfb35806618052aa835b7eb7e7
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 23 04:13:37 2005 +0000

    fix up xglglx.c

commit feb735c5bb0cd391136f1c73476703dff82dc9b0
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 23 02:07:58 2005 +0000

    Well there were a couple of snapshots later than CVS available outside of
        Novell, so I've done a crazy merge to try and get them into a workable
        CVS, I suspect I may have failed.. there is a pre-xgldrop-merge tag if
        I did.

commit ade104ce5a016623c1ce97b0d52b531185b35baf
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 23 01:51:40 2005 +0000

    check drawable is available

commit 7fb521e80d6e2c05e9475e74fbf80bfbe74cda95
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 23 01:50:04 2005 +0000

    from davidr's tree update some fixes

commit c88a3145d057ab72466a3ea8b789bf419e4efc33
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 23 01:49:21 2005 +0000

    from davidr's tree if source picture defined return

commit c59508566f11982aa3f4be383597d0e6178718c2
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 23 01:13:28 2005 +0000

    fix glx up for newest glitz interface

commit d822bc159672e7327054e572b659ae7dde040e83
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 23 00:08:35 2005 +0000

    make xgl code at least build against latest glitz.

commit 6e2086395d99081d8d682b90cec650a06e41fc2c
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Dec 22 23:32:49 2005 +0000

    fixups for newer glitz API

commit f3ae42c0fd910b7f9feb9be91ccb056bce0cd999
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Dec 22 23:31:15 2005 +0000

    small fix towards new glitz interface

commit 2af7e94eab6847159a3439301ecc93c62a12b1a0
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Dec 22 13:54:08 2005 +0000

    Adjust the rules for auto-generating some source files, so that they work
        on both GNU make and FreeBSD's make.

commit 0d7ec5c7d9b451066a079fe56bcc9722341a91ff
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Dec 21 02:30:08 2005 +0000

    Update package version for X11R7 release.

commit b37e738d5f4e1769bdee98acca788aeeb1556bcc
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 20 21:40:19 2005 +0000

    Fix an fb regression on A8 pictures. (Fredrik Höglund)

commit 03d37eb03864cfc1a2f8d239d5a4c8341bf274f7
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 20 21:34:21 2005 +0000

    Bug #5359: Fix a segfault (Mark Kettenis)

commit 7b89b643c12fa0f7a662b3ff76e05ece53101312
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Dec 19 16:44:21 2005 +0000

    Bug #5116: Refer DRI section details to dri.fd.o.

commit 3ef3add90351e3cb7b54dbcedc234bc5d3d65f1c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Dec 19 16:34:07 2005 +0000

    Stub COPYING files

commit 3566307c8d44f89622ea51169f67c79092cb56d1
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Dec 19 09:18:29 2005 +0000

    Fix typos.

commit 137447c5f3c6f1914ac869297f823ae93ce428ac
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Dec 15 01:54:45 2005 +0000

    Update to 2005-12-14 snapshot from pciids.sf.net

commit 2cf86fce41e3fd2ac48c5088da11e19077e42e65
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 15 00:20:27 2005 +0000

    Update package version number for final X11R7 release candidate. Update
        release string to 6.99.99.904.

commit f1ba3b4f33a928a3a59538799b3863de5c87e70e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Dec 14 20:11:16 2005 +0000

    Bug #4718: Command line flag to disable ACPI.

commit cf605eb91619a8c0589a08674ffc3e018471b3fc
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 13 17:35:26 2005 +0000

    Build libglx correctly when not building the Xorg DDX.

commit b076dd787ff71c4b385ab4e2e4eb367f3de378f6
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 13 17:34:06 2005 +0000

    Spell it XINERAMA_SRCS, not PANORAMIX_SRCS.

commit 3666dbb5f3e06fa6a72def64556d64cf73141777
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Dec 12 23:33:55 2005 +0000

    Remove unnecessary include of dgaproc.h that broke Solaris builds.

commit 438a5549f08ab03443d45dd46323579a2f2e4ba2
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Dec 12 03:06:18 2005 +0000

    Bugzilla #4715 <https://bugs.freedesktop.org/show_bug.cgi?id=4715> Files in
        xserver/xorg/Xext not included in tarball after make dist

commit 62f3ef930adc7edd49b27dd1f7b0f51bc8bc0afa
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 18:35:21 2005 +0000

    Bug #5258: Restore binary compatibility with 6.8.2's PictureRec. (Aaron
        Plattner)

commit b99dea9dcf99f907a3536c0db1c39cc67931a5b1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 18:32:46 2005 +0000

    Bug #4935: Fix includes. (Eric Anholt)

commit f4957ee94810b471110deebf03d7413399b45db3
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 18:30:51 2005 +0000

    Bug #4809: Re-fix that doesn't break distcheck. (Alan Coopersmith)

commit de22d0c2264bd6dbacbbb4160d09c7e84ad37e70
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 15:30:05 2005 +0000

    Fix a thinko so the code matches the comment

commit 6fcb049cd0d2291da5943176716d1f7bbb85fdc2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 06:49:39 2005 +0000

    Bug #1288: Additional refactor of the driver probe logic to keep ati loaded
        before atimisc.

commit 17ac5e9fec1e07bd18ae1407043c300cb4695ede
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 05:36:41 2005 +0000

    Push the fallback drivers to the end of the list so driver probe order
        stays useful.

commit 80ea67e37980d07438749f1aa4dfdd7ee1086799
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 03:59:41 2005 +0000

    Bug #4361: Change driver probe logic to read the driver list from disk
        instead of using a compile-time array.

commit 7fa2d11d85d43f42aa9c02f8d772c91d1b04df43
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 03:57:41 2005 +0000

    Bug #4361: Define XF86CONFIGFILE properly so config file generation works

commit 26b41ff43959a07a778bc3d6e4db8da036f09de3
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Dec 9 03:02:21 2005 +0000

    Fix sgml docs build.

commit d6f98cbdb8fb74c504a92939d3741420eeed7110
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Dec 8 19:33:09 2005 +0000

    Bug #3944: Fix 24bpp packed pixel. (Søren Sandmann Pedersen)

commit f9ccebe8c5cd674c08fe8ed860d1c456e42c937e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Dec 8 19:27:13 2005 +0000

    Bug #4928: Fix compilation for Alpha. (Stefaan DeRoeck)

commit 3a6bdf0715b994d6ecaa5b6e448695a8a8ec7d72
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 8 19:21:12 2005 +0000

    Add configure option to set the top level font dir.

commit 008c2dd5e4614e6a21123ee3a2ac9c5d3bafa97a
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 8 17:55:19 2005 +0000

    Add configure options to allow hard-coded paths to be changed.

commit 39189c2b86a4c2ab5f3f161d423eb072356668e5
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 8 17:54:40 2005 +0000

    Allow hard-coded paths to be configurable.

commit 20c0ebe7b3feb85abf9bf140b7799aafc6f59513
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Dec 7 16:18:02 2005 +0000

    Change to use the app-defaults default dir configured in libXt.

commit 4a39354e14c3c360046b04ea0d4825832b05df05
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Dec 6 22:48:51 2005 +0000

    Change *man_SOURCES ==> *man_PRE to fix autotools warnings.

commit 84faf8dc9747bc4f1db5ebc2f23e17cf1460e2e9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Dec 6 16:22:47 2005 +0000

    Bug #5230: Fix whitespace bugs.

commit 9439297b7bc07dcb90f0d01da09eea1bac3d42ff
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Dec 6 15:50:35 2005 +0000

    Bugzilla #5219 <https://bugs.freedesktop.org/show_bug.cgi?id=5219> Make
        sure all optional sources are included in EXTRA_DIST, even if they
        aren't used on the platform the distballs are made on.

commit f259fd680caccb59546d7788704e46e51a9c6146
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Dec 3 22:47:47 2005 +0000

    Disable the xf8_32wid logic for now, breaks distcheck

commit 26f9c4305660c2b3dc7fe8d214bcdd3c24e1b198
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Dec 3 17:04:45 2005 +0000

    Bugzilla #4809 <https://bugs.freedesktop.org/show_bug.cgi?id=4809> Patch
        #3908 <https://bugs.freedesktop.org/attachment.cgi?id=3908> xf8_32wid
        and cfb24 only need to be built on sparc

commit 98231c6b38c98976f4ac2b9417ecfbc37a8cbe9a
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Dec 3 05:47:25 2005 +0000

    Update package version number for X11R7 RC3 release. Update release string
        to 6.99.99.903 (i.e., 7.0 RC3).

commit 7c00afd0ec94e491f1a9ef32d6543ed51ea3319d
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Dec 2 06:02:45 2005 +0000

    Define XFree86Server only where it is required.

commit 924518605b613eb66aa569877fa9f131e6f2a2fd
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 1 23:39:00 2005 +0000

    Fix GL build when srcdir != builddir (Donnie Berkholz).

commit 14b9315379fe8c783013906616d868f93fd51c83
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 1 22:06:49 2005 +0000

    Add missing XvExtension and XvMCExtension defines.

commit df8fa21d3189e20260328b88cc8a86224a9b1ebf
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 1 16:20:09 2005 +0000

    Fix typo: xorg_bus_linuxbsdpci ==> xorg_bus_linuxpci

commit ccfaf82367c9d057fd8314ce36b47f0a8eb696b6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Dec 1 05:04:07 2005 +0000

    Bug #5160: Fix the modular build to try to use the same logic for choosing
        the architecture/os-specific bus support as monolithic.

commit 9c0bd9687fe7d20f2f0793332ae0db06f035eb23
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Nov 30 22:59:22 2005 +0000

    Import libdrm 2.0

commit 4ec0b623b6ab5f8a1e5af2cc3d839251acf81ce2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Nov 30 02:36:25 2005 +0000

    Bug #5093: Fix fb for non-SSE machines. (Xavier Bachelot)

commit ed826d563cba82c516fd41f6a29ee50aa1fe6c6a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Nov 29 23:34:30 2005 +0000

    Only build dlloader modules by default.

commit da5d66f2ff27b21fe5c39a4abb4f627edd707f1d
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Nov 29 16:39:33 2005 +0000

    Fix usage of XFree86LOADER/XFree86Module/IN_MODULE and update loadable
        module builds to reflect this change.

commit 51a721a6dbb42702347aad3115147e4922fc1a25
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Nov 28 22:05:09 2005 +0000

    Change *mandir targets to use new *_MAN_DIR variables set by xorg-macros.m4
        update to fix bug #5167 (Linux prefers *.1x man pages in man1 subdir)

commit 381931b15b15d0a2ec384b0c22864412c44f9c6e
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 23 07:14:46 2005 +0000

    Add configure option to install libxf86config.a (disabled by default).

commit 594ca0966e8fd5992ebf95170cc42e19c698fec6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Nov 22 02:11:00 2005 +0000

    Bug #5118: Use "rm -f" instead of "$(RM)", which isn't always defined.

commit 1c8c1179c0789e3e134d31a62dbb88bfdb594b26
Author: Felix Kuehling <fxkuehl@gmx.de>
Date:   Mon Nov 21 04:24:07 2005 +0000

    Fix Xprt library dependencies in the case that Xprint is auto-detected by
        configure.

commit a1f110bda80bb3b8e4f602385ca5ccd96cf3f786
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Nov 20 23:01:02 2005 +0000

    Make sure XKM_OUTPUT_DIR (used in code) ends in / (so paths don't get hosed
        when appending file names) but XKB_COMPILED_DIR (used in Makefiles)
        does not so install-sh -d doesn't get confused when the directory
        already exists.

commit 385730d23944c24dd9af45b27f62c1161abc48b2
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Nov 20 04:15:15 2005 +0000

    Add xext to list of modules xorgcfg depends on.

commit 63aa96c08a8390621b017ea498c88cf88152024b
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Nov 19 07:15:50 2005 +0000

    Update pkgconfig files to separate library build-time dependencies from
        application build-time dependencies, and update package deps to work
        with separate build roots.

commit d3b6653a2892e8c929c79fe3ace19ac9d8366fc4
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Nov 19 03:53:04 2005 +0000

    Bug #4824: Build XTrap support by default, matching monolith.

commit 627ac1fe1dbcbc070575da7bee9e686a7dce5262
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Nov 18 23:34:04 2005 +0000

    Bug #5060: Fix non-Linux DRI on 64 bit post Linux 32/64 changes.

commit e3ec048ff2fe0ee0862472e9b147b7ce488ea898
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Nov 18 22:43:50 2005 +0000

    Bug #4928: Unbreak Makefile.am for Alpha chips. (Stefan DeRoeck)

commit de95d8ee197a0bb738037195997d754a20e10254
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Nov 18 18:02:24 2005 +0000

    Bug #4859: Don't segfault on bad DDC read. (Tony Houghton)

commit 21f7d03dbc347f6bf97a40671275ac75df15bd10
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Nov 16 07:28:19 2005 +0000

    Fix builds when not building the Xorg DDX.

commit fb2d9df869af0c96f1488ef7cf364e01a9d28f3f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Nov 15 00:29:23 2005 +0000

    Make fb build on darwin/ppc without addition #define hacks

commit 16b315affa30e34b9bab81778978484137a5d9bb
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Nov 14 21:04:12 2005 +0000

    Use glcontextmodes.[ch] from Mesa.

commit 0c110c80e7afbef50bb354cf1df30123ed048250
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Nov 14 20:18:03 2005 +0000

    Add GL_CFLAGS so that GLX can find its proto headers when using separate
        build dirs.

commit fc81c13e4dafb0eb818879454ee7ae3fa3dae6d0
Author: Kean Johnson <kean@armory.com>
Date:   Mon Nov 14 18:49:30 2005 +0000

    Dont prevent SCO platforms for using the default ZAxisMapping now that the
        OS layer correctly sends z-axis events when the wheel button is used.

commit bd9fb533b31c2427d854199fa59dccd357cf874b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Nov 14 00:01:34 2005 +0000

    Default xkb-output directory needs trailing slash.

commit 267cbffa41fffff69c692911d128462f5bab2a69
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Nov 13 20:53:24 2005 +0000

    Bug #5019 <https://bugs.freedesktop.org/show_bug.cgi?id=5019> xserver
        installs manpages into 'man1' instead of 'man1x'

commit 3179d29b8212c197634d81fbeb8dd2e8df995735
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Nov 12 18:03:34 2005 +0000

    use RGB_DB not RGB_PATH as that's what configure defines (Jürg Billeter
        <j@bitron.ch>)

commit 0e7e4c7064df64c29b1a0ccd84fba1be7c748f18
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Nov 10 04:59:21 2005 +0000

    Fix typo to enable DGA support.
    EXTMODULE is required to build DGA support into extmod.

commit e4554db8f87c6a39a3087186395972000bd2085c
Author: Kean Johnson <kean@armory.com>
Date:   Thu Nov 10 02:41:20 2005 +0000

    Dont pass wheel mouse buttons as real buttons, map them as Z-Axis movement
        on SCO and USL. Re-instate the ZAxisMapping default for the mouse
        driver.

commit 1b26fe6d2092c202141a0371f47ef1cd7c66ec00
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 9 21:28:54 2005 +0000

    Update package version number for X11R7 RC2 release. Update release string
        to 6.99.99.902 (i.e., 7.0 RC2).

commit f886e632b8dab1bfa0de42b9759a8284ecd9b94f
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 9 17:05:41 2005 +0000

    Bug #4915: ButtonMapping option which allows to define arbitrary button
        mappings (including left-handed mouse etc.). Fixed incorrect usage of
        non-reversed, but ZAxisMapped buttons for state detection. Nuked unused
        part of reverseMap.

commit a25871ae52dd5ce094ba8c1b2021dd027d3e71bd
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 9 01:00:46 2005 +0000

    DRM 1.0.5 import

commit c9709c0a38af46368726857f7261cbeb84e53911
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Nov 8 22:47:57 2005 +0000

    Add newly checked in files to Xorg server build.
    Fix release date. Enable DGA extension by default.

commit f8430a1b8651f4b52d9d3b54694a60d929b48925
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Nov 8 19:04:56 2005 +0000

    Bug #2880, add functions for byte and word level access to pci config
        space.
    Fix broken utf8 again.

commit 5390c7ab05d23f64e6d9afaa558be246a6d6e1b4
Author: Kean Johnson <kean@armory.com>
Date:   Tue Nov 8 06:33:30 2005 +0000

    See ChangeLog entry 2005-11-07 for details.

commit f5814bf3fff5352ed6edef4c58aadf2d4593f094
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Nov 8 03:12:43 2005 +0000

    Don't reference noXkbExtension when building without XKB. (Bob Terek - Sun
        Microsystems)

commit e73cdba865f36ebf78c2dc4ff674b4d9bfe85013
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Nov 7 21:03:49 2005 +0000

    Fix Xvfb to work properly in depth 15 mode. Fixes XTS5 XCloseDisplay-3
        server crash.

commit 890ed0e082e048fa8daf48229b40558381bd131d
Author: Thomas Hellstrom <unichrome@shipmail.org>
Date:   Sun Nov 6 16:40:59 2005 +0000

    Fix a bug where a system memory pixmap got a wrong address if memcpy()
        fallback was used for downloading from screen.

commit 70aedcf32a0c924fd073f5b36d20813e8323026b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Nov 5 18:56:50 2005 +0000

    Bug #4948: <https://bugs.freedesktop.org/show_bug.cgi?id=4948> Incorrect
        URL in log file for Xorg CVS. Also fixed wording of statement to not
        refer to monolithic CVS since modular uses the same code, so it was
        appearing in modular builds too.

commit 89c661d61f1b9c70a08237476fa1f7f42c1783ab
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Nov 4 21:37:32 2005 +0000

    Only use fbCopyAreammx if planemask is FB_ALLONES (fixes XTS5 XCopyArea
        tests 22 and 23).

commit 0b150a05e6fadca7ee8240697d6cbeadea0c53b3
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Nov 3 17:12:53 2005 +0000

    Whitespace change just to make sure I created the branch correctly.

commit 90cf8e339b71c2f8f2d7a362e6e1ca8078d7f4fd
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Nov 3 17:08:06 2005 +0000

    Fix vendor string and release version reported by the servers. Enable
        security, lbx and xevie extensions to give us parity with monolithic
        tree.

commit f23defeef285b4a5bb58405589294bd557c9bb01
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Nov 3 16:57:01 2005 +0000

    Use APP_MAN_SUFFIX for Xserver man page instead of hardcoding section 1

commit f5daec674aeb4fe6ccbc95ead8a319bbeb368d9f
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 2 15:56:40 2005 +0000

    Add support for enabling/disabling DBE (part of generic enable/disable
        extension support in the server).

commit a311bfa73afa1af76f81958d23bc8e0c631d6828
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 2 15:53:57 2005 +0000

    Fix support for enabling/disabling extensions loaded from modules.

commit 462a2407d540eac831c9be4dcee8a16aa1cea6ac
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Nov 1 15:01:51 2005 +0000

    Add xorg-server.m4 for driver dependency checking.
    Update pkgcheck depedencies to work with separate build roots.

commit 56101c9d6ec3585a0a8550da4b83dd399e3bcce6
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Oct 31 05:45:40 2005 +0000

    Fix fd leak by closing them in the ACPI code instead of just using
        shutdown.

commit 7993486e80711bd6f6f5b6c2b1f2ac32bfba735b
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Sun Oct 30 17:38:49 2005 +0000

    RandR: Add a driver func to let the driver determine the physical size of a
        screen size (display mode). Useful for faked widescreen modes, modes
        which are scaled by the driver, etc. This really helps fixing RandR's
        sometimes dumb DPI assumptions.

commit c818d3a1a5439c54fc687927a99d69712602ed5e
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Sun Oct 30 09:27:06 2005 +0000

    Add xf86RandRSetNewVirtualAndDimensions to loader symlist

commit fdbb3ea60949a12eb2f4805d16e8acc2348e39c7
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Sat Oct 29 21:31:23 2005 +0000

    Add function for drivers to change RandR's idea of the virtual screen size.
        (This allows drivers to reserve a larger virtual size at start and
        change it later)

commit e921eec1c6d6ce32630977bd876c529a7c694459
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Oct 29 00:12:33 2005 +0000

    Make X -> Xorg symlink at install time.

commit f842c229d4c4dbd5c01364f9e99709bedfd32be6
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Oct 28 16:01:17 2005 +0000

    build fix on alpha

commit 7416fd61a17a70a2c27c4b1d19796955c296dc7a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Oct 27 21:03:27 2005 +0000

    Improved stack trace dump code for Solaris - try fork & exec of pstack
        first so we can see the names of non-exported symbols that aren't
        visible to walkcontext/dladdr1 code.

commit b588bdfe2ac3758d7188706078d79fa276a303e3
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Oct 22 04:38:50 2005 +0000

    programs/Xserver/GL/mesa/X/xf86glx.c: Missing initializer in xf86glx.c
        spotted while debugging something else.

commit 59279da49806b032027bb54410bc2513d21e3d9e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Oct 21 19:06:13 2005 +0000

    Bug #1429: Report input device type correctly. (Stéphane VOLTZ)

commit 4a8072011895e6f472e429af7503fc07e0561144
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Oct 21 18:50:09 2005 +0000

    Bug #4730: Byte-swap the pixmap ID correctly. (Neil Campbell)

commit 81e913d3106066de73792f59f3e50e2b5458c567
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Oct 21 18:23:33 2005 +0000

    Bug #4840: Typo, x$xRES -> x$RES. (George Fufutos)

commit f5a58178347878e0409b592330a07867bea02bef
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Oct 20 23:24:47 2005 +0000

    Make sure that the __gl*_size prototypes are seen in all the places that
        they need to be seen.

commit 279cf9f79da5778b6e14ecc437379d73e3bec5b0
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Thu Oct 20 22:41:28 2005 +0000

    Bug #4817 <https://bugs.freedesktop.org/show_bug.cgi?id=4817> Restore '='
        to '==' in test for mmx_capable.

commit 1f43d218cc24358a0379535ed517c23011633c31
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Thu Oct 20 21:45:40 2005 +0000

    EXA: The "optimization" for using a fill operation instead of 1x1 copies
        checked the destination drawable's dimensions (!) instead of the
        tile's. Really....

commit 15f56b203dbc14ea59885d40fd4bed3da9e8e190
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Oct 20 18:52:51 2005 +0000

    Move xf86XTrapModule.c to dixmods, guess at a build system.

commit da43c778f4a831061ad2c8b8a312b7a54c9cd79e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Oct 19 22:45:54 2005 +0000

    Bug #3224: Degrade XKB fallback message to X_WARNING.

commit 4ebd26f04b32f1b09e0759f1a83437d0b1c4d646
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Oct 19 22:36:22 2005 +0000

    Bug #3196: Fix Load foo.so syntax.

commit af211a9bc1bcab0aa631558e5d6ce013095f9802
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Oct 19 22:30:09 2005 +0000

    Fix PCI bus scan on ia64 E8870 chipsets.

commit 5744308e2957781449bfe6fee9b465617a88384d
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Oct 18 22:06:54 2005 +0000

    Update package version number for RC1 release. Update release string to
        6.99.99.901 (i.e., 7.0 RC1).

commit 2769c3e72c470b472dae013e256a7ee73c3e53f2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Oct 18 19:43:48 2005 +0000

    Fix distcheck by forcing Xorg to be installed before chmod/chown.

commit dd0d010e9c34278f968be486a6c5c91e021b6609
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Oct 18 19:14:08 2005 +0000

    Fix parallel builds my ensuring libdmxconfig builds first.

commit 79e6ac79f983b6cbd88a868dfd2235d9cbe75e8b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Oct 18 07:18:21 2005 +0000

    Don't use $< in explicit rules since neither BSD nor Solaris make allow
        that.

commit fb282ef43a1936dcdefa57f16a8363b2adaf983b
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Oct 18 04:03:01 2005 +0000

    Add miext/damage so misym.c can export DamageDamageRegion.

commit 959db6028d232dc76396cb658aa48d3b4e605aed
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Oct 18 04:02:31 2005 +0000

    Export DamageDamageRegion. Not bumping the ABI version since we did that
        already for this release.

commit b61c828b0455ec1d4a7ffb54b5ac9b65764a458b
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Oct 18 02:23:58 2005 +0000

    DRM 20051017 import

commit d6a40bcd4a745b5d6d1070deb696b21d128ca0fe
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Oct 18 00:32:55 2005 +0000

    Change default install dir for app-default files from
        $(sysconfdir)/X11/app-defaults to $(libdir)/X11/app-defaults to match
        the monolith & allow localization

commit e7007f7d51c9e1d39118865fefb1716c579a70bd
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 17 22:42:03 2005 +0000

    More automake 1.7 braindamage: use mkdir -p, not .

commit 151ba8b67fd88a721f9f72d3019212b22f5cd3e2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 17 22:25:58 2005 +0000

    Work around automake-1.7 braindamage by providing an explicit rule for
        XOrgCfg.

commit eec3df1503e561aff6656e15c73b25a0bba1b06b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Oct 17 17:11:12 2005 +0000

    Fix whitespace in AS_HELP_STRING uses, convert all help strings to use
        AS_HELP_STRING.

commit 1859c62607d567aa05334df1662f7249c983f793
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Oct 17 07:18:59 2005 +0000

    include/dix-config.h.in Add support for more extensions
    Add missing files to EXTRA_DIST

commit ccfe9e7e9b49cbbf7c50fbf1a5c33178f27f79eb
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Oct 16 21:57:34 2005 +0000

    Link Xprint config directories in $(C_LOCALE) list to C locale dir, not
        en_US

commit a7d6a4fb321415b8aaad72760ff8a1ca3fd077f9
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Sun Oct 16 03:02:53 2005 +0000

    Change '==' to portable '='.

commit c2e461c7e970830ea430de3e5f352d144e9f0239
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Oct 15 20:44:44 2005 +0000

    Fix typo and add new Makefiles to AC_OUTPUT
    Fix typos
    Add xorg.conf.man to CLEANFILES
    Add missing files to EXTRA_DIST

commit 34b7b57b3c80507f63a542c6adb4b5c8ed80b642
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sat Oct 15 19:34:28 2005 +0000

    Doh, remember to add this file.

commit 744aa34ca5228ea176cc56a7bdd48bbf5f29b0b5
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Oct 15 02:19:09 2005 +0000

    Add an additional meaning to the "dirty" flag. Now, if !dirty && !area, the
        pixmaps's contents are undefined, so we won't need to upload the
        undefined contents in MoveIn. Use the ExaCheck* for async ops as well,
        so that dirty is always tracked. While the performance impact for my ls
        -lR test was not significant (though the avoiding-upload path was being
        hit), it's likely to be important for the upcoming Get/PutImage
        acceleration from ajax.

commit 21e7339c1eead1148eea462bc99cf8faf02c8d39
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Oct 14 22:44:56 2005 +0000

    Hook up lbx.

commit d62943c040fd3d45079c9918c57f74f993b585d4
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Oct 14 22:19:51 2005 +0000

    Set default font path to match the default in the monolith so fonts are
        actually found.

commit 0ee70f53ef9b05052ee079560df107d05a9c5407
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Oct 14 22:01:46 2005 +0000

    Install Xorg & xorg.conf man pages even when not building docs

commit 0676a2874a62a3661a718cdf21e75ffc77197ad9
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Oct 14 20:01:36 2005 +0000

    Add sysv and sco os-support subdirs and add simple EXTRA_DIST Makefile.am
        in those dirs. Remove unsupported os-support subdirs (bsdi, dgux, hurd,
        nto, os2, pmax, qnx4) that have no maintainer and we don't dist.
    Add Options.

commit 57abb5b171b2fe88252aeb788463e533106d66b9
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Oct 14 08:29:16 2005 +0000

    remove reference to non-existent agpgart.h

commit 7e3e9ed97ba25bb84286f97fe6882a37c9aa7e25
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Fri Oct 14 06:10:06 2005 +0000

    Add XTRAP_LIB to XPRINT_EXTENSIONS to fix xprint build when xtrap is
        enabled.

commit 821584fcd3bf83f3aaacd35e54323f71d976db44
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Fri Oct 14 05:36:39 2005 +0000

    Require glproto >= 1.4.1 if building DRI with GLX. This fixes a build
        failure on a number of hyperpipe functions.

commit 8df7628a2ad93edf8271f13e0b43c0fa8f766668
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Oct 14 00:41:51 2005 +0000

    Remove reference to XF86config-4. Add xorgcfg(1) to See Also list.

commit b54c8154ca19edce00b9c6379d5daf94268bade1
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Oct 14 00:34:49 2005 +0000

    Set substitutions needed in xorgconfig man page.

commit 1df705e465a103c94ffbb9fe97bdbe6b0aefc746
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Oct 13 20:30:38 2005 +0000

    AC_SUBST VENDOR_STRING & VENDOR_RELEASE for xorgcfg's app-defaults file

commit b349b20d783252d5126451142419aae554f9b776
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Oct 13 18:08:24 2005 +0000

    Dist NOTES.
    Dist helper shell scripts.
    Dist XAA.HOWTO and a few more unused C files.
    Dist xorgconf.cpp.
    Fix DIST_EXTRA typo.
    Clean yacc and lex generated files only during make maintainer-clean as we
        don't expect users to have those tools installed.

commit 35a767590e481b15ae66dccc2dd91098992b2751
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Oct 13 01:13:58 2005 +0000

    Fix stupid mistake in yesterday's allocator commit, would cause exa to
        consider a random available memory size

commit a16dabd05ee7ec97877f07bd40ed83c01e72fc22
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Oct 12 11:15:44 2005 +0000

    Remove an RM line that appears unnecessary and was breaking the build at
        xf86DefModeSet.c with FreeBSD make, where RM was undefined. While here,
        make the build of xf86DefModeSet.c depend on its sources, so it'll
        rebuild properly, and make it a normal CLEANFILE rather than a
        DISTCLEANFILE, since the intention seems to be to build it at the
        user's build time.

commit b819c8378fbf29f185332e8435a80eb35991cd1f
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Oct 12 08:22:31 2005 +0000

    remove unneeded line of code

commit e573b272bf2b06fb62d0306ddc966f3230ead967
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Oct 12 07:46:36 2005 +0000

    Use proper access size when reading pixel based on bpp of the source pixmap

commit 55efb41f6cc064763cbfd3ee2a1239dc46cb109a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Oct 12 07:35:20 2005 +0000

    If a window background is a 1x1 pixmap, read the value out and go to
        exaFillRegionSolid rather than sending piles and piles of Copies to the
        hardware.

commit fce11fdf03acc1f3f1dafb79fc8fff0251cf5473
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Oct 12 02:11:06 2005 +0000

    Fix typo (DIST_EXTRA -> EXTRA_DIST)

commit 12994b9afbc18bfb7209f677abf673415c9ddf15
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Oct 11 23:11:37 2005 +0000

    Fix a couple of bugs in the offscreen allocator. One mostly harmless was
        causing our search loop for evictable blocks to possibly skip a good
        candiate, and another was the allocator would occasionally use
        area->offset as if it was the base of the pixmap, while for a pixmap
        that is not in available state, it is not. This caused some funny
        miscalculation leading to overlapping pixmaps and accesses beyond the
        end of the framebuffer. To make things cleared, I renamed save_offset
        to base_offset, made sure it's the one used everywhere in the
        allocator, and only align "offset" for the client at the end of
        exaOffscreenAlloc().

commit 8444a1f3918b0433f89cae31673ab63628b4543d
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Oct 11 21:01:04 2005 +0000

    missed commit

commit 3b683b63eed603ae58a8cddab48eb81f7ba0dbdf
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Oct 11 20:12:24 2005 +0000

    missed ChangeLog entry for previous commit

commit b4450f3242ab408e80bc3d6d5d1cf6765f3e5339
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Tue Oct 11 19:03:02 2005 +0000

    Add DGAReInitModes, Part 2

commit d91d18e1d6d663244288748ab86a35a6c151a535
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Tue Oct 11 19:02:18 2005 +0000

    Add DGAReInitModes in order to allow the driver to change the list of
        supported DGA modes. (Part 1)

commit c1a2abadfbb862cbaac3e23d0c1317ce5473ebdd
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Oct 11 14:50:47 2005 +0000

    fix a typo

commit 697f64a22ac5a7742a0022605a1074351296d4f8
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Oct 11 14:50:03 2005 +0000

    check randrp has been initialized

commit 2828d92c6ca400b603b6a20a221d9c858732292f
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Oct 11 14:45:01 2005 +0000

    programs/Xserver/hw/xfree86/common/xf86RandR.c
    programs/Xserver/hw/xfree86/loader/xf86sym.c Add a new function
        xf86GetRotation to allow third party modules to obtain the current
        rotation.

commit cad18ec979e38ef80a606f0e4abf2142b9d0d2b1
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Oct 10 10:07:47 2005 +0000

    don't move x or y depending on the screen size change

commit 7f72f94aa4f0655b8aab6c67eef2a5f5ac4b418f
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Oct 10 09:31:49 2005 +0000

    rework that again

commit 7c1d9a31a36552467d194e7d009c17dc526256c2
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Oct 10 09:24:28 2005 +0000

    a furthur tweak to the randr cursor position fix

commit 13f958fbe8420e406f24c01d320f29002ee860b7
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Oct 10 05:58:41 2005 +0000

    Add missing {Prepare,Finish}Access() wrappers for the tile pixmap in the
        fallback case

commit d82aeb55ca3b6abe4cafa7b9c39777a5f67308e5
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Oct 9 23:47:52 2005 +0000

    Bug #3254 <https://bugs.freedesktop.org/show_bug.cgi?id=3254> Make sure
        screensaver & DPMS timeouts don't overflow when multiplied by
        MILLI_PER_MIN. (Reported by Zachary J. Slater)

commit 29b5f846d261976f466d2c7181d6a75de670066b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Oct 9 17:47:34 2005 +0000

    Bug #4715 <https://bugs.freedesktop.org/show_bug.cgi?id=4715> Add
        SecurityPolicy to EXTRA_DIST (Bill Crawford)

commit 046234b3ebdfe221de9e87d70d287f69a6f59d6e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Oct 9 02:03:22 2005 +0000

    Don't try the accelerated glyphs path for component-alpha text (which I
        don't expect drivers to be able to accelerate without exa assistance).
        Instead, drop back to plain old miGlyphs for a 62.5% +/- 1.5% reduction
        in runtime of my ls -lR test (n=5) with component alpha. While a
        reasonable approach would seem to be making a better test to see
        whether the entire path would be accelerated and force migration
        appropriately, my attempt at this made the situation much worse.

commit 526d1502df8db6799c9d1155b86ce79cef90872b
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Oct 7 21:29:39 2005 +0000

    another update to the RandR fix (thanks Aaron)

commit 5a71a5667eb5b01e0f65f9310f4af1f6c5711ab7
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Fri Oct 7 19:01:10 2005 +0000

    Add Xprint init scrips to EXTRA_DIST.

commit 470213753b158225b44a39a872599344acbc7101
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Oct 7 18:15:08 2005 +0000

    update the last RandR fix

commit 348242f35aeb2869ef390241035b5f3266fc0288
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri Oct 7 15:39:52 2005 +0000

    programs/Xserver/hw/xfree86/common/xf86RandR.c Use PointerMoved instead of
        SetCursorPosition, as PointerMoved will call AdjustFrame to reposition
        the window if necessary and avoid the cursor ending up offscreen.

commit 578e18d11b3d61449c1dd7eba04e1748f19c68f3
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Oct 7 14:27:47 2005 +0000

    Add darwin to dist
    Include missing docs in EXTRA_DIST
    Include headers and other files in dist

commit 148df64a05d69adaac4b0f3684b846eb1da60219
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Oct 7 04:11:02 2005 +0000

    Add README.compiled to dist tarball

commit ff258ac2783203ed2a7698894d951391d1aecebc
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Oct 6 23:45:29 2005 +0000

    Clients tend to set picture->repeat when not necessary. Most HW cannot
        accelerate repeat NPOT thus triggering software fallback (this is the
        case with gnome desktop for example). This adds a simple optimisation
        to exa that removes "repeat" when it's obviously useless, that is, the
        single picture instance covers the entire rectangle beeing used

commit e4ed43c3a6c248ba2b82b8bbf29da537a68407e6
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Oct 6 22:25:35 2005 +0000

    symlink.sh:
    New files linked:
    xorgconf.cpp Options
    usb.3 usb_hid_usages
    lynx_ppc.S
    BUSmemcpy.S IODelay.S PortIO.S SlowBcopy.S
    sun_inout.s
    xaaTEGlyphBlt.S
    xkbcomp/compiled/README
    New files excluded:
    All of lib/GL/apple
    xlibi18n/*/*.mapfile
    xxserver/xorg/configure.ac, xkb/Makefile.am:
    Install README.compiled in the xkb output dir

commit 1614a31a9dad9482ae4526c194c2bae1c4993f8f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Oct 6 21:55:41 2005 +0000

    Bug #4699: Correct some memory leaks in EXA and damage related to region
        handling.

commit cd9ff6aec81e04bbfe14364407ccb28df05fc063
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Oct 6 20:16:13 2005 +0000

    cpp processing for Xvfb man page

commit 370b8c8f1cb1a3531d52ea3b430852a0d76b2a4c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Oct 6 20:14:43 2005 +0000

    App-defaults file not supposed to have .ad suffix when installed Fix cpp
        rules to set needed flags for app-defaults file

commit 2770233069d3845c681bea8eccff22e92254487e
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Oct 6 19:59:26 2005 +0000

    Don't build "ev" example on systems without <linux/input.h>

commit 460145a5d52b5325fa5e920cee3699fcf7dd9afe
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Oct 6 19:37:39 2005 +0000

    Add cpconfig.c to EXTRA_DIST.
    Add CURSOR.NOTES to EXTRA_DIST.
    Add extrapci.ids to EXTRA_DIST and fix xf86PciIds.h rule.

commit e63f76caa1b1342422567fdcb9f8af24792c8ca1
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Oct 6 17:55:54 2005 +0000

    Sun bug #6326551: xkbSetDetectableAutoRepeat broken when using XEvIE
        <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6326551>
        (Derek Wang, Sun Microsystems)

commit 5f30a7b10286b4f55821acd4eb5580a8f5a3c56a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Oct 6 08:08:04 2005 +0000

    Bug #4689: Treat DirectColor as TrueColor in Render. It fixes some crashes
        with xcompmgr when using apps that use a DirectColor visual for their
        windows

commit 9000c0321baf1e25e1796e6a333aad0e5a22cbe2
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Oct 6 04:05:30 2005 +0000

    Install correct man page and add to dist

commit 9b894df44b575f768a2400d044d8c1eb6ef2ec97
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Oct 6 02:40:41 2005 +0000

    Include dmx-config.h for modular build
    Use <X11/extensions/dmxext.h> intead of "dmxext.h"

commit 30c1369bf5816ffd7bd52d9a9dbcb72500684e2f
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Oct 6 02:35:22 2005 +0000

    Add support for building DMX config and examples programs Add missing files
        to EXTRA_DIST Install Xdmx man page

commit 1f9b6dc1ccd999c90ba825cf5fbdfa29770224a6
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Oct 6 00:34:29 2005 +0000

    Clean up generated files to pass distcheck
    Clean up generated files to pass distcheck Distribute getconfig.man.pre,
        not getconfig.man

commit 61cd478b545de0313271cf6852e2df770e8f5914
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Oct 5 22:39:41 2005 +0000

    Bug #3652: Server-side GLX support for GLX_SGIX_swap_barrier and
        GLX_SGIX_hyperpipe extensions. (Eric Kunze, SGI)

commit e891d9c078bd31447ae3e1fc7f8c15953b0bb916
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Oct 5 22:19:09 2005 +0000

    Update to 2005-10-05 snapshot from pciids.sf.net (includes a couple new
        Radeon id's).

commit dc6ac8e46f80157960a24a1be1fb83f22dff45a0
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Oct 5 21:38:40 2005 +0000

    Add DGA configure option and add various files that we should be dist'ing.
        Simplify xf86DefModeSet.c rule a bit.

commit 8391eaa4aa1ae3744ad8c45f5d148ba362d2c9dd
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Oct 5 21:13:49 2005 +0000

    Preprocess and install XOrgCfg.ad as in the monolith.

commit a9df169f108b15d312421e498675cd2e48206660
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Oct 5 17:27:58 2005 +0000

    Add missing $(DESTDIR) to custom install target

commit a6cbe0776fcc8fb19a2bf2ecef41559eed6e5cef
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Oct 5 16:39:09 2005 +0000

    Fix the rest of the XFree86 DDX options that require an argument to say so
        instead of reporting "unrecognized option" when the argument is
        missing. Also give correct error instead of "unrecognized option" for
        options only available to root.

commit 8c524f9966d2a167ea71dd81e235140e0db31471
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Oct 5 15:33:40 2005 +0000

    Xdmx & Xprint also need xau & xdmcp module dependencies

commit 9f3ad65251832631630f7e587b409b750a144bd3
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Oct 5 07:27:52 2005 +0000

    Fix lnx_pci.c's xf86GetOSOffsetFromPCI return value. Clears up the resource
        ranges awkwardness and the "INVALID MEM ALLOCATION" warning.

commit da989e988cc96c0ec4f07fceb4c36b30c2e37f4a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Oct 5 02:18:10 2005 +0000

    Xnest depends on xdmcp & xau modules too

commit 9e8b5f3d478ca18a9ff9c26745de77c91a5d36d9
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Oct 5 01:38:50 2005 +0000

    Make Xorg -config stop lying to people and claiming it doesn't exist when
        you fail to specify a file name. Also, include it in the list of
        available options for non-root users when listing all available flags.

commit 34a8411ede185553f1387ee0bf534cf77b0fc004
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Oct 5 00:55:08 2005 +0000

    Bug #4038: Unbreak the SYSVIPC check for cross builds. (Detlef Vollman)

commit f47f00ab747563678c8625de5e5b2a588660064e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Oct 4 11:24:09 2005 +0000

    Mark the temporary pixmap dirty if UploadToScreen succeeds. Failure to do
        so resulted in a solid black glyph if the font rendering actually
        resulted in a fallback (subpixel AA, for example) and the temporary got
        migrated after 10 or so glyphs.

commit 89a1a91b88b94b341075bc208941337ce11465b7
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Oct 4 07:42:21 2005 +0000

    Add miext/cw to the module loader include path so that misym.c can export
        miDisableCompositeWrapper.

commit 43625a47063c246e7bf9d687caded0b7e2ea0dc6
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Oct 4 07:31:53 2005 +0000

    Bump the video driver module ABI minor version to 8 so modules statically
        linked against miDisableCompositeWrapper won't load on older servers.
    #include "cw.h" instead of #include "cw/cw.h"

commit ca57db6fc1e6100c47ad935d626fdd490ed6116e
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Oct 4 04:30:33 2005 +0000

    Export miDisableCompositeWrapper.

commit b2e451b93c20efc49a6cc565239432b2c705fe37
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Oct 4 03:44:14 2005 +0000

    Correct the test for whether projective transform is necessary. Also, use
        "affine" to describe the variable (universally) on suggestion from
        vektor. Corrects a rendercheck failure.

commit cdded97a0ad717f4f9120b37d2687fa661696c9b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Oct 4 00:45:42 2005 +0000

    Add #include <xorg-config.h> for modular build

commit 4ae4fc7d51aeb0f27bed52f7e6a346745f3ea453
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Oct 4 00:43:16 2005 +0000

    Add gtf to xserver/xorg/hw/xfree86/utils

commit d51962378ef6371456e034d6d7f6780e05bc1207
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 3 19:31:50 2005 +0000

    Bug #3781: Only use fbCopyAreammx when alu == GXcopy. Originally Gentoo bug
        #96053, patch by bartron@gmx.net.

commit 6d4b350dee9495e54e6e5492815885f1d8455ac9
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Oct 3 16:46:14 2005 +0000

    Bug #3815 <https://bugs.freedesktop.org/show_bug.cgi?id=3815> Patch #3463
        <https://bugs.freedesktop.org/attachment.cgi?id=3463> GNU/kFreeBSD
        Xserver support (Robert Millan)

commit 22b4200b01310e7b4743ef0b3541c3053a2d8279
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Oct 3 15:41:10 2005 +0000

    Whoops, need to be in DIST_SUBDIRS too.

commit 14a2bd33307fd937804a9fbb03787ec30858a05c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Oct 3 15:37:57 2005 +0000

    Add missing ] (Dawid Gajownik)
    Add getconfig (Dawid Gajownik)

commit 84141fc299b03b5552be093f9b698a85bc670d65
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Oct 3 11:43:55 2005 +0000

    Merge r1.36 of fbcompose.c from xserver CVS: Special case projective
        transforms so we can avoid doing the expensive
    64-bit math. Unroll the bilinear interpolation loops for an extra boost. I
        tested this with the up/downscaling cairo-benchmarks with Xvfb and saw
        a 12% +/- 4% decrease in time taken to run them.

commit c024262eae4e00567ccb66a59b4d572621233cbc
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Oct 3 10:20:29 2005 +0000

    Merge r1.2 of fbedge.c from xserver CVS: Optimize spans where the same
        value is being added to multiple pixels. This improves the speed of
        rendering wide trapezoids. I tested this with a small set of xlibs
        cairo-benchmarks with Xvfb and saw a 4% decrease in time taken to run
        them.

commit a7e3c6fa8ceb6a3a423377aa32ab0da5a6ab9286
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 3 06:31:48 2005 +0000

    Real configure check for execinfo.h (Yuri Vasilevski)

commit e3d2a7d57bc57453d66aa63ca7fe4d910b64737c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 3 06:29:14 2005 +0000

    Bug #4393: uClibc lies and defines __GLIBC__ even though it's not source
        compatible with glibc, so the backtrace support check fails. Work
        around this by wrapping the code in a configure check for execinfo.h,
        and emulate detection for the monolith. (Yuri Vasilevski)

commit 5037d3441d65f1fb6493c3b55137ef1b5eddd6b0
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Oct 2 22:17:38 2005 +0000

    Bug #1465 <https://bugs.freedesktop.org/show_bug.cgi?id=1465>
        /etc/init.d/Xprint should use PROJECTROOT from build (Grzegorz
        D?browski)

commit b05e78dd40e1fe915096362f32c3af8aee0ed36a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Oct 2 19:30:57 2005 +0000

    Fix typo in MAN_SRCS (Dawid Gajownik)

commit 8814896da83b19be01beedd0b2b3380298778328
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Oct 2 08:53:18 2005 +0000

    Fix include path for commit of bug #4616.

commit ecaa46380ed0a920186407b9294c5c60f75f1a13
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Oct 2 08:28:27 2005 +0000

    Bugzilla #4616:
    - Merge various fb/ bits of COMPOSITE support from xserver, which weren't
        necessary before due to cw hiding the issues. Fixes offset calculations
        for a number of operations, and may pull some fixes that cairo has
        wanted for XAA as well.
    - Add a new call, miDisableCompositeWrapper(), which a DDX can call to keep
        cw from getting initialized from the damage code. While it would be
        cleaner to have each DDX initialize it if it needs it, we don't have
        control over all of them (e.g. nvidia).
    - Use the miDisableCompositeWrapper() to keep cw from getting set up for
        screens using EXA, because EXA is already aware of composite. Avoiding
        cw improved performance 0-35% on operations tested by ajax in x11perf.

commit 2c82429f8957ed0268c0e4e4fe5aed9093f33960
Author: Ian Romanick <idr@us.ibm.com>
Date:   Sat Oct 1 22:25:13 2005 +0000

    Refactors __glXImageSize and __glXImage3DSize into a single function. It
        replaces all calls to the old functions with calls to __glXImageSize
        with the new parameter list.
    I have also added 'target' as a parameter. This is a stepping stone to the
        code in patch #2410. Basically, if the texture target is one of
        GL_PROXY_*, the image size is always zero. This gathers all the checks
        for that into a single place. I have *not* modified the existing
        callers to take this into account. They still do their own checks for
        GL_PROXY_*. However, when the generated versions of those functions are
        added to the tree, they *will* rely on that.
    The code growth is mainly due to the new 40 line comment before
        __glXImageSize.
    I have tested this with a few of the texture using demos and tests from
        Mesa, including tunnel, texdown, and drawpix.
    Reviewed by: Adam Jackson, Eric Anholt, and Brian Paul.

commit e27b3e4ea1ddf9b2e9c2d63a0e60400b523a8a94
Author: Ian Romanick <idr@us.ibm.com>
Date:   Sat Oct 1 22:19:04 2005 +0000

    Remove some more incorrect prototypes for the __gl*_size functions.

commit e270e6394b623b48d416feeef0c3856f2e303c8d
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Oct 1 17:53:38 2005 +0000

    Bug #3822: out of bound reads in fbbltone and fbblt (Mark Kettenis, Thierry
        Deval).

commit 54b2a14f0fa4397f3e9ae75dd63d5cacfdd778eb
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Oct 1 17:30:58 2005 +0000

    Bug #3411: fix handling of keyboard Autorepeat rate in xorg.conf.

commit a07dd03748c8fa2633e294ee4d9ab38265970e5e
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Oct 1 07:17:55 2005 +0000

    Add hw/xfree86/getconfig

commit abc6aa50fb52fa4fa9b9436dbc3a70f86e62dc27
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Oct 1 06:27:12 2005 +0000

    Oops - fix build/install of fbdevhw.man

commit 13e0db19d8c0b1df636f218bcbfbb2c54fa7576f
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Oct 1 06:19:02 2005 +0000

    Adding more doc files & fbdevhw man page

commit b5ce065a5e91e2ad3213ea8c711cfe7ed9060c16
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Fri Sep 30 08:54:44 2005 +0000

    RandR: Fix failure handling (Closes #4635; Thomas Winischhofer)

commit 4608a2b654be84b2e345bcada63422d18c74a06e
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Sep 30 02:37:57 2005 +0000

    Man page processing/installation and other doc file updates

commit aa74468aa59b95424cd0000179b8985b267d639b
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Sep 30 02:03:45 2005 +0000

    sparse cleanups. s/0/NULL/ and mark a few things static.

commit c65fde5343719d3e9ebc76cc371c6f5f7948de8c
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Sep 28 20:38:42 2005 +0000

    Make the server distcheck:
    - Fix up the XpConfig directory to remove the stuff it installs
    - Add a few files to CLEANFILES here and there

commit 58abce3f90504dd48838a2f7ae7bb5db6a6cff70
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Sep 28 20:01:37 2005 +0000

    - Use the dirty flag (which should be set correctly all the time,
        particularly thanks to Prepare/FinishAccess) to avoid DFS/memcpy on
        pixmap move-out if it's unnecessary. This was disabled in KAA because
        cache misuse on ATI made me guess that this code was wrong.
    - Unwrap Glyphs on closescreen.

commit f53404bdbba23fd46420564565ab815f7c20b101
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Sep 28 16:55:25 2005 +0000

    Add kbd_mode build system

commit 940158a6f2e98069a47293d713df674e16ad8a11
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Sep 28 03:37:22 2005 +0000

    Replace all uses of __glEvalComputeK (and the doubly redundant
        EvalComputeK) with calls to one of __glMap[12][df]_size. This was
        tested with progs/samples/eval (from Mesa).

commit 806d74bc0640f4f3dcc034b36a36aea289b01685
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Sep 28 01:57:47 2005 +0000

    Add __SVR4 #ifdefs to work in non-Imake builds.

commit 88957862b812b3e1e19d5e11365a22dc249cf4d2
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Sep 27 23:28:46 2005 +0000

    Fix distcheck build and install errors.

commit 003655c02ad3a031031bb4ac859966a513f63e10
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Sep 27 18:36:14 2005 +0000

    Make XpConfig build system call mkfont{scale,dir}

commit 156b2cf3f76ae53cc37b6f5910b446c776ccc9ba
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Sep 27 17:49:35 2005 +0000

    Add forgotten Makefile.am

commit f3d0cb4a5722e0512bbdcd179215532795cba38f
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Sep 27 16:15:55 2005 +0000

    Get XpConfig build system in pretty much working state

commit 1c2e8b1ecc8b7b8c8562461eed7892ff22d17e71
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Sep 27 15:11:56 2005 +0000

    Fix make dist to include only sgml files.

commit ca64aab609c3585234410cd8d908f8e1efe5c788
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Sep 27 14:09:31 2005 +0000

    Add build system for building docs and fix setuid issues.
    Add build system for sgml docs.

commit 1a4e30d508e62ab304722c3525748ff0e3c2899d
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Sep 27 13:47:26 2005 +0000

    Include xorg-config.h so the generated file will also include it.

commit 30ff9e26196bdba8435e0dcdb96864e81c8cb136
Author: Ian Romanick <idr@us.ibm.com>
Date:   Tue Sep 27 00:04:40 2005 +0000

    Fix some problems that caused incorrectly annotated prototypes for
        __gl*_size functions to be used. The result was that, on x86, the code
        would be compiled with FASTCALL semantics, but the callers would not.
        This should fix GLX protocol errors that people are seeing. There
        doesn't appear to be a bugzilla associated with this problem.

commit 6c5c54b9a2872f1bb7de36a8d2d4efcef70b14c6
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Sep 26 23:07:44 2005 +0000

    Various small fixups to get XpConfig to 'build'

commit 604f7c64efb57a48ec667c2ed62d3b4bad0c302b
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Sep 26 22:45:43 2005 +0000

    Check in skeleton Makefile.am's for the rest of XpConfig

commit 8907195d784ff2c72a00b64edab6a8ac3b31dec5
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Sep 26 20:58:26 2005 +0000

    Take care of more files from monolith's Xserver/hw/xfree86/etc dir:
    hw/xfree86/utils/ioport/Makefile.am
    Add ioport and pcitweak utils from monolith hw/xfree86/etc dir.
    Generate xf86DefModeSet.c from vesamodes & extramodes
    Add apSolaris.shar to EXTRA_DIST

commit 9abccb5e65628c938c6f01b685ab8fbffae7bc3b
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Sep 26 19:33:06 2005 +0000

    Add initial build system for XpConfig

commit 0531c4be2f1a30082cfec5e411ab34d17978d66e
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Sep 26 02:41:38 2005 +0000

    alanc@alf:/export/alanc/X.org/head/cvs-rw/xc [7:40pm - 628] head -14
        ChangeLog
    include xorg-config.h for modular build
    Adjust XF86CONFIG defines for modular build
    Fixes for modular build:
    - include modular server config headers
    - change default XCONFIGFILE to xorg.conf
    - define XKB_RULES_DIR if not defined by Imake

commit 256fa24945bcaa6e5a68a48c1b757f8084e88a38
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Sep 25 17:48:09 2005 +0000

    Add SecurityPolicy file for XCSECURITY extension.
    Add README to EXTRA_DIST

commit 54639964cc344f1086196729fde37515f11e7972
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sat Sep 24 21:56:00 2005 +0000

    Changed the license to a X/MIT one

commit 3192f400c72b3b606fcc1798d577737502897b43
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Sep 24 18:45:45 2005 +0000

    Disable the {Open,Close}FullScreen DRI protocol. Remove empty FullScreen
        stubs from drivers, comment the non-empty ones.

commit a5477ae7ac9a56c1a586950db1dee6661bff149d
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Sep 24 02:40:51 2005 +0000

    Add scanpci, xorgcfg, & xorgconfig utilities.

commit 2ba865b3f57340fd1d75f7614c17f615cc127b89
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Sep 23 23:04:04 2005 +0000

    Fri Sep 23 19:00:06 2005 Søren Sandmann <sandmann@redhat.com>
    Apply patch from Ronald Wahl to make sure that the stack pointer is not
        modified at points where we access external variables. (Bug 4269).

commit 7554e1bf29e5aef8e76f88bac2994ea45a924f2b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Sep 23 00:27:07 2005 +0000

    Sun bug #6321613
        <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6321613>
        xorgcfg dumps core when it reads a configuration file that has a
        Monitor Section, but does not have a "VendorName" entry inside it.
        (Henry Zhao, Sun Microsystems)

commit 99793543c0fcfd4d699549fcc2bf0ed12aed6a19
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Sep 22 12:40:41 2005 +0000

    put back some agp related allocation messages

commit 02566dff4abbda6888f719727c169b966617a83d
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Sep 22 12:33:36 2005 +0000

    fix typo

commit 56e7766c775385b0c6e09e6a65a1c8e10dba786e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Sep 21 22:26:07 2005 +0000

    Bug #4541: Fix text drawing in the case where a list contains no
        non-zero-sized glyphs. Several variables weren't updated, resulting in
        rendering simply stopping when this case was hit. (Anders Kaseorg)

commit 32497ff479d0c34c05eb5acfcd5f7e186bac3227
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Sep 21 18:14:32 2005 +0000

    Accept --with-xkb-output argument to specify output dir for compiled xkb
        keymaps. Define XKM_OUTPUT_DIR and XKB_BIN_DIRECTORY.
    Add XKM_OUTPUT_DIR and XKB_BIN_DIRECTORY.
    Add XKB_CFLAGS.

commit 361a9eb953aaa38f8ebc057185de29e50f9eef26
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Sep 21 10:27:53 2005 +0000

    - Change migration-in rule slightly: previously, if your score was less
        than the max, it was bumped, and then if you were above the threshhold
        you got moved in. Instead, do the above-threshhold check separate from
        score starting out less than max. While this will likely make thrashing
        cases worse, I hope it will fix some issues with long term performance
        (think of an xcompmgr with a backbuffer it's doing only accelerated
        operations to. If some new pixmap comes in and bumps it out, even once,
        it will never get a chance to re-migrate because its score will be
        maxed). Change migration-out to be the same way for symmetry, though it
        shouldn't ever affect anything.
    - Fix a lot of debugging output, both in terms of printing quality, and
        completeness. The fallback debugging covers a lot more now, pointing
        out new areas for improvement. Debugging toggles are now centralized in
        exaPriv.h.

commit 6a29c4cec156a135d1d9cdb65995f7a84de7cb56
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Sep 21 07:43:01 2005 +0000

    Add support for hardware accelerating tiled background painting. One
        example of this is the root weave, which paints slightly slower on SiS
        now in my testing. However, according to keithp some apps use this
        feature for a sort of cheap backing store, which this could help with
        significantly. While I haven't done much performance testing with it,
        it will at least rule out one possible source of terrible performance.

commit 1115ff4c008dea6d6cafcb39e4ce6d0b3ed4fcc0
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Sep 21 00:38:05 2005 +0000

    Bug #4487: Add the bsd subdir to DIST_SUBDIRS. (Joshua Baergen)

commit 00bd8968b264c1f69487dd99c212e0ce889b11db
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Sep 21 00:24:10 2005 +0000

    Bug #4257: Move cfbcmap.c to cfb_common_sources.

commit b7e723ed6f23cc8d85f1f1eced9d8ccbc2a6b38c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Sep 20 23:32:21 2005 +0000

    Missing backslash

commit 15b2f94de5e2cc7e4df8d897d562dffeda31c82c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Sep 20 18:26:24 2005 +0000

    Update CVS project tag & notice about pci.ids license in output .h.
    Update to match recent changes to pci.ids, extrapci.ids, & pciid2c.pl for
        people building on systems without perl.

commit 7d0f47c43c5c177cae0f375ceaeef892e4c9663a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Sep 20 15:50:31 2005 +0000

    Add --disable-install-setuid option so you can build as non-root and
        chown/chmod later. Also disable by default on platforms that don't need
        setuid root X servers (Darwin & SPARC's, according to
        InstallXserverSetUID settings in the old Imake config files).

commit b623c60745ca486667657fa39ad517d1f7a72794
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Sep 19 22:44:49 2005 +0000

    Linux/Alpha support (Stefaan De Roeck)

commit bd906c6bb803b286c39eca80e437a21c14e808a3
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Sep 19 18:54:05 2005 +0000

    Update to latest version from pciids.sf.net
    Sync with updates to pci.ids & PCI id list in nv driver

commit 535cd292c809314efe4730a27b0271adfa842775
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Sep 19 18:38:26 2005 +0000

    #include "xf86Axp.h" -> "shared/xf86Axp.h" for modular build. (Stefaan De
        Roeck)

commit a1bcf25a1f819768672ac837cb0a3d0c66937656
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 18 02:32:23 2005 +0000

    Break EXA ABI while we still can. Add coordinates to the UploadToScreen
        hook so we can upload a subset of a pixmap, and convert the current
        drivers to respect that. Use this support to directly UploadToScreen in
        exaGlyphs, providing a 47.4% +/-2.4% decrease in wall time for ls -lR
        programs/Xserver in an antialiased gnome-terminal on an M6 (n=3, caches
        hot). I would have bumped major version, only I can't tell what the
        EXA_VERSION_* is supposed to be doing as opposed to the module version.

commit 074913c8a9c1f66c8752387db2c81ad669e91878
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Sep 17 20:02:02 2005 +0000

    - Don't try to upload 0 byte-per-pixel (PICT_a1) data using
        RADEONHostDataBlit.
    - Disable the shortcut for switching from 3d to 3d in radeon_exa.c. It
        appears that we do need the cache flush here, thought it's not clear
        why. Disable the 2d to 2d shortcut while here, since I'm unsure of what
        we're doing. Exposed by the following bit:
    - Bug #4485: Add a new routine, exaGlyphs, to handle font drawing. Glyphs
        were being accumulated in from non-migratable scratch pixmaps, causing
        the destination pixmap to move towards screen but the migration
        necessary for source never to happen, leading to abysmal performance.
        Instead, copy the scratch glyph data into a real pixmap first, then
        composite from that into the destination, allowing for migration. time
        ls -lR from programs/Xserver showed 26.9% (+/- 6.3%) decrease in wall
        time (n=3).
    - Create exaDrawableUse* wrapping exaPixmapUse*, but which are aware of
        windows needing backing store. Makes migration code prettier, and
        ensures that composited windows will be migrated as normal when we turn
        off cw for EXA. (issue brought up by keithp)

commit be2bdab4339e493bb0ac3d0e36508b7aa1cd6e92
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Sep 15 06:46:05 2005 +0000

    Bug #3990: Require glproto in the cases that it's necessary (DRI or DMX
        with GLX). (spyderous)

commit ef7eef0f68af6bfbb4ee56115ac2f3c1b7425755
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Sep 15 05:55:21 2005 +0000

    Bug #4046: Install the X.Org server setuid root. (David Schleef)

commit 88d7eb1f7ed6afc85c07797838714f2601356018
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Sep 15 05:06:54 2005 +0000

    Bug #3889: Create the log dir on install, and allow configuring
        specifically that directory. Failure to have the directory keeps the
        xorg server from starting.

commit 25a0ecdc1868f4b53225b92e8ccd222814e2da2a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Sep 15 04:07:19 2005 +0000

    Don't put a version number on the module filename.

commit 0888ad3874414e32535fecdb717ee7ab86f9d4cc
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Sep 14 07:49:22 2005 +0000

    Build xf8_32bpp, which is wanted by the mga driver, and export elf.h, which
        is wanted by the rendition driver.

commit dfb5da93bc16b2fd2b00e939dbe101a04bdeab4f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Sep 13 20:59:05 2005 +0000

    Turn on DRI by default on Linux, NetBSD, FreeBSD, and fix the build of the
        module for FreeBSD by setting some missing defines (XFree86Module,
        IN_MODULE) in the dri directory. Note that those missing defines should
        be somewhere generic, since there are other consumers of them, but I
        haven't figured out where.

commit 12fbcfefe672ec226bdbc7597bf2fd2cb0ee1e19
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Sep 13 18:37:35 2005 +0000

    Add some initial BSD support for the xorg server. Incomplete on NetBSD,
        OpenBSD, and non-i386/amd64 FreeBSD for sure. Plus I haven't actually
        run it yet.

commit 51eb6c83a3b2721703ca50758853bbf9f99fc4d2
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Sep 13 15:28:29 2005 +0000

    Tue Sep 13 11:27:05 2005 S%Gï¿¿%@ren Sandmann <sandmann@redhat.com>
    * programs/Xserver/miext/shadow/shadow.c (shadowDamageBox): Add
    missing REGION_UNINIT.

commit 133edff1b499b2c794fcc9a1860c1b5526b58869
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Sep 13 05:44:47 2005 +0000

    Don't define POSIX_SOURCE on any BSDs, since it breaks things.
    Define NO_SYS_HEADERS, as the monolithic build does. Helps FreeBSD.
    Don't include validate.c in the library, since it seems to be a userland
        test program.

commit c3d6799cee7ff8411b3a05a7ab7e2a9e80c95059
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Sep 13 01:33:19 2005 +0000

    Bug #594: CAN-2005-2495: Fix exploitable integer overflow in pixmap
        creation, where we could create a far smaller pixmap than we thought,
        allowing changes to arbitrary chunks of memory. (Søren Sandmann
        Pedersen)

commit b290884719e18646326f0c2412c2494a07fe3cfd
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Sep 13 00:44:52 2005 +0000

    Bug #3284: Make the DRI lock reference count per-screen.

commit 846f797f37c1ae57a8dad981113b1139359d8c94
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Sep 12 08:24:48 2005 +0000

    Add missing fontsproto and fontenc to REQUIRED_MODULES.

commit 5b218617fa8ba52bf65aef35da39e06c662495e6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Sep 12 07:53:16 2005 +0000

    Add missing resourceproto to REQUIRED_MODULES.

commit ade158d238475ce923fbc5c49275c78cf3864223
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Sep 12 07:07:59 2005 +0000

    Define WITH_VGAHW, since we always build it; add to Xorg headers.

commit 34dc481a16c0c1cbd69a9ec7172331b59b85e9a7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Sep 12 07:02:46 2005 +0000

    Put DMX AC_CONDITIONALS at the top level, since they must always be called.

commit b0f6fe1f38b448b5f1a280e86b01353865866c70
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 11 21:38:41 2005 +0000

    Add some optional (disabled) fallback debugging code to the async code, for
        better tracking of when we're hitting software.

commit 1c003ccf5d68baaae6fafdc75eff964f2a62fc35
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 11 19:08:10 2005 +0000

    Add a pair of hooks, PrepareAccess() and FinishAccess(), which get called
        around CPU access to the framebuffer. This allows the hardware to set
        up swappers to deal with endianness, or to tell EXA to move the pixmap
        out to framebuffer if insufficient swappers are available (note: must
        not fail on front buffer!).
    Submitted by: benh

commit ca210830bd361e3d91b6bc741c495b61c424d1d2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Sep 11 18:43:55 2005 +0000

    Simplify life for EXA drivers by reducing some {Con,Dis}joint ops.

commit 04f81cacb9fd0944879b2c23a99fa3a1ae979b12
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Sep 11 18:33:31 2005 +0000

    OpenBSD also doesn't like defining POSIX_SOURCE: it limits available
        functionnality in headers beyond what's used by Xorg.

commit 089b4272cf32fc9429c1a0e666c2ffb34fda0b93
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Sep 11 01:16:14 2005 +0000

    use RGB_DB not RGB_PATH as that's what it's looking for
    define HAVE_XKB_CONFIG_H so setting xkb-path works (Jürg Billeter)

commit 2f9d01c9681d80235a70263e2e087dc6c181cdc8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Sep 8 01:15:47 2005 +0000

    Remove some references to mfb/cfb support that is no longer there.

commit b5d42012f9be87f3b45a089c596ce6dba8845794
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Sep 7 01:30:23 2005 +0000

    Fix typo resulting in failure to swap between RGB/BGR properly. (Stephen P.
        Becker)

commit c8de8c23fbccb3296747f429a02c0c0682b74bf5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Sep 5 07:43:51 2005 +0000

    Fix tests for maximum number of colours when creating a colourmap, so a
    32-bit visual (e.g. ARGB) doesn't overflow an int when attempting to do
    1 << 32. (Benjamin Herrenschmidt)

commit 5c5c51fa6da03f19831632a092761a1e4bcf653b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Sep 5 07:40:50 2005 +0000

    Initialise private arrays with calloc, rather than standard malloc.
        (Benjamin Herrenschmidt)

commit 691669c0121494df90c8523f7d17e01ba0b14a57
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Sep 3 07:08:58 2005 +0000

    xorg-server.h -> dix-config.h (thinko).

commit 4b2f5ba1b5d59fd6bd7f82da5730f72e8df04858
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Sep 3 03:27:55 2005 +0000

    Use macros from xtrans.m4, issue error if not found.

commit 733a6d7a268945d149bcea159253408bedc69b12
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Sat Sep 3 02:21:36 2005 +0000

    Add EXA driver writer documentation for the benefit of future generations
        of X hackers.

commit 854010d71dc0f1e9b73cdc764c9d2cf36f1da625
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Sep 2 03:22:01 2005 +0000

    Add -include dix-config.h to GL/mesa/X to catch _XSERVER64, et al.

commit 287336f3c9e5023acbfba6508b05a68ccca9ddf0
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Sep 1 19:56:14 2005 +0000

    Teach xkb how to optionally run xkbcomp from $bindir instead of
        $datadir/xkb.

commit 94fbdb5c6d2cdc7b70ecdabe22a9de8b9aabeced
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Sep 1 14:56:35 2005 +0000

    Make RGB_PATH configurable.
    Move I2C modules back to $(moduledir)/multimedia.

commit a65c5796133d126b1810749b5206607e7c42d787
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Aug 31 14:58:09 2005 +0000

    Include xkb-config.h if we have it so we pick up the paths defined there.

commit 9d3b5e89d691b79ea3361e6dc82938c22d70d0e3
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 30 22:34:14 2005 +0000

    Save keyboard LED state on startup and restore on exit so text console mode
        LEDs match text console mode state. Move push of streams module earlier
        so it's loaded before we start using kbd ioctls provided by the streams
        module.

commit fa6fbd018da939fda7cc2b9a9aa2717b9675a178
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Tue Aug 30 22:31:52 2005 +0000

    Use the $(moduledir) makefile variable instead of @moduledir@ so it can be
        overridden at make install time.
    Remove driverdir and inputdir from pkg-config file. The directory layout of
        moduledir is fixed and well known by drivers.

commit b4f4bf028a88ee709f4536373de2d40b6445006e
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Aug 30 19:51:59 2005 +0000

    programs/Xserver/hw/xwin/winmultiwindowshape.c Fix off by one error (Colin
        Harrison)

commit 0e50af8b7f459aafd1d1d52414629e926167a751
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Aug 30 19:35:06 2005 +0000

    typo fix

commit 0c74799af4f924ba64ebd6052802b73547f55c72
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Aug 30 04:41:04 2005 +0000

    Remove existing broken maxX/maxY code for composite (results in infinite
        loops, doesn't deal with failure, doesn't present the interface to
        drivers that I expected) and instead replace it with a simple fallback
        to software when coordinate limits could be violated. Act similarly in
        other acceleration cases as well.
    The solution I want to see (and intend to do soon) is to (when necessary)
        create temporary pictures/pixmaps pointing towards the real ones' bits,
        with the offsets adjusted, then render from/to those using adjusted
        coordinates.

commit f20e845b04dee5fc0780811f565180e322b60b73
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Aug 30 03:42:07 2005 +0000

    More 0 -> NULL for pointers missed in previous commit to this file.

commit 7777d325a3d049cc233c004cba288ed5d10539c2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Aug 30 03:05:21 2005 +0000

    Apply an xserver patch from cworth: Avoid buffer ovverrun when a
        trapezoid's right edge is on a pixel boundary.

commit e321f9e7ff7de9aa702e33a22743b55c8bb66953
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Aug 30 03:01:38 2005 +0000

    Apply the xserver patch from vektor for bug #4208: Use NULL for pointers
        instead of 0.

commit 20813d3af065f9b719b39d2e7a3382b8fa278a48
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Aug 28 19:47:39 2005 +0000

    Bug #3974: Fix unaligned memory access on LP64. (Matthieu Herrb)

commit 0926cf79c030f29dce32a9dc944734960ec93d19
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Aug 26 20:21:57 2005 +0000

    Add diagnostic messages for exaDriverInit failure cases.

commit 5ffff7cb868a768307ff6faf164210020e6b94a2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Aug 26 20:08:09 2005 +0000

    Bug #4160: Fix Altix kernel version check.

commit 6b0cdc5dd9e451021c562ac4b6b2101d50187a30
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 16:46:41 2005 +0000

    Change use of dix-config.h to xorg-config.h.

commit 9d1b349b3765fb587b353c78cca9aa083f5d0eee
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 16:34:55 2005 +0000

    Back out previous change until I figure out something smarter.

commit 3075df24e7931901c6f0526e10a89631fd73c4d0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 07:35:55 2005 +0000

    Subvert SIGUSR2 to reload all input devices. (Ubuntu #020)

commit 89c84575ea905c7598d6b6029c9209abe1cfb074
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 07:24:21 2005 +0000

    Undo rate/period change after function body, so the damage doesn't leak
        into other functions. (Debian #050)

commit bb5e934df7f23fb365ed673a12d283ff52af79c0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 07:15:04 2005 +0000

    Only open /proc/bus/pci/devices once. (Ubuntu #029)

commit c937faadd0a0a5f2598b84286ac1ed8996a512e5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 06:48:24 2005 +0000

    Better error message on failure to set iopl. (Debian #021)

commit 6d34a2ac8a33bd6c9083106b38fab6062e033e39
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 06:35:00 2005 +0000

    Add Xv symbol from Xext.

commit b8f0d4c3ebee363279f9dc7318de3e3c854ca5ef
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 06:29:15 2005 +0000

    Spit out an error when there is no valid FB device, instead of just failing
        silently. (Debian #070)

commit b48a24e7969d99a0116bc780c70d3e1c18b34769
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 06:23:41 2005 +0000

    Don't assume that all sun4m CPUs support muldiv; the Cypress CPU, which
        implements the 4m MMU but only v7 instructions, does not. (Debian
        #100).

commit fd158d3d5215b0a013f5305a76097b0b8fa14cf6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 05:49:44 2005 +0000

    Get prototype for ntohl from SuSv3-compliant location, fixing it for
        systems which define ntohl as a macro only, not both macro and
        function. (Debian #076)

commit 53e489c0e39b89f41213a726fe1b611d7d9a18db
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 05:47:36 2005 +0000

    Work around ATI expansion ROM problem on IA64 caused by prototype HP
        McKinley systems. (Bdale Garbee)

commit 40374d1149d6dcf0b4521faae8bdfecc8a3af077
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 05:00:07 2005 +0000

    Accept 'Enabled' and 'Disabled' for Extensions section (Ubuntu #990)

commit ea80b5db257f4c22cf5a152084aef5fe05079db0
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Aug 25 22:11:04 2005 +0000

    Fix a use-after-free of cursor data by refcounting for the sprite.current
        reference. The particular path seen was XFixes' ReplaceCursor()
        resulting in the sprite.current being freed, but then it getting
        accessed during the ChangeToCursor() that happens as a result of
        WindowHasNewCursor().

commit 54cc45b09bc6c860b3de2012b57c4b35ca18ffd2
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Aug 25 21:22:41 2005 +0000

    Thu Aug 25 17:15:01 2005 Søren Sandmann <sandmann@redhat.com>
    Add all the drivers to the module_LTLIBRARIES instead of having separate
        variables for them. Pointed out by Kristian Høgsberg.

commit ff22adc09763b2bd860e7f780a5d0855cab0ab30
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Aug 25 14:19:43 2005 +0000

    Remove sun_inout.s so make dist works (discussed with Alan Coopersmith).

commit 344a24b6229f477c892dd855546391bc1e091bd7
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Aug 25 04:09:45 2005 +0000

    Use system curses library on Solaris for xorgcfg text mode.

commit 0711502f1847ed461672b9842218b9afa9d349ed
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Aug 24 23:48:11 2005 +0000

    Bugzilla #4226: Change the pixmap migration strategy for the CopyNtoN case.
        Now, if either source or dest were in framebuffer, try to get both
        there, but prefer system memory for both otherwise. Required making
        exaasync.c go through the try-acceleration path. This significantly
        improves window resizing under composite, because previously the
        pattern of creating a new pixmap and copying default contents from the
        screen caused a fallback every time due to the new destination pixmap
        being in system memory.

commit 2261710fe0dffd60433e3362ac12adf4db570fe5
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Aug 24 23:38:25 2005 +0000

    Fix a bug where NULL could be dereferenced during the pixmap kick-out
        process by referencing the correct offscreen area. Also drive-by the
        comments related to these for clarity.

commit 55c5c6953a3a661758a42b147f9542950a62fc4d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Aug 24 22:43:27 2005 +0000

    Bugzilla #4090: Introduce getters for pixmap pitch and offset, to
        simplify/clarify it for driver writers who probably don't want to know
        what pPixmap->devPrivate.ptr or pPixmap->devKind mean. Converts the sis
        driver to use them, and bumps the EXA module minor version.

commit 079ad773e09ed0c5baf01de3d4f02a5568da5634
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Aug 24 22:37:15 2005 +0000

    Fill in xf86DeallocateGARTMemory stub based on lnx_agp.c version. Add
        include of xorg-config.h for modular builds

commit 8fd250e5e4c2016614b82e2d653b7fbf8a3a5b99
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Aug 24 21:51:28 2005 +0000

    Bugzilla #4089: Fix crashes in !EXA_OFFSCREEN_PIXMAPS case by not trying to
        do migration when the EXA pixmap private is NULL.

commit 79dc5f3d5fe5a66f5fa53af9afc30d27d1af0bce
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Aug 24 21:28:40 2005 +0000

    Don't export non-standard symbols generated GCCs stack protection feature
        (__guard, __stack_smash_handler).

commit d2952de6e3d9197529695bb88d8c3af679ad71af
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Aug 24 19:41:43 2005 +0000

    Wed Aug 24 15:39:07 2005 Søren Sandmann <sandmann@redhat.com>
    Add GLX_{INC,LIBS} for xprint.
    Add @DIX_FLAGS@ to AM_CFLAGS

commit 81e708440ced309adc62ebf43d00becd32338db5
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Aug 24 19:35:51 2005 +0000

    Wed Aug 24 15:29:50 2005 Søren Sandmann <sandmann@redhat.com>
    Conditionally include dix-config.h
    Conditionally include dix-config.h

commit 9657e0e9def47dba5b0bfa7461874362712a07bb
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Aug 24 15:18:06 2005 +0000

    Don't try to build dmx/input/lnx-*.c if <linux/keyboard.h> isn't found
        Don't try to build dmx/input/usb-*.c if <linux/input.h> isn't found
    Replace -rdynamic with $(LD_EXPORT_SYMBOLS_FLAG) for compatibility with
        compilers other than gcc

commit 825a95a1fab69f84c99ae132888fced22e28be33
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 24 11:18:35 2005 +0000

    Remove use of dix-config and xorg-config.h from public headers.

commit 1fb4a5a4ea993a7913a7bcc362315d31b2907836
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Aug 24 09:12:50 2005 +0000

    Add xcmiscproto and bigreqsproto to REQUIRED_MODULES, since Xext uses them.

commit b47535bd661743946851099f226f9e6aa4cc8c90
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Aug 24 08:49:31 2005 +0000

    programs/Xserver/GL/windows/glwrap.c Wrap PointParameteriNV &
        PointParameterivNV for Windows builds.

commit 9f498a37dd3d8456d2a97be9c039b63abc81a5fe
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 23 20:58:29 2005 +0000

    Display more friendly mouse protocol names. Enable mouse wheel mapping by
        default.

commit cff4b1c2166aa2e75618c8df09554a602c3a68c5
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 23 20:12:26 2005 +0000

    Check for getconfig in GETCONFIG_DIR if it's not found in module dir.

commit bfd13645867aab831b7a0f2b1757cb80837c07d9
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 23 09:20:49 2005 +0000

    Add missing saver, evie, video, trap proto pkg-config checks. (Georgi
        Georgiev)

commit 27afac2ce6a77bc68669c1af6a61c589aa9ef384
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 23 08:59:30 2005 +0000

    Fix test for Xnest presence. (Donnie Berkholz)

commit fed61462be281c568df6407f94ea519748f0b720
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Aug 23 08:58:40 2005 +0000

    Fix up warning on debugging.

commit e848eb289c9251742a88e76017603952394f4262
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 23 01:14:35 2005 +0000

    Rename app-defaults entries from xf86cfg to xorgcfg to match name passed to
        XtAppInitialize. (Henry Zhao, Sun Microsystems) Also, display vendor
        version instead of 4.0 for server version.

commit 6076fca82528da8d50b0ed6be8da6f811321474d
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 23 00:32:27 2005 +0000

    User message cleanups/updates for modern configurations.

commit b07602014061cb41540f6a7e74e4132e67aa1117
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Aug 22 21:47:59 2005 +0000

    If MAKE_XKM_OUTPUT_DIR is defined, call trans_mkdir to create directory if
        it doesn't already exist. (ported from Solaris Xsun bug #5039004)
    When BuildLikeSun is set, define MAKE_XKM_OUTPUT_DIR and set the xkb output
        directory to /var/run/xkb.

commit 4a19a33db6d04b5835830a665daa679ee2fcafe7
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Aug 22 21:29:18 2005 +0000

    bugzilla #2880 (https://bugs.freedesktop.org/show_bug.cgi?id=2880)
        attachment #2987 (https://bugs.freedesktop.org/attachment.cgi?id=2987)
        Use system method to access PCI config space for inb and inw in
        addition to inl (Olivier Baudron and Kevin Martin).

commit 5557a40a022b0ede36edd3370a60f5fc3d147796
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Aug 22 19:52:26 2005 +0000

    Fix linking errors for xprint.

commit 7693f668efd206a6c259166665bc36d3c6335e8d
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Aug 22 12:05:18 2005 +0000

    programs/Xserver/hw/xfree86/os-support/linux/lnx_acpi.c
    programs/Xserver/hw/xfree86/os-support/linux/lnx_apm.c
    programs/Xserver/hw/xfree86/os-support/linux/Imakefile Add basic ACPI Linux
        support so that events can be passed to the driver. (Alan Hourihane)

commit 02c834f198eab4c4686d8156b88508fe102099c1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 22 09:15:31 2005 +0000

    Include Xv and XvMC headers in the SDK.

commit 3c4d605c7e8a9f6d296086a5b03b4f11b90590db
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Aug 22 09:15:20 2005 +0000

    Fix linkage for Xnest, Xvfb, Xdmx and Xorg DDXes; include all libs.

commit 79be1f6d4d1ab48841d31d5553dd36b1b3632650
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 21 19:29:55 2005 +0000

    Fix inclusion order of dix-config.h, so _XSERVER64 gets defined before X.h
        or Xdefs.h get included. (Jürg Billeter)

commit 8d6e743bc4e6854ee0bb0fa4f197acd6d7683ccd
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 21 19:23:17 2005 +0000

    Add _XSERVER64 definition to config headers.

commit 588105173840355717d7b2f7f652289a41166c3f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 21 19:15:11 2005 +0000

    Huge cleanup. Group into sections: hardware feature detection, extension
        detection/configuration, DDX options. Make building of Xorg DDX fully
        optional. Clarify and correct some help texts. Change all comments to
        use dnl instead of #. Quote all tests correctly, and guard
        pure-variable tests with 'x' (e.g. test $DMX = yes -> test "x$DMX" =
        xyes). Since the DDXes seem to have pretty divergent extension support
        these days, get rid of EXTENSION_LIBS, DMX_EXTENSIONS and
        XPRINT_EXTENSIONS, and go back to building extension lists by hand in
        the DDX-specific sections. Use portable POSIX constructs everywhere
        (e.g. test foo && test bar, instead of test foo -a bar).
    Clean up old cruft.
    Set _XSERVER64 on 64-bit architectures, and use x86_64 for host_cpu instead
        of amd64 (Jürg Billeter).

commit 367f45073953f8f99a2d9dd054f479e1070f856e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 21 08:43:46 2005 +0000

    Change xorg_bus_sbus to xorg_bus_sparc; build sparcPci.c on all SPARCs.

commit 71b3fea94e8845f35e47503636ca1fe78d2d48ca
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 21 08:24:52 2005 +0000

    Typo fix (SOURCE -> SOURCES).

commit db2909ce76b178663de301c09fb97f2936b1997e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 21 06:56:19 2005 +0000

    Add test for SPARC. Build SparcMulDiv.S on all SPARCs.
    Make the default font path configurable.

commit d96e6666862553d59fc1f9fdd14fb65f36d589af
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Aug 20 18:52:07 2005 +0000

    Add sparcPci.c to EXTRA_DIST.

commit a402c876a465904ac71ebf39af67ea451b2457dc
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 20 18:11:17 2005 +0000

    Make DRI/GLcore builds srcdir != builddir safe, and invoke symlink-mesa.sh
        in our builddir, not our srcdir.

commit 238d45d2f148e1e0af4b1619cc1d5e8cc4bf9661
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 20 18:10:03 2005 +0000

    Make Xprint build optional.

commit abab3fd628c2d1096e8534192f33c1068a573c12
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 20 18:09:21 2005 +0000

    Make Xext linkage srcdir != builddir safe.

commit bb1d99ee72cc560e95010ea1008d5e796177ae62
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 20 18:07:59 2005 +0000

    Build libxkbstubs.la to stub XKB DDX functions (e.g. VT switches), and
        build libxorggxkb.la from within the Xorg DDX to replace the previous
        xf86VT.o, et al, hacks.

commit 8a32ed46480d78b69f289c90098f5ed4a830851f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 19 15:48:18 2005 +0000

    Really hopefully the last xorg-commit test.

commit 2fd951434507d2a2c0266a052bdca6e223d31bfa
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 19 15:45:55 2005 +0000

    Another test commit for xorg-commit.

commit 39630b301f769118959b20d962404555714a5812
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 19 15:25:19 2005 +0000

    Testing xorg-commit, nothing else.

commit b13d3382de0027e897532926983b79caaa1eb655
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 19 15:21:54 2005 +0000

    Fix dates on Søren's entries.

commit 8ec79e05feacd61562b53ebf36a8b30967affc1e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 19 15:15:51 2005 +0000

    Make symlink-mesa.sh call srcdir != objdir safe. Remove requirement for
        XF86Rush protocol headers, which we don't even use.

commit 057a8709a116feb0fd0004141bbac20d2766f3db
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Aug 19 00:13:46 2005 +0000

    More updates for Panoramix -> Xinerama rename

commit bed3235d222fd6e2207f6c0d551c67d5a53322cd
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Aug 18 21:28:09 2005 +0000

    Thu Aug 18 17:27:09 2005 Søren Sandmann <sandmann@redhat.com>
    Move fbmmx to a convenience library since the mmx flags may be harmful when
        applied to non-mmx code.

commit a0366ddb8cb1c57b85a5806eb348abc19c7f92d6
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Aug 18 17:14:11 2005 +0000

    Replace gnu-makeism with portable rules

commit ea5c49cb17ac956d6dea6bf563e392e61c39da2b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Aug 18 01:40:33 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=2901> Patch #2331
        <https://bugs.freedesktop.org/attachment.cgi?id=2331> Lines ending in
        <backslash><space> break with cpp from gcc >= 3.3 (Peter Breitenlohner)

commit 22694500e0dd8752b4c01e340f587ecba1ff7fb7
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Aug 17 23:20:27 2005 +0000

    Add xf86Sbus.h to EXTRA_DIST files (bugzilla #4128)

commit df938987d6c19fbdfff8d3334bb497f4814ae384
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Aug 17 19:03:18 2005 +0000

    Add buildsystem for Xprint, and:
    Wed Aug 17 14:50:58 2005 Soren Sandmann <sandmann@redhat.com>
    Include <X11/extensions/Print{,str}.h> instead of "Print{,str}.h"
    Include <X11/fonts/fontstruct.h> isntead of "fonts/fontstruct.h"
    Wed Aug 17 14:54:49 2005 Søren Sandmann <sandmann@redhat.com>
    Conditionally compile in xprint.c
    Add Xprint

commit f2f6820c3f01810a4da5a8bb4e43119ef2a3fcb6
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Aug 17 17:20:13 2005 +0000

    Wed Aug 17 13:13:00 2005 Søren Sandmann <sandmann@redhat.com>
    Make asm labels local. Bug 4073, patch from Diego Pettenò.

commit ad7f2fc67376f4fbfe81047273de12f7926f0b17
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Aug 16 16:21:09 2005 +0000

    symlink.sh: Temporarily disable xkbdata, add type1mod.c
    Tue Aug 16 12:09:09 2005 Søren Sandmann <sandmann@redhat.com>
    Add ft and type1 modules.

commit 24597a1ee2c567ec6bc2f2208457f2778937a034
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 16 00:40:25 2005 +0000

    2005-08-15 Alan Coopersmith <alan.coopersmith@sun.co>m
    Convert sunPostKbdEvent to use xf86ProcessAction like xf86PostKbdEvent.

commit b86282b764387ef8315fc4045d4e1ca1bb74fee1
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Aug 15 23:48:35 2005 +0000

    Set ZAxisMapping default to "4 5 6 7".

commit a6c8d0d71eef7cb964797f7595be36ee0ac10a1a
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Aug 15 19:42:48 2005 +0000

    Mon Aug 15 15:41:26 2005 Søren Sandmann <sandmann@redhat.com>
    Link this module with libXext.la.
    Mon Aug 15 14:56:57 2005 Søren Sandmann <sandmann@redhat.com>
    Remove the xkb* files.
    Add xkbVT.o and friends as the last things on the link line so they will
        override the symbols in libxkb.a. Add a comment on how this situation
        might not be considered ideal.

commit 46aede552aa43cd59f81980303826b5c3d889c02
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Aug 15 18:59:16 2005 +0000

    Mon Aug 15 14:56:57 2005 Søren Sandmann <sandmann@redhat.com>
    Remove the xkb* files.
    Add xkbVT.o and friends as the last things on the link line so they will
        override the symbols in libxkb.a. Add a comment on how this situation
        might not be considered ideal.

commit bcc95c83406a4498227ffd8384bc272fd8cdc49c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Aug 15 18:32:08 2005 +0000

    Add AC_SYS_LARGEFILE to match flags used in monolith

commit 809906a754a1289b7e88489241a2065aa0bf27a2
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Aug 15 08:24:45 2005 +0000

    make mouse support work - note you need to change the evdev devices in the
        source.. hacky...

commit fe5abff38e65c1a49886924efdf0242ab8048008
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Aug 15 07:30:05 2005 +0000

    Egbert's 64bit fixes for mixed 32/64bit clients

commit ebedc8bbb54b9b4e1814bc2758216af2bab93540
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Aug 14 19:46:55 2005 +0000

    - Fix the exa pixmap offset/pitch alignment to deal with non-POT alignment
        requirements. MGA, notably, uses a multiple of 3 in some cases.
    - Rename the pixmap offset/pitch alignment fields to more clearly state
        their meaning.

commit e3509c940fa1fc3988d23f884ca8bffc87d091e5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 14 16:24:30 2005 +0000

    Don't link libXext, as it is linked in to the server also.

commit 05071ae0fb847c211b1f20770d3b57fc2172738c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Aug 13 07:41:33 2005 +0000

    Don't link in libx86emu.a as this a) fails badly on non-x86 systems, and b)
        is done via x86emu.c including all the source files anyway.

commit 1ffe9ceb2f6a7261fb62c90dfea861f9dadd27ce
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Aug 13 06:15:35 2005 +0000

    Oops, forgot a file in earlier Solaris kbd commit

commit c29051f9d108fe49c23d9cf36fd08cc64c87262a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Aug 13 00:11:28 2005 +0000

    Add LintTarget()
    Bugzilla #1068 <https://bugs.freedesktop.org/show_bug.cgi?id=1068> Port
        Solaris keyboard code to work with kbd driver.
    Also incorporated "audio bell" feature from Xsun keyboard DDX to play bell
        tones via /dev/audio (specified via Option "BellDevice" "/dev/audio" in
        keyboard device options).

commit 616a65c4cc528278168db1414776f3a867cd463e
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Aug 12 18:50:33 2005 +0000

    Fri Aug 12 14:49:24 2005 Søren Sandmann <sandmann@redhat.com>
    Apply another patch from Billy Biggs to fix precision issues.

commit 1eed84f227311730ce1f9ffab190e95de967c7da
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Aug 12 18:47:17 2005 +0000

    Fri Aug 12 14:45:54 2005 Søren Sandmann <sandmann@redhat.com>
    Fix up multiplications based on patch by Billy Biggs. Part of bug 3945.

commit 8bfffb96b552a3facb77ff9e81658e80becbf2f4
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Aug 12 18:31:07 2005 +0000

    Fri Aug 12 14:29:09 2005 Søren Sandmann <sandmann@redhat.com>
    Apply patch from Billy Biggs that fixes rounding problems with division.
        Part of bug 3945.

commit 812ed2e17bfe8e232313cf9ab78000a564cb6b3c
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Aug 12 17:43:38 2005 +0000

    Fri Aug 12 10:45:01 2005 S%Gï¿¿%@ren Sandmann <sandmann@redhat.com>
    Make this function compute the same results as the fbByteMul macro.

commit 370b111f4882a95248bcc4727438c95a065c174d
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Aug 12 16:30:57 2005 +0000

    Use '$(DRMSRCDIR)/shared-core' instead of '$(DRMSRCDIR)/shared' for DRM
        includes. This matches the way drivers are built in the Mesa tree and
        fixes a build problem in the Savage driver.
    Convert uses of __glPointParameterfvARB_size to
        __glPointParameterfvEXT_size and uses of __glPointParameteriv_size to
        __glPointParameterivNV_size. This eliminates the need to hand-edit
        indirect_size.c after it is generated.

commit 5f5117729de3a8a4eb6e17dc0979e4b1c1ef9918
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Aug 12 01:17:58 2005 +0000

    Fix segfault when "kbd" fails to load and "keyboard" driver is not
        configured.

commit 13e16ee93a328a55494c2933143c66559fe7ba98
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Aug 11 15:46:42 2005 +0000

    Thu Aug 11 11:43:32 2005 Søren Sandmann <sandmann@redhat.com>
    Make sure we don't crash on glyphs with NULL bits. Bug 659.

commit 3e471ddf1dbf58ed021d6f31bdaf438872f03ca8
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Aug 11 14:36:29 2005 +0000

    Add check for whether the platform is MMX capable and add the relevant
        flags if so.

commit 130fffc0cdbfdc29f33f1ee97c09e744c19e243a
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Aug 10 20:22:57 2005 +0000

    Wed Aug 10 16:17:38 2005 Søren Sandmann <sandmann@redhat.com>
    Add back non-SSE implementations. Define USE_SSE if the CPU is amd64/x86-64

commit ef50bba5694ef276a239882fae3502638b4ec784
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Aug 10 19:42:36 2005 +0000

    Revert previous patch as it causes build failures

commit b99360e264c9531593ce8eb67bd006275ca5e5a0
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Aug 10 19:15:44 2005 +0000

    Add XF86DDXACTIONS to AM_CFLAGS

commit 73a335a926e50afde36816ab47dae689202df319
Author: Jon Smirl <jonsmirl@yahoo.com>
Date:   Tue Aug 9 16:51:05 2005 +0000

    Point xegl at the DRI driver

commit 29d0ba9f06d90a1c7f619db87d681ca53fa1bf38
Author: Jon Smirl <jonsmirl@yahoo.com>
Date:   Tue Aug 9 15:58:20 2005 +0000

    Touchup xgl for modular tree

commit 435e2a09de7c9dd843b05f4a0484371a67940515
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 9 01:18:04 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=3950> Xorg prints version numbers in
        wrong format for modules compiled for Xorg 6.99 & later (Adam Jackson &
        Alan Coopersmith)

commit 5849c69db80b2320bddb7fafb519300cc0435c84
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Aug 8 18:02:08 2005 +0000

    Mon Aug 8 13:39:45 2005 Søren Sandmann <sandmann@redhat.com>
    Conditionally include xorg-config.h

commit 5e6e5e6d8c6add3aac5c3aebc984d3afb842edc1
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Aug 8 17:38:37 2005 +0000

    Mon Aug 8 13:36:23 2005 Søren Sandmann <sandmann@redhat.com>
    #undef PIXPRIV here.

commit a11ce76b0625501a202fa34e18777b7bd42b2713
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 8 06:25:21 2005 +0000

    Build with modular X.org libraries and headers.
    composite/compwindow.c Don't damage unmoved windows. Let border clip reset
        leave damage alone, pending actual damage for painting.

commit 129e812c339879b68bb162331ac9b7e0f86a7474
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 8 02:30:31 2005 +0000

    Re-add _XOPEN_SOURCE as it's needed *sometimes*. Place it in #ifndef to
        avoid whinging.

commit 4dfc3357a78a52ef70750608138dfeef0371cbc4
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Aug 8 00:38:41 2005 +0000

    Add autogenerated source files and other various non-CVS material to
        .cvsignore files
    Use XORG_CFLAGS. Ensure that all exa files are in SOURCES
    remove _XOPEN_SOURCE as it's always in xtrans.pc these days and gcc whines
    libdamage.la needs libcw.la when COMPOSITE is defined, but that
        libdamage.la must be after libcomposite.la, so add libcw.la to
        DAMAGE_LIB instead of EXTENSION_LIBS. Regularize library link order
        across all X servers

commit 7d2b08aa4786eb4d181c88f7dc6b7eb059cc9dad
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Aug 7 20:42:50 2005 +0000

    Invert the sense of the composite configure flag to match reality.

commit fcaa6f30c489578589af19ef798ab31150e696a2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Aug 7 19:02:32 2005 +0000

    Bug #3989: Fix Composite builds, enable Composite build by default. (Olli
        Helenius)

commit 3639fb243450ae447e9901de9f909e975a919514
Author: Chris Lee <clee@c133.org>
Date:   Sat Aug 6 23:56:18 2005 +0000

    Enabling EXA by default in the modular build.

commit a16357ebc9344fbf3e393da9e7b28164ad5b9dc8
Author: Chris Lee <clee@c133.org>
Date:   Sat Aug 6 23:46:38 2005 +0000

    Last bits of changes to make exa build properly in the modular server.

commit cc67bd187f06bfade0d2fe1b4cca92805458b210
Author: Chris Lee <clee@c133.org>
Date:   Sat Aug 6 23:34:09 2005 +0000

    EXA support in the modular build.

commit 33326f4ee884aa677e4568c3eaed4311a8ed0f2a
Author: Chris Lee <clee@c133.org>
Date:   Sat Aug 6 23:27:33 2005 +0000

    Adding exa support to the modular server.

commit b90a88e80310e5650e2abed4c151889d9c0bd316
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Aug 6 19:48:12 2005 +0000

    Add checks for functions used in os/access.c & os/connection.c:
        getdtablesize(), getifaddrs(), getpeereid(), getpeerucred()

commit 2304c14fe5d3796c557a86d0ece1f0fb92591469
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Aug 6 19:14:24 2005 +0000

    Fix endian test to work on big-endian platforms correctly

commit fc29d014aa586229cdc976aa1bfe38bd949f7cde
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Aug 6 16:29:20 2005 +0000

    Merge in patch release RC handling code from 6.8.2 (Kevin Martin)

commit 9828a38ed695fed9788ace8bba575e521fa354b7
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Aug 6 03:14:50 2005 +0000

    Solaris build fixes needed for modular builds

commit f51047c0b6749ae8f04925eb62706b4743328383
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Aug 5 15:43:31 2005 +0000

    Fix 32-bit vs. 64-bit test for Solaris

commit 4220a0c4ccd0672460d31db239829384aee69f9a
Author: Matthew Allum <breakfast@10.am>
Date:   Fri Aug 5 09:08:32 2005 +0000

    Make Xephyr work without shadow fb

commit fedbce2186bbe3bd8d23a4d74c35f10286930a7d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Aug 5 00:13:31 2005 +0000

    EXTRA_DIST hacks to get all the OS support files into the tarball.

commit 39a80312e0c6e9f3b260d2f8279c71aef0a60d12
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Aug 4 22:31:20 2005 +0000

    - Bug #3960: Add remaining GLX and pci.ids stuff to DIST (Cha Young-Ho,
        Olli Helenius)
    - Fix some distcheck problems for non-solaris systems
    - Change server version number from the Xorg rev to an independent one
    - _POSIX_SOURCE and _XOPEN_SOURCE defined to the right values

commit ed4d77a16a226a7bc88d0d4f5c595d16cdf46360
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Aug 4 21:05:12 2005 +0000

    Thu Aug 4 16:08:00 2005 Søren Sandmann <sandmann@redhat.com>
    Make the fbCompose paths use the existing inline functions instead of
        macros. Various other cleanups.
    Remove macro definitions, move typedef to fbmmx.c

commit e62be6d2721e7f43c7bba6b8da4e5ec8c364697d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Aug 4 18:45:46 2005 +0000

    - Check for vsnprintf
    - Don't build the Xorg DDX on darwin
    - Workaround for gcc defining __ppc__ but not __powerpc__

commit 13bec87f45509452c643e20745e12878584d606a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Aug 4 02:39:56 2005 +0000

    Fix inline assembly versions of in*/out* for Sun compilers Add check for
        ancient USL console code on Solaris to allow building on old Solaris
        x86 versions

commit 9802106864a6b2c24df8e9fcb3c3471033abd5c6
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Aug 3 01:41:34 2005 +0000

    dist fixes for cw and GL (Donnie Berkholz, me)

commit d7c246f35b1ba7ecbbc086dd1229b298faddec96
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 2 23:57:52 2005 +0000

    Only build ix86Pci.c on x86 & amd64 platforms Set DEFAULT_INT10 to x86emu
        on everything but Linux/x86 Fix Sbus.c inclusion on sparc platforms

commit 3d0d95004c65cd3a29c94fec99e13ab7fdc19c7c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 2 20:47:47 2005 +0000

    Add check for walkcontext() to enable stack trace dumper on Solaris

commit bb5258a21d9efbb7d8b4226a44bd5738eb46d32a
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 2 17:57:36 2005 +0000

    Mark generated files as BUILT_SOURCES and CLEANFILES to ensure they are
        regenerated after 'make clean' and to make parallel builds work right.

commit 0c608a690e85064345d7ebdf6b03e2f3bd861708
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 2 06:48:20 2005 +0000

    Note yacc and lex generated files as BUILT_SOURCES so they are created
        before anything is compiled; required for parallel builds

commit d31de217e6e9bfb0e1cc99141d80def9382de9a9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Aug 2 03:36:09 2005 +0000

    distcheck fixes

commit c83772fef7ea0379db9bab1120f064b80b74f377
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 2 01:50:48 2005 +0000

    Set OSNAME for "Build Operating System" line in Xorg log

commit 005a9cf1f5fe688f303b954870afd35635fc33bf
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Aug 2 01:03:25 2005 +0000

    Fix Solaris assembly source to work with libtool

commit 48b130285ad1309a1ff5b2148b3bae5f5b642488
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Aug 2 00:47:08 2005 +0000

    Move AM_CONDITIONAL for ia64 to global scope

commit 03379474e0fd9c21ac058e2319618934359b3262
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Aug 2 00:45:30 2005 +0000

    only do the AS_HELP_STRING workaround once, d'oh

commit 2d7b1893befb84850f3221cbe70b3bce4e621d63
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Aug 2 00:41:07 2005 +0000

    - Workaround for AS_HELP_STRING compatibility with older autoconf.
    - New intermediate build target for Xorg server
    - ia64 fixes

commit 7c84189ea1dc236bc979bb4bf158ecb1a6b45137
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Aug 1 22:22:16 2005 +0000

    Bugzilla #3566 <https://bugs.freedesktop.org/show_bug.cgi?id=3566> Patch
        #2906 <https://bugs.freedesktop.org/attachment.cgi?id=2906> Fix for
        RENDER, repeating pictures and offscreen memory (Owen Taylor)

commit 2acd29c93fd3b3d438887f0ca9be6713db81c1e8
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Aug 1 22:13:20 2005 +0000

    Bump autoconf dependency to 2.57 from 2.53. Add 2.57 compatibility hack for
        the new AS_HELP_STRING syntax from 2.58+.

commit b7a43fa0f112d92cce71642142e07276da4de681
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Aug 1 19:00:21 2005 +0000

    Bug #3739: Fail soft on unknown extension string.

commit 0285804811bd24ad7de8894f8188b87e821e54cc
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Aug 1 18:41:54 2005 +0000

    GLX fix for loadable servers: indirect_size.c goes in libglx, not libGLcore

commit 78d51253e229bcb428039911d80a5d89d4bf4491
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Aug 1 16:07:14 2005 +0000

    Fri Jul 29 17:20:53 2005 Søren Sandmann <sandmann@redhat.com>
    Fix rounding bug.

commit fd84b3b56280ef88a8c848c4338f0bea906ce6d8
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jul 30 18:56:32 2005 +0000

    Clear compiler warnings. (Stefan Dirsch)

commit 9e9f9cb4878d597b3fa6de7732d2866e24c32f54
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Jul 29 21:55:57 2005 +0000

    Need to define SVR4 on SVR4-ish systems since many headers and source files
        check for it, expecting Imake to have defined it already. (Should be
        replaced with more specific checks & defines, but there's too many to
        get them all right now.)

commit 14ade55b83aa72240a555b3b9def9f40a6a38cd9
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 29 21:22:58 2005 +0000

    Various changes preparing packages for RC0:
    - Verify and update package version numbers as needed
    - Implement versioning scheme
    - Change bug address to point to bugzilla bug entry form
    - Disable loadable i18n in libX11 by default (use --enable-loadable-i18n to
        reenable it)
    - Fix makedepend to use pkgconfig and pass distcheck
    - Update build script to build macros first
    - Update modular Xorg version

commit 2654f88cee86fae9db169dc8668492857fbbad98
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 29 18:40:54 2005 +0000

    Fix code to handle printing 7.0 release candidates properly.

commit d5d669b04ecbd91bb2db9ddc6238acabbeaabbe0
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 28 23:33:57 2005 +0000

    If neither --enable-dmx or --disable-dmx are specified, default to "yes" on
        Linux, "no" on everything else (matches defaults in monolith Imake)

commit 86529c07d6ff69ef936ee370be07b373e2961360
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Jul 28 23:28:34 2005 +0000

    Fix distcheck for server

commit 3e4bf8a8f46e14078c64c56ad303c80cd9d8d5be
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 28 02:38:23 2005 +0000

    Rework wrapping of common mouse driver to not require mousePriv.h, so that
        modular tree xserver can be built on Solaris. Wrap more ioctls in
        SYSCALL() to restart on signals.

commit cfd6c74067de7fdb2aeddee6780c29231a56acdc
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Jul 27 17:50:13 2005 +0000

    Add dbestruct.h to sdk_HEADERS

commit 5ced854186b851ba2c9ac84eb6d7f141fdee487b
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Jul 27 17:35:25 2005 +0000

    Add miwideline.h mistruct.h mifpoly.h to sdk_HEADERS

commit 7bd6b0640e69552ed4c9daac26e41410dd7338b4
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Jul 27 08:16:35 2005 +0000

    Add #include <dmx-config.h> for building dmx/glxProxy in the modular tree.

commit b9ccd89918e1c79d6013fe563c7fa933c1274837
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Jul 27 08:11:26 2005 +0000

    Fix dmx/glxProxy build

commit 8f6664fcff319ee155e7864ce25fa11c1fa5594b
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Jul 26 23:40:45 2005 +0000

    Add these files to the sdk:
    cbf32.h cfb16.h cfbmap.h cfbunmap.h cfbunmap.h cfbmskbits.h xf86sbusBus.h
        mifillarch.h mispans.h

commit 3cbb55f309b8eaba246d1d948b59883f9ed28bf4
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Jul 26 22:17:27 2005 +0000

    Install xorgVersion.h

commit df5d47560c19b01f2998806c4b62f459a6b5fc02
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Jul 26 18:56:45 2005 +0000

    xserver/xorg/fb/Makefile.am: install fboverlay.h

commit b25e6f82a1189a67208a2a4980d732ab77e64a35
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Jul 26 18:21:22 2005 +0000

    fb/Makefile.am: add fbpseudocolor.h to sdk_HEADERS
        hw/xfree86/xaa/Makefile.am: add xaaWrapper.h to sdk_HEADERS

commit e7502158d6922a149d0aaf1de209f0b58fa444bf
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Jul 24 16:24:17 2005 +0000

    Add xf86DeallocateGARTMemory stub so that Xorg can be built on Solaris
        again.

commit 7c1148c0fbc00716bb7ec621a1b968b4127cbb00
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 23 19:32:57 2005 +0000

    Fire the Mesa symlink script from the configure stage.

commit f331a325447449982efba8adc5bc079371dfb77a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 23 19:29:58 2005 +0000

    Add the symlink script for the Mesa source.

commit a5532e456d763718036e84891ff57c6f7417615a
Author: Stuart R. Anderson <anderson@netsweng.com>
Date:   Sat Jul 23 18:16:06 2005 +0000

    Change the default depth back to 8 like it was originally. Disable the
        addition of depth 12 & 30. It causes more than MAXFORMATS depths to be
        added to the screen which causes an array in the Screen structure to
        overflow and crash on server reset.

commit d8a1241a24d75c258548875350bff4d0acc795ab
Author: Stuart R. Anderson <anderson@netsweng.com>
Date:   Sat Jul 23 17:49:45 2005 +0000

    Add a safety check to catch when numDepths GCperDepthexceeps MAXFORMATS

commit 93d29b4554d26b22ca43311264f85ea8e14804c2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 23 02:04:39 2005 +0000

    Emit makefiles for glapi, slang, and grammar. Conditionally define GLX_LIBS
        if GLX support is requested. Add GLX_LIBS to the link deps for Xvfb and
        Xnest. All GLX support should work now for the vfb, xnest, and xfree86
        DDXes.

commit 525d663ec5a8a181a1e36f3787b24cdb77290c17
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 23 02:02:18 2005 +0000

    glapi build (forgot this one somehow)

commit 6aaceef3231818682dccf1969b211f1dc798da1f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 23 02:00:52 2005 +0000

    Fix the build system to reflect the rest of the Mesa core. Almost links,
        needs a code fix to Mesa though.

commit d7e2cadb13ef0e77d864c8282489f544b0e1dede
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jul 21 02:29:05 2005 +0000

    GLX needs gl.h from Mesa too

commit bf32f4739c6ef7f41cde6cc409d42e00462402fb
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Jul 19 20:51:46 2005 +0000

    programs/Xserver/hw/xfree86/os-support/shared/agp_noop.c
    programs/Xserver/hw/xfree86/os-support/linux/lnx_agp.c
    programs/Xserver/hw/xfree86/os-support/xf86_OSproc.h
    //bugs.freedesktop.org/show_bug.cgi?id=3164> Add xf86DeallocateGARTMemory()
        function call (Austin Yuan)

commit 931abdba8410bf1188d69d54c57543a21ea36968
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Jul 19 02:50:00 2005 +0000

    Change #include "X.h" to <X11/X.h>

commit 4f2e731aba0c5694abb65a877395cc5f9869c556
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 17 07:34:31 2005 +0000

    objdir != srcdir fixes.

commit a6bd7ad985e138874bb0e1f33f545651dfde32a9
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Jul 17 01:52:33 2005 +0000

    Set GLX automake conditional after we've tested for mesa source and set GLX
        to "no" if it's --with-mesa-source wasn't set.

commit ead37b08699f665a856c7ba29578c27c27db4100
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jul 16 20:52:25 2005 +0000

    Mark variables modified in signal handlers as volatile (part of Sun bug id
        4496504)

commit bbb49449cbc0815fd9c4faf9b6ee32be99a8aa3d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 16 16:30:40 2005 +0000

    Fix --with-mesa-source parsing, and turn GLX off if no path to Mesa given.

commit d69e9872ae91c9c17a33e1ed763f98453d950b39
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 16 16:29:30 2005 +0000

    Typo fix, and re-add GLcore to the dixmods build

commit 8bc883c48c8f99502707998a8257c0563cae7d3a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jul 16 09:00:44 2005 +0000

    Update build instructions. Add details about how the expat, fontconfig,
        libpng, freetype, and xterm builds are now handled.
    Update text docs from SGML masters.

commit 8e600b87643f7f4e19923dd6a0f2eec83303363a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jul 16 07:39:48 2005 +0000

    Only pass -rdynamic when using gcc

commit 4f04e26c69747929243f176feaa90f3042481f53
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 16 04:30:33 2005 +0000

    Say --with-mesa-source to get GLcore built.

commit 4913316f25e76381844cf15aa64eff620c2807a1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 16 04:29:28 2005 +0000

    Switch to MESA_SOURCE which we're already AC_SUBSTing

commit 7facb209a705ca406b05272c233ea0cfd6a5b266
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 16 04:24:21 2005 +0000

    Hook in the GLcore build

commit 2f9a7c6ee1012b2c7664c53f405affaf82bd0953
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 16 04:13:33 2005 +0000

    Hey look, GLcore links

commit 5f81eb1d89f623dd9281e686a4d4d4f403e459c6
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Jul 16 03:49:59 2005 +0000

    Fix the *-config.h includes so that it is possible to build modules without
        having to use -include in the Makefile.

commit 0635acab08bade9bfd9d2abd3ea5a3fe525bc647
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Jul 16 03:46:01 2005 +0000

    Add record module building support Change module building to not use
        -include Fix xnest, dmx and vfb builds to -DXFree86Server for fbcmap
        compilation

commit 92b23ff426936909e1ff5e063b75e5f112b93ca1
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jul 16 01:17:52 2005 +0000

    Update to match recent changes to pci.ids & extrapci.ids for people
        building on systems without perl.

commit 6ce3743948a7151c721194594091a7e1183e2f32
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 16 00:51:14 2005 +0000

    start the GLcore build system

commit 2f0487521da3da6784dd964c915071b82d749108
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 15 23:08:31 2005 +0000

    Fix the *-config.h includes for the files that have moved in the modular
        tree.

commit a407fa373bb72f29050e3f027042011075b3bdf0
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 15 22:51:05 2005 +0000

    Move drm up to os-support since the files are shared by multiple platforms.
        Fix the dri and drm build. Fix server-side DMX extension build. Make
        xf4bpp use the correct version of mfbline.c for mfbseg.c. Add #ifndef
        _HEADERNAME_H_/#define _HEADERNAME_H_/.../#endif to the headers.

commit eb6fa0dc15516a0a436090efc6d85f22baeec015
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jul 15 22:14:28 2005 +0000

    Enable GLX build by default

commit 0e352a8b2b4c78c291074b9531ed7afa7a20ac17
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jul 15 21:59:39 2005 +0000

    disable GLcore momentarily until a build system exists. --enable-glx should
        work now.

commit 4bf453086418e93e81b24d3d2a0f49a9357acff3
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 15 05:48:29 2005 +0000

    Fix keyboard state when XEVIE is not enabled (Keith Packard).

commit 562acf2e69dcf08f8db8f8eeaa162949d45f70b2
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Jul 14 23:41:15 2005 +0000

    Add -I$(top_builddir)/hw/xfree86/dixmods/extmod to Xext/Makefile.am Patch
        from Stefan Dirsch

commit defeb56fc9559661fa632935a4c76c500c7edcf4
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Jul 14 22:20:16 2005 +0000

    Fix the build when DRI is enabled

commit 6b546d0ec07e493b501e82300b3e6c143cd4d0ac
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Jul 14 03:36:44 2005 +0000

    Add #include <xnest-config.h> to the Xnest source files for modularization.

commit 7375f4d13626bbba4204e2f08f41c212b2eed992
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Jul 14 03:32:09 2005 +0000

    Add support for Xnest

commit c582560c62fd8181b7521e470f118a59c418a95f
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 14 02:59:34 2005 +0000

    Add partial in*/out* assembly support for Sun compilers on x86

commit 64bf3a81a3212dc2c0f55aebdc74a618ca6a32c0
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jul 14 02:53:31 2005 +0000

    loadable extmod build system.

commit 6c96e0c9e4b3f1e8dfa5dcf7366bb838dc0724ec
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jul 14 01:36:58 2005 +0000

    loader support for extmod

commit 8ea4a1b759eae0279ce619c663f2cd2f6dee8d71
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 14 01:00:39 2005 +0000

    First pass at Solaris os-support

commit f07e905553783dc0133015bcbf94d3b6be68b19c
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Jul 14 00:28:47 2005 +0000

    - Add build system for xf86-video-ati
    - Add build system for xserver/xorg/hw/xfree86/dri
    - Add glcore.h to symlink.sh
    - Symlink.sh: add some more DRI files, symlink glcore.h from
        extras/Mesa/include/GL/internal to proto/GL
    - proto/GL/Makefile.am: install glcore.h
    - xf86-video-ark: s/module-dir/xorg-module-dir/

commit 939b7720f17ec5ac5edcc6cfe70453160ecb0161
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 14 00:02:05 2005 +0000

    Merge SVR4/pre-Solaris 8 and Solaris 8+ sections for greater consistency,
        easier maintenance, and to fix some missing headers when building the
        modular Xorg on Solaris.

commit 23d25a656d7fdbafa1c78be2950fb405f0a1b87b
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Jul 13 23:41:21 2005 +0000

    Remove references to DDX-specific extensions

commit f4626bb72b9955846abee018ae31c1aeb51b8dbf
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Jul 13 22:59:39 2005 +0000

    dlloader is the default in 6.9, but the loader doesn't get told to prefer
        dlloader modules unless you -DDLOPEN_HACK.

commit 4f38526566dbcc296d124bb852adfa30ac4d927e
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Jul 13 22:54:02 2005 +0000

    - Use fbdevhwstub.c if <linux/fb.h> is not found
    - Use x86emu on Solaris instead of vm86
    - Better per-OS control over which xf86Kbd*.c and *Pci.c files to build
    - Set various #defines to be defined or not on Solaris as needed

commit db8aa17f15f62f243400b0267bf281dd27738644
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Jul 13 22:19:36 2005 +0000

    updated comment for libbitmap

commit 4f9e76ed6a61b414ffc94550727a138c3f73996f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Jul 13 22:09:52 2005 +0000

    Dear libtool: Loadable modules do not need version numbers. kthnxbye.

commit 40ad7321f5d8d216523d575c4414736d8cfe9e88
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Jul 13 21:52:51 2005 +0000

    Generate useful loadable modules by actually linking in the blobs from the
        DIX

commit 0e08818d3951c324e5953bd23a8a9457b3fec78f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Jul 13 21:41:02 2005 +0000

    Hook dbe into the build

commit 2d4ddb5606b7328c591a7bffafbb49bdaf2adcf9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Jul 13 21:36:27 2005 +0000

    double-buffering extension

commit c2ec9fbb15c776b9c64451cf32927b1b8d1c560c
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Jul 13 21:17:53 2005 +0000

    Only build Xi/stubs.c on DDXs that don't support the Xinput extension

commit 74a534f63c1ed016f24dbc3ca31f05b81076e8f0
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Jul 13 20:19:38 2005 +0000

    xc/programs/Xserver/hw/xfree86/drivers/i2c/*.c: include xorg-config.h
        instead of config.h xserver/xorg/hw/xfree86/i2c/Makefile.am: Add i2c
        drivers

commit 1dc3e96e4077a912dd3aa13fa80099f5864b641f
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Wed Jul 13 16:30:53 2005 +0000

    Fix compilation where uint is not defined.

commit 19e20c1470c1f8d15f2a78fb29545bde06a65516
Author: Lars Knoll <lars@trolltech.com>
Date:   Wed Jul 13 08:58:37 2005 +0000

    don't clobber %ebx in the assembler.

commit bfb10bd2dcca65ba5d346c9d7da594a81c35c101
Author: Lars Knoll <lars@trolltech.com>
Date:   Wed Jul 13 07:28:17 2005 +0000

    Fix potential buffer overflow and a smaller bug in the convolution filter

commit 778a2703b233641e298fa81ef9c477943c496305
Author: Lars Knoll <lars@trolltech.com>
Date:   Wed Jul 13 07:12:33 2005 +0000

    fix compilation

commit 66bc36473c238fdee7e6c1d31e6e5f6813a7541a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Jul 12 23:36:27 2005 +0000

    Use builddir, not srcdir, for built files.

commit d6808a48d2dffd72f618fa372fba993736638799
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Jul 12 18:16:03 2005 +0000

    Fix scanpci -v core dump when subsys vendor/device id's are NOVENDOR &
        NODEVICE. Bug #3763 <https://bugs.freedesktop.org/show_bug.cgi?id=3763>
        Patch #3074 <https://bugs.freedesktop.org/attachment.cgi?id=3074>

commit cda9c7b2678ea08ac6176a9eee72e6e511134b8e
Author: Lars Knoll <lars@trolltech.com>
Date:   Tue Jul 12 14:50:10 2005 +0000

    add x86emu.

commit 41002623f314444bd416fd5f445a0425c5b59df0
Author: Lars Knoll <lars@trolltech.com>
Date:   Tue Jul 12 10:02:10 2005 +0000

    Add MMX Code paths for the basic composition operations in
        fbComposeGeneral.

commit 697cf74fb50a550b8f7e124dc8f463a55519795f
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 12 03:09:20 2005 +0000

    Make Xprt run when linked against Xlib for Xrm

commit 419448ea7b0d7f672e568cb1d8b4e190a1f54825
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Jul 12 03:03:16 2005 +0000

    Pull libdri out of the build for now until I get something better worked
        out

commit f054bf2ff6b94e285e7f2d174163c01b07b07143
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Jul 12 01:29:41 2005 +0000

    build fix

commit 02427d4d04f70109a499578c6762654463ebdae4
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Jul 12 01:20:36 2005 +0000

    Add support for building Xdmx and Xvfb

commit 3fe6b5bb30e8e1b9017a9cf818fcceb279a28e65
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Jul 12 01:17:39 2005 +0000

    GLX server support

commit 377e3bddd4d73154520a9582d75de2b20ae532a5
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Jul 12 00:55:43 2005 +0000

    Forgot to add these for some reason

commit e348ac4b4dfb1112c19fe5fe5441182e66716087
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Jul 12 00:52:48 2005 +0000

    Prepare Xdmx and Xvfb for modularization by adding appropriate #include
        <{dix,dmx}-config.h> to the source files.

commit b7a9a6a03560bdf6584c71bf0b546301bba9ab89
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Jul 11 17:52:00 2005 +0000

    Remove unneeded xf86drm.h includes to fix modular build.

commit cf4dfd650dbc2bb65eae4eea2acfb4a4c5295548
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jul 11 02:29:50 2005 +0000

    Prep for modular builds by adding guarded #include "config.h" everywhere.

commit c5548086f3864c828f0cad65d2708cefd2025947
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jul 11 00:42:52 2005 +0000

    Start filling in glx build. Add xf86Version.h and a few DRI headers to the
        sdk (needed for modular driver builds).

commit 955fe17133d841758a18072a9acabedc81dc4562
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jul 10 21:45:55 2005 +0000

    add some convenience variables for the drivers

commit 78fab90230c61241af29f0c94f401ce0bc749b6b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jul 9 16:51:58 2005 +0000

    Bug #3740 <https://bugs.freedesktop.org/show_bug.cgi?id=3740> Patch #3058
        <https://bugs.freedesktop.org/attachment.cgi?id=3058>
    08-Jul-2005 nv driver updates from Mark Vojkovich:
    Change some console restore code for NV11. Hopefully, we can more reliably
        restore the console for desktop systems using DVI. This may correct a
        recent regression on NV11.
    Also, new PCI IDs.
    Add new nVidia PCI ids to match nv_driver.c changes.

commit 3c92389185f0c9fa3b8c299a084b10c12bcab52c
Author: Zack Rusin <zack@kde.org>
Date:   Sat Jul 9 14:15:35 2005 +0000

    Patch from Thomas Winischhofer to kick out all pixmaps to system ram upon a
        VT switch and vice versa when returning.

commit 327741486e807c068383a771c04c9042b0589c37
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 9 02:22:29 2005 +0000

    Don't try to link fb, shadow, or vgahw into the loadable Xorg server, as
        they're only supposed to be loadable modules.

commit 2b8e4db9ac4b4c8f8fd73c00436d6abec2faa535
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jul 8 20:27:30 2005 +0000

    -lXfont isn't enough for libbitmap, you need to get the -L from pkg-config

commit e84648df7d7eb700b7c2d35fdef0be1f463853fa
Author: Zack Rusin <zack@kde.org>
Date:   Fri Jul 8 17:07:52 2005 +0000

    mark drawable as dirty on copying/painting windows

commit 4ab73a73f4aa1f02cc8dada185b5dcbddfe43878
Author: Zack Rusin <zack@kde.org>
Date:   Fri Jul 8 07:43:00 2005 +0000

    heh, oops (thanks Thomas)

commit 0a28516a6e641b41e674f69fc228b0babbe1743b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 7 19:07:28 2005 +0000

    More compiler warning fixes for missing prototypes:
    Add prototype for XkbSetExtension()
    Add #include <ctype.h> for isspace() & isdigit()
    Add #include <grp.h> (for initgroups()) and remove extra *
    Add prototype for xorgGetVersion()

commit 2c3c4060fd2a52f147eda01b11222c341c6e3dee
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 7 16:18:52 2005 +0000

    Bug #2901 <https://bugs.freedesktop.org/show_bug.cgi?id=2901> Add prototype
        for XdmAuthenticationInit() (Peter Breitenlohner)

commit d0dc574adb79ffacf90b786d4ccfcd1cd8598728
Author: Zack Rusin <zack@kde.org>
Date:   Thu Jul 7 15:05:02 2005 +0000

    Check vtSema before accelerating primitives and sync in fallbacks only if
        we got vtSema

commit 6cba5f1260c20b3bc072fdcc5f3e49fa28ba6414
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 7 14:59:48 2005 +0000

    Bug #2901 <https://bugs.freedesktop.org/show_bug.cgi?id=2901> Patch #2332
        <https://bugs.freedesktop.org/attachment.cgi?id=2332> This patch avoids
        79 gcc-3.4.3 warnings 'xxx' declared `static' but never defined mostly
        due to including "ftfuncs.h" with the declaration of static functions
        defined in "ftfuncs.c". (Peter Breitenlohner)

commit 7da3f4a786d9b61f4129c7dbbef80c84abbfde68
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 7 03:12:40 2005 +0000

    Bug #2901 <https://bugs.freedesktop.org/show_bug.cgi?id=2901> Fix warnings
        about redefined macros (Peter Breitenlohner)

commit f86562540d1c945bfd96d4b89259d81e4ed25255
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jul 7 02:47:06 2005 +0000

    Bug #2901 <https://bugs.freedesktop.org/show_bug.cgi?id=2901> Patch #2325
        <https://bugs.freedesktop.org/attachment.cgi?id=2325> Avoid 38
        gcc-3.4.2 warnings: suggest parentheses around assignment used as truth
        value suggest explicit braces to avoid ambiguous `else' suggest
        parentheses around && within || suggest parentheses around arithmetic
        in operand of ^ "/*" within comment (Peter Breitenlohner)
    Bug #2901 <https://bugs.freedesktop.org/show_bug.cgi?id=2901> Patch #2326
        <https://bugs.freedesktop.org/attachment.cgi?id=2326> This patch
        removes these 2 gcc-3.4.3 warnings: missing braces around initializer
        implicit declaration of function `XpOidTrayMediumListHasTray' (Peter
        Breitenlohner)

commit 4047191124c237518110e698bde6dab445644449
Author: Damien Ciabrini <braun@club-internet.fr>
Date:   Wed Jul 6 15:34:22 2005 +0000

    Added hardware support for transformation matrix (zoom, rotation, etc...).
        Fixed the composition function for RGB and A8 format. Avoid syncing
        hardware after HW fills or copies.

commit 4073f24c90d4aff3f7d83af4c0e733eed082b53b
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Jul 6 15:14:30 2005 +0000

    add missing PictureTransformPoint3d call

commit c48f631cdb6a279ab1a24a486b05956cfa9ca3da
Author: Damien Ciabrini <braun@club-internet.fr>
Date:   Wed Jul 6 13:57:41 2005 +0000

    Fix offset alignment code in the offscreen memory allocator to prevent
        textures from being allocated in the next free memory area.

commit baa99be190c51b533bf8748c6c6a9bce62594e96
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jul 6 07:16:19 2005 +0000

    Put the correct value in the length field of the reply. Previously, the
        number of tag/date pairs was specified. This was incorrect. The correct
        value is the number of values (one for the tag and one for the value).
    Xorg bug: #3210

commit 6ba4a2e78a73858648b5b6a39306446d519c3a75
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jul 5 23:01:51 2005 +0000

    Add more defines for XWin DDX Make building of cfb*, afb and mfb
        conditional Set FD_SETSIZE=256 on cygwin

commit 71ed3ae0c696152e82a98ce2ac0fa67ce6f23464
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jul 5 22:58:29 2005 +0000

    wrap fInternalWM with XWIN_MULTIWINDOWEXTWM

commit 456844a613240ce56181f6f3ec7873be9b2dc85d
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Jul 5 18:42:32 2005 +0000

    Remove Speedo font module documentation.
    Remove Speedo from list of font directories
    Update default font path to remove Speedo, add TTF.

commit 20c15003f9648de0c03f7d4fa4508afd896b19f5
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jul 5 18:25:44 2005 +0000

    Fix crash on server shutdown

commit d72fef26d44e649f39a56730830148d48d77ee9e
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jul 5 17:52:35 2005 +0000

    Fix simultanious presses of Left and Right Control and Shift keys.
        https://bugs.freedesktop.org/show_bug.cgi?id=3677

commit 0f2c8221c938ce8eebd9f0e111a6b87223c18f9e
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jul 5 16:35:42 2005 +0000

    Fix typo which broke window titles

commit 0bb2eb8eaaf4054fefbc45bf3cb47bbcf10b7cfd
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jul 5 15:43:20 2005 +0000

    Fix problem with fake Control press on Alt-Gr
        https://bugs.freedesktop.org/show_bug.cgi?id=3680
        https://bugs.freedesktop.org/show_bug.cgi?id=3497
    Fix static declaration of winGetBaseDir

commit 3af77ad3e754c4d419a1996ca73a9fd01f92388a
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jul 5 14:09:48 2005 +0000

    External windowmanagers could connect in multiwindow mode which lead to
        strange results with the internal windowmanager.

commit 426282268bcdd0e0ca973fa79b414e9065fbfd9d
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jul 4 23:40:09 2005 +0000

    Build miinitext.c and fbcmap.c as DDX specific files
    Do not define _POSIX_SOURCE on cygwin.

commit 845a0ac68b02148db6f2cca81debf20b2331607b
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jul 4 23:11:20 2005 +0000

    Revert last changes. They have to be addressed in a different way

commit 048045a9e714fc85c26028c4de36dff47644b826
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jul 4 22:18:40 2005 +0000

    Add XWin DDX, make Xorg DDX conditional Make XF86VidMode and XF86Misc
        conditional
    Add XWin DDX
    Added DDXTIME, DDXOSFATALERROR, DDXOSVERRORF and DDXBEFORERESET
    Added fbcmap.c
    Added miinitext.c
    Added -I$(top_srcdir)/Xext/extmod to INCLUDES

commit 508cdb5cb01a91b1bf3ef31da80b6b1d36286bf0
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jul 4 22:10:43 2005 +0000

    Include xwin-config.h if HAVE_XWIN_CONFIG is defined Cleanup X11 includes
        handling Warning fixes

commit 5e50ae22bf206d6c2cc05e772e05fa5a363acb81
Author: Zack Rusin <zack@kde.org>
Date:   Mon Jul 4 18:55:53 2005 +0000

    remove the temporary debugging output

commit 7586ac6edea64b30d6187f9ec4d867521c1e769c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jul 4 18:41:04 2005 +0000

    Bug #2216: Multiseat support. From various Debian and Ubuntu patches by
        Aivils Stoss, Andreas Schuldei, Branden Robinson, and Daniel Stone.

commit ba011dc77dcfaea2843481fbba45a76d8cb9aa83
Author: Lars Knoll <lars@trolltech.com>
Date:   Mon Jul 4 14:47:03 2005 +0000

    don't be too smart and try to replace PictOpOver by PictOpSrc when we have
        an external alpha map.
    Make fbmmx.c compile on gcc 4.0.1.

commit a4df8ad75579d9c183f110d79d87cfb9aaf23acd
Author: Lars Knoll <lars@trolltech.com>
Date:   Mon Jul 4 14:23:59 2005 +0000

    Fix handling of "super luminescent" colors Fix off by one error in the
        transformation handling.

commit e34f31762e0454930f30547a9407cc8b941c70f2
Author: Zack Rusin <zack@kde.org>
Date:   Mon Jul 4 14:15:57 2005 +0000

    This fixes the close screen mess (crash reported by Thomas). Also hide the
        private Exa screen definition. Properly cleanup on screen close and do
        not delete the private screen in the DriverFini call.

commit 4ef813961dc8dea8924a79e0954d5b6da12e77c0
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jul 4 09:01:43 2005 +0000

    provide the uint datatype on WIN32

commit 7dc547252af3b23652b1d496957645726c7125a4
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Jul 4 00:16:23 2005 +0000

    Fix builds on non-GLIBC systems (missing __GLIBC_PREREQ). Add Solaris stack
        backtrace dumper.

commit d010de6979a6c51a628f2f8e6d7f479a542d1e8b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 15:51:23 2005 +0000

    Abandon the nostdinc experiment.

commit b0d80e76d28dbc1ee14453950db000bb4d7f377f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 12:17:04 2005 +0000

    Add missing include paths.

commit 461eb6ebd9273dc3dcd601ee0a0491981a98acd9
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 12:16:29 2005 +0000

    Change HAVE_CONFIG_H to HAVE_DIX_CONFIG_H.

commit c1e69798ad14fb706f5f6de67e3f53df56f524c6
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 12:15:16 2005 +0000

    Add explicit PSZ defines, remove unnecessary dix-config.h include.
    Add -DXF86PM, forgotten from last commit.

commit 4e501d35e260775a43f340b3e1a9aa092570aba4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 10:51:16 2005 +0000

    Remove needless usage of DECkeysym.h.

commit a107f599518a175dd689417b48788a746303966a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 09:39:54 2005 +0000

    Predicate usage of xf86OSPM functions on #ifdef XF86PM.
    Remove needless include of ../input/mouse/mouse.h.

commit 0bb669638f032e61471007b2fa88285aa5d63903
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 08:53:54 2005 +0000

    Change <X11/misc.h> and <X11/os.h> to "misc.h" and "os.h".

commit 401e4580d6dd9867a691045688680ce410f84cb5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 07:55:00 2005 +0000

    Move misc.h and os.h from proto/X11 to xserver/xorg/include.

commit 46b64bd5c66abb1bb9f3538c887d10867607bfff
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 07:37:35 2005 +0000

    Fix more include paths; add dix-config.h to XKB code.

commit e03198972ca78b03ad13cb49112c03a052bb763b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Jul 3 07:02:09 2005 +0000

    Add Xtrans definitions (FONT_t, TRANS_CLIENT) to clean up warnings.
    Add XSERV_t, TRANS_SERVER, TRANS_REOPEN to quash warnings.
    Add #include <dix-config.h> or <xorg-config.h>, as appropriate, to all
        source files in the xserver/xorg tree, predicated on defines of
        HAVE_{DIX,XORG}_CONFIG_H. Change all Xfont includes to
        <X11/fonts/foo.h>.

commit b8aef6c474ffc6d637bec178674898ea95ccde47
Author: Kevin E Martin <kem@kem.org>
Date:   Sun Jul 3 03:28:27 2005 +0000

    Fix build issues.

commit 826a6f029faeabaa783a93dfdccca846f9326b58
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jul 2 18:59:44 2005 +0000

    Continuing Makefile cleanup; add DIX_CFLAGS and XORG_CFLAGS everywhere.

commit e58c09d31bdf90210e2ec1ef976cea0459cdc02a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 2 18:06:05 2005 +0000

    Bug #3687: Print backtraces on fatal signal on glibc systems.

commit e6602b041fe489d51a1d7fac55cbbb12b1826ba1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 2 17:02:23 2005 +0000

    Bug #3546: Use MAP_LENGTH instead of a magic number. (Mark McLoughlin) Bug
        #3664: Further fixes to Xnest modifier state handling. (Mark
        McLoughlin)

commit 9b1debcdb6c7df956c06350a6525afb8e6d691fa
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 22:43:43 2005 +0000

    Change all misc.h and os.h references to <X11/foo.h>.

commit 657b4cb8aa0076acae85997c4f0c353b4d86b632
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 22:32:34 2005 +0000

    Change all misc.h and os.h references to <X11/foo.h>.

commit 303c281f956d55e35b05ef8521d0b60d24aa7a10
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 21:15:20 2005 +0000

    Add auto-generated header files.

commit 9a6ec34d2545a23586f11ad51c81f41a940d73d0
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 21:13:36 2005 +0000

    Use canonical autogen.sh, which supports srcdir != objdir autogen.

commit 7ecc2d526c4ea5db2589644a2fec0daf71df36da
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 21:12:24 2005 +0000

    Remove fbcmap.c hacks from the DIX.

commit 6251f9c00a866f64207d23b0a06306ead15298e8
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 21:11:16 2005 +0000

    Minor build system tweaks.

commit 641f32c4368db07831d9d703161a9d4699307621
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 20:54:30 2005 +0000

    Adding initial build system.

commit 507d30546f56bfd172fc43857459c78c1026e97c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 20:54:01 2005 +0000

    Adding initial build system.

commit a822df1cc16d150614dead70fd00750095a05c35
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 20:49:35 2005 +0000

    Adding initial build system.

commit ded56b1a74e6b3e4c48054b7e142d924b19e6104
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 20:29:53 2005 +0000

    Adding initial build system.

commit aabb868920658c9d3979dc194c6bd9702171f101
Author: Zack Rusin <zack@kde.org>
Date:   Fri Jul 1 13:30:29 2005 +0000

    removing all debugging output from the default build :)

commit 0fa9d1fb4886c418e3d8e0886ad815513eda0633
Author: Zack Rusin <zack@kde.org>
Date:   Fri Jul 1 12:24:30 2005 +0000

    Leave debugging output for only the interested parties.

commit 0df446ab8875430508ff51d3548955a215475084
Author: Zack Rusin <zack@kde.org>
Date:   Fri Jul 1 10:39:21 2005 +0000

    Missed this. Spotted by Thomas.

commit b5b2a0522efd61bd99b5d5d75cdd27960cd1c7e1
Author: Lars Knoll <lars@trolltech.com>
Date:   Fri Jul 1 10:05:43 2005 +0000

    Add support for gradients and solid fills to Render.
    Changed the semantics of the Convolution filter a bit. It now doesn't try
        to normalize the filter values but leaves this to the client. This
        gives more reasonable behaviour in the limit where the filter
        parameters sum up to 0.

commit 30c019e847adef6f7f3963df8ef1f3f994669a54
Author: Zack Rusin <zack@kde.org>
Date:   Fri Jul 1 08:56:12 2005 +0000

    Adding the new acceleration architecture: Exa. It's meant to replace XAA in
        the coming months.

commit 276821605ee50e71f30dd52f2c12237fc61f288f
Author: David Reveman <c99drn@cs.umu.se>
Date:   Fri Jul 1 03:14:54 2005 +0000

    Fix return values in Xgl render texture implementation

commit 5e381441fff411316ea202a9f85aceb0e0dcf46b
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Jul 1 02:56:04 2005 +0000

    - Fix Support for Philips FM1236/F tuner on ATI AIW 9600 XT (Jeff Smith)
        Bug 3401

commit c4d1b4e0424d53cd0470e0e3f57c10ee8fe3d8c2
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Jun 30 21:33:46 2005 +0000

    Added another test of checkForInput for WIN32 Windows keyboard and mouse
        events are added to the input queue in Block- and WakupHandlers. There
        is no device to check if input is ready.

commit 1230c55ac3f75f4902b51b223d40354a54d0d0ab
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Jun 30 18:50:20 2005 +0000

    Pass serverClient instead of NULL to ConfigureWindow. This should fix a
        crash reported by Øyvind Harboe

commit 0929f79c1baa5b65808ab034591510906623e841
Author: Matthew Allum <breakfast@10.am>
Date:   Thu Jun 30 13:39:00 2005 +0000

    Another Xephyr focus/modifier fix

commit b6c7afe0b9faed7025c70334d464fd75ce5c84c4
Author: Lars Knoll <lars@trolltech.com>
Date:   Wed Jun 29 15:19:14 2005 +0000

    compile

commit d8a98454e305973dd7fec76db2ef80705cf7c298
Author: Lars Knoll <lars@trolltech.com>
Date:   Wed Jun 29 11:57:16 2005 +0000

    Add support for gradients and solid fills to Render.
    Changed the semantics of the Convolution filter a bit. It now doesn't try
        to normalize the filter values but leaves this to the client. This
        gives more reasonable behaviour in the limit where the filter
        parameters sum up to 0.

commit ce0e11aeac76119b96b463605bc1f5318e3d2bde
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Jun 28 21:05:31 2005 +0000

    Bug #2447: Fix argument order to xf86DrvMsgVerb. (Luc Verhaegen)

commit 5ef5aec9bb5ee85295c0913afca891572d1315a4
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Jun 28 02:04:54 2005 +0000

    Update to latest snapshot (27-May-2005) from http://pciids.sf.net/

commit b262a18aad36b2de729f6d00d144ac7277687f19
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jun 26 02:48:36 2005 +0000

    Cosmetic correctness fixes: miEmptyBox and miEmptyData are variables, and
        miGlyphExtents is a function.

commit aa7fb99bc76e62036c73ff50f58337558859b814
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jun 25 21:28:48 2005 +0000

    Bug #3030: Fix Xnest keyboard state handling. (Mark McLoughlin)

commit 8562f800b879ae461317da9640961f753e107250
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jun 25 21:16:54 2005 +0000

    Bug #3626: _X_EXPORT tags for video and input drivers.

commit 582a9f0d2ec01f1a3c5625e2f45a4599be7a11d5
Author: Zack Rusin <zack@kde.org>
Date:   Sat Jun 25 12:39:58 2005 +0000

    Correctly handle empty rects on region initialization.

commit 56201222067e793a3542bcdcd39bb257b4fad2a6
Author: Matthew Allum <breakfast@10.am>
Date:   Thu Jun 23 16:50:07 2005 +0000

    Fix issues with focus in and modifiers from host confusing Xephr

commit a668b6c11a2d6b4800407ad918481d90be87a732
Author: Matthew Allum <breakfast@10.am>
Date:   Thu Jun 23 16:34:07 2005 +0000

    redo tslib

commit 5e863851a61207ade1ac807bc8cff7d9cf02dbbe
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jun 19 01:30:29 2005 +0000

    Build workaround. Add glcontextmodes.[ch] from Mesa.

commit 9743adbe94f29417818b90e18aebb96a72f332f0
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Jun 16 20:50:12 2005 +0000

    Add Type1 subdirectory to lib/Xfonts, update build system accordingly.

commit 68e856ff5b1842ba10421714b5f6b21d528f6071
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jun 15 18:31:52 2005 +0000

    DRM 20050615 import

commit 6e301a8e97e99d58eaed25453f66c6d73bafd460
Author: Ian Romanick <idr@us.ibm.com>
Date:   Wed Jun 15 18:31:52 2005 +0000

    Initial revision

commit f0c76610b72a5b54bae5a5eb51ff4c420a27320e
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jun 15 16:46:59 2005 +0000

    Conditionalise another use of XEvIE.

commit 28ee3dd955302a1e99ffdc66cf0f512c6234d043
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Jun 15 16:27:16 2005 +0000

    Conditionalise building of XEvIE code with #ifdef XEVIE.

commit c6166ee74137084775c7550b708c5f71f16e7d3f
Author: Lars Knoll <lars@trolltech.com>
Date:   Wed Jun 15 14:51:12 2005 +0000

    Fix projective transformations in fbcompose.c Bugfix for convolution
        filters

commit bd54b96034e640f202821eac0a2c40e66c1ddfd0
Author: David Reveman <c99drn@cs.umu.se>
Date:   Wed Jun 15 05:50:15 2005 +0000

    Shut up compiler

commit 7fa782dfd548498474830c7268032ffc5fb406a5
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Jun 13 21:51:46 2005 +0000

    Add xkbfile to symlink.sh, conditionally include "config.h" in
        xc/lib/xkbfile

commit 0802a2824c06d294ea42f0f6256644da5c0038c2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Jun 13 18:14:53 2005 +0000

    Correct the CHIPSET lines for the 3dfx cards so the tdfx driver will
        recognize them. I'm not sure if this file is supposed to be maintained
        still, but I'd like to close FreeBSD ports/32121 which has been around
        for far too long.

commit 2eab094816726542c4de6c9db5efa102ab1e1593
Author: David Reveman <c99drn@cs.umu.se>
Date:   Mon Jun 13 16:38:06 2005 +0000

    Build fixes

commit 49476ca73c86a599a1bc49cba1117d42f59996a8
Author: Lars Knoll <lars@trolltech.com>
Date:   Mon Jun 13 14:40:25 2005 +0000

    add the convolution filter from xserver to xorg

commit f0ab6d57df66da5de1a8182f8250cc2c8e1450ad
Author: David Reveman <c99drn@cs.umu.se>
Date:   Mon Jun 13 06:00:35 2005 +0000

    Remove xgloffscreen.c

commit f5aeaa7710de5ba4aad125bc8472bad1f17e23c6
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jun 13 00:09:23 2005 +0000

    Bug #3513: Silence unhandled event messages from Xnest when running with
        -parent. (Mark McLoughlin)

commit 521916d0074901db58ab6b9edab52373da28bdb3
Author: David Reveman <c99drn@cs.umu.se>
Date:   Fri Jun 10 12:30:39 2005 +0000

    New implementation of GLX_MESA_render_texture

commit bdb3eb86f02e233b6aeef0995ea9afeaa7b035ac
Author: Kean Johnson <kean@armory.com>
Date:   Fri Jun 10 06:54:07 2005 +0000

    file usl_xqueue.c was initially added on branch sco_port_update.

commit 988ffddfe082fb27fadf9aa60ab22dce6855508c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jun 10 04:01:14 2005 +0000

    Bug #2799: Input shape. (Keith Packard)

commit d24ed90547122832d4168ad761f68e107bb1a2db
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jun 10 02:14:44 2005 +0000

    Axe a few dead fields from the port priv struct and add my name to the
        "Copyright" line of the license to ati_video.c that already has my name
        in the text.

commit 75065f3a54ec760bbe81160fa233810f14d8aaa2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jun 9 23:22:55 2005 +0000

    Perform a warnings sweep on hw/kdrive. A number of these were my fault, but
        some come from others.

commit e11e60b361d63ae02918dd6b43038a5c92b73a49
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jun 9 21:59:26 2005 +0000

    Greatly improve the correctness and performance of the MGA render
        implementation. Includes cache flushing to prevent bad first reads of
        the framebuffer, fixing blending of many formats, falling back on many
        unsupported operations, and falling back early to prevent migration.
        Passes all of rendercheck except some of the blend (!) tests.

commit 9f81ce945680515e6db7da6c87458bee7c0f053d
Author: Ian Romanick <idr@us.ibm.com>
Date:   Thu Jun 9 21:48:45 2005 +0000

    Re-enable GL_HP_occlusion_test. The problems in Mesa that caused this bug
        were fixed by Brian Paul in Mesa version 6.1. The current Mesa version
        in the X.org tree is 6.2.1.
    Xorg bug: 762

commit 92b3775ae8bdd4a84d7e101b36b306fbd3ac17a2
Author: Matthew Allum <breakfast@10.am>
Date:   Thu Jun 9 16:22:27 2005 +0000

    TSLib fixes. Add fullscreen support to ephyr

commit 545c082cf9c86f2a809ea6b4dca33643afb0c3d3
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jun 9 10:44:45 2005 +0000

    - Replace the syncAccel hook in the kdrive structure with a pair of hooks
        in the kaa structure: markSync and waitMarker. The first, if set,
        returns a hardware-dependent marker number which can then be waited for
        with waitMarker. If markSync is absent (which is the case on all
        drivers currently), waitMarker must wait for idle on any given marker
        number. The intention is to allow for more parallelism when we get
        downloading from framebuffer, or more fine-grained idling.
    - Replace the KdMarkSync/KdCheckSync functions with kaaMarkSync and
        kaaWaitSync. These will need to be refined when KAA starts being smart
        about using them. Merge kpict.c into kasync.c since kasyn.c has all the
        rest of these fallback funcs.
    - Restructure all drivers to initialize a KaaInfo structure by hand rather
        than statically in dubious order.
    - Whack the i810 driver into shape in hopes that it'll work after this
        change (it certainly wouldn't have before this). Doesn't support my
        i845 though.
    - Make a new KXV helper to avoid duplicated code to fill the region with
        the necessary color key. Use it in i810 and mach64 (tested).

commit 72ca8e1b5432db57401e66af8a07fcd8cbbbb9f1
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Jun 9 03:11:58 2005 +0000

    Add agpgart support for Solaris x86/x64. [Requires Solaris "Nevada" build
        16 or later to get kernel side for now.] (Sophia Li - Sun Microsystems)

commit ca37d5755259ca03c61cf0567be3dea99d0c79f6
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jun 9 03:01:57 2005 +0000

    Bug #2469: More accurate damage reports. (Jonathan Lennox)

commit cdc15e2294a9bffc570e33bc31170081abfc55fb
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jun 9 02:29:42 2005 +0000

    Bug #1846: Add intentionally undocumented -disablexineramaextension flag to
        the server to work around ignorant clients on large display walls.
        (Kevin E. Martin)

commit e3cdec7cdcd76f6294ba1f296e4bcdee43b1eb3c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jun 9 02:19:10 2005 +0000

    Bug #1880: Remove unused xnestConfineWindow. (Mark McLoughlin)

commit 0f7136191b54e587b66958985e14d8b0687c5ee1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jun 9 02:03:50 2005 +0000

    Bug #3434: Don't define fbAddTraps twice. (Mike A. Harris)

commit e7fec996eb43a0bea94a37d329e3902299e6e895
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Jun 8 16:13:11 2005 +0000

    Merge from CYGWIN Added layout "French (Canada)" as ca_enhanced Added Czech
        (QWERTY) layout
    Merge from CYGWIN Print error code if winStoreColorsShadowDDNL fails

commit d0d164e6daf6c1d8afe8099fb6187d8a74ff652b
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Jun 8 09:01:41 2005 +0000

    Fix crash reported by yvind Harboe

commit d146c41882e50dd1ed6022f8a5866514067ba9d2
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Jun 7 08:53:40 2005 +0000

    GLX improvements and remove use of pbuffers for offscreen rendering in Xgl

commit 8237b31f60245a8e67735d6c231dfb7dd0bbc388
Author: Jon Smirl <jonsmirl@yahoo.com>
Date:   Mon Jun 6 04:06:38 2005 +0000

    Keyboard sort of works now with evdev

commit c5026577cbc70c7365a9c81b2775136b45c850d2
Author: Jon Smirl <jonsmirl@yahoo.com>
Date:   Sun Jun 5 17:32:41 2005 +0000

    Create a default colormap

commit 021a5cd170051aae25cf61651d07b47a4df31ab4
Author: Jon Smirl <jonsmirl@yahoo.com>
Date:   Sun Jun 5 01:58:41 2005 +0000

    Enable egl server in automake
    --enable-xeglserver

commit aa959672863aad71c807d6c09938bb296c347bcf
Author: Jon Smirl <jonsmirl@yahoo.com>
Date:   Sat Jun 4 23:33:03 2005 +0000

    Initial Xegl check-in. Works on EGL fbdev driver Input is totally broken.

commit 88d49bed008264092245c4f6c53174f93f6ab387
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Jun 3 21:49:11 2005 +0000

    Need to set initial screen size at device open time too.

commit 0d206e177f46eedfffd8f88e985efdfaf117021c
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Jun 3 08:12:22 2005 +0000

    Backout last winRaiseWindow patch which caused stacking problems

commit 2fc290f646eb48f3c20ccff98355c2d082569160
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Jun 1 17:45:17 2005 +0000

    Solaris VUID mouse protocol updates:
    - support for mouse-like devices that report absolute coordinates
    - support for mouse-like devices that need to know screen size so they can
        scale absolute coordinates to screen size
    - fix 3-button emulation

commit 8537146e3662cdc66ef4692bfd3886a676096fb8
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon May 30 18:44:55 2005 +0000

    Bug #3368: Cosmetic cleanup to DIX export list.

commit 547c47aaea9f31f7c873376b0db859c1c1d3d918
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon May 30 18:36:19 2005 +0000

    Bug #3407: Clean out ancient #ifdef X11R5 conditionals.

commit cebd7348d271591b7ebeebe3b332f835cfa8a068
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat May 28 00:08:03 2005 +0000

    Change hardcoded /usr/X11R6 to PROJECTROOT. Change hardcoded XF86Config to
        XCONFIGFILE.

commit 1cb18a4bad565d1f783a4cefb3ed467699051068
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed May 25 12:14:29 2005 +0000

    Workaround bug in pthread.h

commit 62343f5162066f19ca6e62d1c85a4a40d45b3295
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun May 22 01:12:49 2005 +0000

    Bugzilla #2800 <https://bugs.freedesktop.org/show_bug.cgi?id=2800> Xevie
        extension crash with signal 11 on keyboard Bugzilla #1205
        <https://bugs.freedesktop.org/show_bug.cgi?id=1205> Xevie client
        receives two KeyPress events on consumed keys when XKB is enabled
    Patch #2223 <https://bugs.freedesktop.org/attachment.cgi?id=2223> Fixes for
        both of these and some other Xevie bugs (Derek Wang - Sun Microsystems)

commit a8a61bbe22361b12d4a2dd511894987a338e3eef
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat May 21 07:46:38 2005 +0000

    Initial experimental support for AMD64 builds on Solaris 10 x86. Improved
        support for 64-bit SPARC builds on Solaris as well.

commit ef4401ff8a8c4d7c22ef6af7bf47ccb24f83967f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu May 19 18:53:51 2005 +0000

    Bug #3334: Clean up remnants from the PEX, XIE, and BEZIER extensions.

commit 1e51e18382de61a67027759eccee9ccbb0924304
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu May 19 01:25:02 2005 +0000

    Wed May 18 21:20:35 2005 Søren Sandmann <sandmann@redhat.com>
    s/dst/src that I missed in the previous patch. Pointed out by Owen Taylor.

commit be3875994d7778ffad0cd957a4bd1500bf58ac2c
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed May 18 20:49:31 2005 +0000

    Wed May 18 16:47:44 2005 Søren Sandmann <sandmann@redhat.com>
    Actually assign the computed results. (Reported by Michael Dänzer, patch
        by Owen Taylor).

commit 07d1e9ae5f0da65427ac52f065b173d340d70d6d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed May 18 19:44:35 2005 +0000

    Bug #3066: Promote frameBufferPhysicalAddress to pointer from CARD32; bump
        DRIINFO version to match. Fix various pointer printfs in libdri to be
        64-bit aware. Silence a warning about redefining noXFree86DRIExtension.
        (Jesse Barnes)

commit b87a32fb0eafa6d5f12a6faa634662c71fdc97fa
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed May 18 17:47:35 2005 +0000

    Bug #3163: Create new DRIINFO_*_VERSION macros to indicate the version
        number of the DRIInfoRec, disambiguating it from the XF86DRI protocol
        version number. Modify DRIQueryVersion to return the libdri version
        number, which all DDXes were requesting implicitly. Fix the DDXes to
        check for the DRIINFO version they were compiled against.

commit fddcde777f50611099d8888456d93be7e566c84e
Author: Egbert Eich <eich@suse.de>
Date:   Wed May 18 15:38:50 2005 +0000

    VBESetVBEMode() calls int10 0x4f02 to set a VBE video mode. This can be a
        standard mode solely determined by the mode ID or it may be a detailed
        mode with almost arbitrary mode parameters. The mode parameters are
        passed to the BIOS in a memory area pointed to by es:di. If bit 11 in
        the video mode is set this memory area is evaluated. When we don't have
        such an area (passed to VBESetVBEMode() this function should unset this
        bit for sanity reasons. (Bugzilla #3329)

commit f28d644d9fb1feeab1bbb3d5e68255bfa20905d8
Author: Zack Rusin <zack@kde.org>
Date:   Wed May 18 14:24:14 2005 +0000

    rewrite the rootless compositing code (1) compiles which is already a huge
        improvement ;) , 2) matches the new render composition semantics)

commit bbbb0a3a84bf21f5120c73ef387d6190154c0f65
Author: Egbert Eich <eich@suse.de>
Date:   Wed May 18 10:31:53 2005 +0000

    Avoid segfaults if the number of user supplied monitor ranges exceed the
        number of preallocated slots. We should really make this dynamic - but
        I don't think this ever caused a problem so it's more or less academic.
    A. Avoid that *SyncStart starts before *BlankStart. If *BlankStart >
    *SyncStart it is made = *SyncStart and its width is made maximal but such
        that the blank does not exceed *Total. Since the Sync width has the
        same restrictions as the Blank width monitors should still be able to
        clamp after the sync pulse. B. Over time mode validation has become
        inconsistent when people started to add additional features to the mode
        validation. One such feature is that the mode->Crtc* values have been
        (ab)used to allow the driver ValidMode() function to pass driver
        normalized timing values back to the validation function. The
        introduction of these features made the code less readable and created
        numerous possibly unintended side effects in the validation semantics.
        I've attempted to consolidate these changes making the code more
        consistent and eliminating a number of side effects. This should not
        cause problems for the majority of drivers, still it should receive
        testing - especially with ATi Mach64 and Radeon code. (Bugzilla #3325).

commit a90af4a2e6e38cbe20af13aaa7822836c01290ae
Author: Thomas Hellstrom <unichrome@shipmail.org>
Date:   Sun May 15 17:45:47 2005 +0000

    Bug 2750: Prevent mtrr_remove_offending from ending up in an endless loop
        if the offending region refuses to be removed.

commit f58a54668b96884ece6ecbff732e880677d5d19e
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat May 14 20:13:45 2005 +0000

    Change return statements to fix compiler errors: "fbcompose.c", line 2815:
        void function cannot return value "fbcompose.c", line 2861: void
        function cannot return value

commit a9d820b454bbb418d04e1d3c3d5d4dd10d7bb3af
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri May 13 22:53:44 2005 +0000

    - For now put xtrans in X11/Xtrans/X11, since libX11 is looking for it in
        <X11/...>
    - For Xcomposite and Xdamage, don't link the build system out of the xc
        tree
    - Link the public X11 headers into their own directory
    - Add links to XKeysymDB and XErrorDB
    - Add links to all the Xlib man pages
    - Add links to the lcUniConv subdirectory
    - Conditionally include config.h in Xlib source

commit 8993e70d8da89e130455369ccb504b3adea5344f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue May 10 00:12:17 2005 +0000

    Bugzilla #2561: Disable some keycode translations on PC98, which had
        various bad effects including modifier keys not working.

commit e78abf3bdfbf5fc13fbc5b1d3ec00e9484297b89
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon May 9 23:42:26 2005 +0000

    Bugzilla #2429: Correct the sysarch prototype for FreeBSD/alpha.

commit 3f1a1551df2a9f45b3b8821f3f168d4dc8b8b438
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon May 9 23:26:02 2005 +0000

    Increase the maximum number of buttons from 12 to 24. Helps with
        button-happy mice like the Logitech MediaPlay. (Bugzilla #2390)

commit eca5dff173d5af0a31bbf84579909b88a86e4c92
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon May 9 12:46:53 2005 +0000

    Render performance improvements. (Lars Knoll, Zack Rusin)

commit 2de24db63eb65974ac547facf2a99aa4709d54b3
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun May 8 23:34:15 2005 +0000

    Render performance improvements. (Lars Knoll, Zack Rusin)

commit 2c9b1e337b2e82e10909f62e8cd8c2c7a402fdd8
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sun May 8 21:14:55 2005 +0000

    Only call ConfigureWindow from winRaiseWindow if the windows message
        dispatch loop is running.

commit 78e4cb67d0f595f4fba5e98a9fa46de044556905
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Fri May 6 00:45:30 2005 +0000

    Fix build issues on Mac OS X 10.4.0.

commit d5739efd2c266081ed6b844767dcdd0a3331bfd3
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed May 4 04:14:58 2005 +0000

    Port X.Org to FreeBSD/powerpc. This makes a bit of math for sysmouse in
        mouse.c explicitly signed, avoiding the need for -fsigned-chars. (Peter
        Grehan, grehan at FreeBSD dot org)

commit 6700847458427cbdbaf837ab06bfea9b80d92df2
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Mon May 2 22:01:08 2005 +0000

    Fix comments for pointers in parameter lists to work with fussy compilers

commit e50ab8feade400efd8e88ee0b2deeb924f169034
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Mon May 2 21:57:32 2005 +0000

    Fix message type (respose->response) and fix */*comment*/ blocks to work
        with fussy compilers.

commit baa0cfc15442287557e44fa2614d89ab0b5c2539
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon May 2 14:07:31 2005 +0000

    Print correct logfile in FatalError message

commit bc977945a53206d70ef9817d6ede4137eb5f7e3c
Author: David Reveman <c99drn@cs.umu.se>
Date:   Mon May 2 00:33:52 2005 +0000

    Set stencil size for Xgl GLX visuals

commit 5b4462ed9bbb17212dd57617cb7e837142b6270a
Author: David Reveman <c99drn@cs.umu.se>
Date:   Sun May 1 22:55:25 2005 +0000

    New algorithm for calculating glyph extents in Xgl

commit e4b33f4e91a5379c99ecf78ffb6a3e836cb42491
Author: Egbert Eich <eich@suse.de>
Date:   Wed Apr 27 15:42:15 2005 +0000

    Catch SIGCHLD in OsBlockSignals() too to make sure this signal doesn't
        intercept reading the authority file (Fabian Franz, Bugzilla #3137).

commit 246b14cb29250517912d9c661ab037a953f4bbf4
Author: David Reveman <c99drn@cs.umu.se>
Date:   Wed Apr 27 10:34:33 2005 +0000

    Minor optimization

commit 28a2d841cee596c0242b1649587d6b180529c0ef
Author: David Reveman <c99drn@cs.umu.se>
Date:   Wed Apr 27 09:29:33 2005 +0000

    Line drawing improvements to Xgl

commit abcc8c352e5fe6dd3b7ce5c6a25f435f877264c3
Author: David Reveman <c99drn@cs.umu.se>
Date:   Wed Apr 27 08:45:16 2005 +0000

    Fix typo

commit 8bc5a387c365d6367813eac374150440d0edbf6e
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Apr 26 11:04:23 2005 +0000

    Add glCopy operation and glPushAttrib/glPopAttrib support to Xgl GLX

commit f010131a1964b5ec35f3b333ffa7459c38f8ce45
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 26 06:12:07 2005 +0000

    xc/programs/Xserver/Xprint/Init.c
    //bugs.freedesktop.org/show_bug.cgi?id=2879) attachment #2556
        (https://bugs.freedesktop.org/attachment.cgi?id=2556) Refix for bug
        2879 - downgrade 15bit PseudoColor to 14bit - the current datatype for
        the |ColormapEntries| is a |signed short| which is too small for
        |32768| colors (=integer overflow).

commit ba24ae89d33fbf3aacb8bbaf920d7436b77fda46
Author: David Reveman <c99drn@cs.umu.se>
Date:   Mon Apr 25 17:18:01 2005 +0000

    Add scissor based clipping to Xgl GLX

commit 07cc29cf69ff1e079efe3c9bfc55e8ac0f9bac93
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 25 00:25:39 2005 +0000

    Bug #2138: When the server is built with MakeDllModules YES, prefer
        dlloader modules to elfloader modules, and vice versa when
        MakeDllModules is NO. Based on 028_loader_speed_hack.diff from Ubuntu
        (Daniel Stone).

commit 6c37648754c9bd901adecf8d38f9bb46db65efad
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Apr 25 00:11:21 2005 +0000

    Bug #2141: Rework misleading warning message when APM support is
        unavailable. (Previous patch on 2005-04-14 changed the wrong message.)

commit a369d390a87ab0189c465be6cfd914e4b9329691
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sun Apr 24 01:10:12 2005 +0000

    xc/config/cf/X11.tmpl
    xc/programs/Xserver/Xext/Imakefile
    xc/programs/Xserver/dix/Imakefile
    xc/programs/Xserver/dix/main.c
    xc/programs/Xserver/dix/xpstubs.c
    xc/programs/Xserver/mi/miinitext.c
    //bugs.freedesktop.org/show_bug.cgi?id=2792) attachment #2526
        (https://bugs.freedesktop.org/attachment.cgi?id=2526) bug 2792 part II:
        Make Xprint headers in dix/, mi/, os/ and Xext/ conditional on whether
        the Xprint extension is build or not. Patch by Egbert Eich
        <eich@freedesktop.org> and Roland Mainz <roland.mainz@nrubsig.org>.

commit 13fcfee37305f46e95ff81d7d5eec4d88a63a63b
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sat Apr 23 22:55:40 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=3118) attachment #2525
        (https://bugs.freedesktop.org/attachment.cgi?id=2525) Get Xprint server
        working again which was broken by the
    05/04/20 05:49:46 commit commit (the CPP symbol |XPRINT| is not universally
        available when building the Xserver and should be used with care).

commit 39eb2797183bf871a2dd01bff63dd35c146471f5
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Apr 23 19:16:10 2005 +0000

    Bug #3016: Don't complain as loudly about failing to load a module that's
        already loaded.

commit 139f900c56a6f44df2b411fe4bbc025a147e3abe
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Apr 23 19:01:13 2005 +0000

    Bug #3109: Handle R_ALPHA_BRSGP relocations in elfloader. (Sergey Tikhonov)

commit 0e80fe0e607cc73856332563becd70ef92d1aa75
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Apr 22 22:11:26 2005 +0000

    Clean up formatting, projectroot substutition, and grammatical nits.

commit dcfb97204b021738c0ee9f1f8f40243dfa0b2ce0
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Apr 22 22:04:37 2005 +0000

    Work around clash between Solaris headers and module loader headers over
        definition of FILE.

commit 07bd7df6a6a07834277b4bf505db6727841e1153
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 22 20:49:50 2005 +0000

    Bug #3069: Drop the BuildLowMem hack, it doesn't compile and isn't useful.

commit d450a70e00b50427ecb2065d3cc44f43d102cade
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 22 17:45:14 2005 +0000

    Bug #2373: SGI Altix platform support. (Shrijeet Mukherjee, Jesse Barnes,
        Bjorn Helgaas, Egbert Eich.)

commit 16c2499b8f5c2405e36c7d5a922bb0b150df1762
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 22 16:49:22 2005 +0000

    Bug #2373: SGI Altix platform support. (Shrijeet Mukherjee, Jesse Barnes,
        Bjorn Helgaas, Egbert Eich.)

commit 8565b6c0e2851cc3f194ba72d3db02a4e2976528
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Apr 21 00:31:31 2005 +0000

    Change xf86bigfont.h include to X11/extensions/xf86bigfont.h.

commit b241c703a2c4164420dd26ee11f583bbf9cfe0f3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Apr 21 00:31:13 2005 +0000

    Change keymap.h includes to X11/keymap.h

commit 44528218d5ca75b842e4cefd8fdc58be2f35f0f4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 23:33:53 2005 +0000

    Change dmxext.h and dmxproto.h to <X11/extensions/...>.

commit efa9d5f4757bfc0588cee361bcc78dd8a09efa62
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 23:11:12 2005 +0000

    Change "eviestr.h" to <X11/extensions/eviestr.h>.

commit db5bd04097fd815ab6523f187679682a5e5047fa
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Apr 20 16:40:52 2005 +0000

    Fix includes right throughout the Xserver tree:
    apply changes to windows specific includes
    Fix includes right throughout the Xserver tree:
    apply changes to Xdmcp.h

commit 8963a220f36cf0ae2a8a653fd39c983140e29736
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Apr 20 16:34:46 2005 +0000

    warning fix for Win32

commit e6a0820d1b479058bddef66018d321940e79260c
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 15:16:36 2005 +0000

    Change "xf86bigfstr.h" to <X11/extensions/xf86bigfstr.h> for includes.

commit 025724f9f5874159c20ebd705288ec60b960caac
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Apr 20 14:17:35 2005 +0000

    Add missing space after -query hostname

commit 35cd1684622f4528c68e07eea798c33bc4b93667
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 14:16:37 2005 +0000

    Change xf86bigfstr.h to X11/extensions/xf86bigfstr.h for includes.

commit c7c27e61870b42de044b183c854a960582d98dbf
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 13:33:54 2005 +0000

    Change xf86bigfont.h to X11/extensions/xf86bigfont.h for includes.

commit abd246c6c272a2c6f9c37404b2ed439911880e75
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 13:01:55 2005 +0000

    Add glyphstr.h to includes.

commit 956dfa22f6076969776546fb1151e900d8d773a1
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 12:49:46 2005 +0000

    Conditionalise usage of Xprint functions and headers.

commit 2cdfab0ed7eb33a6a50f9b7ec212b498dd8318b5
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 12:42:02 2005 +0000

    Change keysymdef.h to X11/keysymdef.h for include statement.

commit fa5539247d3b246db9ff1469d08167178c85d7ad
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 12:39:28 2005 +0000

    Change Xalloca.h to X11/Xalloca.h for include.

commit 292c4cff26687e6ef86c285b97813ab587daf009
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 12:25:48 2005 +0000

    Fix includes right throughout the Xserver tree:
    change "foo.h" to <X11/foo.h> for core headers, e.g. X.h, Xpoll.h;
    change "foo.h", "extensions/foo.h" and "X11/foo.h" to
        <X11/extensions/foo.h> for extension headers, e.g. Xv.h;
    change "foo.[ch]" to <X11/Xtrans/foo.[ch]> for Xtrans files.

commit c062d7f96f47bdd31640be1fbce682d0774db3d9
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Apr 19 18:21:01 2005 +0000

    Prevent recursive calls to winRaiseWindow.

commit 4e914c5ed7679a1102f3e25af0c087380f834865
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Apr 19 14:51:29 2005 +0000

    Hash texture objects and display lists in Xgl

commit 6bde764de102a56d2c71b971eaa36535e9760b52
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:02:25 2005 +0000

    Added a log pring for the parameters

commit 8594b8f2893e58ae824e140334c18ba3d7467217
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:00:58 2005 +0000

    Added new tuner FM1236MK3 PAL version

commit 7f74e3aebdf79fbca4141e6ffcdad39812df9335
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 22:58:03 2005 +0000

    This is the UDA1380 sound coder-decoder module

commit 7a4e5f4006319e025e3ff561eccc3f1ad6c661a0
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Sat Apr 16 00:21:21 2005 +0000

    Fix cases in Darwin build where a variable is declared static and later as
        extern (XFree86 Bug #1576, Jordan Frank).

commit 4f686f158b00478a3d074128f9e4cb6dc0d928cd
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Apr 15 23:34:39 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=2885) attachment #2434
        (https://bugs.freedesktop.org/attachment.cgi?id=2434) Fix Solaris build
        bustage caused by namespace collision between symbols defined in
        <sys/kbd.h> and those in "xf86_OSlib.h". Patch by Alan Coopersmith
        <alan.coopersmith@sun.com>.

commit 7472fcfdd40e29cd2847e45d4bd2dd11ccc41ff5
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 15 00:18:58 2005 +0000

    Bug #2141: Rework misleading warning message when APM support is
        unavailable.

commit 504067819a4f1a8564dcacc278933f533618b666
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Apr 14 17:51:51 2005 +0000

    Bug #3025: gcc4 build fix.

commit e40db7f26af39a8b1f3675a2c87ce90c4fd59d85
Author: David Reveman <c99drn@cs.umu.se>
Date:   Wed Apr 13 14:27:47 2005 +0000

    Add GLX code to Xgl

commit ddfa6f00da7c80b246b57c592361baa4bc5a8e9d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Apr 13 00:05:37 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=3001) attachment #2404
        (https://bugs.freedesktop.org/attachment.cgi?id=2404) Improve rendering
        performance when glXSwapBuffers()| or |XPutImage()| are called for the
        PostScript DDX via optimizing the codepath around
        |PsOut_OutImageBytes()|. Patch by Simon Toedt <simon.toedt@gmail.com>
        and Roland Mainz <roland.mainz@nrubsig.org>.

commit f45208a7e9c39345ac431c2e7da8777d6c466dcc
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Apr 11 11:06:21 2005 +0000

    update static file from pci.ids

commit b47f39b417cbe220690155a08c6bc18cd7cfa388
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Apr 11 10:57:33 2005 +0000

    import latest pci.ids file

commit 00a551393ce7aa9d2b23634737ced5071e3cdd35
Author: Egbert Eich <eich@suse.de>
Date:   Mon Apr 11 10:54:13 2005 +0000

    Reenable BackingStore in Xvfb.

commit 1fbd38f3b46df62561f8be74cbc05fcf8ad88a21
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Apr 11 10:16:25 2005 +0000

    Added wizard page for clipboard selection and additional server parameters

commit 6848b0353897a6a5d1218b266c22fb87a7c6d730
Author: Egbert Eich <eich@suse.de>
Date:   Mon Apr 11 10:05:38 2005 +0000

    Correct the mask bits when checking for a 64bit memory base in PCI config
        space (bugzilla #2963).

commit adac7011965ed75ea399b93dae917cb48180c77a
Author: Egbert Eich <eich@suse.de>
Date:   Mon Apr 11 09:33:43 2005 +0000

    Preventing hight for drawing from becoming negative when face->dy < 0. The
        height value is used in miFillPolyHelper() to calculate the size of
        memory to be allocated. A negative value will lead to a crash (Bugzilla
        #2690, Keith Packard, Egbert Eich).

commit 5e2080ef93a598c6d68e1b2f446f251ab025b702
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Apr 11 01:06:15 2005 +0000

    xc/programs/Xserver/Xprint/attributes.c
    xc/programs/glxgears/glxgears.c
    xc/programs/xdbedizzy/xdbedizzy.c
    xc/programs/xedit/Imakefile
    xc/programs/xedit/Xedit-xprint.ad
    xc/programs/xedit/util.c
    xc/programs/xedit/xedit.h
    xc/programs/xlogo/print.c
    xc/programs/xlogo/xlogo.c
    xc/programs/xlogo/xlogo.h
    xc/programs/xman/Imakefile
    xc/programs/xman/print.h
    xc/programs/xmore/Imakefile
    xc/programs/xmore/print.c
    xc/programs/xmore/print.h
    xc/programs/xmore/printdialog.c
    xc/programs/xphelloworld/xpawhelloworld/xpawhelloworld.c
    xc/programs/xphelloworld/xphelloworld/xphelloworld.c
    xc/programs/xphelloworld/xpsimplehelloworld/xpsimplehelloworld.c
    xc/programs/xphelloworld/xpxmhelloworld/xpxmhelloworld.c
    //bugs.freedesktop.org/show_bug.cgi?id=790) attachment #2379
        (https://bugs.freedesktop.org/attachment.cgi?id=2379) Implement support
        client+Xserver support for passing output (stdout+stderr) of the
        spooler command started by the Xprint server back to the application
        using the "xp-spooler-command-results" XPJobAttr attribute
        (applications can fetch the attribute value after the XPEndJobNotify
        event was received; more details can be found in
        http://xprint.mozdev.org/docs/dtprint_fspec.ps).

commit 9af443f5976ab3987e4ee9d397391e82206676b4
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sat Apr 9 19:20:03 2005 +0000

    Fix passing of non-RGB visuals. The old code did not initialize the
        structure properly which lead to a crash in 8bpp mode

commit f02440dfa3439ab493c7918b472c23bb22e29707
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Apr 6 15:18:59 2005 +0000

    First import of xlaunch frontend for Xming

commit de5d24a200e4426e458fc447884d1a5b0257faaa
Author: Egbert Eich <eich@suse.de>
Date:   Mon Apr 4 10:17:06 2005 +0000

    Fixed sentinels in Xt, editres and xedit to reduce number of warnings with
        gcc4 (Andreas Schwab).

commit 277ff06e9999f2efe0f082a3565f6279219c13e4
Author: Egbert Eich <eich@suse.de>
Date:   Mon Apr 4 10:11:51 2005 +0000

    Fix typo leading to bogus code in xorgcfg (Andreas Schwab).

commit 7eb6b69ebd945c753ee0988e1a85dffde982446e
Author: Egbert Eich <eich@suse.de>
Date:   Mon Apr 4 09:55:25 2005 +0000

    Support for HP's IPF ZX1 systems (Alex Williamson).

commit 231c00e8fba91b580ec3e2703dd1ceacf13a6624
Author: Egbert Eich <eich@suse.de>
Date:   Mon Apr 4 09:47:07 2005 +0000

    When not using dlopen ia64 needs an extra cache flush to ensure the icache
        is coherent when modules are loaded (Alex Williamson).

commit 55dc930a180553c08d8546cc2078451c20e34934
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Sat Apr 2 02:29:24 2005 +0000

    Fix XDarwin's handling of Wacom tablet mouse buttons (Based on patch
        suggested by Daphne Pfister).

commit 03d126081e5ba57ea2304753289528a896f3baaf
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Apr 1 21:45:20 2005 +0000

    xc/programs/Xserver/Xprint/Init.c
    xc/programs/Xserver/Xprint/ps/Imakefile
    xc/programs/Xserver/Xprint/ps/Ps.h
    xc/programs/Xserver/Xprint/ps/PsArea.c
    xc/programs/Xserver/Xprint/ps/PsColor.c
    xc/programs/Xserver/Xprint/ps/PsImageUtil.c
    xc/programs/Xserver/Xprint/ps/PsInit.c
    //bugs.freedesktop.org/show_bug.cgi?id=2879) attachment #2287
        (https://bugs.freedesktop.org/attachment.cgi?id=2287) Follow-up to
        bugzilla #1299: Add new visuals in the Postscript DDX (including
        TrueColor 16bit, PseudoColor 15bit/12bpg(12 bits per R-, G-, B-channel
        as in PostScript Level 2 (and above) colors can have 12 bits per
        component (36 bit for RGB)), PseudoColor+GrayScale+StaticGray
    12bit/12bpg) and switch the default visual from PseudoColor 8bit/8bpg to
        PseudoColor 12bit/12bpg.

commit fe37cc7e7b3036e538930c16bbdb39a7915b1685
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Fri Apr 1 21:28:50 2005 +0000

    programs/Xserver/hw/xfree86/loader/xf86sym.c
    programs/Xserver/hw/xfree86/os-support/shared/libc_wrapper.c Fix setjump0
        declaration for DllLoader.

commit ef60998a828951e61f1480e29c2fec62e7454bbc
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Apr 1 20:21:38 2005 +0000

    bugzilla #2880 (https://bugs.freedesktop.org/show_bug.cgi?id=2880)
        attachment #2285 (https://bugs.freedesktop.org/attachment.cgi?id=2285)
        Use system method to access PCI config space.

commit 33ab2a2abc8c1e4ca9c7139454c60f5ad8a61a94
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Apr 1 20:05:11 2005 +0000

    Bug #2835: Add symbol exports to support the ReadDisplay extension.

commit cbccac448a1466ab098e8fe5dbfff98264c7260a
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Mar 31 23:18:10 2005 +0000

    - Add new Radeon pci ids (ATI devrel), bug 2827

commit 59d7222b13775efb2159159cc897e7789bdf10b2
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Sun Mar 27 00:17:12 2005 +0000

    Sat Mar 26 19:00:30 2005 Søren Sandmann <sandmann@redhat.com>
    Remove accidentally committed prototype.

commit 476ae15640d2b97cb0ebccab8255ccf728596c62
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Sat Mar 26 23:50:24 2005 +0000

    Sat Mar 26 18:49:21 2005 Soeren Sandmann <sandmann@redhat.com>
    programs/Xserver/fb/fbmmx.h
    New function.
    Hook it up here

commit 0d33b588376a4d86d50ed8b7e06eaf0dbd8c5ba5
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Mar 25 23:11:14 2005 +0000

    xc/programs/Xserver/Xprint/ps/Imakefile
    //bugs.freedesktop.org/show_bug.cgi?id=2821) attachment #xxx
        (https://bugs.freedesktop.org/attachment.cgi?id=xxx) Remove the cfb
        dependicy from the PostScript DDX as this is not needed in a vector DDX
        (mfb is still needed to fill the |BitmapToRegion()| callback with
        |mfbPixmapToRegion()|).

commit 5f320335c3a8148ae98f82a00ff44954197f4251
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Wed Mar 23 21:09:48 2005 +0000

    bugzilla #2194: fix an alignement problem on 64 bit architectures.

commit f4e9f522fe8bec3dd6294d062c2244a06623add3
Author: Thomas Hellstrom <unichrome@shipmail.org>
Date:   Wed Mar 23 21:03:41 2005 +0000

    Bugzilla #2750 (https://bugs.freedesktop.org/show_bug.cgi?id=2750)
        Linux-only fixes: Fix case where a smaller write-combining region
        blocks write-combining setting of the whole frame buffer. Fix bug in wc
        setting code when regions are first splitted and setting of
        write-combining then fails.

commit 1be6e2388bcc5835ab62f0855d443fb508697deb
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Mar 23 20:49:52 2005 +0000

    xc/programs/Xserver/hw/vfb/InitOutput.c
    //bugs.freedesktop.org/show_bug.cgi?id=2791) attachment #2197
        (https://bugs.freedesktop.org/attachment.cgi?id=2197) Add support for
        12bit PseudoColor and 30bit TrueColor to Xvfb.

commit 26aec10adad51deb35a8398abb884d90be077a6b
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Mar 23 19:58:45 2005 +0000

    xc/programs/Xserver/Imakefile
    xc/programs/Xserver/Xprint/DiPrint.h
    xc/programs/Xserver/Xprint/Imakefile
    xc/programs/Xserver/Xprint/Init.c
    xc/programs/Xserver/Xprint/ddxInit.c
    xc/programs/Xserver/dix/Imakefile
    xc/programs/Xserver/dix/main.c
    xc/programs/Xserver/dix/xpstubs.c
    xc/programs/Xserver/os/Imakefile
    //bugs.freedesktop.org/show_bug.cgi?id=2792) attachment #2193
        (https://bugs.freedesktop.org/attachment.cgi?id=2193) Fix build bustage
        when |PrintOnlyServer| is set to |NO|. Patch by Roland Mainz
        <roland.mainz@nrubsig.org> and Julien Lafon <julien.lafon@gmail.com>.

commit ac18f8e308221af368fd4153b4eee7b89f8dd4bc
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Mar 23 00:32:49 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=2789) attachment #2187
        (https://bugs.freedesktop.org/attachment.cgi?id=2187) Fix Xvfb to honor
        the "-dpi" option (instead of using a hardcoded value of 100DPI).

commit 45bcb8e22ad949c456368b7d4f4226110f8b5cfc
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Mar 22 21:30:43 2005 +0000

    Bug #1821: Typo fix in xorg.conf man page (Jens Schweikhardt)

commit cc95e597b51f06e835c6a9def1bc6681029bf41e
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Mar 22 17:49:14 2005 +0000

    Tue Mar 22 12:47:16 2005 Søren Sandmann <sandmann@redhat.com>
    Only validate the source if it is a viewable window. Stops the cursor
        flickering when it is above an unviewable window.

commit 1d68ede0eed62b48354a954a62fca98aa2ce9d2d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sat Mar 19 20:51:34 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=2771) attachment #2148
        (https://bugs.freedesktop.org/attachment.cgi?id=2148) Remove RENDER
        extension from exclusion list for the standalone print server (Xprt) to
        get this extension enabled if the print DDX support it.

commit 64f1b3fe7e85245865666607d7b32ef7807df08f
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Mar 18 22:36:47 2005 +0000

    Add support for production version of ATI RN50/ES1000. (ATI Technologies
        Inc.)

commit 36dcc9bb1d51fb8c0d67c7e15700e3473a06e47b
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Thu Mar 17 01:12:07 2005 +0000

    Fix build on stock Mac OS X: Out of the box, Mac OS X does not include
        Freetype2, Expat, or PNG. Also global variables should be initalized in
        the Xserver.

commit 82f5a127522e48ff7ff78400eadbce0a5a362064
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Mar 16 21:25:43 2005 +0000

    Wed Mar 16 16:17:43 2005 Søren Sandmann <sandmann@redhat.com>
    Only validate the source if it is a viewable window. Stops the cursor
        flickering when it is above an unviewable window.

commit 226c0907d4327a440fb0ac5380a19538ffdc6fa0
Author: David Reveman <c99drn@cs.umu.se>
Date:   Wed Mar 16 21:05:51 2005 +0000

    Add cursor support to Xglx

commit 7109ae147c3a9d243d11f386cfbcfbf7b4ea7918
Author: David Reveman <c99drn@cs.umu.se>
Date:   Wed Mar 16 20:05:19 2005 +0000

    Fix a few problems in Xgl

commit 04ccba4d40bef6cee902b118598272f26eebb1df
Author: Egbert Eich <eich@suse.de>
Date:   Wed Mar 16 12:16:06 2005 +0000

    Don't fail calling function when DriverFunc() for RandR fails as
        DriverFunc() also returns FALSE when the specific sub function isn't
        supported. In the case of xf86RandRGetInfo() we simply rely on what has
        been set before and return TRUE. In the case of xf86RandRSetConfig() we
        only bail with FALSE if we have to do a rotation and the call fails. We
        presently cannot do rotation on the fly without the help of a driver
        function (Bugzilla #2745).

commit 1011762254b41db5ce67cb652a2d4965efd7ec20
Author: Egbert Eich <eich@suse.de>
Date:   Wed Mar 16 11:54:54 2005 +0000

    Make message that gets printed when loader encounters a .o with no symbols
        less conspicuous.

commit 816606b9eabee334ce6e0b79e8aa67544f428c19
Author: David Reveman <c99drn@cs.umu.se>
Date:   Fri Mar 11 12:26:20 2005 +0000

    Return early from xglFillRect when no rectangles should be filled

commit 4de5aa428514f2cacc60d4708dad996dedee1092
Author: David Reveman <c99drn@cs.umu.se>
Date:   Fri Mar 11 00:58:49 2005 +0000

    Use negative stride and PBOs in Xgl

commit 8653db5d57199d53c9b2b993c35a7b70c8949989
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Mar 10 20:05:46 2005 +0000

    Force rebuilding of window stack if a window changes it's state from
        minimized.

commit 522628f25b4a075c8daf547991ea5b80c5efe9c7
Author: Egbert Eich <eich@suse.de>
Date:   Tue Mar 8 10:26:59 2005 +0000

    Adding more errnos to the libc wrapper (Bugzilla #2672).

commit db7c9d349b86216ed00888181c64ab707fbe18d4
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Mar 8 09:27:09 2005 +0000

    Return early from xglCopy if fall-back is more efficient

commit e09d1d2ae3ccd59408b1dc6f264897ae12dfa2b8
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Mar 8 09:12:17 2005 +0000

    Better ShmPutImage support in Xgl

commit 5d9885c5b95286c8d7f777c7232283e8b1e81d1b
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Mar 8 09:03:38 2005 +0000

    Minor improvement to CopyArea in Xgl

commit 51155ca68bf7539bd3ace2ac068a2be1fbcf400c
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Mar 8 08:48:22 2005 +0000

    Improve Xgl offscreen memory manager

commit e26a096cb662700387c7b43289d1f6f7ab4a0aac
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Mar 8 08:30:47 2005 +0000

    Fix Xgl glyph caching

commit 8d0e520721ab7697d2d4f639425499b79c61b43f
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Mar 7 23:02:59 2005 +0000

    xc/programs/Xserver/dix/atom.c
    xc/programs/Xserver/dix/colormap.c
    xc/programs/Xserver/dix/cursor.c
    xc/programs/Xserver/dix/devices.c
    xc/programs/Xserver/dix/dispatch.c
    xc/programs/Xserver/dix/dixfonts.c
    xc/programs/Xserver/dix/dixutils.c
    xc/programs/Xserver/dix/events.c
    xc/programs/Xserver/dix/extension.c
    xc/programs/Xserver/dix/gc.c
    xc/programs/Xserver/dix/glyphcurs.c
    xc/programs/Xserver/dix/grabs.c
    xc/programs/Xserver/dix/main.c
    xc/programs/Xserver/dix/pixmap.c
    xc/programs/Xserver/dix/privates.c
    xc/programs/Xserver/dix/property.c
    xc/programs/Xserver/dix/resource.c
    xc/programs/Xserver/dix/swaprep.c
    xc/programs/Xserver/dix/swapreq.c
    //bugs.freedesktop.org/show_bug.cgi?id=2560) attachment #2037
        (https://bugs.freedesktop.org/attachment.cgi?id=2037) ANSI-fy
        Xserver/dix code. The conversion preserves the comments which annotate
        variables. These have been moved into doxygen(esque?) "stubs" above
        each function. Patch by Mike Owens <etc@filespanker.com>.

commit cb0aa2b4d8875f1ea66e720ca7c6cc2f403be26a
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Mar 7 22:26:59 2005 +0000

    Prevent winRaiseWindow from calling ConfigureWindow if the message was sent
        from within winDestroyWindowsWindow
    DestroyWindow send a WM_WINDOWPOSCHANGED to another window causing a
        restacking of all windows, even of the window which is just about to
        destroyed and whose structures may not be intact anymore.

commit 978f3b496b9951ee8120a0efcc5cd12503e26770
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sat Mar 5 21:38:29 2005 +0000

    xc/programs/Xserver/Imakefile
    xc/programs/Xserver/hw/xnest/Imakefile
    //bugs.freedesktop.org/show_bug.cgi?id=2653) attachment #2020
        (https://bugs.freedesktop.org/attachment.cgi?id=2020): Cleanup Xnest
        usage of the DPMS dummy stub functions from dpmsstubs.c instead of
        using it's own copy of these functions.

commit 602209990dbbc96b4c5a96e2221a418cf29e613d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sat Mar 5 20:47:12 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=2543) attachment #2019
        (https://bugs.freedesktop.org/attachment.cgi?id=2019): Fix
        |xf86SignalHandler()| which resets the signal handler before setting
        the flag indicating a signal has been caught, theoretically allowing
        the possibility of infinite recursion. Patch by Andrew Church
        <xzilla@achurch.org>.

commit d995fe631a5706de93a05fda498333442af3d207
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Mar 2 14:21:40 2005 +0000

    xc/programs/Xserver/hw/xnest/Screen.c
    xc/programs/Xserver/hw/xnest/Window.c
    //bugs.freedesktop.org/show_bug.cgi?id=2546) attachment #2005
        (https://bugs.freedesktop.org/attachment.cgi?id=2005): Fix Xnest to
        update the shape regions in the backend server whenever a client
        changes them in Xnest (the fix is to add a new wrapper which calls
        |xnestShapeWindow()| before calling |miSetShape()|). Patch by Mark
        McLoughlin <mark@skynet.ie>

commit 3f79c5eefc0d62d3a9b095472cd75b446ba2a56e
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Mar 2 11:20:30 2005 +0000

    xc/config/cf/DragonFly.cf
    xc/config/cf/Imake.cf
    xc/config/cf/Imakefile
    xc/config/imake/imake.c
    xc/config/imake/imakemdep.h
    xc/extras/drm/shared/drm.h
    xc/include/Xos_r.h
    xc/lib/xtrans/Xtranssock.c
    xc/programs/Xserver/hw/xfree86/os-support/xf86_OSlib.h
    xc/programs/Xserver/hw/xfree86/os-support/xf86_libc.h
    xc/programs/Xserver/hw/xfree86/os-support/linux/lnx_agp.c
    //bugs.freedesktop.org/show_bug.cgi?id=1712) attachment #2004
        (https://bugs.freedesktop.org/attachment.cgi?id=2004): Add support for
        DragonFly/BSD platform. Patch by Jeroen Ruigrok <asmodai@tendra.org>
        and Mike Verona <firedragonfly@gmail.com>.

commit 6c6151b2339a05c60ec58e013f915f79a3f9d756
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Mar 1 18:58:17 2005 +0000

    If a context is already attached copy it instead of reattaching to keep
        displaylists and share displaylists Enable tracing of often called
        functions with GLWIN_ENABLE_TRACE ForceCurrent is a no-op now

commit d323c4f59a653f364164d2a57fbbd102306a6ee9
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Mar 1 16:57:54 2005 +0000

    Minor improvement to pixel transfers in Xgl

commit 2d2c1732620a83215983ee7a7dd469a1a85fcc12
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Mar 1 16:34:31 2005 +0000

    Add dither support to Xgl

commit b4b27e9eaa43401ae70e5d03823012bf8c78848f
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Feb 28 20:45:15 2005 +0000

    Force DPMS normal on screen enable
    Add placeholder for bit used to redirect input
    Add macrovision register defines

commit 409c0618bced6df02eed7af77107ff74508c0f3f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Feb 24 22:53:17 2005 +0000

    on WM_WINDOWPOSCHANGED raise window directly and in sync without utilizing
        the async windowmanager thread. Fixes some restacking problems occuring
        which were timing dependent Do not raise the window on WM_ACTIVATE
        Removed unused code for WM_WINDOWPOSCHANGING ESC is debug key. Print
        status but do not abort processing the message

commit 775efdbd79448040b822fcc0556e98d3968ba8c3
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Feb 23 19:17:10 2005 +0000

    Bugzilla #2599 (https://bugs.freedesktop.org/show_bug.cgi?id=2599)
        attachment #1964 (https://bugs.freedesktop.org/attachment.cgi?id=1964):
        move miScreenInit in front of pScreen->function initializations to
        prevent it from resetting ClipNotify.

commit c4b3fcda98a92c204534f04bd386ace5d3620d86
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Feb 21 03:44:10 2005 +0000

    Move the draw tracing supplies into ati_draw.h, and do some touchups on it.
        (When tracing drawing, I want to know what I'm drawing to, at a
        minimum).

commit de34b0eefc9f8a29147659454398cabb187c7cb6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Feb 21 03:05:55 2005 +0000

    Extend the filter support to R200, and do the check for filter settings in
        Check rather than Prepare, to avoid migration of things we won't be
        able to accelerate.

commit 535c178286f94cc593b6cda753bbeb9b7cf6df4c
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Feb 18 19:55:35 2005 +0000

    Bug #2576: Add support for ATI RN50/ES1000. (ATI Technologies Inc.)

commit 2f07222106358a02f56bf1e344d1fbf7ead14cbd
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Feb 18 17:52:48 2005 +0000

    Bug #2455: Make x86emu handle JNL correctly. (David Wong)

commit 01b156240ce66703b38a67ee3cfbb475352cdf68
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sat Feb 12 14:55:24 2005 +0000

    winmultiwindowwindow.c
    winmultiwindowwndproc.c
    Cleanup some message debugging

commit 8df7126f09d6d7cb35a5912a71531cad28ba2545
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sat Feb 12 14:47:17 2005 +0000

    win.h
    winfont.c
    winmultiwindowshape.c
    winmultiwindowwindow.c
    winpfbdd.c
    winshaddd.c
    winshadddnl.c
    winshadgdi.c
    Fix incorrect wrapping of functions. Ensure the pointers from pScreen point
        to the called function even if wrapped functions changed it
    Set the window properties to NULL to avoid referencing freed memory because
        of timing problems after deleting a window
    Do not wrap ChangeWindowAttributes. All functions are noops currently

commit 676fdb03f3fb27ac24834aeb895df7d6d6e83f78
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sat Feb 12 14:43:07 2005 +0000

    print window handle in message outout

commit 046bdb17169ecb1361a42ab52043da699590d39a
Author: David Reveman <c99drn@cs.umu.se>
Date:   Fri Feb 11 20:19:20 2005 +0000

    Fixes a few problems in Xgl

commit 35bd81dfec62402f9d6c68d98e651e8cd87a8758
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Feb 11 19:38:04 2005 +0000

    Fri Feb 11 14:28:22 2005 Søren Sandmann <sandmann@redhat.com>
    When COMPOSITE is enabled, call CopyWindow even when the pixels "don't
        move" on screen.
    Don't reject modes that are not supported by the unused monitor.

commit e5ccccfbd45c78c1be5e311b2cb4135a9a27540b
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Feb 11 06:37:38 2005 +0000

    Bug #826: Make xorgconfig respect font installation outside $PROJECTROOT.
        (Donnie Berkholz)

commit e7369daba58bb4fad5cef37fefbd851e59446045
Author: Egbert Eich <eich@suse.de>
Date:   Wed Feb 9 11:12:54 2005 +0000

    Added PCI2Host bus translations for linux PPC and fixed fixed bugs in
        macros that apply these functions (Bill Randle Bugzilla #325 and #327).

commit aab9a8dd99e52297ed9b40c936600429f38fe9ad
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Feb 9 03:56:35 2005 +0000

    Add initial evdev framework

commit a85c33b52c40fbae544c7dd40df8c8968e0cf7e9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 8 22:45:21 2005 +0000

    update Xgl to changes in damage API. Remove some flags to support software
        mesa

commit db2c83551cd3516800b88784c461fb33ee15aacf
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 8 22:43:54 2005 +0000

    hw/kdrive/ati/radeon_composite.c Support linear filtering
    Change how touch screens work -- make them just another 'mouse' device. Add
        unfinished (and unused) code to accelerate tiled fills.

commit 70d3a9192feefd54be93ea71231574c3ed815bf2
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Feb 8 15:20:01 2005 +0000

    Updated fix for ABNT2 and HK_Toggle keys.

commit 384099457e9d938871019ba2e5afc20280328884
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Feb 8 10:15:49 2005 +0000

    Backout ABNT2 and HK_Toggle fix since it broke keys F1 and F4.

commit ea5b09f95d6f25d8b0f8858c36b680055edd0da9
Author: Egbert Eich <eich@suse.de>
Date:   Mon Feb 7 18:16:05 2005 +0000

    Save gs register before calling the vm86_old syscall thru int 0x80. This is
        required for linuxthreads as the TLS uses this register to keep track
        of local thread storage (Bugzilla #2431, J. Scott Berg).

commit 4d55065b35baa7e13f6e726cb9d6675562648000
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Feb 7 15:08:31 2005 +0000

    Moved keyboard layout table to external file.

commit e132cb7590b5518ef1b7fce5f9151beed916fafc
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Feb 7 15:05:39 2005 +0000

    file winlayouts.h was initially added on branch CYGWIN.

commit c12ef1b34a55544f54401a5a66a36cd728e2f944
Author: Egbert Eich <eich@suse.de>
Date:   Mon Feb 7 11:56:31 2005 +0000

    Check the pixel clock choosen for a specific refresh rate against the
        maximally allowed pixel clock when choosing mode lines for
        VBESetVBEMode() and VESA BIOS version >= 3.0 (Bugzilla #2486).

commit 859be7a52b778df8acb676683351a6562a6d4400
Author: Felix Kuehling <fxkuehl@gmx.de>
Date:   Fri Feb 4 01:14:49 2005 +0000

    Applied patch (id=1354) by Mike A. Harris from bug #1901: The attached
        patch updates a couple of PCI IDs for the Savage driver --
        Debian/Ubuntu/Red Hat/Fedora.

commit 5feca068d740b165d3c36a690f5a68b7588b6625
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Feb 3 09:58:47 2005 +0000

    Bugzilla #1865 (https://bugs.freedesktop.org/show_bug.cgi?id=1865)
        attachment #1827 (https://bugs.freedesktop.org/attachment.cgi?id=1827):
        check for va_copy not being defined and use __va_copy if available

commit 3dda2fe0e2e7e4d2c058d32fa8691d12386b978d
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Feb 2 18:06:14 2005 +0000

    Force ShowWindow if XWin was started via run.exe. Fixes mainwindow not
        showing bug

commit e8d3da3c753677cc1ae86bc5a79f2b7eba181d74
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Feb 2 17:17:56 2005 +0000

    Bugzilla #1866 (https://bugs.freedesktop.org/show_bug.cgi?id=1866)
        attachment #1819 (https://bugs.freedesktop.org/attachment.cgi?id=1819):
        Define APIENTRY on windows to prevent <GL/gl.h> from loading
        <windows.h> removed leftovers from attachment #1818

commit 81b862509c87281705f8a8641c28ae2f45f15751
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Feb 2 15:03:44 2005 +0000

    Bugzilla #1866 (https://bugs.freedesktop.org/show_bug.cgi?id=1866)
        attachment #1818 (https://bugs.freedesktop.org/attachment.cgi?id=1818):
        Include Xwindows.h before GL/gl.h on windows to prevent loading
        windows.h which pollutes our namespace with some symbols.

commit b532bfb483cc8ea87c28302e3d676234cab7c3f0
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Feb 2 04:07:04 2005 +0000

    Bug #1294: Make sure RenderAccel hooks get wrapped in XAA init.

commit 44e2d9167943182fea530dfd7ec16aa53db20f4c
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Feb 2 00:55:21 2005 +0000

    xc/programs/Xserver/hw/xfree86/os-support/bus/xf86Sbus.h
    xc/programs/Xserver/hw/xfree86/os-support/linux/lnx_io.c
    //bugs.freedesktop.org/show_bug.cgi?id=825) attachment #956
        (https://bugs.freedesktop.org/attachment.cgi?id=956): Fix build
        problems on Linux/SPARC. Patch by Jeremy Huddleston
        <eradicator@gentoo.org>. Approved in the 2005-01-31 Xorg
        release-wranglers phone call.

commit 15c555a25df76e0e95bc8eaa2ca7ec80a7695a6c
Author: David Reveman <c99drn@cs.umu.se>
Date:   Tue Feb 1 21:22:02 2005 +0000

    Use negative stride for trapezoid masks in Xgl

commit 2f0bdf77dd37d1763c4f4f409d55a6aad6031b9f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Feb 1 18:14:01 2005 +0000

    xc/programs/Xserver/xkb/ddxLoad.c
    Bugzilla #2245 (https://bugs.freedesktop.org/show_bug.cgi?id=2245)
        attachment #1649 (https://bugs.freedesktop.org/attachment.cgi?id=1649):
        cleanup the generation of xkbcomp command lines. Allocate them
        dynamicly and remove unmaintainable length calculation.

commit d3ca132061a861cb9292b5a95dbcb2f67695883b
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jan 31 10:49:30 2005 +0000

    winmultiwindowwindow.c
    Create windows with SWP_NOACTIVATE flag (updated) (Kensuke Matsuzaki)
    Fixes for window ordering problem (updated) (Kensuke Matsuzaki)

commit 374b9aa8ce14cd20a6768519eee63948c83488d6
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jan 31 10:47:32 2005 +0000

    Added hungarian keyboard layout.

commit 8d277ceb22929fcb44f2d4def8c5b70535eb087f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jan 31 10:43:37 2005 +0000

    winmessages.h
    winmsg.h
    winmsg.c
    winmultiwindowwndproc.c
    winwin32rootlesswndproc.c
    Make logging of messages configurable with environment variables

commit 2982d173cad762b801869b7ceacc237afdad88d6
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jan 31 10:32:19 2005 +0000

    resolve SHGetFolderPath dynamicly since it is not available on all Windows
        systems.

commit 8ac3be3f6c4bcaa8c3f6080cbfe72db4967feff8
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Jan 30 21:18:46 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=1692> Remove reference to
        nonexistent Monitors file from xorgconfig (Report & patch from Dejan
        Lesjak <dejan.lesjak@ijs.si>)

commit 206072c475408b8d4cfd75d897854d8478fe0905
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Jan 30 20:12:07 2005 +0000

    programs/Xserver/hw/xfree86/os-support/bsd/bsd_kbd.c Fix option
        dontVTSwitch under *BSD, when XKB is disabled. Bugzilla #2252.

commit 327922f006dcc2e30ec0391d7fa786560fcd1599
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jan 29 01:01:03 2005 +0000

    Update to latest rev from http://pciids.sf.net/
    Remove entries that now duplicate pci.ids Add entries for new Nvidia boards
        added in recent nv driver update

commit d23c46dd3e2cbf84012055bad43b1bb15809a244
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jan 28 16:13:00 2005 +0000

    Modifying X.Org Xserver DDX to allow to run X with ordinary user
        permissions when no access to HW registers is required. For API changes
        which mostly involve the modifications to make the RRFunc (introduced
        with 6.8) more flexible please check Bugzilla #2407. NOTE: This patch
        applies changes to OS specific files for other OSes which I cannot
        test.

commit 1562ec5cc3706acfac1db04366f78e4949ef5502
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Jan 27 20:33:34 2005 +0000

    Functions like glGenTextures and glBindTexture are in OpenGL 1.1 and can be
        resolved at linktime. Fixes tuxkart (at least with wine)

commit 5ca5fe71119f35f1f24aeb49e2608684024d450a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 27 05:25:57 2005 +0000

    Add an OUT_RING_REG macro for use with DMA_PACKET0, which is like OUT_RING
        but includes debugging to ensure that the reg being submitted is the
        one that follows in the packet. Convert most uses of OUT_RING to it,
        and convert a couple of OUT_REG sets to DMA_PACKET0/OUT_RING_REG. Also,
        add checking to see if more registers are submitted to a DMA_PACKET0
        than should be, to avoid hangs during stupid mistakes (checking for
        less isn't done).

commit 0bd459488bf88084d703d801bfd5e79ea6d2b5a5
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 27 03:52:49 2005 +0000

    Move the bailing out due to ATIUploadToScreen() being unfinished up
        farther, so that the traces aren't as confusing.

commit a973af4a9ade68b271d0695898d72aea50d8953b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 27 03:50:48 2005 +0000

    Remove an unused field.

commit 59c7005bb155393c44792d457d98d72e34bb1b51
Author: Egbert Eich <eich@suse.de>
Date:   Wed Jan 26 15:50:17 2005 +0000

    When we tested if a PCI base address was unassigned we didn't take into
        account that this bar could have been the upper part of a 64bit base
        address. This fix makes this code 64bit bar aware (Bugzilla #2382).

commit 7c3dd0a5a76bea2c64972ae19d99775b5a992513
Author: Egbert Eich <eich@suse.de>
Date:   Wed Jan 26 15:45:49 2005 +0000

    Rewrite of RemoveOverlaps() to make the code more readable. It was
        virtually impossible to determine if the old code did what it was
        supposed to do. Also changed paradigm: Trust the based address more
        than the (guessed) size. (Bugzilla #2383)

commit 9817582328cdafee59de616136172c2ce361a4b3
Author: David Reveman <c99drn@cs.umu.se>
Date:   Wed Jan 26 10:58:52 2005 +0000

    Xgl improvements

commit 13b5a93b70839053b9165b5087872164f0612536
Author: Egbert Eich <eich@suse.de>
Date:   Tue Jan 25 10:08:18 2005 +0000

    Fix interpretation of 64bit PCI bases: read hi long word from the right bar
        (Michael Yaroslavtsev, Bugzilla #2322).

commit 8813898ef6b9eb470e079bcdcffa89d1243b63b9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 25 06:04:21 2005 +0000

    Fix R100 text by forcing the 3d engine to idle before executing more 3d
        commands. Add docs for the ISYNC_CNTL register, which doesn't quite do
        what we want.

commit 33155b4fd3ce025d555f07833f96b760d5cdfbd3
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Jan 25 03:37:05 2005 +0000

    Finish converting RB2D_DSTCACHE to RB3D_DSTCACHE. Remove an extra pixel
        cache flush in the idle function. Init an extra reg for r200, and
        annotate the TCL_BYPASS better. Also, clean up some style nits from the
        last commit.

commit 3b1f1508b13520626839d45185dec09a42b9ff71
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 25 02:39:48 2005 +0000

    Add tracing. Hack Radeon cache registers to use 3D addresses. Works on M6

commit 6eaca06dac037851ae5c9575048faf932ad5ffc8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Jan 25 01:40:18 2005 +0000

    Fix a leak of a region when the driver's CheckComposite fails.

commit 8a1bee8ea9a028eef65b8884f73a79fbe84a9f3a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Jan 25 01:38:26 2005 +0000

    Silence a warning about uninitialized variable (though it would be).

commit 67eeede4e16324990e1a6afc237a3f51b8edea39
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jan 24 20:44:49 2005 +0000

    Bug #2004: Make DDC delay slightly longer. (Thomas J. Moore)

commit 55736aa8c17f762b15e9bcd7b3f68f8680b7cb33
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jan 21 14:25:26 2005 +0000

    Alan Cox requested that we check the kernel version before we use kernel
        VGA font save/restore as the required features have been added to Linux
        2.6.11 (Bugzilla #2277).

commit d7263b11f043c8c0f83d6e05095143c70177926b
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 20 20:51:27 2005 +0000

    Reinitialize offscreen memory before enabling cursor on VT switch-to

commit 13c6b2f0b6c464ce11f6c332b2fa1a529bdbab01
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 20 16:22:04 2005 +0000

    Add a set of macros for dealing with the repeated code to wait for a while
        reading a register/attempting DMA. Now it'll wait for a certain number
        of seconds rather than a certain number of times through the loop
        before deciding that it's timed out and resetting the hardware. Also,
        add more timeout handling, and reset the draw state after resetting the
        engine.

commit dbe45c71590ac319250d04a2bf37ec07cd79e42a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 20 07:28:02 2005 +0000

    Use RadeonSwitchTo3D() instead of doing the WAIT_UNTIL ourselves (RST3D()
        also does DC_FLUSH, which may be important).

commit fc43c154943fb1d277a9cffa9a4db7e76db461bc
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 20 07:09:00 2005 +0000

    Add R200 XV support, and make R100 (hopefully) use linear filtering instead
        of nearest. Also, use RadeonSwitchTo3D instead of doing the WAIT_UNTIL
        ourselves.

commit 77755065345eb71c997c1ff74dcfd2b2bbbf1305
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 20 01:09:48 2005 +0000

    Make R200 PDMA work -- primary queue sizes are now 9 bits, not 8.

commit 9bd876768b2165ec3903ad0848ae2ae950330290
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Jan 19 22:23:20 2005 +0000

    Fix debugging ErrorF() so it compiles when DEBUG is true.

commit ff433adba3a643512fdd44e41cd08965fab9c9cb
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jan 19 06:35:28 2005 +0000

    Prefer 32bpp to 24bpp. Fix 16 color planar mode (!)

commit cbcdae5a3f7c4009121f86de52bba6c657f20fff
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jan 17 17:17:45 2005 +0000

    more static server build fixes

commit 79a7120983eff6fa114d4250fe01b62d4a99a612
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jan 16 01:59:23 2005 +0000

    Bug #1895: Fix fbComposeGetSolid for BGR. (David S. Miller)

commit 24cdd188dc3c10b56d6a7b46dafefb16c6d13efc
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Jan 14 22:07:59 2005 +0000

    Fri Jan 14 17:03:40 2005 Søren Sandmann <sandmann@redhat.com>
    Fix from Keith Packard for bitgravity bugs in the Composite extension,
        reported by Amir Bukhari.

commit 7db2e666e2dc9a1dba468e35e9d382e76ed8be54
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Jan 14 21:56:51 2005 +0000

    Fri Jan 14 11:12:46 2005 Søren Sandmann <sandmann@redhat.com>
    Use mmx CopyArea in a few more places.

commit 761f937fdee9ccd10ad54c1f06e12f2f102547a6
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jan 14 19:29:18 2005 +0000

    - Don't suspend Xserver on APM standby request as this seems to cause
        problems on may systems which don't support APM standby and might not
        be required as according to the APM specs the chips should receive
        enough power to retain its state.
    - Print out power state change requests to log file in all verbosity
        levels.
    - Don't change server state if no driver PM function is registered.
        (Bugzilla #2279)

commit 16f9d2d72a2378470e9c5b31c59fa6c9a00892d6
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jan 14 18:42:26 2005 +0000

    Let the OS instead of X save/restore text console fonts on Linux. So far we
        relied on the generic VGA layer to restore text console fonts for us
        when shutting down the server or VT switching back to the text console.
        This has worked rather well but it has some downsides on Linux: a. Many
        people use fbdev as console text mode. In this case it is not necessary
        to save/restore console fonts as the console is running in graphics
        mode anyway. b. Some architectures don't have a fbdev console but
        require a full POST of even the primary card (ie. IA64). This posting
        has to take place before we even have a chance to save anything.
        Therefore the fonts we save are the once written to the chip by POST,
        not what has been programmed by the user. c. Certain chipsets utilize
        the BIOS to perform mode setting. This may interfer with the vga
        save/restore font function in a strange way. It would therefore be
        preferrable to let the OS - which has been used to set up the font in
        the first place - take care of saving/restoring the data. I will attach
        a patch which will do so for Linux. To make this fully functional a
        small patch needs to be applied to the Linux kernel. To disable this
        feature add: #define DoOSFontRestore NO to your host.def. (Bugzilla
        #2277)

commit 6c0b03a2362f33ae24a2f6845ed1418c9af4b8bc
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jan 14 17:14:08 2005 +0000

    Build fixes for static server.

commit df4a1fa9c5cc5d54a9347a2bf4843cae87a942f1
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Jan 14 12:17:10 2005 +0000

    Added copyright notice.

commit 2137bc6eb9f36f4ba999023d83c637024f3a6e4c
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Jan 14 08:37:30 2005 +0000

    xc/programs/Xserver/afb/afbbres.c
    xc/programs/Xserver/afb/afbbresd.c
    xc/programs/Xserver/afb/afbclip.c
    xc/programs/Xserver/afb/afbhrzvert.c
    xc/programs/Xserver/afb/afbline.c
    xc/programs/Xserver/afb/afbmodule.c
    xc/programs/Xserver/afb/afbpixmap.c
    xc/programs/Xserver/afb/afbpolypnt.c
    xc/programs/Xserver/afb/afbpushpxl.c
    xc/programs/Xserver/afb/afbtegblt.c
    xc/programs/Xserver/cfb/Imakefile.inc
    xc/programs/Xserver/cfb/cfballpriv.c
    xc/programs/Xserver/cfb/cfbbitblt.c
    xc/programs/Xserver/cfb/cfbcppl.c
    xc/programs/Xserver/cfb/cfbgc.c
    xc/programs/Xserver/cfb/cfbglblt8.c
    xc/programs/Xserver/cfb/cfbmap.h
    xc/programs/Xserver/cfb/cfbpixmap.c
    xc/programs/Xserver/cfb/cfbscrinit.c
    xc/programs/Xserver/cfb/cfbtab.h
    xc/programs/Xserver/cfb/cfbteblt8.c
    xc/programs/Xserver/cfb/cfbunmap.h
    xc/programs/Xserver/mfb/maskbits.c
    xc/programs/Xserver/mfb/maskbits.h
    xc/programs/Xserver/mfb/mergerop.h
    xc/programs/Xserver/mfb/mfb.h
    xc/programs/Xserver/mfb/mfbclip.c
    xc/programs/Xserver/mfb/mfbfont.c
    xc/programs/Xserver/mfb/mfbgc.c
    xc/programs/Xserver/mfb/mfbmisc.c
    xc/programs/Xserver/mfb/mfbpushpxl.c
    //bugs.freedesktop.org/show_bug.cgi?id=1114) attachment #667
        (https://bugs.freedesktop.org/attachment.cgi?id=667): Convert afb and
        cfb{,16,24,32} to be dlloader-friendly. Patch by Adam Jackson
        <ajax@freedesktop.org>.

commit 61b3c3aef5437f14d413a60da792257b01e9f8fa
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Jan 13 23:07:41 2005 +0000

    Thu Jan 13 17:45:13 2005 Søren Sandmann <sandmann@redhat.com>
    Make sure the pixmap is a valid new resource
    Make sure the context is a legal new resource.
    Handle null attrib_list.
    Handle null attrib_list; copy attrib_list to data; actually allocate the
        new GLXDrawable.

commit 433c38f22fa96486a43dc0c9871cc09875251b34
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Jan 13 20:49:21 2005 +0000

    Thu Jan 13 15:40:29 2005 Søren Sandmann <sandmann@redhat.com>
    Add MMX implementation of non-repeating source IN repeating mask, aka
        "translucent window".
    Add MMX implementation of CopyArea.
    Use MMX implementation of CopyArea.
    Use the new implementations.

commit a303670107f205c6ca76919ca6cd6af6013073f1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Jan 13 01:22:53 2005 +0000

    Bug #2114: PPC64 Linux build fix: use system definition of eieio().
        Originally Gentoo bug #66223. (Tim Yamin, Donnie Berkholz)

commit 15895b411779aa3c14ffb92fb58cd8ec24845ea7
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Jan 12 16:10:00 2005 +0000

    winmsg.c
    Introduce function winTrace which prints log message with verbosity 10
    Use winTrace for 3 heavily called functions

commit 8aabc94596dae0fd4ce2c975de75946685faf2cd
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jan 11 17:33:03 2005 +0000

    Document the -silent-dup-error switch

commit b6301dc41090899b20003eab1356bc09fc5eed1a
Author: Egbert Eich <eich@suse.de>
Date:   Tue Jan 11 14:59:02 2005 +0000

    Minor format fix.
    Added explanatory comment and debug code.
    Added comment.

commit 27fc6874b34d70a7ddae5ed8f516f6cfaab518b8
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jan 11 12:03:34 2005 +0000

    Do not grab ALT-TAB when window is in multiwindow mode

commit d365664c58919edb5e121a7c884384438df79776
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jan 11 11:58:12 2005 +0000

    Fix crash with not matching definitions of PATH_MAX

commit 65b893a707ad8b3e4d0971825c05a965dca36d10
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Jan 10 23:38:50 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=2167) attachment #1641
        (https://bugs.freedesktop.org/attachment.cgi?id=1641): Fix broken
        Solaris print queue enumeration.

commit c6b5a9431178ac7eb90ec498e6830366865d1268
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Jan 10 18:47:55 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=2254) attachment #1659
        (https://bugs.freedesktop.org/attachment.cgi?id=1659): Refix for gcc4.0
        build failure. It seems that the |ExecCommand()| function has no
        consumer and can safely be removed.

commit eb701e9b4481f984fdcfece181126f7424e2bf45
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jan 10 17:54:31 2005 +0000

    winkeybd.h
    Adjust keysyms for Hiragana_Katakana toggle and backslash/underscore on
        Japanese and ABNT2 keyboards

commit 2ef9d01c4d3b03f0a5d829304f2a7e2cc1327f3b
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Jan 10 14:16:29 2005 +0000

    xc/programs/Xserver/Xprint/Util.c
    xc/programs/Xserver/Xprint/attributes.h
    //bugs.freedesktop.org/show_bug.cgi?id=2254) attachment #1654
        (https://bugs.freedesktop.org/attachment.cgi?id=1654): Fix gcc4.0 build
        failure. Patch by Egbert Eich <eich@freedesktop.org> and Roland Mainz
        <roland.mainz@nrubsig.org>

commit 57387e115caf5a4b9501cc8f6ddeb1946b0e6547
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jan 10 13:13:08 2005 +0000

    winkeybd.h
    winkeyhook.c
    Make keyhook feature work in multiwindowmode too Hook windows keys

commit f417159e51afe22de7d4e6ba9f154313c6af59bc
Author: Egbert Eich <eich@suse.de>
Date:   Mon Jan 10 12:20:33 2005 +0000

    Make option 'DontVTSwitch' work again with kbd driver under Linux. The kbd
        driver now calls the OS layer to handle special keys. Possibly other
        special keys and other OSes need to be looked at also. (Helmut
        Fahrion).

commit fe4e74241f6791cb1cefdddeb492ed0f56ce99b4
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sun Jan 9 17:35:47 2005 +0000

    xc/programs/Xserver/xkb/ddxList.c
    //bugs.freedesktop.org/show_bug.cgi?id=2245) attachment #1647
        (https://bugs.freedesktop.org/attachment.cgi?id=1647): export
        Win32System and Win32TempDir remove #ifdef WIN32 block for building
        xkbcomp commandline create win32 tempfile in system tempdir use
        PATH_MAX*4 for commandline buffer unlink tmpfile again

commit ba25f7e8dcaa2690ce3eab839904fac034002e0b
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sun Jan 9 15:29:45 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=2245) attachment #1645
        (https://bugs.freedesktop.org/attachment.cgi?id=1645): cleanup some
        #ifdef __UNIXOS2__ and WIN32 blocks. make OutputDirectory check the
        size of the buffer quote all file and pathnames in the xkbcomp
        commandline use PATH_MAX*4 for commandline buffer

commit 2410b61f430c3ac4be79043f8b00defe6d53148c
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sun Jan 9 00:38:08 2005 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=2240) attachment #1642
        (https://bugs.freedesktop.org/attachment.cgi?id=1642): Fix incorrect
        usage of /usr/bin/tr in startup script (the used "[\n]" is neither
        correct or portable, using "\n" seems to be sufficient (this fixes
        various "random" issues, including including Debian bug #258419 and
        Debian bug #264983). Patch by Drew Parsons <dparsons@debian.org>.

commit 709a2343a8c12ea7e158c63a9737b11744b50994
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sat Jan 8 13:01:03 2005 +0000

    Fix a possible null-pointer dereference (Keishi Suenaga)

commit d332a909f8b8741af75047d78a62a3d19e0776e1
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Jan 6 21:29:09 2005 +0000

    Imakefile
    InitOutput.c
    XWin.rc
    winerror.c
    wintrayicon.c
    winvideo.c
    winshaddd.c
    Set PROJECT_NAME in Imakefile to create alternative window titles for
        Cygwin/X and Xming

commit d6a74f2c4aec9c914ec0837bd0bf0d212019093f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Jan 6 16:02:47 2005 +0000

    Imakefile
    InitOutput.c
    XWin.rc
    winerror.c
    wintrayicon.c
    winvideo.c
    Set PROJECT_NAME in Imakefile to create alternative window titles for
        Cygwin/X and Xming

commit 3165236483de936b4ca22f8b6d2d2b8b1a1a4909
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Jan 6 13:24:57 2005 +0000

    Fix crash with non-nullterminated strings (reported by yvind Harboe)

commit 591ac9c811de0871d3bdcc19cada0ff6715bf67c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Jan 4 00:16:20 2005 +0000

    Bugzilla #2211 (https://bugs.freedesktop.org/show_bug.cgi?id=2211)
        attachment #1627 (https://bugs.freedesktop.org/attachment.cgi?id=1627):
        xorgconfig default keyboard model outdated (should be pc105, not
        pc101/pc102)

commit af8bd7161724b6709ffe582dfd830c05d9bf4f26
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Jan 3 21:32:22 2005 +0000

    Mon Jan 3 12:45:10 2005 Søren Sandmann <sandmann@redhat.com>
    Clean-ups and support for AMD64. Bug 1067. Patch by Nicholas Miell
        (nmiell@comcast.net)
    Add support for AMD64
    Many cleanups using <mmintrin.h> instead of __builin_ia32_*, and intrinsics
        instead of inline assembly. Also unconditionally use pshufw on AMD64.
    s/USE_GCC34_MMX/USE_MMX/g

commit 5f39eff85109a73d006832ad35d9d5b58f93ef0c
Author: Egbert Eich <eich@suse.de>
Date:   Mon Jan 3 15:43:55 2005 +0000

    Added missing return value (Bugzilla #2205) Problem found by Stefan Kulow.

commit ae6d52092bca6068a7847b3944148336ab489869
Author: Egbert Eich <eich@suse.de>
Date:   Mon Jan 3 15:39:35 2005 +0000

    Added missing return value (Bugzilla #2206) Problem found by Stefan Kulow.

commit 83e13e21c8d9a3b54cae2ecc2943be3316659870
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Dec 24 14:40:28 2004 +0000

    Print error message if CreateProcess fails Simplify popen simulation code
        for WIN32 Remove temporary file after executing xkbcomp

commit 106703edf67139fa52f6810f9ced0ce5ba86a3cd
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Dec 22 18:39:41 2004 +0000

    Back out the previous day's broken R200 "fix" -- the same number of coords
        are always emitted. Fix the real problem, which was not enough regs
        being initialized in ati_draw.c. Fix a typo that was resulting in alpha
        coming out as 0 * src or 0 * broken instead of src * 1 or src * mask.
        Assign the blending results to R0, as appears to be necessary. Unbreak
        the dst-alpha-blend-with-no-dst-alpha code. Yow. And set the right DMA
        count for the r200 traps code.

commit 3035739e5b7d5a9042292d64455feb4b38788fe4
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Dec 22 08:28:16 2004 +0000

    Bug #2123 <https://bugs.freedesktop.org/show_bug.cgi?id=2123> Attachment
        #1587 <https://bugs.freedesktop.org/attachment.cgi?id=1587> Call to
        uname should not check for return == 0, but for >= 0 instead

commit fa0677ab43722462042f87c4636a7d59d1cb873f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Dec 21 09:51:47 2004 +0000

    Fix r200 render (for real this time?) by setting tex1_comp_cnt right for
        non-mask rendering. Reenable it. Also, R200TexFormats was used instead
        of R100 in one place. Harmless so far, because the formats were in the
        same order.

commit 4b0247b9e0a6b7f40cd2738fb29d2ed1acba99e7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Dec 21 09:49:30 2004 +0000

    Whitespace nit.

commit 894431412613265fd315cf7a707ffa741f93cf47
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Wed Dec 15 20:51:25 2004 +0000

    Use snprintf.

commit eea11301fd9247a28b1daeb340a018c7ea309c41
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Wed Dec 15 15:05:35 2004 +0000

    Another fix for MiscPassMessage(): Initialize returned "status".

commit 264c3eefe6c0cdee1ff0a5de914f051ab23026b7
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Dec 15 12:22:39 2004 +0000

    latest changes from CYGWIN

commit c7fec26b50f8a64360d1252cdf48370935fb2f76
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Wed Dec 15 00:32:56 2004 +0000

    Make MISC extention's PassMessage() actually work and fix memory leaks

commit d0b17bda4dc469e2ce72f4f8965916b316e1deb7
Author: Egbert Eich <eich@suse.de>
Date:   Tue Dec 14 08:59:20 2004 +0000

    Removed #ifdef'ed out code together with the comment explaining why it was
        #ifdef'ed out.
    Fixed typo.
    Added comment to a changed that's been committed with one of the previous
        commits.

commit 0e6a122316a94c96051f1d832990032a386097bc
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Dec 13 03:42:32 2004 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=1695) attachment #1230
        (https://bugs.freedesktop.org/attachment.cgi?id=1230): Fix crash in
        Xscreensaver code which allowed any authentificated X client to crash
        the Xserver using |XScreenSaverUnsetAttributes()|. Patch by
        ajax@nwnk.net

commit 159e443a2209eb3ea305e84b847b76ef1637d005
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Dec 13 02:13:32 2004 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=1688) attachment #1530
        (https://bugs.freedesktop.org/attachment.cgi?id=1530): Fix the current
        implementation to make it possible to slow down the mouse pointer or
        use arbitrary fractions (without running into rounding error issues).
        The change is using the same method of preserving rounding errors that
        the exponential method is already using. Patch by Jan Brunner
        <Jan_B@gmx.ch>.

commit f1768677f73150c686cf5678f5f5d63c0cfa8e56
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Dec 12 23:29:20 2004 +0000

    Reduce vidmode logging.

commit 9286a5d032ea6bed102db39281c3d2537da4dccc
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Dec 12 22:58:37 2004 +0000

    Add fix for 460gx pci scan code.

commit 8266a2581d21a1a2880a0e8babb8b0305c435ec0
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Thu Dec 9 22:40:35 2004 +0000

    Fix crash with more than one screen reported by John Davidorff Pell.

commit 081b33d73f73572cfefba7e5489408a7117b6e9f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Dec 8 15:48:15 2004 +0000

    import changes from CYGWIN branch

commit 6c317c1c1323bd11292f8f9f179d75c96a18e616
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Dec 8 05:52:20 2004 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=1361) attachment #1287
        (https://bugs.freedesktop.org/attachment.cgi?id=1287): Avoid DRI
        initalisation when the Xfree86-DRI extension was turned off. Patch by
        Kristian Hgsberg <krh@bitplanet.net>.

commit b9476cd96faf19153c11e3370e9fced8045600f4
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Dec 8 05:48:16 2004 +0000

    //bugs.freedesktop.org/show_bug.cgi?id=1361) attachment #938
        (https://bugs.freedesktop.org/attachment.cgi?id=938): Allow more
        extensions to be enabled/disabled.

commit 47935dd7f010f2f77768774ceb6f85667efe4264
Author: Matthew Allum <breakfast@10.am>
Date:   Mon Dec 6 22:29:31 2004 +0000

    Xephyr on Xorg fix

commit 8091b301c941473ab99626a6e66f72acdb6750f7
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon Dec 6 21:54:19 2004 +0000

    xf86Config.c references USE_DEPRECATED_KEYBOARD_DRIVER so define it if
        needed when building this file
    - bug fix: pointerMsg -> keyboardMsg in auto-configuration code.
    - make the 'kbd' driver the default for autoconfiguration everywhere.

commit cde3a175005104e061c1ff133f07c598868bdc4e
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Dec 6 18:28:12 2004 +0000

    include windows.h

commit 9c94971617db11861aed82e16804fc14a9ca1260
Author: Egbert Eich <eich@suse.de>
Date:   Mon Dec 6 15:53:00 2004 +0000

    Use the same method of finding the screen pixmap of COMPOSITE extension is
        compiled in or not.
    Removed stale make variable.
    Updated xaaWrapper.c: Under certain circumstances the accel path was not
        used when possible. Removed some debugging stuff and stale code that
        had been commented out.
    Check if maps are really installed before attempting to list them.

commit 4945034792b28d1a222a615404bfceaf48a130c5
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Dec 6 12:26:50 2004 +0000

    problem with max() macro. this one slipped though again

commit 531776becf95f66e6e435aad0dc21ead436ff5aa
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sun Dec 5 21:33:23 2004 +0000

    missed another wBOOL issue

commit 9bd1328c49aafae67a6a6d9fd17063c75d8547a2
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sun Dec 5 21:24:48 2004 +0000

    redone ddraw.h to be able to mix it with w32api style COM header files.
    obj_base.h is not needed anymore. Using <objbase.h> instead.
    Use Xwindows.h instead of windows.h
    do not include win_ms.h
    remove extra definition of sleep()
    Set HOME to Documents and Settings/username if not set
    Use Xming basedir instead of ProjectRoot for system.XWinrc
    Fix callback functions to use wBOOL instead of BOOL
    Fix compiler warnings. Added debug output.
    Fix warning about undefined macro max

commit bf0a760331e2fe4dbc00e78f87022c7464d9ca4f
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sun Dec 5 04:39:34 2004 +0000

    //freedesktop.org/bugzilla/show_bug.cgi?id=1800): Fix Postscript DDX's 1bit
        StaticGray visual to report only 1bit of significant bits in color
        specification (instead of 8bits). Patch by Julien Lafon
        <julien.lafon@gmail.com>

commit 44f4713a056b7a6a076b2f65fbed43e0cfe9ff06
Author: Markus Kuhn <Markus.Kuhn@cl.cam.ac.uk>
Date:   Sat Dec 4 00:43:13 2004 +0000

    Encoding of numerous files changed to UTF-8

commit f264a7ea741f57fbc3bb900cfbb9e0cc23f46e90
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Dec 3 12:04:15 2004 +0000

    Removed scprintf, aprintf and snprintf stuff and use newXprintf

commit 16a683f4d164899ecfdafb853f48cff10fd13fd4
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Dec 3 11:57:42 2004 +0000

    Bugzilla #1865, https://bugs.freedesktop.org/show_bug.cgi?id=1865 Added
        X(NF)printf and X(NF)vprintf functions which allocate the buffer with
        X(NF)alloc
    Bugzilla #1865, https://bugs.freedesktop.org/show_bug.cgi?id=1865 extend
        snprintf to work on NULL.

commit fe2a2213d1db8700f6078379f86ebe8827793c20
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Thu Dec 2 23:47:39 2004 +0000

    //freedesktop.org/bugzilla/show_bug.cgi?id=1998): Fix Xserver standalone
        build when RENDER extension includes are not availabe.

commit 30a4202f3d59a32fd6f93dfd257d93ee21b68ed9
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Dec 2 21:58:58 2004 +0000

    Use __printf__ in gcc function attributes to avoid clash with libc wrapper
        define, and remove the last bits of the old workaround.

commit e62d85baa31fc853aefdef49962ad4cb86ae8245
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Dec 2 21:49:54 2004 +0000

    Remove some of the ifdef WIN32 checks from WaitForSomething

commit 2782b8871196ef28f9a6c84bf6c8b5086d00d5d4
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Dec 2 14:19:01 2004 +0000

    Adjust the width of the rootless backbuffer to match 32 bit alignment
    Make multiplemonitors default for -internalwm

commit 3b3e24dc4d89b471d80428dd9ad122f259b1fc81
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Dec 2 13:38:30 2004 +0000

    Set HasFfs to NO
    Fix link order problems with mingw. Add libdix.a after libmi.a.
    Pass -DHAS_FFS to compiler
    remove inline code for ffs(). It will link to dix/ffs.c instead added
        declaration for ffs()

commit 2620676306d1eccd24a6bf0637a60842656e6f7c
Author: Phil Blundell <pb@reciva.com>
Date:   Wed Dec 1 19:43:29 2004 +0000

    Patch from Florian Boor <florian.boor@kernelconcepts.de>:
    Check return value from ts_config. (TslibInit): Likewise.

commit 96545d038837bbc7dc435ed7c1f631454e86cecb
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Dec 1 14:57:45 2004 +0000

    Remove code which sneaked in recently. It is not proven to be correct, just
        a workaround and disabled by default

commit 3f063fc49cc2d456359a1b0b9f36f27befdb09b0
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Dec 1 14:16:07 2004 +0000

    Set XERRORDB environment variable to relocate the XErrorDB file

commit 908442301478b21febab17e31aa55918eaaa5101
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Nov 30 23:43:33 2004 +0000

    //freedesktop.org/bugzilla/show_bug.cgi?id=811): Updating generated
        Xprt.html which was forgotten during the previous work.

commit af717ae57dd6c5e6ad41b4142d62cdbb55f13777
Author: Egbert Eich <eich@suse.de>
Date:   Tue Nov 30 08:38:44 2004 +0000

    Make Xorg the default server to install.
    Avoid PIO access on IA64. Some IA64 machine check if legacy ports outside
        the VGA range are accessed. The ATi driver however does this to probe
        for ISA Mach8/32/64. Since no IA64 has ISA slots this restriction
        should not be relevant to the user.
    Avoid recursive calls of xf86scanpci(). This function normally detects that
        it has been called before by checking if the PCI structure is filled
        out. So far if this was not the case (because PCI probing has failed
        for some reason) the function is traversed again. With the chipset
        specific PCI bus probing this can lead to an endless recursive loop as
        the post-probing code calls xf86scanpci() from within this function.
    The OS specific PCI code for Linux worked only if bus 0 was populated as it
        checked for the presence of /proc/bus/pci/00. Fixed to check for
        /proc/bus/pci/<bus_to_look_for> instead.

commit 59ccc6465ca15e046ad11362ae5fbb3c71d2c148
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Nov 29 12:34:55 2004 +0000

    Fixed windows.h include for cygwin.
    Bugzilla #1945: Stop unnecessary reordering.

commit df2f2ff5a4ebf6c5289da64bf3f572341a0f7656
Author: Phil Blundell <pb@reciva.com>
Date:   Sun Nov 28 23:20:17 2004 +0000

    Re-read "fix" structure from kernel after mode selection, in case line
        pitch has changed.

commit 6062f6a6e7b3c444a35e3f11b2541df2aa0066a2
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Thu Nov 25 22:42:51 2004 +0000

    xc/programs/Xserver/Xprint/Imakefile
    xc/programs/Xserver/Xprint/Xprt.html
    xc/programs/Xserver/Xprint/Xprt.man
    //freedesktop.org/bugzilla/show_bug.cgi?id=811): Add missing manual page
        for "Xprt" (DocBook master file (Xprt.sgml) and the generated files
        (Xprt.html, Xprt.man).

commit cbce4cf96dfa2eeecb253d73d7d9acecbc52ad67
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Nov 25 12:48:21 2004 +0000

    Bugzilla #1914: fix size limit for -fp argument

commit 2b75c19ea2bb76512d51e99c5c9ecb073fdb9163
Author: Matthew Allum <breakfast@10.am>
Date:   Wed Nov 24 17:50:50 2004 +0000

    minor Xephyr fix

commit a96254234fc9410944406f6ae878815cd3cfcee3
Author: Matthew Allum <breakfast@10.am>
Date:   Wed Nov 24 17:08:06 2004 +0000

    XEphyr -parent switch fixes

commit a7a07d0c71aa3f2e224cceea7e8d8348523136ee
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Nov 24 16:56:03 2004 +0000

    Finally the multiwindow mode defines a default cursor

commit ca4da62478a3ad86ab087245bf8eb7d7fadf31de
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Nov 24 09:07:58 2004 +0000

    Add <sys/types.h> include to unbreak build on FreeBSD.

commit da3df7522d15855fa871c45f3b8db23e7c639a44
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Nov 24 02:45:33 2004 +0000

    Remove this file and all references to the binary expiry code.
    Remove old obsolete include/extensions/damage.h.
    Include srvrv_ctrl(xfree86) in macintosh US XKB symbol file so VT switching
        works again on mac (#1872).
    Remove out of place #define's of printf to xf86printf. This definition
        should only be in xfree86/os-support/xf86_libc.h

commit 9a26d6f39e199bad287d4e538ef75700a0102788
Author: Thomas Hellstrom <unichrome@shipmail.org>
Date:   Tue Nov 23 17:29:47 2004 +0000

    Bugzilla #1883 (https://freedesktop.org/bugzilla/show_bug.cgi?id=1883): Fix
        insufficient SHM detection in XvMC local test. Removed reference to
        getpagesize() which caused linking problems on s390. Reported by Stefan
        Dirsch <sndirsh@suse.de>

commit fec868bf0f67a8f62fc69d55e2ff72b6cacea6f8
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Nov 23 17:10:55 2004 +0000

    //freedesktop.org/bugzilla/show_bug.cgi?id=1204): Fix X11 test suite
        (caused by DAMAGE layer) failure with Xvfb when rendering text using
        |XDrawText*()| (XDrawText() tests 1, 3, 4, 27, 28,
    29, 30, 34, 37, 39, 41, 43 and XDrawText16() tests 1, 3, 9, 10, 11, 12,
    13, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 34,
    37, 39, 41, 43). Patch by Hong Bo Peng <penghb@cn.ibm.com> and Stefan
        Dirsch <sndirsch@suse.de>.

commit b09f2a0495071a068c2b6b36084c974acf7aab9b
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Nov 22 16:04:04 2004 +0000

    Windows does not have ffs() implementation. added one
    Enable RootlessSafeAlpha and RootlessAcceleration for the Windows port too

commit bb43f234c5d418e064c89b928b81b53987f14e92
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Nov 22 15:00:04 2004 +0000

    Use GetTempPath for finding a place where to store temporary files on
        Windows

commit bc7493801d1f5177d9ba3fe09accc2a2d72cfe3d
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Nov 22 14:28:25 2004 +0000

    Fixes for building multiwindow and internalwm on mingw
    Changed some debugging output

commit 255c3c0e8ca0f402b2c327d70c8a254ba65eda03
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Nov 22 14:12:33 2004 +0000

    Xming: Place logfile in users tempdir

commit 0f7874cbfc01da339cc6be221351ddffdb37805d
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Nov 22 13:23:25 2004 +0000

    Use a simple hashtable as ConnectionTranslation instead of a plain array on
        Windows because socket fds are not sequential and do not start at 0

commit e6bc551e3451efe4fcbb55475d6d0ff53fcc9807
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Nov 15 18:13:41 2004 +0000

    Use CreateProcess instead of system() to spawn xkbcomp on windows. system()
        can not handle spaces in the path component. Quoted all filenames on
        the commandline.

commit 6618567311f41f5e237f12b4204aa32ce174a514
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Nov 15 15:58:51 2004 +0000

    Remove override of HasSnprintf

commit 9826b83826190e514ed115e15691ca015780f9bc
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Nov 15 15:06:51 2004 +0000

    Bufzilla #1802, http://freedesktop.org/bugzilla/show_bug.cgi?id=1802 Added
        mingw (Win32) port

commit cecb668149e1956fb29bc89855182349122e2f4e
Author: David Reveman <c99drn@cs.umu.se>
Date:   Sun Nov 14 23:21:29 2004 +0000

    Add xglPixmapToRegion

commit 343f965749af0a985573c525dc6084c2519b6ffe
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Nov 14 17:29:56 2004 +0000

    Fix typos in output file. (Bugzilla #1849, reported by Yi Ren-Chen)

commit 636a9e786881dd42cd6fd579e13b7895cf9f10eb
Author: Phil Blundell <pb@reciva.com>
Date:   Sat Nov 13 18:03:16 2004 +0000

    Don't leave stale pointers hanging around after ts_close(). (TslibFini):
        Likewise.

commit 36d9e01c0d36eaf0d9cb1e77dd2908b09d55a35d
Author: Phil Blundell <pb@reciva.com>
Date:   Sat Nov 13 16:41:00 2004 +0000

    New global variable. (KdProcessArgument): Set it to TRUE on -nozap switch.
        (KdUseMsg): Add help for -nozap and -rgba switches.
    Declare.
    Honour dontZap flag.

commit 3b0dce3620e4cce74c3a2c7f9077cc28be11740d
Author: Thomas Hellstrom <unichrome@shipmail.org>
Date:   Sat Nov 13 11:09:23 2004 +0000

    lib/XvMC/Imake
    Added support for automatic loading of the correct hardware XvMC driver.
        This involves a protocol extension of the XvMC protocol. The XvMC
        revision number was bumped.

commit a97548b1c9bb69b5824609c1da1ad66c3a9c5065
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Nov 11 20:10:28 2004 +0000

    Cosmetic fix to make xf86pciBus.c use standard min() macro.

commit e5040e24f03a2fe770139e6f37acef3da48aa0f9
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Thu Nov 11 16:09:58 2004 +0000

    oops commited wrong version previously

commit e380fd548ed5452d08184723145dd992ad72288c
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Thu Nov 11 15:44:31 2004 +0000

    update shared lib revisions on OpenBSD (Bug #1828).
    update references to xf86site.def in comments (Bug #1827).
    fix kbd driver for wskbd protocol and pure wscons console driver (Bug
        #1825).
    don't add '-4' to generated default file name (bug #1826).
    typo in resource name (XFree86 bug #1300, X.org bug #1825)

commit d7f46f71d892768ea85552a0d5458b69b561fe21
Author: Matthew Allum <breakfast@10.am>
Date:   Thu Nov 11 14:55:30 2004 +0000

    Xephyr grab fix

commit 2854fa438ff721637f2e53fbafa141b3db8a9082
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Nov 9 17:06:15 2004 +0000

    Bug #557: Don't use "bool" as a variable name in xf86cfg, to avoid compiler
        bugs. (Donnie Berkholz)

commit 367b963b6333ee58e197845f1389a95ff26f108e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Nov 9 15:58:41 2004 +0000

    Bug #1765: Add support for R_ALPHA_SREL32 relocations in elfloader.
        Originally Debian patch
        202_alpha_elfloader_support_R_ALPHA_SREL32.diff. (Falk Hueffner)

commit 50cdff7ee2a1b448da24e85efae02237cff9b6b7
Author: Matthew Allum <breakfast@10.am>
Date:   Tue Nov 9 11:36:49 2004 +0000

    Xephyr improvements

commit 81a3b6fe27567b4f91033ece69996aa6bf8d01a3
Author: Matthew Allum <breakfast@10.am>
Date:   Mon Nov 8 22:39:47 2004 +0000

    Add support to Xephyr for lower depths than hosts

commit e494e24c508b34b144355cb380aac16abf2fb891
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sat Nov 6 11:56:57 2004 +0000

    Wrap all mwextwm and internalwm code with XWIN_MULTIWINDOWEXTWM

commit 16ee24cd994fa3f8d479c972f18c8207a5116cb7
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Fri Nov 5 19:51:38 2004 +0000

    Use ROOTLESS instead of platform specific defines.

commit 64c7f8e667eef955b266c359291206c7188ce20c
Author: David Reveman <c99drn@cs.umu.se>
Date:   Fri Nov 5 13:26:07 2004 +0000

    Use UTF-8 encoding in Xgl sources

commit 1d994e1d14225c1dec5251edeae40e24923a31c6
Author: David Reveman <c99drn@cs.umu.se>
Date:   Fri Nov 5 12:46:29 2004 +0000

    Use negative strides in Xgl if pixel data have bottom-top scanline order

commit 2dd76d646c517e1988897692e9ff8b6194d25c87
Author: David Reveman <c99drn@cs.umu.se>
Date:   Thu Nov 4 23:19:13 2004 +0000

    Add working Xgl server code

commit 1aef1060647d22b676a29f6dcf1ac54f9fe7ff5d
Author: Kensuke Matsuzaki <zakki@peppermint.jp>
Date:   Thu Nov 4 11:52:22 2004 +0000

    Add InternalWM mode.

commit 522c878fca3bfe97cd408e37065f827c004faa04
Author: Egbert Eich <eich@suse.de>
Date:   Tue Nov 2 08:54:53 2004 +0000

    Removing unneeded private FreeType2 symbol.
    Updating to EDID 1.3. (Bugzilla# 1490, Jay Cotton, Egbert Eich).
    Removing unneeded code.
    Fixed KGA handling for i810. KGA handling for chips derived from C&T chips
        is slightly different. The changes make the code consistent with the
        C&T (chips) and i740 drivers.

commit 1074992c285835ca9d96d11e8352bbe2cdbc2a28
Author: Egbert Eich <eich@suse.de>
Date:   Mon Nov 1 16:05:27 2004 +0000

    Fixed sig11 which occured when calling a CloseDisplay() after
        XScreenSaverSetAttributes() followed by XScreenSaverUnsetAttributes().
        Caused by missing FreeResource() in XScreenSaverUnsetAttributes().
    Removing unused DDC sections that caused misinterpretation of DDC data due
        to a missing break statement in a switch.
    Fixed typo: #if <-> #ifdef.

commit 7e588ba9abdcc2078b6c361c81806337b8ff0827
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Oct 30 20:33:43 2004 +0000

    Add -d flag for compilers like the Sun C compilers that produce dependency
        lists themselves. To use with the Sun compilers, add to host.def: #
        define UseCCMakeDepend YES # define DependFlags -cc $(CC) -d -xM (Sun
        bug id #4245688 - fix by Alan Coopersmith)
    Add Solaris to the platforms on which mprotect is run to set execute
        permissions when necessary. (Sun bug id #6175128 - fix by Alan
        Coopersmith)
    Internationalize digital output (Sun bug id #4119396 - fix by Steve
        Swales), add -bgpixmap option to set XPM file as background (originally
        from STSF project version of xclock by Alan Coopersmith)
    xc/programs/xmodmap/handle.c,pf.c xmodmap was printing line numbers which
        are one too low in error messages (Xorg bugzilla #1739, Sun bug id
        4637857 - fix by Sam Lau)

commit 612bd1c27322a69a98b59193e7d31501688359bd
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Fri Oct 29 02:07:15 2004 +0000

    Add facility for catching signal 4 from driver. This can be used to check
        for OS SSE support. (Part 2)

commit 09fdfaa28d2afe33dfadd4293b39a34da268fbdb
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Fri Oct 29 02:06:17 2004 +0000

    Add facility to catch sig 4 from driver. This can be used to check for OS
        SSE support. (Part 1)

commit b0185a4bf77a668e65e94197bdb13331680521c7
Author: Thomas Winischhofer <thomas@winischhofer.net>
Date:   Thu Oct 28 22:12:23 2004 +0000

    Add xf86[GetGammaRamp|ChangeGammaRamp|GetGammaRampSize] to symlist in order
        to allow drivers to use them

commit 9d4823adc8319a20d2ace3d0944ca32e300f6eeb
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Oct 28 14:23:08 2004 +0000

    Import recent changes from CYGWIN branch

commit db65fce04ddec1dac0d92ad3abc95ab4996bd206
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Mon Oct 25 19:09:11 2004 +0000

    Fix rootless Cygwin crash due to acceleration code illegally modifying a
        const structure (Reported by Kensuke Matsuzaki).

commit a57e85b52357f15f52e81c8d9b310a76e0c62b3f
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Oct 25 07:12:21 2004 +0000

    Fix for https://freedesktop.org/bugzilla/show_bug.cgi?id=1664 - RFE: Add
        support for the DOUBLE-BUFFER extension to the Xprint server and DDX.
        Additionally a "pixmap-scrubber" optimisation is added to the
        PostScript DDX to remove all content from a vector pixmap when a
        |PolyFillRect()| call covers the whole pixmap surface with a solid fill
        (this avoids that a backbuffer vector pixmap gets constantly filled
        even when the content is not visible anymore after |XdbeSwapBuffers()|
        has cleared the hidden buffer with the background color).

commit e0cc4871491ab7a8c52749ff2c077d8f11516b15
Author: Phil Blundell <pb@reciva.com>
Date:   Wed Oct 20 18:06:58 2004 +0000

    Add epson.
    Build Makefile in hw/kdrive/epson.

commit 258c9016a0c966187a81f9d956766791d6e8c505
Author: Phil Blundell <pb@reciva.com>
Date:   Wed Oct 20 18:02:32 2004 +0000

    Block SIGIO before disabling input fds. (KdEnableInput): Unblock it after
        enabling them again.

commit cbd5fbcb7e5b802cbcff317fdc2f848043207690
Author: Phil Blundell <pb@reciva.com>
Date:   Wed Oct 20 08:20:51 2004 +0000

    Import Epson 13806 driver from Costas Stylianou:
    New files.

commit 0584d92b36910d42e4fba96cee5f3380eeb3b493
Author: Egbert Eich <eich@suse.de>
Date:   Mon Oct 18 14:21:46 2004 +0000

    Made handling of DevelDrivers for x86-64 more conformant to other
        platforms.
    Compress all font encodings (Stefan Dirsch).
    Fixed warnings.
    Turn on forwarding XNSpotLocation event to XIM server in OffTheSpot and
        Root mode (bugzilla #1580, James Su).
    Added another compose key combination for the Euro symbol (Stefan Dirsch).
    Added support for UTF-8 in ja_JP, ko_KR and zh_TW locales (Mike Fabian).
    Changed default encoding for ru from KOI8-R to ISO8859-5 (Mike Fabian).
        This is the encoding that is also used by glibc. We may break other
        libcs - lets see who complains.
    Added explanation for DESTDIR to install to a different directory than /.
    Added some early bailouts to atiprobe if PCI structure pointer is NULL to
        prevent sig11.
    XV support doesn't depend on 2D acceleration any more. This patch removes
        this limitation from the NSC driver. This is a patch that I have
        committed to XFree86 a while ago but never ported over to X.Org.
        Matthieu Herrb contributed some build fixes.
    Fixing SetDPMSTimers() so that DPMS*Time == 0 disables the appropriate
        timer. This takes advantage of the fact that TimerSet() with a timeout
        argument 0 behaves like TimerCanel().
    Use /dev/xconsole (named pipe) or devpts for system logger (Werner Fink).
    Create missing links for backward compatibility to XFree86 (Stefan Dirsch).
    Changed comment to mention xorg.
    Changed cursor for the 'kill' action from XC_draped_box to XC_Pirate. If
        you don't like it we can change it back (original author unkown).
    Added 'pic' to the man page rendering command pipeline (Werner Fink).
    Added missing return value (Stefan Dirsch, Roland Mainz)

commit 77dab254402073bf96234a6b1056b2277578a976
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Oct 17 20:29:35 2004 +0000

    - Add interlaced support to S3 driver (bug 332, Leo Savernik)
    - EmulateWheelTimeout (bug 323, Mathias Fröhlich)
    - single button double-click (bug 322, Rob Brown)

commit 9a0cf1eb43878308c0a83e4f935933b647edc6d5
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Oct 17 10:46:14 2004 +0000

    Remove some remaining AMOEBA specific code.

commit 5505555c15bfa2de1f596ae0997335fdbf07eb5a
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Oct 15 22:29:40 2004 +0000

    Fix for https://freedesktop.org/bugzilla/show_bug.cgi?id=1647 - Fix the
        problem that |XpSubmitJob()| returns a random value (patch by Stefan
        Dirsch/SuSE).

commit 60caca718d23012c4c85ce70547610fe05168342
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Oct 15 22:08:38 2004 +0000

    Fix for https://freedesktop.org/bugzilla/show_bug.cgi?id=1646 - Fix the
        problem that |PsCreateColormap()| returns a random value (patch by
        Stefan Dirsch/SuSE).

commit 4782b2f7c10708f9662d9fc743c692d0bec85743
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Oct 15 21:43:31 2004 +0000

    Fix for https://freedesktop.org/bugzilla/show_bug.cgi?id=1637 - Fix
        problems in oid code which may cause the usage of an invalid string
        pointer (original patch by Egbert Eich).

commit 881b5756dc96dc33f6966ec6fccd324f63559dc2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Oct 14 23:10:30 2004 +0000

    Bug #1628: Convert xf86{BusToMem,MemToBus} to PIC code, eliminating a text
        relocation and enabling the server to be built as a
        position-independent executable. (PaX Team)

commit a0251ee285e1f1e28d06927d8ab7d35d59fda607
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Thu Oct 14 02:20:52 2004 +0000

    Fix for https://freedesktop.org/bugzilla/show_bug.cgi?id=1629 - Fix crash
        on AMD64, regression caused by bug 1496 ("Xorg Xprt does not support
        "*xp-listfonts-mode: xp-list-internal-printer-fonts" to toggle the
        usage of printer-builtin fonts").

commit 3a055ea35b687e381da4d729dbdd0ebac47f673b
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Wed Oct 13 23:02:42 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c
    xc/programs/Xserver/hw/xfree86/drivers/i2c/fi1236.h Squash annoying warning
        about fi1236_dump_status

commit 3364e7fbd44537b98212820fb2b1941abf0d5ef3
Author: Egbert Eich <eich@suse.de>
Date:   Tue Oct 12 19:13:43 2004 +0000

    Set fbdev mode as the default mode on PPC (Olaf Hering).
    Added support for IBM space saver keyboard (Stefan Dirsch). Added support
        for Cherry CyMotion Master XPress (Marcus Schaefer).
    Change order of SetDisplayDevice(), HWRestore(), UnbindGART() and
        RestoreBIOSMemSize() to be exactly opposite to the Save procedure in
        EnterVT() (Matthias Hopf, Alan Hourihane).
    Fix text mode restauration by removing the assumption that the register
        which determines which head is programmed is set. to the active head by
        the BIOS (Mark Vojkovich).
    When I wrote the resource code 5 years ago I made some assumptions which
        turned out to be false: I've assumed that the bus number of the PCI
        hostbridge would be the PCI bus the bridge links to. This is not
        correct. Fixing this assumption is not easy. However I hope that the
        attached patch will make the system work regardless as it 'ignores'
        host bridges from which the target bus is not known. This should not
        matter at all as we really don't care about host bridges (unless we
        have bridge specific code which retrieves information about the
        bridge).
    Fixed server crash on reset when a structure allocated in PreInit() was
        freed on CloseScreen().
    Fixed ring buffer lock ups that happened because the structure that
        contained ringbuffer data was not zeroed after allocation.
    Fixed numerous warnings due to signed unsigned comparisons.
        programs/Xserver/hw/xfree86/drivers/nv/nv_driver.c:
        (NVBacklightEnable): Changed the order in which the sequencer registers
        and the backlight control registers are written. The sequencer control
        register need to be written first otherwise DPMS screen blanking
        produces vertical bars on a mobile device. lib/Xau/Imakefile: Build
        libXau static library PIC so it can be linked into toolkits that would
        like to wrap its functionality.

commit 4ab7d316eceb23c81c1b208f9291750cf6b37513
Author: Egbert Eich <eich@suse.de>
Date:   Mon Oct 11 09:58:04 2004 +0000

    Improving DPMS handling on VT swich and server termination/abort: previous
        version called the driver directly and too late.
    Unblank secondary screen explicitely. Don't rely on the value read during
        register save as the BIOS have blanked the secondary head.
    Checking if server isn't switched away before calling sync. Sanity check
        for possible bugs in aother areas of the code.
    Fixing default amount of of allocated video memory from AGP for i810: Use
        16MB if less than 192MB are installed else use 24MB (Matthias Hopf).

commit ca1fda2a3f674a6d59de236612c7077387738ec3
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sun Oct 10 17:48:43 2004 +0000

    programs/Xserver/Xext/saver.c Fix for XFree86 bugzilla #1224.

commit fa9847aeb9094aafc3798aee1fc8379e77a18d6a
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Fri Oct 8 00:35:08 2004 +0000

    Allow rootless implementations to override frame reordering. This is used
        on Mac OS X when genie-restoring from the Dock to ensure that the
        animation completes before drawing the frame.

commit d737bc3300cf1847bcea08ca781f37ee3ee62692
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Oct 5 17:28:15 2004 +0000

    Make xorgconfig ask again instead of giving up and throwing away all your
        answers when you give a bad file name or bad amount of video RAM. (Sun
        bug id 5070654 - Derek Wang)

commit 75217be88ccb87a54c84e31697ffb98b5f9b8e0a
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Oct 4 05:34:32 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=661 - Xprt
        producing spurious characters in PS output when using the bitmap cache
        (Originally reported against Solaris Xprt as Sun bug id #4369307, and
        fixed in Solaris by Jay Hobson.

commit 658b4ed81f777df2d8b9f47904de90bde1897113
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Oct 4 05:04:14 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=1299 - Add more
        visuals to the Postscript DDX (8bit GrayScale/StaticGray, 1bit
        StaticGray and the basic infratructure for "deep" visuals with more
        than 8bits per RGB gun).

commit e622b346113f65788110777d7d1b5fc436600a4d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sun Oct 3 23:29:21 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=1496 : Fixed Xprt
        font handling which did not support "*xp-listfonts-modes:
        xp-list-internal-printer-fonts" or "*xp-listfonts-modes:
        xp-list-glyph-fonts" to toggle the usage of printer-builtin and glyph
        fonts in XListFonts*(), XLoad*Font(), etc. Additionally the Xprint DDX
        now explicitly list "xp-listfonts-modes" in
        "document-attributes-supported" (for document-level) or
        "xp-page-attributes-supported" (for page-level) when the DDX implements
        this feature (as described in the CDE DtPrint specification).

commit 8b2f127ea0db2c7fee223b69f4fceee0427fb2e4
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sun Oct 3 15:34:33 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=1416 - Fix Xprt
        PostScript DDX crashes when copying offscreen pixmap content to the
        same pixmap.

commit 7b27bf869dcf02bccf730706fc451c6f4c72b1f0
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 15:01:31 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/i2c/fi1236.c Make sure formatting
        style is consistent within a single function. MT2032 functions are best
        be in separate file anyway.

commit 4046653cb63f4cd752212e7cf65fad5408d8f5b8
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 14:38:31 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/i2c/fi1236.c Fix compilation with
        gcc 3.4.x Cleanup xf86DrvMsg noise.

commit ebe7b3fe160259b6f19fe760d6ff4f5bb1dd4b72
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 01:35:33 2004 +0000

    xc/programs/Xserver/hw/xfree86/drivers/i2c/*_module.c Change version
        strings to XORG.

commit 0d474149f1cb68a60927529f6eac611a12acf5e6
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Thu Sep 30 22:58:07 2004 +0000

    Initial code from GATOS. This needs to be cleaned up, for example the bt829
        code is practically untouched since xatitv (which was a standalone test
        program). However, it all worked and was debugged over long period of
        time, so I prefer to to mess with these for now.
    New drivers: fi12xx (including MT2032 - this would be be split off later).
        tdaXXX msp34xx bt8xx

commit 1dfafe2aeec864a9bdfd6da3324243b2be8e3a62
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Sep 29 04:17:44 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=1489 - Use |long|
        instead of |int| for BIGREQUESTS commandline option.

commit de89181444a2f2258a446fe20a25e37fd225a568
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Sep 24 02:11:14 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=1453 - Fix spaces
        in usage output for BIGREQUESTS extension (option "-maxbigreqsize").

commit 884cb060eea2b914191c269a0c9955ed83d07ff9
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Wed Sep 22 23:52:39 2004 +0000

    Update XDarwin project to Xcode 1.5 format and remove unused
        QUARTZ_SAFETY_DELAY code.

commit 35a3bf13a8be96bb29dce32399c3684c6baa527d
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Wed Sep 22 23:38:33 2004 +0000

    Add option for XDarwin to track system keyboard layout changes as they
        occur (John Harper and Torrey T. Lyons).

commit 1b3fa4d53b287cbe9d38c5f8c9fbbc2298690959
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Wed Sep 22 22:52:03 2004 +0000

    Warning fixes.

commit de68a3339b9f19630e29a17773cad060b1f65300
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Sep 22 17:20:56 2004 +0000

    Allow overriding DPMS defaults (timeouts & default for on/off) from
        #defines/-D options.
    programs/Xserver/hw/xfree86/common/xf86DPMS.c Use defaultDPMSEnabled global
        for the default state of DPMS if not set in any config files.
    programs/Xserver/hw/xfree86/os-support/sunos/solaris-sparcv8plus.S Add
        support for required assembly inline functions for Sun compilers on
        Solaris/sparc.
    Add support for Solaris/sparc libraries.

commit d7514b9162648f894211884b199ef2edc458aa86
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Sep 22 04:38:03 2004 +0000

    Bug #1252, #1253, #1255, #1256: Various typo fixes from Dave Jones.

commit 269012e6014d7c23bf6805ba14ca0b598cdd6313
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Tue Sep 21 22:01:14 2004 +0000

    Add offscreen GLX direct rendering with XDarwin's xpr backend (John
        Harper).

commit 0514f8b65616d8878000764485e71384b71e3860
Author: Egbert Eich <eich@suse.de>
Date:   Tue Sep 21 17:57:36 2004 +0000

    Merged over libXpm security fix provided by Chris Evans, Matthieu Herrb and
        Alan Coopersmith from release 6.8.1.
    Fail during initialization with error if font/fontset is not set for
        widget. This prevents a sig11 later when the non-existent font/fontset
        structs are referenced.
    Check if xf86Info.kbdProc pointer is really set before calling it on abort
        as this pointer won't be set if the new modular keyboard driver is used
        (Matthias Hopf).
    Added new libs to the bindist control files.
    Removed inclusion of unnecessary kernel header on Linux. This may fail in
        an -ansi environment.

commit 814b74662103710665c0b5659a93974ad609276c
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Sep 20 08:44:54 2004 +0000

    Bugzilla #1402: The last patch was broken on linux. Take definition of
        badSysCall out of the OS specific block.

commit b600fcda38f4ab4796b5536cbedc5dee1abd25b1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Sep 20 03:12:00 2004 +0000

    Fix the R200 Render code. Composite and Trapezoids are now supported just
        as well as on R100.

commit 908287addaff10a0f5f6f14bf06a9b85870737ec
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sun Sep 19 12:59:52 2004 +0000

    Bugzilla #1402: fix BigFont extension if SHM is compiled in but not
        working. Does not access SHM and privates if the SHM syscall failed
        during extension initialization.

commit 90ff3688cdc0c2c1b5ccdbd9cc0659b9a355e85f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 19 10:57:31 2004 +0000

    Unbreak the AGP DRI case. That was quite a pile of broken code.

commit 9297c6149f83de22395503c484a2ca65dbffaf6b
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sat Sep 18 23:18:35 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=1404 - Fixing
        random crashes (like in DAMAGE code etc.) in Xnest due uninitalised
        GetWindowPixmap. Original patch by Alexander Gottwald
        <ago@freedesktop.org>

commit 6344bb51e2a97d9678cec2ec1dab19abfe9d9e8d
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Sat Sep 18 00:38:30 2004 +0000

    Bugzilla #1032: Make rootless acceleration functions compatible with
        Damage.

commit cedb9a8d62df3391fd89a8b05a2dd64bd098a7df
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Fri Sep 17 21:57:26 2004 +0000

    Update Apple's list and hash utility routines to latest versions (John
        Harper).

commit b56f4532d1a5febb8df45da0e3d3ad7bf8838e5f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu Sep 16 13:22:52 2004 +0000

    Remove code which prevented the use from specifying the window size in
        nodecoration mode.

commit c4083511acd1d0f20a242b8cd3ed62629629ce8f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Wed Sep 15 17:58:50 2004 +0000

    add support for mice with more than 3 buttons and one scroll wheel (Chris
        B)

commit 516f452e78170bc643117a71bd2246a83b071316
Author: Egbert Eich <eich@suse.de>
Date:   Wed Sep 15 09:23:59 2004 +0000

    Adding support for OS dependent probing of IA64 chipsets. Not all IA64
        chipsets can be probed without OS support as probing them is only
        possible using ACPI. One example of this are the HP ZX1/2 chipsets:
        previously the code assumed that these chips were present when no other
        of the known chipsets could be probed. This assumption brought SGI
        Altrix machines with 64 CPUs to a grinding halt.

commit a3aa6a2d865239c5b8f29cbd849ae3288e36b8a9
Author: Egbert Eich <eich@suse.de>
Date:   Wed Sep 15 09:05:22 2004 +0000

    Unregistering events in XSelectInput() when unregistering IM filter
        callbacks may be a bad idea as others may be interested in this event.
        Removed the call to XSelectInput() altogether as we are in root window
        anyway (Lubos Lunak).
    Fix size of a variable that gets assigned the value of SmartScheduleTime
        (long) to long. This should help to prevent smart scheduler lockup on
        64 bit systems due to overruns (Andreas Schwab).

commit f642fc729b481c55073c75beca301b2f17881179
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Sep 14 23:21:22 2004 +0000

    Refix for http://freedesktop.org/bugzilla/show_bug.cgi?id=1361 - RFE: Allow
        enabling/disabling of more extensions (fixing duplicate symbols caused
        by previous checkin; attachment #899)

commit 0d95bdfbabf4c526f6f54d6f1de8811f4e6d5d5f
Author: Phil Blundell <pb@reciva.com>
Date:   Tue Sep 14 23:08:10 2004 +0000

    Only set screen parameters if resolution has changed from current values.
        Patch from scoony@noos.fr.

commit ba3b6fd23be5f1f900fcff57bc586e08bc524e99
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Sep 14 06:26:54 2004 +0000

    Add proper PCI/AGP detection, based on Mike Harris's code for Radeon, but
        using the MMIO mirror of the bits instead of config space.

commit d9df39ee2b5b462be87718046b16d30c231563ec
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Sep 14 00:51:25 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=1361 - RFE: Allow
        enabling/disabling of more extensions

commit 80dc84d067c5af29e33a0c7ac62eecc8ba4e0871
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 12 23:22:31 2004 +0000

    - Fix a segfault on VT switch with DRI. Still dies due to cursor allocation
        troubles.
    - Move the RemoveBlockAndWakeupHandlers to match
        RegisterBlockAndWakeupHandlers.
    - Enable R100 trapezoid "acceleration" when DRI is working, so that it can
        be exposed and worked on.

commit ab50679aabdda9e6197568f745d02fe1e65c7a24
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 12 23:01:24 2004 +0000

    Fix a bad argument missed in the previous commit for ATIDRIDMA* functions.

commit 2d069b1d1950b5f6f9140e5573e349e6559251e6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 12 22:21:12 2004 +0000

    Move the RegisterBlockAndWakeupHandlers to before DRI initialization. The
        change to use that instead of manual wrapping made the DMA dispatch
        come after the lock had been dropped, causing lots of pain.

commit 27b5a65f05c78a0b6de0d0ace4f4275d990cc3a4
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 12 20:31:39 2004 +0000

    Reset the CCE/CP on engine reset, and make the ATIDRIDMA functions take a
        more useful argument.

commit fcd52d276f0276490ef08af2f0d6c52ed631f130
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 12 20:19:15 2004 +0000

    Add missing kaa.h include for kaaInitTrapOffsets.

commit b5d406e8c84d8aba2b45e985e43d02c2e6770019
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 12 20:02:10 2004 +0000

    Fix handling of is_agp. is_agp is whether the card is actually AGP, while
        using_agp should say whether AGP is being used as part of DMA/DRI.

commit 7cab70d1cb7298035429dd8953e521a31fc6770d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 12 19:52:51 2004 +0000

    Improve error handling, especially in the DRI case. Do some FatalErrors
        instead of ErrorFs for things that are really bad, and put limits on
        some loops. Now, sometimes instead of hanging the entire system, we
        (mostly-) cleanly drop to console when the card has hung.

commit 0cd662ea80579c317d706ebe04971bb29d0f9b4f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Sep 11 09:28:19 2004 +0000

    - Add disabled WIP trapezoid code for R128 and R100. The R128 rendering is
        not doing an add of 1 per triangle like I hoped, and instead seems to
        be saturating all the pixels or something. The R100 acceleration
        renders pretty well, with some gaps. Note that both are slower than
        software due to lack of DMA to submit vertices.
    - Mostly fix R128 and Radeon transform support, including supporting
        bilinear filtering on R128. Subpixel offsets are still probably an
        issue (reported by rendercheck), but I want to make 100% sure about my
        understanding of the protocol before changing everybody, including fb.
    - Add support for dst formats without alpha to R128 Composite.
    - Remove the R128 Blend code, which has long outlived its usefulness. (I
        kept it around for one reason: It could be useful for the w/h > 1024
        case with no mask and a non-src op. That seems pretty infrequent and
        not worth the trouble).

commit 396100dd235105a0e2c9013f1e07e4dae0cc3404
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Sep 11 09:23:12 2004 +0000

    - Don't require Imrecise mode for Trapezoid acceleration. It looks like we
        might be able to do Precise in hardware, so leave it up to the driver.
    - Add a helper function for computing a set of offsets for smooth trapezoid
        rasterizing using many sharp trapezoids.

commit 501dcf37aac4ec9298e8c79ca65c048c362bce31
Author: Matthew Allum <breakfast@10.am>
Date:   Wed Sep 8 11:31:49 2004 +0000

    cursor fixes

commit 20918ab480c8c8285a68e9f974b0208a18acec94
Author: Matthew Allum <breakfast@10.am>
Date:   Tue Sep 7 19:00:04 2004 +0000

    avoid ephyr breakage when tslib enabled

commit 8bf6ea903be4c052c747e3e81fc977155072299d
Author: Matthew Allum <breakfast@10.am>
Date:   Tue Sep 7 12:44:19 2004 +0000

    fixes to Xephyr debug mode

commit b3322257815ec4550e1634453167535b02c1bfbd
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Sep 3 23:41:21 2004 +0000

    Update formatted docs.

commit b2135e589baeb2ea26da50b9167feaea23bcce3c
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Sep 3 16:18:23 2004 +0000

    First set of documentation updates.
    Include more correct fix for rootless interaction with damage (Bug #1168,
        Keith Packard).

commit d7fef52254126aa5897a5c58faeda1f61d5b13d8
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Sep 2 04:04:47 2004 +0000

    Workaround for servers using rootless layer with damage (Bug #1168, Torrey
        T. Lyons).

commit 0e56515aa3ebc5ee8cc33213fb22b69bb4b3a0da
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Sep 2 01:38:17 2004 +0000

    Fix AGL display problems (Bug #1210, Torrey T. Lyons).

commit 2753c8e2c84cc1fb6d73a05258ab7200068e7830
Author: Matthew Allum <breakfast@10.am>
Date:   Wed Sep 1 15:30:58 2004 +0000

    see changelog

commit 7c0aaa53bf8dcf3d0a8c9e78d31cf62b1766fb35
Author: Matthew Allum <breakfast@10.am>
Date:   Wed Sep 1 11:13:36 2004 +0000

    '-dpi' fixes for Xephyr

commit 16ff3a872731633b6f1f4920f793153722026189
Author: Matthew Allum <breakfast@10.am>
Date:   Wed Sep 1 08:31:20 2004 +0000

    Actuall select events for -parent option

commit 2d065c4c33b9ec17c4c791070cf8189cb57bbb9c
Author: Matthew Allum <breakfast@10.am>
Date:   Tue Aug 31 16:33:05 2004 +0000

    Added ephyr server sources

commit 6ec9ecd591fba9e9b69b8ebbd2fa08c0a2beac08
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Aug 30 22:16:46 2004 +0000

    Add a set of three hooks for accelerating trapezoids, and use it for the
        RasterizeTrapezoid screen function. These hooks will be called for
        imprecise, non-sharp trapezoids with A8 destinations.
    Note that the current main consumer of trapezoids, cairo, is requesting
        precise, sharp trapezoids by not changing the default Picture
        attributes, but gets non-sharp effects in software because fb bases its
        choice of sharp/non-sharp on the mask format being A8 vs A1, and cairo
        asks for A8. Follow fb's (poor?) example by ignoring the sharp setting
        and basing the choice off of the mask being A8.

commit ccaf332ce3a9393715317edd3b92420c27fc94eb
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Aug 30 16:43:10 2004 +0000

    Rather than initially place pixmaps in framebuffer based on a size
        heuristic, delay the decision until the first
        kaaPixmapUse{Screen|Memory}, and put it in framebuffer if UseScreen was
        called. Provides a significant improvement in cairo speeds (100%
        speedup in cairogears here) and is likely to improve text performance
        as well.

commit 14b2db63e7ae0c0d356062cd15811484038f97d9
Author: Kevin E Martin <kem@kem.org>
Date:   Sun Aug 29 21:06:00 2004 +0000

    Fix make install when BuildServersOnly is YES (Bug #1213).
    Fix build failures when UseDeprecatedKeyboardDriver is YES and
        DoLoadableServer is NO (Bug #1229, Kristian Hgsberg).
    Fix failure when using DLL loader and LD_BIND_NOW is set (Bug #1212, Adam
        Jackson).

commit ac038e9cc6f7708fdd9f36494861d2f611d5a90a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Aug 29 00:48:17 2004 +0000

    Don't define _XOPEN_SOURCE before including math.h on Solaris - it's not
        needed on older releases, and breaks builds on Solaris 10. (Same as
        bugzilla #189).

commit 89d702763875831604751bac396c3d2400ec59b6
Author: Egbert Eich <eich@suse.de>
Date:   Fri Aug 27 21:44:54 2004 +0000

    Fix for XV memory allocation: Also use tiled area for allocation even if it
        hasn't been used before.

commit 971755765d6ef9cadf11127478af59189034d356
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Aug 27 21:09:23 2004 +0000

    Bug #1101: Fix PaintWindow in the pixmap case when the window's origin is
        not at the backing pixmap's origin. Resulted in incorrect rendering in
        at least aisleriot, fluxbox, and KDE apps, and probably many more.
        While here, move the ParentRelative loop above the drawable grab -- may
        improve correctness with ParentRelative background origins as well.
        Note that the border code doesn't handle ParentRelative yet.

commit 1840a50bb763d5c94195eaffa3954c1afd77a31a
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Aug 27 20:39:17 2004 +0000

    Add missing reply for DMX (Rik Faith).

commit f30fbc600f3e5c3b4aceafb8256594af0069f2c9
Author: Egbert Eich <eich@suse.de>
Date:   Fri Aug 27 20:20:54 2004 +0000

    Fixed typos.

commit 276cf271527b7a6f464025457e5dd452ac13605e
Author: Egbert Eich <eich@suse.de>
Date:   Fri Aug 27 20:16:28 2004 +0000

    - adding missing file

commit ecd889c6ff7427b4e7d3f820586aac178a4dfdc2
Author: Egbert Eich <eich@suse.de>
Date:   Fri Aug 27 19:27:12 2004 +0000

    Added support for LynxOS 4.0 (Thomas Mueller).
    Fix arm netwinder build (Donnie Berkholz).

commit 7c087078694a6895a9bcbe62d091665c05a86b5a
Author: Egbert Eich <eich@suse.de>
Date:   Fri Aug 27 12:32:14 2004 +0000

    - Make DDC code more VESA compliant: when MaxClock is set to 0xFF it means
        'no value specified'. Therefore setting it to 0.

commit c0bff215de2d034118d06cac42e234008612204b
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Aug 27 01:15:10 2004 +0000

    Fix xtest failures in Xvfb from XMatchVisualInfo test.

commit 5335bc8a0657b3e378795b44698ed23020c13891
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Aug 26 20:32:59 2004 +0000

    Bug #1138: Wrap funcs in CW's GC ops as well. While this is unnecessary
        according to the rules as I understand them (bug #1045), not everybody
        follows the rules. GC funcs were being called on the same GC from
        within GC ops, and the cwValidateGC caused a loop in the funcs chain
        that resulted in a crash, notably in cwPolylines.

commit c8672e7ac79c872344f287f7cc106cb5c006e619
Author: Egbert Eich <eich@suse.de>
Date:   Thu Aug 26 11:58:08 2004 +0000

    Fixed support for LynxOS 3.1 (LynxOS 4 will follow) (Thomas Mueller).
    2

commit 198e62c44b99ee0890b944f92b162387f77aa10d
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Sat Aug 21 00:46:01 2004 +0000

    Documentation only update: Update XDarwin application version for release.

commit 74d84d7b122802230579a4da8c2e6914d2f5f060
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Aug 20 05:22:39 2004 +0000

    Fix keyboard driver failing to initialize if DoLoadableServer is NO (Bug
        #1133, Kristian Hgsberg).

commit bd3e6e44259155cb37f39eb2ca5e1f0de1c2ebb7
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Aug 19 04:08:40 2004 +0000

    Add missing no.*Extension symbols (Bug #1131, Aaron Plattner).

commit 87842285007e9ac4f9de0349abee1fb66b7c795f
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Aug 18 21:11:17 2004 +0000

    Fix CopyArea for non-redir dst, redir src (Bug #1105, Eric Anholt).

commit 9223baf985778c536ce93846c431b46a0192cf32
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Aug 18 18:41:41 2004 +0000

    Fix AIX build problems (Bugs #1020, 1102, 1103, Dan McNichol).
    Remove old config files (Bug #1123, Jim Gettys).
    Remove old log message (Bug #1123, Jim Gettys).

commit a45bc0df7a1c369e8429e84414ac813187c90059
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Aug 17 17:55:02 2004 +0000

    Fix DRI module loading (Bug #1057, Ronny Vindenes).
    Fix Xvfb at 8bpp (Bug #1091).
    Fix link order when building with Xprint in glxgears (Bug #1060, Alexander
        Gottwald).

commit 75de2fe82e7da755555028a724f68b9fb9ddfb14
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Aug 16 22:48:50 2004 +0000

    Update release and date for first RC.
    Fix kbd/keyboard driver for DoLoadableServer NO.
    Revert change since it is better to set date in the config files.

commit 1798cac6fa2e909c9f3df26b97ee8232a0bf1592
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Aug 16 20:17:51 2004 +0000

    Add kdb <-> keyboard aliasing when UseDeprecatedKeyboardDriver is NO (Bug
        #1072, Kristian Hgsberg).

commit 6cac342517892a20bab6a6177f8b5742feaaed38
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Aug 16 15:48:53 2004 +0000

    document broken composite in XWin

commit 9aa6beb6b7e6272b05a03e0a4fd34eb8ad21bf47
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Aug 16 02:07:53 2004 +0000

    Fix banner to print out proper version information.

commit 9da0c214ab5f4ee9c1610b4888f5c7c0dd2bcacc
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 15 21:13:11 2004 +0000

    Clip destination instead of source. Should be the same, but it looks nicer
        to me.
    Clean up transition between cheap and expensive GC wrappers by using the
        prologue and epilogue macros. Before, the GC would be left unvalidated
        sometimes which would cause all kinds of entertaining bugs against a
        DDX which cares (XAA).

commit a68f350195c1c54034f98e2b78c2c3da70044884
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 15 19:05:01 2004 +0000

    Remove debugging code which did a full tree walk on every window operation
    Eliminate needless (and, it turns out, dangerous) call to ChangeGC on
        DestroyGCPrivate.
    in cwSetWindowPixmap, check if the pixmap is the screen pixmap and disable
        the wrapper by setting the private to NULL.

commit 5db70ae2575e3e8669d7a66e2218ba28e8bdfa68
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Aug 15 15:40:19 2004 +0000

    Remove #error used for testing.

commit 1e728c3e88f6a74b93dc11827c9fcfe7b39ca5a5
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 15 03:34:18 2004 +0000

    Copy bits from parent window when allocating pixmaps so that Background ==
        None works.
    Copy filter to backing picture during validation.
    Mark picture serialNumber when setting Filter or Transform so Validate
        occurs.
    Initialize xf86Screens[i]->pScreen to NULL so that RADEON driver doesn't
        crash during server reset using old pScreen.

commit 943308517905d16bda1bb27cd745bd291a84dbf6
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Aug 15 00:43:39 2004 +0000

    Redraw window borders when switching window pixmaps around
    Make cw "own" the window pixmaps by wrapping
        GetWindowPixmap/SetWindowPixmap.

commit 597fdae93e6e1b7e4052097baf3d91e7a134c162
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sat Aug 14 23:59:52 2004 +0000

    More kbd fun: write out "kbd" from Xorg -configure (#1078).

commit e483fe3ec384da556c31292001a86ec95c2ddc46
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 14 21:57:58 2004 +0000

    Fix offsets again. Really, it works this time. Promise.

commit e6216b48f5feee72f107348cb21bad724536ec62
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 14 21:36:10 2004 +0000

    Fix offsets, do whole region at once by using GC clipping

commit ed425d1d88a72586d5d7a4aad9d0be0b06637070
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Aug 14 20:29:28 2004 +0000

    Bug #1077: Fix source copy performance problem exposed by Composite.

commit cc3ad0ed4302f54318e190a2b10646337f242d40
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 14 19:53:36 2004 +0000

    Fix clip list computation and setting to ignore clip changes to "real"
        GC/Picture and track serial numbers correctly when copying
        pCompositeClip down.

commit 183c6d06455114c61f6db57ec0a084caf11ece3a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Aug 14 19:51:11 2004 +0000

    Wrap CopyWindow in cw, which fixes scrolling in many apps.

commit e61b5d38ab30c4f73ba0d070f485a32708a03eb6
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 14 07:12:37 2004 +0000

    Use XLIB_SKIP_ARGB_VISUALS environment variable to disable all depth 32
        visuals. Necessary to keep Flash from crashing.
    Must call ValidateGC/ValidatePicture on "real" GC/Picture to ensure
        pCompositeClip is set correctly.
    Need to take the composite clip from the "real" GC/Picture and turn it into
        the clientClip for the backing version.
    Adjust pixmap screen origin to account for drawable->x/y Change debugging
        output a bit (disabled by default)

commit 05f6329eb6f564ad4fc366d75f4ebf9f3ba4b5dd
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Aug 13 23:57:38 2004 +0000

    Don't enable speedo & type1 modules if they're not being built
    Clean up a couple of hardcoded paths & vendor names to use defines set by
        Imakefile

commit 3f84e4f71d9c7c560f9bef675b1cc96fa1d83b14
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Aug 13 19:51:34 2004 +0000

    Fix Xprt bug by disabling code that merges multiple audit messages (Bug
        #964, Roland Mainz).

commit 922fd3a2e568571171dfd64a94f804350829230f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Aug 13 19:18:29 2004 +0000

    Added $(MESASRCDIR)/src/mesa/glapi to INCLUDES. Removed $(SERVERSRC)/mi
        from INCLUDES. Rearranged INCLUDES for better readability.
    Removed mipointrst.h and miscstruct.h from #include since they are not used
        anymore.

commit f63f4b768cd5ec5bffd270e448e6e51b8ad67016
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Aug 13 18:24:07 2004 +0000

    Fri Aug 13 19:53:10 2004 Soeren Sandmann <sandmann@redhat.com>
    Fix for lockups on some versions of Matrox Mystique. #687, Patch from Mike
        Harris.
    Call xf86EnableDisableFBAccess though the function pointer instead of
        directly. #1041, Patch from Aaron Plattner.
    Swap the phsyical size of the screen when rotiation. #1050, Patch from
        Aaron Plattner.
    Fri Aug 13 19:47:12 2004 Soeren Sandmann <sandmann@redhat.com>
    Make HAVE_FT_BITMAP_SIZE_Y_PPEM conditional on the FreeType version instead
        of proping it. This way it will work with the monolithic version too.
        #1062, Patch by Owen Taylor.

commit a29bfbd3d0a5d39ccee5b83ac1ba632091b031bb
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 13 08:16:14 2004 +0000

    Empty damage object when freeing pixmap.
    Wrap InstallColormap so that the DDX doesn't see colormaps from our ARGB
        visual (avoids lovely green tint to screen). Also, set visual->nplanes
        of ARGB visual to all used (including alpha) planes so DIX can set
        pixel values correctly.
    Translate automatic update regions correctly to account for borders
    When nplanes == 32 (ARGB visuals), mask in all ones for alpha values to
        allocated pixel values.
    Remove redundant fbAddTraps declaration
    Fix fbCopyWindow to work on non-screen pixmaps (not needed yet)
    Replace broken clipping code with that from modular tree.
    Respect subWindowMode.

commit 24bed5cff908a6f8b1857e3dadac22d6db54c69e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Aug 13 07:47:21 2004 +0000

    Fix copy'n'paste-os of x/y in CopyPicture for AlphaXOrigin and ClipXOrigin.

commit 5825e4559e7aaf3b40205a0dca49a785c8de7b92
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Aug 12 23:14:50 2004 +0000

    Fix after Mesa 20040812 merge: revert glxext.h to vendor branch, and fix
        bug #1022.

commit 2889ad2cb8827f20b6d69da4fe99db33bf9c5ff2
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Thu Aug 12 20:24:36 2004 +0000

    Fix crash in rootless XDarwin due to rootless being initialized before
        damage extension.

commit 961333143e2df3e3f33e8624fc61e79cf3e86cd1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Aug 12 08:45:33 2004 +0000

    Apply a kludge to initialize the composite wrapper before DamageSetup. If
        not, DamageSetup will wrap some operations first, and the cw
        initializes during ExtensionInit, so cw comes higher in the wrapping
        chain. cw going first will result in damage getting confused when the
        drawables get changed around.

commit 6e0228722cc2fa37a0e2359bc3dab3646e36c4b7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Aug 12 08:11:59 2004 +0000

    Fix various cw issues, including a couple reported by deronj:
    - Fix wrapping of GC ops/funcs according to policy described in bug #1045.
    - Remove ValidateGC/ValidatePictures on the redirected drawables/pictures
        -- it's not needed, and DDXs shouldn't be seeing redirected drawables
        in render or GC ops/funcs when cw is running.
    - Mark all GC/Picture state as dirty when moving from redirected to
        non-redirected, since it hadn't been passed down in Change* or
        Validate* while redirected.
    - Remove CreatePicture wrapper that didn't do anything.
    - Comment on why AddTraps wrapper isn't needed.

commit 789cf3ed846045d91f950cb177ef6bae4c8966fc
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Aug 12 07:57:03 2004 +0000

    Fix some issues reported by deronj:
    - Hopefully fix a crash in compCheckRedirect on unrealizing windows.
    - Remove an extern that doesn't point at anything.

commit 1a073786e0159a80ac3b8772a1d89b0618a8ff33
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Aug 12 05:11:57 2004 +0000

    Update version and date for next snapshot

commit 47ee5f4ba72f0e0bc92a5e04073c70808e85fc08
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Thu Aug 12 01:57:51 2004 +0000

    Add call to SourceValidate() when pDst == pSrc, so misprite.c get a chance
        to remove the sprite before the area is copied. The drivers handle pDst
        != pSrc (#1030).

commit 09d0056b8bc103f67a35980934f03d28fed51164
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Aug 12 01:30:57 2004 +0000

    Wrap the Propolice fix in #ifdef __SSP__; Propolice doesn't define this yet
        but an RFE has been submitted upstream.

commit e30c22dbbffa2605f8d7ac010c8208a135a2293a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Aug 12 01:16:36 2004 +0000

    Back out the propolice fix for a second, it causes linktime errors.

commit 9d0213525f4f692c250f10309146fe9db76ba12d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 12 00:09:30 2004 +0000

    Paint to parent window instead of parent window's pixmap (helps for servers
        that don't have a pixmap for the root)
    Fix offsets for render drawing.

commit c7bc76f663008119b3681d4b7adef7dc9ffdc236
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Wed Aug 11 23:53:36 2004 +0000

    Fix leftover XF86_VERSION_SNAP macro.

commit eb607030e32cbad846696a20cfb3045c5f8f65c1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Aug 11 23:10:02 2004 +0000

    Teach the loader about the extra symbols needed for Propolice-protected
        modules to work under elfloader. From Travis Tilley (Gentoo).

commit fd439afdfe7ba451aff19b62d1764e4dfd0b782f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Aug 11 22:40:14 2004 +0000

    Add COMPOSITE change to fbCopyWindow (not needed yet)
    Xnest was half-using midispcur and doing a bad job of it. Replace all of
        that code with mipointer which does a lot of the work.
    Support DDXen which don't provide GetWindowPixmap, or which return NULL for
        the root pixmap.

commit f95293e5253904883d3b40f9e68e6175247754a3
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Aug 11 22:27:50 2004 +0000

    Fix bogus contact address in Xserver/os/util.c (Bug #738).

commit 56520ecd5ceb9526541c241634b467eba6a8f7cf
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Aug 11 22:13:01 2004 +0000

    In CopyPicture, add missing call to ChangePicture to notify about the
        changes that CopyPicture has done.

commit f77f1d50723aceb5059a96f7a4068046b7961c51
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Aug 11 21:14:18 2004 +0000

    Apply PPC64 build patch (Bug #303, Mike A. Harris, Alan Coopersmith).

commit 3dbaeb2e126d9424b21df91f0be9129c4eea6f1b
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Wed Aug 11 20:25:13 2004 +0000

    Patch xorgconfig to generate config files with correct keyboard driver; use
        "kbd" by default, "keyboard" if UseDeprecatedKeyboarDriver is YES
        (#1040).

commit ca458e3c9b25c3efc10532eb8e31bdcff44dc321
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Aug 11 13:55:03 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=492 -
        /etc/init.d/xprint did not source xorg.conf for font paths additionally
        to xfree86 config files

commit 81881b96861d707b0729e0146a4b53b3dd234885
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Aug 10 21:37:35 2004 +0000

    Update version to 6.7.99.1 and fix problem with snapshot string generation.

commit 21c7c8cdc7d2f607177634601cef8b0290fb0e80
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Aug 9 22:37:22 2004 +0000

    Fix install problem on platforms not using xorg.cf/xfree86.cf (Bug #339,
        Harold L. Hunt II, Alexander Gottwald).
    Fix crash when using X core font in zh_CN.UTF-8 locale (Bug #368, Yu Shao,
        David Dawes).
    Fix glXMakeCurrent(Dpy, None, NULL) crash (Bug #719, Adam Jackson).
    HP-PA build fix (Bug #828, Guy Martin, Paul Anderson).
    Fix SDK build for GATOS and Wacom driver (Bug #829, Bryan Stine).
    Fix attempt to read video ROM before enabling it (Bug #843, Ivan
        Kokshaysky, Mike A. Harris).
    Fix detection of primary adapter (Bug #843, Ivan Kokshaysky, Mike A.
        Harris).
    Clarify xset man page description of how to use the keyboard repeat rate
        settings (Bug #846, Mike A. Harris).
    Fix problem where print-screen key would get remapped to sys-req in certain
        keymaps, which broke GNOME printscreen functionality (Bug #847, Owen
        Taylor).
    Fix several render problems:
    - MMIO mode support
    - Hang on IGP chips
    - VT switching hang
    - 3D render corruption (Bug #922, Hui Yu).

commit 26847ef9268f687c4f45f3d048eff4b06c2ba3bf
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Mon Aug 9 03:40:50 2004 +0000

    Move the new render symbols to dixsym.c instead so they are grouped with
        the other render symbols.
    Initialize screen_x and screen_y to 0. This fixes a problem with the new
        Damage based sprite, where intersection test against the root pixmap
        would fail because the two fields were not initialized (damage.c,
        166-170).

commit 57eab4dc87670da42e645a4c341d1ee661b43b5b
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Aug 9 02:08:35 2004 +0000

    - Fix building without Xfixes extension
    - Fix building without Xevie
    - Fix building without DPMS
    - Fix "Extensions" section config file support to accept general boolean
        options

commit a2e51b13ea5a2e5fc5626905b6c2caac6358eb11
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Aug 8 20:56:56 2004 +0000

    Disable legacy keyboard driver "keyboard", unless
        USE_DEPRECATED_KEYBOARD_DRIVER is defined. Print warning if the old
        driver is used.

commit 3431692bf44e7be01187b421cfb0e46131c5e4c7
Author: Kristian Høgsberg <krh@redhat.com>
Date:   Sun Aug 8 17:02:19 2004 +0000

    Add new render symbols to list of exported extension symbols so
        DoLoadableServer works again.

commit 1e694d2b51a954d1bc4afdde390723e9a1a5b9bf
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 7 01:23:07 2004 +0000

    Fix minor timestamp lossage in mieq.
    Replace miSprite implementation with Damage-based one. Otherwise damage and
        misprite conflict causing looping.
    Change pScreen usage around a bit to eliminate warnings

commit 45fde3b041c071ae5a604cefbbfa4da5c1e828f8
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 7 01:19:01 2004 +0000

    Eliminate mfb support. Fix visuals to match "normal" PC hardware (making
        lightpipe work).

commit 2bdbc2c0d39b1618440a6a8ed1c38a11703e898c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 7 01:02:41 2004 +0000

    Clean up cw initialization, make sure wrappers re-wrap on exit.

commit cff0043a347ba06e8ab16a84a35c99794b45149b
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 7 00:58:21 2004 +0000

    Remove alpha-related fields from visual structure to retain binary
        compatibilty. Applications using ARGB visuals will need to use Render
        or other mechanisms to compute pixel values instead of AllocColor

commit 196aafb19a3cfdc8c21f9bf75814cf0d84ff4446
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 6 23:42:10 2004 +0000

    Add RenderAddTraps. Rewrite trapezoid rendering code.

commit e847bcda0827ffb87689a0162c648570de6d6f69
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Aug 6 00:31:28 2004 +0000

    Fix missing ';' in cw.c and unwrap the render wrapper properly.

commit ae1580c494fde2b56f9faa40f7ebcf637728efc8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Aug 5 18:24:58 2004 +0000

    - Add a new Render function, CopyPicture, which will update a picture with
        the flagged bits from a source picture. Approved in principle by
        keithp.
    - Use CopyPicture and SetTransform to update most of the backing picture's
        state in the composite wrapper. Filters are still missing.
    - Don't allocate a picture private, now that we calculate clipping properly
        and don't need the serialNumber or stateChanges.
    - Use the format of the source pixmap rather than generating the format
        from the window's visual.
    - Wrap the rest of the Render primitives that were stubbed out before.

commit 73e14bd611fa7eac649a2b4c7964959d9eae887b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Aug 4 23:18:38 2004 +0000

    - Always validate the backing GC in cwValidateGC, not just when the clip
        list changes.
    - Use FillTiled instead of FillSolid for painting tiled border/background
        pixmaps, and don't needlessly change the scratch GC's defaults.
    - Use the preferred dixChangeGC instead of DoChangeGC.
    - Simplify a silly loop and clean up a couple of comments.

commit d240c41a3ab9cde9921cc96cf86e630ca5c9005a
Author: Egbert Eich <eich@suse.de>
Date:   Wed Aug 4 12:21:48 2004 +0000

    Optimization of CJK rendering when using versions of freetype prior to
        2.1.8 (Chisato Yamauchi).
    A small backward compatibility fix to make the freetype module build with
        freetype version < 2.1.7.
    Fixed/added some debugging code.

commit 751fd11a9ad1a473d7311362246b0869a008001b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Aug 4 10:05:37 2004 +0000

    - Add two new XAA hooks, SetupForCPUToScreenTexture2 and
        SetupForCPUToScreenAlphaTexture2. These add a dstFormat argument after
        the previous format argument, which the driver needs to use to properly
        set up the destination format. Two new arrays are added for the list of
        destination formats supported that correspond to the previous format
        arrays for sources.
    - Make Render acceleration only occur when the new hook for that
        acceleration type is supplied and the dst format list is set, along
        with the src format list being set. Without knowing the destination
        format, the Render acceleration couldn't properly support all the
        destinations it might encounter.
    - Bump XAA module minor version.
    - Update the Radeon Render acceleration to use the new hooks when the XAA
        module is sufficiently new. Fix a bug in the src/dst alpha booleans for
        ops, and use them to set blend_cntl to support destinations without
        alpha. Add missing PICT_a1r5g5b5 texture format, and add list
        terminator. (!)

commit 9c1d52a69db841ac85ef97d7223361b83a66ae29
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Aug 3 10:12:25 2004 +0000

    Merge from CYGWIN branch
    2004-08-02 Kensuke Matsuzaki
    Fix the bug that we can't copy & paste multi-byte string to Unicode-base
        Windows application. Rename fUnicodeSupport to fUseUnicode, because it
        don't mean wheather Windows support Unicode or not.

commit defcfe3c7ee3e39ef02da08b7227b758dbede325
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Aug 3 09:33:54 2004 +0000

    programs/Xserver/hw/xfree86/ddc/xf86DDC.h
    programs/Xserver/hw/xfree86/vgahw/vgaHW.c
    programs/Xserver/hw/xfree86/vgahw/vgaHW.h
    programs/Xserver/miext/shadow/shadow.h
    programs/Xserver/miext/shadow/shpacked.c
    programs/Xserver/miext/shadow/shplanar.c
    programs/Xserver/miext/shadow/shrotate.c Fix glitches in pointer to
        functions declarations.

commit e6d0b18c24f7f84aabed763be1cc8414883fab95
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Aug 3 08:52:17 2004 +0000

    Fix declaration of XAACachePlanarMonoStippleProc. Rename
        XAACachePlanarMonoStippleWeak to XAAGetCachePlanarMonoStipple() for
        consistency with other parts of xaa and fix forward declaration in
        xaalocal.h. Fixes last comments on Bug #962.

commit bfbb40c28ce6e98c82973bd96054d4787579eaa6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Aug 3 05:49:48 2004 +0000

    Major improvements to Composite wrapper. Several issues remain, but it now
        appears stable in limited testing.
    - Allocate the picture private, avoiding segfault.
    - Wrap PaintWindow to draw the background/border to the backing pixmap
        (based on Deron Johnson's comptran.c).
    - Set the x_off/y_off returns to translate coordinates properly.
    - Don't bother allocating temporary areas for the modified coordinates.
        Layers above are responsible for handling lower layers changing the
        arguments, so cw doesn't have to worry about it. mibstore.c has to do
        the allocation because it calls down twice (front buffer and backing
        store). (Suggested by keithp)
    - Handle the mode argument to PolyPoint, Polylines, and FillPolygon.
    - Remove some dead elements in the cw privates.
    - Kill a prototype warning in compinit.c by adding the cw.h header.

commit b7ba272da0910c6558f71cfedd0bf9836fc892c1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Aug 3 05:39:19 2004 +0000

    The Damage extension has to wrap after (be called before) the Composite
        extension so that the redirecting of drawables by the wrapper doesn't
        confuse Damage.

commit d112e55992e9e03e74fdf5738c8c47cd90033a37
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Aug 3 02:44:23 2004 +0000

    Bug #962: Remove LoaderSymbol calls introduced by the dlloader work so
        DoLoadableServer NO builds work again.

commit 734cb34dc1697530ecd971b84e1061ed86b4c2a4
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Aug 2 21:15:30 2004 +0000

    Mon Aug 2 21:49:33 2004 Soeren Sandmann <sandmann@redhat.com>
    Remove double cast.

commit e6b9cc79c204420117a1f7b23d131ec24923d612
Author: Egbert Eich <eich@suse.de>
Date:   Mon Aug 2 19:35:07 2004 +0000

    Removed distro specific stuff.
    Fixed FreeType module to build with FreeType versions older than 2.1.7.
    Fixed typo.
    Added vtSema to protect call of driver DPMS function.
    removed unneeded variable
    Modified RandR driver hook to reduce the number of function calls to one.
        Function is sufficiently generic to be extended in the future.

commit b759da83ae62a897b7727d9180a68b962b571286
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sun Aug 1 16:16:18 2004 +0000

    added README for Cygwin/X
    This file currently contains the Cygwin/X specific release notes from 6.7.0
        and a first collection of what will make up the release notes for the
        next release

commit d638a50f3f039d84d86c00696d7d3ec22560bc3c
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sat Jul 31 18:33:56 2004 +0000

    adjust prototype for winInitCmapPrivates to match Egberts change.

commit 488be6611919af97d7e4f8b0994487882eb78e18
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Jul 31 09:41:27 2004 +0000

    Fix typo

commit 383b6b59864098b03d991628ff5933d997793ea1
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Jul 31 09:14:06 2004 +0000

    Add "Extensions" section support to configuration parser

commit d690556d496c7331bd112903a0c9e6553c7d3342
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jul 31 08:24:14 2004 +0000

    Integrate COMPOSITEWRAP branch including composite wrapper. This code still
        has several issues, including:
    - CopyWindow and PaintWindow wrappers missing (will be done soon)
    - Some segfaults seen in the Render wrappers.
    - Xprt server build breaks with Composite.
    - DDXs must be recompiled for Composite due to VisualRec size change.
    - Composite bugs pointed out by Deron Johnson in email.
    Also, reorder XFixes initialization according to comments by Keith which
        are also in xserver CVS.

commit 8763cca7f9927bd6c9caf804bf09dcfea929eed0
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jul 31 07:26:50 2004 +0000

    Update xfixes server code to major version 3 from xserver CVS, and perform
        minor diff-reduction versus xserver CVS.

commit 25bd6ff4a622d09fb0c247b7c40281744c61431e
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Jul 31 04:23:21 2004 +0000

    Add new extension enable/disable feature. This code is a small step in the
        right direction -- i.e., moving towards full run-time config of
        extensions. Currently, only XTEST, XINERAMA, RENDER, XKB, and XEVIE are
        supported.

commit 326729ebca863c99cf913445126294a3c6d3db5d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jul 31 01:48:27 2004 +0000

    - Add some XFIXES bits apparently missed in the DAMAGE-XFIXES merge
    - Add missing XCSECURITY ifdef.
    - Sync some whitespace to xserver CVS and surrounding style.

commit 370bda820b2912b93dcc34c088075f8e65a9e5cb
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jul 31 01:38:46 2004 +0000

    Integrate latest damage bits, including the addition of Composite code.
        Includes REGION_INIT -> REGION_NULL necessary to avoid segfaults with
        inlined region macros.

commit 7542d8a17ad469f9c760f0f843bd6a4fb6deb57d
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Sat Jul 31 01:37:47 2004 +0000

    Turn on XEVIE https://freedesktop.org/bugzilla/show_bug.cgi?id=947 Modified
        Files: miinitext.c

commit b2065f376b932e49f1f96dfb92ddb52d15796abe
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Sat Jul 31 01:34:26 2004 +0000

    Integration of XEVIE branch to trunk, latest updates
        https://freedesktop.org/bugzilla/show_bug.cgi?id=947 Modified Files:
        Imakefile xevie.c

commit e68bfc801680f2852c59099aa3d7502e49b48b2c
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Sat Jul 31 01:33:40 2004 +0000

    Integration of XEVIE branch to trunk, Some updates from latest reviews
        https://freedesktop.org/bugzilla/show_bug.cgi?id=947 Modified Files:
        events.c

commit 706b2a7e02aa0085769fb87782118488d0f90eaa
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 31 01:21:19 2004 +0000

    Change several LoaderSymbol calls introduced by the bug #400 patch to
    *Weak() resolver functions.

commit 9e13805b02f37497971c789b4035abc29463c550
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sat Jul 31 00:44:45 2004 +0000

    adjust prototype for winInitCmapPrivates to match Egberts change.

commit 4da507a03fd5659e5944d9e47dd2f8920636383b
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Jul 31 00:32:43 2004 +0000

    Fix compiler warning

commit 64a6d3e9c84a36b4e0550d112f288b695c5056cd
Author: Hui YU <hyu@ati.com>
Date:   Fri Jul 30 22:20:21 2004 +0000

    Support for New radeon chips: R420/M18, R423, RV370/M22, RV380/M24, RS300.
        Add special handlings for DELL triple-head server (RV100). Misc. bug
        fixes for flat panel, host aperture, etc (Bug #946)

commit d3c98fed2c37a863a6765a3e288bcdbc2738878a
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jul 30 21:53:09 2004 +0000

    Add support for on-the-fly screen rotation when supported by hardware (Aron
        Plattner).

commit 4baf0029418d3eeeac5d1026a7cfea3234e44e48
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jul 30 21:46:38 2004 +0000

    An experimental pseudocolor emulation layer. Not fully completed, currently
        only works for 16bpp.

commit 63a152f7812d0981e3e7aa41a42e59cd0c3e50dc
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jul 30 21:39:20 2004 +0000

    removing some unnecessary restricitons on the allowed visuals.

commit 0ba15599466ddb644728c6b68e64e05b1317ac2e
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jul 30 21:10:46 2004 +0000

    Adding a colormap index to the InitColormapPrivate() func call. Without it
        it was completely useless.
    test if colormap with index really exists in the list of installed maps
        before using it.

commit bbfe7bed3fe4d9bd089327cd59e6faedb592dabb
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jul 30 20:56:53 2004 +0000

    Set DPMS to ON when VT switching away or shutting down the server. Failing
        to do this may leave the text console blank.

commit 40b975e3acb11c1ec2fd4c5984f5efa20b669489
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jul 30 20:51:09 2004 +0000

    Improved error messages.
    build fixes for AMD64.
    Made shm* functions in the libc_wrapper more standard conformant by setting
        errno correctly.
    Use xf86ExendedInitInt10() in VBEExtendedInit() to be able to pass flags.

commit 7643199de1c4f12a2aadeaf2d539a37ddb45672b
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jul 30 20:38:27 2004 +0000

    Fix static build.
    add i845 to the list of chips that allow memory size tweaking.

commit 48514fee3c8ec26f36e142ffc9272e510b9a4238
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jul 30 20:30:57 2004 +0000

    Bug #400 (partial): Driver fixes for the dlloader. When using dlloader, all
        framebuffer formats except cfb and the overlay modes should work, and
        r128 and radeon need to be loaded from the ati driver (both issues to
        be fixed soon). Tested on i740, s3virge, mach64, tdfx, vesa, and vga
        drivers. elfloader users shouldn't be affected.

commit 29012adb37c533f57c684ad94c4d83a6c31793e5
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Fri Jul 30 19:28:03 2004 +0000

    Add generic rootless layer documentation missed from last commit.

commit 784e4d1cc02dea837a38a4140a18013953296366
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Fri Jul 30 19:12:18 2004 +0000

    Merge many XDarwin improvements:
    - Fix launch of X clients by double clicking in the Finder when there is a
        space in the path (Torrey T. Lyons).
    - Interpret scroll wheel mouse events correctly when shift is held down
        (Benjamin Burke).
    - Add option to always use Mac command key equivalents (John Harper and
        Torrey T. Lyons).
    - Add support for dynamic screen configuration changes in rootless mode
        (John Harper and Torrey T. Lyons).
    - Add documentation on generic rootless layer (Torrey T. Lyons).

commit c2275b31adc3c4292c171055db16e00ee0e69e43
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jul 30 19:04:14 2004 +0000

    Removed bugs on TweakMemorySize() which prevented it from working at all.
    Initialized last element of BIOS version number string to 0 to avoid random
        problems.

commit 5ed0aefc67e86abaddf1b6bffdc832996b86fb46
Author: Egbert Eich <eich@suse.de>
Date:   Fri Jul 30 18:40:36 2004 +0000

    Fixed typo in a comment.
    Deleted bogus comment.
    Added debugging support.

commit d380647739e4767da69edc44bbb441b3b9554b03
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Fri Jul 30 18:22:13 2004 +0000

    Add initial Xinput support for XDarwin (Greg Parker).

commit 41641c11ec8994f1bc4bd1b05ae2cb38167c8312
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Fri Jul 30 17:37:09 2004 +0000

    Make XDarwin not default to StaticColor on ix86 (Shantonu Sen).

commit f4c84e7dbf0f25a2544d4400e600310421683f3c
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Jul 30 12:03:56 2004 +0000

    Fix for http://xprint.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=940
        - Filter /etc/init.d/xprint throught CPP/|MakeScriptFromCpp()| to allow
        platform-specific customisation.

commit ed923a42b800e3f701084ef5828cabbbefe8361f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 30 06:54:41 2004 +0000

    file cw_render.c was initially added on branch COMPOSITEWRAP.

commit 69e379ddaf85feda6a163b5f4e855ffe86b254df
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 30 06:54:41 2004 +0000

    file cw_ops.c was initially added on branch COMPOSITEWRAP.

commit 0ee93acd103af947fef0a28e32b5b3f2857789bf
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 30 06:54:40 2004 +0000

    file cw.c was initially added on branch COMPOSITEWRAP.

commit 3bdaa0e7fa7b6f5d550907d5fe7d0fb16c53e243
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 30 06:54:40 2004 +0000

    file cw.h was initially added on branch COMPOSITEWRAP.

commit 94e1ea569171334eb40a2d4a63138c02915203db
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 30 06:54:40 2004 +0000

    file compwindow.c was initially added on branch COMPOSITEWRAP.

commit 705536d04c4f09c84bb04827c07bb899584f399d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 30 06:54:40 2004 +0000

    file compinit.c was initially added on branch COMPOSITEWRAP.

commit b80dbd886d7cc3a72772f3231a8c8e8df7f6679f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 30 06:54:40 2004 +0000

    file compalloc.c was initially added on branch COMPOSITEWRAP.

commit beb26caf68d3e25bf85fd63dbb499eca4b1f05ba
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 30 06:54:40 2004 +0000

    file compext.c was initially added on branch COMPOSITEWRAP.

commit 97afc846003bb521cf9d6e92b298024d83db8759
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 30 06:54:40 2004 +0000

    file compint.h was initially added on branch COMPOSITEWRAP.

commit 854c1afa867ff617b47c4cde3cfd86bd26e9931a
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 30 04:44:13 2004 +0000

    Fix "DoLoadableServer NO" build

commit 71164d118c192e96eb2b0fc45514233e9563a568
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Fri Jul 30 01:21:57 2004 +0000

    Integration of XEVIE branch to trunk
        https://freedesktop.org/bugzilla/show_bug.cgi?id=947
    Modified Files: cursorstr.h input.h inputstr.h windowstr.h

commit 82a6a659248bb66a0364eb9eaf331747834fb5c6
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Fri Jul 30 01:20:42 2004 +0000

    Integration of XEVIE branch to trunk
        https://freedesktop.org/bugzilla/show_bug.cgi?id=947
    Modified Files: Imakefile Added Files: xevie.c

commit dd7077cadcdc323e1a301ed5eefa7ff12599aa4d
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 30 01:15:57 2004 +0000

    Cleaned up code since client's saveSet is no longer defined as a pointer*
        (forgot one change in previous check-in)

commit 813d75f9d3c7b540977926e37310fa683daf12e1
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Jul 29 23:43:40 2004 +0000

    Use LibraryTargetName when not building a loadable server
    Move extern function declarations to window.h
    Cleaned up code since client's saveSet is no longer defined as a pointer*
    Added externs back in
    Change #if to #ifdef to fix compiler warning
    Add function declarations that were inadvertently removed by previous check
        in
    Disable extensions that are not (yet) supported by DMX

commit 274d5044ac41523ff23912c223177c429c710e09
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Jul 29 18:49:42 2004 +0000

    Integration of DAMAGE-XFIXES branch to trunk
        https://freedesktop.org/bugzilla/show_bug.cgi?id=859
    Modified Files: Imakefile miinitext.c

commit 406c49eb810cbdcfd833cac4eeaa465598238691
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Jul 29 18:46:37 2004 +0000

    Integration of DAMAGE-XFIXES branch to trunk
        https://freedesktop.org/bugzilla/show_bug.cgi?id=859
    DAMAGE calls some shape functions. Modified Files: Imakefile shape.c

commit 0bca00e1205bf1a4537cbf7be6339b3b1f9b953f
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Jul 29 18:43:58 2004 +0000

    Integration of DAMAGE-XFIXES branch to trunk
        https://freedesktop.org/bugzilla/show_bug.cgi?id=859
    Modified Files: dispatch.c dixutils.c events.c window.c

commit d4a101d4ef9943dcddf08b00b2d3ab4319597193
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Jul 29 18:37:54 2004 +0000

    Integration of DAMAGE-XFIXES branch to trunk
        https://freedesktop.org/bugzilla/show_bug.cgi?id=859
    These RENDER changes come from the experimental freedesktop tree formerly
        known as "Xserver". Partly motivated by compatibility with DAMAGE as
        pulled from that tree, also some of the code just is better
        implemented.
    Modified Files: filter.c picture.c picture.h picturestr.h

commit e1281790bb3d7cdcc5de85829806dd53da67e326
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Jul 29 18:16:56 2004 +0000

    Integration of DAMAGE-XFIXES branch to trunk
        https://freedesktop.org/bugzilla/show_bug.cgi?id=859
    Modified Files: cursorstr.h dix.h dixstruct.h regionstr.h window.h

commit d2f798b6dbaebd0300f42c2e083a962c37647620
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Jul 29 14:42:24 2004 +0000

    Integration of DAMAGE-XFIXES branch to trunk
        https://freedesktop.org/bugzilla/show_bug.cgi?id=859
    Added Files: Imakefile damage.c damage.h damagestr.h

commit 682ee8a9f8d55c6a6f517a277d1bfad2a0f28594
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Jul 29 14:40:33 2004 +0000

    Integration of DAMAGE-XFIXES branch to trunk
        https://freedesktop.org/bugzilla/show_bug.cgi?id=859

commit 6ed1c3845517c7731dcc74baa51bb801838afaff
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Jul 29 14:33:43 2004 +0000

    bugzilla 859 -merging DAMAGE-XFIXES into trunk

commit 736e511824c4f5e77e637c680a4e45f0b7631644
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Jul 28 03:57:19 2004 +0000

    Fix shared reqs for Xlibi18n, Xaw6 & Xmu for Solaris
    Improved support for Compose and Kana Lock LED's on Sun keyboards
    Add event definitions for additional keys on Sun Japanese keyboards
    VUID mouse protocol support for Solaris Make default mouse message clearer
        on machines that use a default other than /dev/mouse.

commit d374dffb20364a3df184cc28888ee7edbe50f474
Author: Rik Faith <faith@alephnull.com>
Date:   Wed Jul 28 00:28:00 2004 +0000

    When using DMX console input, make detached screens display as grey (vs.
        white for attached and black for dead-space).

commit 1498414cc85c148ef15b9b57d9f9b6b850bf2702
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Tue Jul 27 20:26:47 2004 +0000

    Fix Xprint build on Darwin.

commit ddd58356123f61b863754eb0bdd42a8defa0461b
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Tue Jul 27 20:24:00 2004 +0000

    Fix XDarwin's broken build of libGL and server side GLX. GL library is only
        known to build correctly on Mac OS X 10.3.4 and still needs some work
        for earlier versions.

commit 8ef3e7052e8e1db869411e9f6fc88491e3f05474
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jul 27 09:53:14 2004 +0000

    Merge latest changes from CYGWIN branch
    Use find | xargs combination instead of simple shell globbing to prevent
        commandline argument overflow

commit a12a678bc9af8df1a3078f574b0c910e3e6983f8
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Jul 27 06:20:52 2004 +0000

    Fix a bug that caused an entire batch of events to be thrown out when one
        of an unknown type is encountered. (Ty Sarna, NetBSD).

commit 19002e47a0dbf55e035b674116a533ec9814edfa
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Tue Jul 27 02:50:41 2004 +0000

    - enable maven support for TV detection, DPMS, and DDC on crtc2 on G400
        (Ryan Underwood) (http://bugs.xfree86.org/show_bug.cgi?id=1098)
    - expose I2CStart; needed for mga maven support (Ryan Underwood)

commit 2a7b137d41eb8ce6efc45b47b5df0c89eb4f5d93
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon Jul 26 22:41:47 2004 +0000

    remove extra ';' (Alan Hourihane, Keith Packard).

commit 799208dd44a65b18dda97b4843a27a2628f955f4
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jul 26 19:06:04 2004 +0000

    Bug #377: Make lib{glx,GLcore,dri} work when compiled as dlloader modules.

commit f15f881727cee9a879bd43be8dc849320f8d3cbd
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 26 17:14:27 2004 +0000

    Eliminate bogus rate check in fbdevModeSupported. Hmm. Potentially bogus
        rate selection necessary for Mac fbdev
    Don't know about fb changes to pixmaps, so can't track dirt.
    Add Mac specific 1280x854 mode. Warn when requested mode isn't found.
    Add ability to soft-boot video cards.
    Add region expand request. FIXME: need test cases

commit 20913b7d5daf90e0f7ad1ee967ad2f0daaec40f9
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Jul 24 17:35:39 2004 +0000

    Fix a problem with wsmouse driver loosing events on 64bit architectures
        (XFree86 Bugzilla #1438, John Heasley). "To fix this, I've added a
        mouse buffer (Xisb buffer) "scale" value to the MouseDevPtr type. If
        set, it is used as structure size of which we want space for a few."

commit c57944cd9aaac717d4d4ada44626e35925b39bbd
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jul 24 17:02:49 2004 +0000

    Check for mmio before restoring crtc/crtc2 pitch registers

commit 5fdff8b95e8f90221a46717c2f84715ab238460c
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Jul 24 16:32:39 2004 +0000

    Bugzilla #884: OpenBSD/amd64 support.

commit cc3e0173d9fae8a40eb46606d9951e3aa1df975a
Author: Søren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Jul 22 19:24:50 2004 +0000

    Thu Jul 22 20:03:11 2004 Soeren Sandmann <sandmann@daimi.au.dk>
    Call MMX solid fill routine when available.
    Call MMX operations when available.
    New HasGcc34 macro
    New file with many operations implemented with MMX intrinsics, conditional
        on having GCC 3.4 on i386.

commit 9565d9e0cf85e6f5fb47acebdd66212bd6cc3e08
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 22 18:17:59 2004 +0000

    Correct pitch so that accelerator can run on 1400x1050 screens. Add a few
        more register sets for cursors.

commit 67dbad6b3b9163eafae7d9dd7698708e10372a21
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jul 22 06:48:19 2004 +0000

    DRM 20040721 import

commit 829b2c72a6433ebaf63f2d2726259c73cca4bd1a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jul 22 06:48:19 2004 +0000

    Initial revision

commit 448e0754e369d433a61ae337bbfd7dba195c5e69
Author: Phil Blundell <pb@reciva.com>
Date:   Wed Jul 21 20:33:35 2004 +0000

    Include -lts if appropriate. Patch from pattieja@bentham.ispvip.biz.

commit 0c32a94623b13dd1ac5b015b465bdf890f498282
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Tue Jul 20 15:15:13 2004 +0000

    Bugzilla #889: Bind -from address to port number 0 instead of 177

commit 07e6011106dcfa0ab69861aa7dcbb88382625c16
Author: Phil Blundell <pb@reciva.com>
Date:   Tue Jul 20 14:33:42 2004 +0000

    Select optimized
    16bpp shadow copy functions if screen is 16bpp. Select -YX versions for
    90 and 270 rotations if architecture is ARM.

commit 797114414096d7bf7ed0d73a878d0cffef262301
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Jul 19 22:01:52 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=893 - Fixing the
        bug that Xprt did not honor ${LC_ALL} when looking for model-config
        dirs.

commit 8853f9331826899229e5b7c964e9c852c0371ce5
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Jul 19 12:07:01 2004 +0000

    Add support for a8b8g8r8 and x8b8g8r8 pictures, which showed up frequently
        with metacity usage.

commit adf4b38f49da063576b48f9c0750b78bb753b3de
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Jul 19 11:42:49 2004 +0000

    Breakage in last commit to this file: pCurPriv->area isn't set up until
        Enable, these days.

commit d2e74e419d2c75c5a5b97236d2714730e6f69ee0
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Jul 19 11:19:12 2004 +0000

    Set the right number of texture coordinates for r200 Render support (still
        disabled, needs to be tested).

commit cefcb7f123c962c3715b0c46f30430e87c82a017
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Jul 19 11:16:13 2004 +0000

    - Add Radeon picture transform support.
    - On R128, don't refer to an old Composite's mask transform when the
        current Composite doesn't have a mask.
    - Staticize some global variables in r128_composite.c.

commit 9fe216a45836b98b5aea55725019668de3900e83
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Jul 19 07:53:54 2004 +0000

    Use the offscreen memory manager as much as possible to do the reservation
        of memory at startup. Do some drive-by cleanups while I'm here
        (sorry!).

commit e2bb9f38cdcb74fd7630f4efe310ad14d597171e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Jul 19 07:20:01 2004 +0000

    Add support for transforms of textures on R128.

commit c04264727860cbe2e276e1934d6700d0baaf9f73
Author: Rik Faith <faith@alephnull.com>
Date:   Sun Jul 18 22:19:33 2004 +0000

    Addition of console input after removal of core backend input that is not
        on screen 0 can cause a segfault. Fix by preventing reinitialization of
        detached inputs. When Xinerama is active and screen 0 is detached,
        pixmaps for XGetImage must be obtained from another screen.

commit 0addd0d499046fc8a6cdc18fc41d34cac2ba77ea
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sun Jul 18 05:21:20 2004 +0000

    Fix for http://freedesktop.org/bugzilla/show_bug.cgi?id=858 - Fixing the
        problem that clients cannot use the TrueColor visual without calling
        |XInstallColormap();|.

commit 7f9e263658b1c9c435db851a8afd904a2f584d13
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Jul 17 20:44:14 2004 +0000

    Revert change to MAXFORMATS to maintain binary compatibility

commit c47a1bdd7463b6863018e2c4237acfd28b89f38f
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jul 17 01:13:31 2004 +0000

    Fix typo in debug message in MakeAllCLTSServerListeners
    Add $(GETPEER_DEFINES) to DEPEND_DEFINES for makedepend
    Add "localuser" and "localgroup" access types to server-interpreted
        authentication scheme.

commit 3e52373fc8179a59efc9e7ab22ce0cb5160d0409
Author: Carlos Romero <kcrashcore@bellsouth.net>
Date:   Thu Jul 15 09:56:40 2004 +0000

    Enable i810.

commit aeb78eaa980ac93f6af3e947ab1ad8bce5bc5bd1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jul 8 08:21:25 2004 +0000

    Commit the rest of the dirty optimization from 20040703 and add a missing
        header include. I don't know how this happened, but I'm going to blame
        a "few" fscks having happened between testing the code and committing
        (due to other driver changes that made me not blame dirty for the
        failures I saw) for disappearance of kasync.c changes. Fixes a lot of
        corruption.

commit b46767352822b09e5dab8b54cbb7a37a9b62de53
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jul 8 06:57:58 2004 +0000

    Remove duplicate protos in kdrive.h.

commit 764d9e822b01fdfe3ff088028959cbc48b349026
Author: Carlos Romero <kcrashcore@bellsouth.net>
Date:   Wed Jul 7 20:43:25 2004 +0000

    missing xkb/[xkb.h, xkbDflts.h] and hw/kdrive/mga/g400_common.h

commit f96ef08d48b01f6119799ede9ffc43d0134cbf8b
Author: Carlos Romero <kcrashcore@bellsouth.net>
Date:   Wed Jul 7 19:21:07 2004 +0000

    Initial kdrive XKB/XINPUT support, use --enable-xkb --enable-xinput

commit a5c9b3229ce418a5e3eacc40b7a7f11c0a26d958
Author: Rik Faith <faith@alephnull.com>
Date:   Wed Jul 7 04:32:52 2004 +0000

    Bugzilla #817

commit 1498d7a096f0855fa965585acd9ca4a2780cc959
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Jul 6 23:51:00 2004 +0000

    - Disable building DMX on OSs that have not been verified to build
        correctly (Kevin Martin).
    - Fix DMX build when Xinerama is not enabled (Kevin Martin).

commit 0e45f2a7536bf4b66d6f64d96b44431310884af3
Author: Egbert Eich <eich@suse.de>
Date:   Tue Jul 6 14:49:13 2004 +0000

    ifdef'ed some IA32-only assembler statements. Presently these chipsets are
        IA32 only, anyway (Egbert Eich).
    Disabling generic VGA testing for IA64 architectures. Temporarily disabling
        support for ZX1 bus. This code is extremely invasive and is executed as
        fallback without testing for a ZX1 chipset. It brings a SGI Altrix to a
        grinding halt. (Egbert Eich).

commit df2b55a25b7056ac92c1f6cbee9f16bd0a37ba8c
Author: Egbert Eich <eich@suse.de>
Date:   Tue Jul 6 14:37:48 2004 +0000

    Separated Intel drivers from default DriDrivers to avoid building them on
        IA64 (Egbert Eich).
    Fixed wrong function prototype (Egbert Eich).
    Don't test for generic VGA on IA64 (Egbert Eich).
    Fixed a segfault when accessing a structure before verifying the pointer
        exists (Egbert Eich).
    Added a showcache option for debugging (Egbert Eich).
    Increase default video RAM size to 16MB when DRI is enabled and more than
        128MB are available (Egbert Eich). Fixed lockups during mode switch.
        Problem was introduced when attempting to copy the behavior during
        LeaveVT()/EnterVT() but but forgetting to call I810DRILeave() before
        I810DRIEnter(). The entire DRILeave()/Enter() scenario has been
        commented out as it didn't seem to be necessary (Egbert Eich).
    Fix TweakMemorySize() (tested with i855/i865) (Egbert Eich).
    increased MAX_DEVICES to 128 (Egbert Eich).
    Use OS provided PCI config space access as default method (Egbert Eich).
    Added support for Linux 2.6 proc file format.
    Fixed unaligned accesses to pieces of the VBE info block. VESA did not
        align elements to size (Egbert Eich).

commit 7c466d64c34e68e0bc50e083861874161ae02db9
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jul 3 10:23:03 2004 +0000

    Clean up Rage 128 composite code. Now it composites more operations
        correctly and is simpler.

commit 020701566916c8569f5af7f2efe1de36fea2002e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jul 3 09:16:30 2004 +0000

    Add a "dirty" flag to the pixmap private. Clear it when setting up an
        offscreen pixmap area, and set it when any rendering occurs. When
        moving a pixmap out of offscreen, don't read data back if it wasn't
        dirtied (compared to the system memory copy).

commit fd594b0559caa98ee0823be956aecf9c9d2e52bc
Author: Phil Blundell <pb@reciva.com>
Date:   Fri Jul 2 21:30:00 2004 +0000

    Call ts_read multiple times, to avoid events getting stuck in the pipeline.

commit 7976ee51afcad41b611e642d2feb31d805dedcf6
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Jun 30 20:06:56 2004 +0000

    Add Distributed Multihead X (DMX) support

commit d5db59bd79f5d8788b99056bf9d969b5b3ad99e1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Jun 29 20:37:51 2004 +0000

    Add an offscreen area scoring to improve choosing offscreen areas to kick
        out when allocation can't find a free area of the requested size. When
        offscreen pixmaps get used, the offscreen area's score is increased by
        a constant value. Every certain number of increases, all offscreen area
        scores get decreased by a fraction. When choosing a set of areas to
        remove for a new allocation, the set of areas with the smallest total
        score is chosen for removal. While this is not the smartest system, it
        prevents things like always removing the first offscreen area in memory
        (likely the most recent) to be kicked out when doing replacing.

commit ea78d1c6fcd27d28e69cb97faf72b7b719f6f93e
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Jun 28 18:08:26 2004 +0000

    Add GLX_ALIAS_VOID for GLX_ALIAS of functions with return type void to fix
        builds with non-gcc compilers that refuse to let you do return
        function_that_returns_void(...)
    programs/Xserver/hw/xfree86/os-support/shared/sigiostubs.c Remove includes
        of xf86drm.h that break non-DRI builds

commit 7ff67f2872ddd15908f789ec9bdb76e8211d6431
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 28 00:48:51 2004 +0000

    Separate out off-screen allocation from Init. Fix Enable to update
        off-screen addresses. Wrap RandR to update off-screen addresses.
    Set off_screen_base and memory_size fields correctly.

commit 5b75aae2cf1ad38556e9a55da72ad65419aa7f84
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jun 26 04:13:03 2004 +0000

    Add ARGB cursor support for Radeon cards.

commit 8bc0bc6d36dbc5000069017a1984905065164016
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Jun 25 08:58:18 2004 +0000

    #Bug 784: Ignore unconfigured interfaces with xdmcp

commit c5ab3fdd928d12b4dc28108f2242b3b75e1ac65f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Jun 25 08:56:04 2004 +0000

    #Bug 780: add RRSetScreenConfig

commit f8226cee08a00b49f32dc3db814478490febe45d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Fri Jun 25 00:02:11 2004 +0000

    Fix for http://xprint.freedesktop.org/bugzilla/show_bug.cgi?id=791 - Adding
        special support for Canon C3200N

commit ad6b9644a39343437967b4c3b2442dbd47508443
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Thu Jun 24 06:26:27 2004 +0000

    Fix for http://xprint.freedesktop.org/bugzilla/show_bug.cgi?id=660 : Fix
        for the issue that GetPrinterList does not return printer descriptions
        on Solaris. The patch implements a framework which allows the printer
        enumerator scripts to pass additional printer attributes to the
        information pool (currently only "xp-printerattr.descriptor" is
        implemented).

commit 884908a63c624585c9b5fcf22d565236298c2916
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Jun 22 10:18:13 2004 +0000

    Fix for http://xprint.freedesktop.org/bugzilla/show_bug.cgi?id=789 : Adding
        a workaround for the issue that Xprt may hang when the CUPS spooler
        frontend sends messages to stdout.

commit c66cc2a219e860ae3c0b5d4ad18b22a6dc4e16df
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jun 21 13:51:57 2004 +0000

    Bug 783: rootless patches for cygwin

commit ed7f92e791f052d64cffef4b44eae5160fb24689
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jun 21 13:44:14 2004 +0000

    Bug 778: add ddxBeforeReset

commit 68d92cca1a696521599db6a826d2187ec0c15f01
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jun 21 13:35:05 2004 +0000

    Bug 782: Merge native OpenGL for Windows from CYGWIN branch

commit d6e8b1affec7351549c0006cc63b6923091cdd68
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Jun 21 13:19:32 2004 +0000

    Bug 777: Merge from CYGWIN branch

commit dfdbb60bf5f613b3554d5435f08f16bde72aa353
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Jun 21 00:29:46 2004 +0000

    Fix for http://xprint.freedesktop.org/bugzilla/show_bug.cgi?id=772 - RFE:
        Switch default resolution from 300DPI to 600DPI

commit dd831c7a5c1b0c540a78350aadaeb34a8aa67395
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sat Jun 19 21:56:01 2004 +0000

    Refix for http://freedesktop.org/bugzilla/show_bug.cgi?id=764 : Rework
        previous solution and make Xprt to default to "-noreset" (the default
        of Solaris version of Xprt) and add a "-reset" option which can be used
        to restore the default behaviour on demand.

commit da78a4ddd833f78baf1d2579a1adea8208016ddb
Author: Damien Ciabrini <braun@club-internet.fr>
Date:   Wed Jun 16 21:36:54 2004 +0000

    Update MGA composite patch commit. (some files were missing in the previous
        commit)

commit e56e24af252bd3b8e58076adf0f8eabf1103f187
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:37:59 2004 +0000

    Merge DRI-trunk-20040613 changes in programs/Xserver/GL.

commit 2e1868b560315a8b20d688e646c489a5ad93eeae
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:25:21 2004 +0000

    DRI trunk-20040613 import

commit f45c46c630855e8e0d1c28b1f0d3b2ad54334619
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:25:15 2004 +0000

    Initial revision

commit 22bad9474b8822f03f84a8a39edce624bfb9befa
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:22:17 2004 +0000

    DRI XFree86-4_3_99_12-merge import

commit 1c133c27ccc1f09b95922fdece3c8d73cc182def
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:22:05 2004 +0000

    Initial revision

commit b61ff0daa4bd1e3b828dc5b985c3a2f3c92b202e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:16:01 2004 +0000

    DRM 20040613 import

commit bcc1eab1fd57e8cb686d625934a6e527b7ae4ea2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:16:01 2004 +0000

    Initial revision

commit 580b9a7da1bf0e20acdcddd676d471b3d6589023
Author: Jaymz Julian <jaymz@artificial-stupidity.net>
Date:   Mon Jun 14 08:43:57 2004 +0000

    MGA composite support from Damien Ciabrini - thanks!

commit 95d65cf6bb753d10f4db3d857fb98bb09389228e
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Jun 13 04:50:21 2004 +0000

    Manual page X(7) does not reference Xprt(1x), xplsprinters(1x), etc.
    xc/config/cf/Imake.rules Correct comment to match rule name for
        InstallDriverSDKObjectModule
    xc/programs/Xserver/hw/xfree86/os-support/sunos/sun_kbd.c Log results of
        ioctls to probe keyboard type & layout

commit 4ffde8a6b3299f002c10b1abd881e4c6849767ea
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jun 10 19:22:58 2004 +0000

    - Pass the right pixel mask (all ones) in to PrepareSolid in the
        solid-fill-based composite acceleration.
    - Use a real pixmap when doing an UploadToScratch (For pDrawable->type ==
        DRAWABLE_WINDOW, you need to get the backing pixmap).
    - Pass back the x/y offsets from kaaGetOffscreenPixmap unconditionally,
        because they'll be used in the scratch case.
    - Turn on the Render acceleration for Rage 128 and Radeon 100-series at
        last!

commit c3bc6dd551436d5e37a07f37b3b77a83bb5b5da0
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jun 10 09:50:59 2004 +0000

    Align scratch area offsets to the offscreen byte alignment.

commit cf3f95d2164604047866b283fe0071574bf16dbc
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jun 10 08:37:28 2004 +0000

    Oops, testers reported that the last patch actually didn't work (conflicts
        occurred), so the R300 PDMA doesn't work. Disable.

commit 0b7647ee359537953b67b0dbf9daa807e356062b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jun 10 05:57:31 2004 +0000

    Bug #242: Fix setup of R300 cards, by providing R300 CP code from
        volodya-project and initializing PDMA.

commit b3a18ca8b827cfe2ebb295a03a9776028242c1a0
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Mon Jun 7 05:13:29 2004 +0000

    Neomagic driver enabled

commit 893ea125597f3c6273f45a51673d4dc514e754e9
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Mon Jun 7 05:05:10 2004 +0000

    small fixes. README added

commit d9cca52feba13b69f3eea9e1d958b8a4711e7d67
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jun 4 17:06:18 2004 +0000

    Add (stubbed out) Xgl server code

commit f8a1dd3ce725195baa6f38a880299752c6c6c2c4
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jun 4 16:10:50 2004 +0000

    Add top-level build support for GL X server (not working yet)
    Fix a few allocation bugs with alternate visual ids Allow for non-8/8/8
        alternate visuals
    Turn off any existing shadow before enabling it again (avoids
        re-registering existing damage)
    Add some validation code to catch re-registered damages

commit 6741fadc52598af0096f106a2cefd640abb434b3
Author: Phil Blundell <pb@reciva.com>
Date:   Wed Jun 2 20:49:50 2004 +0000

    New conditional. (REQUIRED_MODULES): Demand xcalibrateext if building
        XCalibrate.
    New file.
    Add xcalibrate.c.
    Read raw events if requested.

commit d4d0c8470c4272dec642ab4c68f44a83cda06971
Author: Phil Blundell <pb@reciva.com>
Date:   Sun May 30 20:40:30 2004 +0000

    Add -lts if using tslib.

commit 8124810950d7e0b9db7f66dadee7218b0c26c4c3
Author: Carlos Romero <kcrashcore@bellsouth.net>
Date:   Sun May 30 13:51:18 2004 +0000

    Initialize permedia engine for acceleration to work.

commit ea1bbf8d83d3780ccce5ebcdff48f0b19863cee1
Author: Ralph Thomas <ralpht@68k.org>
Date:   Sat May 29 12:15:46 2004 +0000

    Adding driver for VIA CLE266 graphics chip. Currently it only accelerates
        copy and fill operations.

commit 6af411b02e808220d3afcef14abb97eec86cf1f3
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri May 28 04:56:49 2004 +0000

    Hey, I like devfs.
    Try /dev/fb/0 if /dev/fb0 fails.

commit a7b42f685e7a4bf57cf89a3ef664a581ecedb50f
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Thu May 27 14:11:42 2004 +0000

    file ChangeLog was initially added on branch CYGWIN.

commit 05a3dbf5dc55ea534c68fc9d05b3949805a0752e
Author: Egbert Eich <eich@suse.de>
Date:   Wed May 26 17:44:29 2004 +0000

    Updated x86emu and resynced with upsteam at Scitech.

commit 9549f628e066396e6bc9a7edfc919bdd6860f170
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue May 25 20:33:46 2004 +0000

    getconfig: file '/usr/X11R6/lib/X11/getconfig/xorg.cfg' has bad signature
        (Change "Xorg Project" to "Xorg Foundation" to match getconfig script)

commit f8124d3ef5890d59c3ce41bee46b5e3576d0f9b1
Author: Carlos Romero <kcrashcore@bellsouth.net>
Date:   Tue May 25 13:02:44 2004 +0000

    Add pm2 to the build

commit 32d0920ef9ec3c5e61089b88dedc82ffab294276
Author: Carlos Romero <kcrashcore@bellsouth.net>
Date:   Mon May 24 19:31:41 2004 +0000

    Initial import of Permedia2 driver

commit 5b2211ec3545f1634f807daf84b6c4bc2c0fdecf
Author: Egbert Eich <eich@suse.de>
Date:   Mon May 24 19:05:01 2004 +0000

    Muffle compiler warnings.
    fix option name in log message.
    improve debugging messages.

commit 932efe8e6d4e6280aed9b5e25af56888c964d37b
Author: Keith Packard <keithp@keithp.com>
Date:   Fri May 21 03:32:27 2004 +0000

    Allow for multiple composite-based visuals, then add an RGB24 visual in
        addition to the ARGB32 one. This allows 'glitz' to run on top of any X
        server using mesa.
    Switch to using 32bpp for depth 24 pixmaps (even when the frame buffer is
        not depth 24).

commit cde51fd05b2bd413d8db8ad750e6a72398a7039c
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 20 19:51:44 2004 +0000

    Miscomputing pitch in 24bpp modes because of rounding errors.

commit b9d920f3dc060d230a4a7b2d40210524acf50666
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 20 05:27:03 2004 +0000

    Fix SYNC_ALWAYS (debugging) code to use mach64WaitIdle instead of
        KdCheckSync -- the boolean used in the latter won't be set yet.
    Oops. == instead of =.
    Must sync hardware before rasterizing trapezoids in case the mask is in
        off-screen memory and has just been erased. Yes, it is silly to place
        masks in off-screen memory. That's a separate issue.

commit 94648799c82e59166155ca5abf22a9391693e6a1
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 20 02:42:20 2004 +0000

    Pin header-only pixmaps in memory.
    Off-screen reallocation could have used a stale pointer.
    Separate framebuffer mapping computation from actual frame buffer mapping.
        Now map the frame buffer from vesaEnable so that VT switch shares the
        same mapping code. This makes sure any shadow framebuffer is allocated
        again.

commit cade317d31dddab61199d5e90bcff36fb12f3cd1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon May 17 20:18:02 2004 +0000

    Overhaul of the ATI driver:
    - Add monochrome hardware cursor support.
    - Try to auto-detect AGP support for DRI on Radeons. And fail. Detect it
        properly on R128.
    - Set up card for pseudo-DMA if possible. Convert 2D rendering code to
        prepare DMA packets only. Use generic code to decode DMA packets to
        MMIO if PDMA is unavailable. Add WIP code to support "real" DMA without
        DRM support.
    - Dispatch pending DMA commands when the server sleeps. Otherwise some
        things, such as typing in an xterm, wouldn't show up for a time.
    - Fix Radeon Composite acceleration in many ways, and add Rage 128
        Composite acceleration. Disable them both due to still-not-understood
        issues they have. They fail with In, Out, AtopReverse, and Xor, and
        text rendering is strange.
    - Add textured XV support for R100 and Rage 128. No brightness/sat
        controls, but it does support multiple ports, and cooperates with
        Composite.
    - Add WIP code for hostdata uploads.
    - Many cleanups and fixes.

commit 834537e212e01314b60737278b7abc6bb7cef102
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon May 17 07:19:49 2004 +0000

    Make kaaMoveInPixmap public. This will be used by the ATI driver's xvideo
        support to ensure that the destination is in framebuffer.

commit 85f46e0bcdf60d145a6868ee71d10688c9113e6e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon May 17 07:14:23 2004 +0000

    Add new CheckComposite hook. This allows a driver to avoid the migration of
        pixmaps for a Composite operation if the operation can't be supported.
        This hook is optional.

commit 47fb207c8ae2b54e976066f78892a1ee3fb35d30
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun May 16 05:08:39 2004 +0000

    xc/programs/Xserver/fb/fb.h
    xc/programs/Xserver/fb/fboverlay.c
    xc/programs/Xserver/fb/fbscreen.c
    - Change #ifdef for checking for old format miScreenInit to
        FB_OLD_MISCREENINIT for easier portability to xservers with updated
        screen structs but old function prototypes. Make it automatically
        defined if FB_OLD_SCREEN is defined.
    - Add _LP64 to list of #ifdefs for 64-bit platforms to support
    64-bit Solaris.

commit fc2dd516c3c7382915452207180a1c483d0d73ca
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun May 16 00:03:54 2004 +0000

    xc/programs/Xserver/hw/xfree86/xf86config/Imakefile
    xc/programs/Xserver/hw/xfree86/xf86config/xorgconfig.c
    - Clean up server name changes from TM branch
    - Set default XKB rules file name correctly
    - Use default font path from Imake configuration for the default font path
        in generated xorg.conf files.
    - Use path variables from Imake configuration for paths to files, in case
        vendor has configured them to install somewhere other than the
        defaults.

commit b1aa9499ffb827f4b1acc75f197e332bba382565
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sat May 15 14:43:05 2004 +0000

    Fix for http://pdx.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=622 -
        RFE: Xprt default BIGREQUESTS extension buffer size should be 8MB (to
        make |XpPutDocumentData()| happy and to improve performance).

commit 74b2a7694791297a4f798ecc05c7eb8f68634722
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri May 14 00:34:28 2004 +0000

    Add new flag, KAA_OFFSCREEN_ALIGN_POT, which tells KAA to align pixmap
        pitches to a power-of-two number of bytes. Useful for Render
        acceleration on older cards.

commit 2bea33e881693e7d7dcf938db79c888a71dfb2fb
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri May 14 00:27:29 2004 +0000

    Don't let the visible screen get "migrated" offscreen, which manifests
        itself as a hang.
    Reported by: Ginokas <ginokas@free.fr>

commit 40354e761892dc2ef88d2e722d8d7896642003eb
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu May 13 22:57:15 2004 +0000

    Add generic functions for copying packed/planar XV data, copied from
        mach64.

commit 2e330e980f61b256c55f5b9debb00574e4e85b26
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu May 13 21:41:48 2004 +0000

    Move fourcc.h to a generic location in src/.

commit f52a4d472d2463482d865c5006208182c294e670
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 13 21:25:51 2004 +0000

    Follow GLX in setting ARGB visual nplanes to 24.
    Retry current mouse protocol when sync is lost

commit aa5a87847290d49b03a33351ebfd8df652a42489
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu May 13 21:15:06 2004 +0000

    There's no need to explicitly set softCursor -- kdrive handles this if the
        cursor hooks aren't set.

commit 4078457919708a8dbf9db8ee6e4871ecbf72518f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed May 12 01:49:46 2004 +0000

    Fix problems in render fb implementation found by rendercheck:
    - fbCombineSaturate was pointed at fbCombineDisjointOver, instead of
        fbCombineDisjointOverReverse as it should. Instead, point
        fbCombineDisjointOverReverse at fbCombineSaturate (which is likely to
        be faster).
    - fix previously-unused fbCombineSaturate implementation.
    - fbCombineMaskAlphaC was just a copy of fbCombineMaskValueC. Make it do
        what it's supposed to (return a cs.alpha).
    - fbCombineAtopC didn't invert the source alpha value.
    - fix copy'n'paste errors in fbCombine(Dis/Con)jointGeneralC, also source
        alpha wasn't treated in a component fashion.
    - fbCompositeSrc_8888* didn't handle when the source lacks an alpha
        channel. Rather than adding that and possilby slowing down the (normal)
        alpha case, don't let x8r8g8b8/x8b8g8r8 Pictures be used in
        fbCompositeSrc_8888* because Over with one of these is just Src.

commit a43d5412b4d79d67af20dc8af144a9ca80263e9d
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Sun May 9 16:20:13 2004 +0000

    file ChangeLog was initially added on branch CYGWIN.

commit 0498d818fe40cb4eb03983e27a980791bbadf6db
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sat May 8 02:06:46 2004 +0000

    Fix for http://pdx.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=608
        ("Can not print on Debian/CUPS due to error |Xprt_64:lpr: unable to
        print file: server-error-not-accepting-jobs|"): Xprt did not setup the
        list of supplementary group ids, causing print failure when the the
        calling user must be a member in a specific group to be allowed to
        print.

commit 75d96afcc4a1f201da665bd73b7067e8e7139a3f
Author: Egbert Eich <eich@suse.de>
Date:   Thu May 6 17:31:17 2004 +0000

    BugZilla #601: Fixing makedepend choking on floating point exception
        because CHAR_BIT is defined to __CHAR_BIT__ which is a compiler
        intrinsic define. BugZilla #605: Fixing build on IA64 which is broken
        due to the inclusion of the kernel header asm/page.h. Kernel headers
        however don't work with
    -ansi. The inclusion of asm/page.h can however savely be removed as it
        there are plenty of other ways to determine the page size.

commit 7124cfaa006e840ba48dcc466c0dc8b34503a686
Author: Keith Packard <keithp@keithp.com>
Date:   Thu May 6 16:19:32 2004 +0000

    Use current resolution by default, change rate to 75 to match
        fbdevModeSupported cut-off (?). Glenn McGrath <glennm@hydrix.com>

commit e4ac2411eddf1f01ef9204f27b6d1ce8f1749439
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Thu May 6 01:53:52 2004 +0000

    Fix for http://pdx.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=551 -
        PS DDX will not build on platforms with BuildFreeType NO. Patch by Alan
        Coopersmith <alan.coopersmith@sun.com>.

commit b1c65e1ca6828ea82ee7790f22c26503b0a5e17d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Thu May 6 00:24:32 2004 +0000

    Fix for http://pdx.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=536 -
        RFE: PS output should contain the FreeType2 version being used.

commit 8d4f21ab53c44ca48501d6211ea6db0c0b8af916
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Wed May 5 20:15:41 2004 +0000

    Add XACE and XSELINUX extensions to the build system

commit 0106715000196c7b349a0b4494b61545f0f5e138
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Wed May 5 20:07:37 2004 +0000

    Modify XC-SECURITY and XC-APPGROUP extensions to work with XACE

commit 8526cd6395490b03b279f1962df777fb0e4a9878
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Wed May 5 20:04:52 2004 +0000

    Replace XC-SECURITY code with XACE security hooks

commit 6d066cb10990d951449b342b40dec1f1b1ae593c
Author: Eamon Walsh <ewalsh@epoch.ncsc.mil>
Date:   Tue May 4 19:44:02 2004 +0000

    Merge the new release from HEAD

commit b5f200ce9d495c6ce94e0170909465a30e8799d9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 4 03:28:06 2004 +0000

    Attached is a patch to fix a build error whe ncompiling with tslib support,
        a variable wasnt set, i just changed it to be like the other
        MAkefile.ams :) -- Glenn McGrath <glennm@hydrix.com>

commit 5ca651e66f3d0ab189962bb4609b87a865364ef8
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Apr 30 12:48:56 2004 +0000

    file winmessages.h was initially added on branch CYGWIN.

commit 2c2c1704b542f29fe5ac9917e1141040a0dbd3e9
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Thu Apr 29 23:59:15 2004 +0000

    Fix for http://pdx.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=567 -
        Xorg Xprt starts to consume 100% CPU when being idle for some time
        (internal screensaver goes mad after 10mins)

commit a8429d76103ff0f4fc61db86201c741f91bfcba2
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Apr 28 07:26:46 2004 +0000

    Add completely fake X server -- draws to allocated buffer, has no keyboard
        or mouse.

commit 85e4e5445218d70f627fb132a8e8f18470e6749d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Mon Apr 26 11:07:03 2004 +0000

    Work-in-progress for
        http://pdx.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=542 - GLX
        support for PS DDX / part #1: Fix visual setup (attachment #243)

commit 46472cbee679f9757c4003a0dcf158aeb3852f47
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Apr 26 02:39:58 2004 +0000

    xc/config/cf/sun.cf
    xc/config/cf/sv4Lib.rules
    xc/programs/Xserver/Imakefile
    xc/programs/Xserver/hw/xfree86/os-support/sunos/find_deps.pl Make Solaris
        builds work when using MakeDllModules (it's not the default yet, but at
        least it works now if you turn it on) Also improve default compiler,
        optimizer, & linker flags for Solaris builds using either Sun cc or gcc
    xc/programs/Xserver/cfb/Imakefile.inc
    xc/programs/Xserver/cfb/stipsparc.s
    xc/programs/Xserver/cfb/stipsprc32.s Remove text relocation error when
        building shared versions

commit 36e3e5430e1ca7103a4e0b796eb3817975b40d90
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Sun Apr 25 22:42:09 2004 +0000

    Fix for http://pdx.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=541 -
        Xorg Xprt may crash with "Freeing resource id=40200000 which isnt
        there"

commit 2fb588620030ad393f8500d60e16144d59e4effe
Author: Egbert Eich <eich@suse.de>
Date:   Fri Apr 23 19:54:30 2004 +0000

    Merging XORG-CURRENT into trunk

commit 0664db19bf37f9dd69cca6adff4e238e310c3092
Author: Egbert Eich <eich@suse.de>
Date:   Fri Apr 23 18:54:16 2004 +0000

    Merging XORG-CURRENT into trunk

commit 68fd529608c58334f13beb88dbcc1d5db85b9b00
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Apr 21 23:24:20 2004 +0000

    Fix for http://pdx.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=535 -
        Xprt should not annouce extensions which are not supported

commit 1af13123fa79ad1c6747aad60ed458bbd69da12d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Wed Apr 21 10:03:41 2004 +0000

    Fix for http://pdx.freedesktop.org/cgi-bin/bugzilla/show_bug.cgi?id=530 -
        Land XPRINT branch on XORG-CURRENT

commit 449e83a9470ec4bdd0871e2f263f608b24455423
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Apr 18 03:00:43 2004 +0000

    xc/lib/GL/glx/Imakefile
    xc/lib/GL/mesa/src/Imakefile LargePICTable required for Solaris SPARC
        builds
    xc/programs/Xserver/hw/xfree86/drivers/glint/pm3_accel.c
    xc/programs/Xserver/hw/xfree86/common/xf86Events.c Add != NULL to if
        statements to get past syntax error reported by Sun Forte 6.1 cc.
    xc/config/imake/imake.c
    xc/config/cf/sun.cf
    xc/config/cf/sunLib.tmpl Allow compiling with Sun compilers installed
        somewhere other than /opt/SUNWspro
    xc/programs/Xserver/hw/xfree86/common/compiler.h
    xc/programs/Xserver/hw/xfree86/os-support/bus/Pci.h Check for
        defined(sparc) as well as defined(__sparc__) since Sun compilers don't
        define __sparc__

commit 425251a752805affb6ce14baa58d92c384f39501
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Apr 17 18:47:05 2004 +0000

    Bugzilla #495: LocalClientCred should use getpeerucred on Solaris 10

commit 7215fb186f076a24d0a04c9c20ac9b92cae1f49b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Apr 16 00:21:24 2004 +0000

    xc/programs/Xserver/hw/xfree86/os-support/sunos/sun_mouse.c Solaris mouse
        enhancements, including autoprobe support, VUID wheel mouse events, and
        streams module pushing. Bugzilla #434. (Russ Blaine & Alan Coopersmith,
        Sun Microsystems)
    xc/programs/Xserver/hw/xfree86/os-support/sunos/sun_init.c Xorg doesn't
        reset console to text mode on Solaris x86 8 and later Bugzilla #469.

commit c6c6d0de2309019999fa75a2f36a4f4a93ad2f31
Author: Egbert Eich <eich@suse.de>
Date:   Thu Apr 15 10:17:35 2004 +0000

    Merged changes from RELEASE-1 branch

commit 9d24a5fa91bf165bbd2048a844edeb59b5e34aad
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Wed Apr 14 00:01:22 2004 +0000

    file XWinrc.man was initially added on branch CYGWIN.

commit 01bb5eb5032a7566c86a51053146dba98a3ed749
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:46 2004 +0000

    file psout_ftpstype3.c was initially added on branch XPRINT.

commit cb3f3d8f2283d384dc5a3af3f38053cc8a2d192e
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:46 2004 +0000

    file psout_ft.c was initially added on branch XPRINT.

commit 7cfb4c2b33ae2147b5d6ddc2afc8b777686a666f
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:46 2004 +0000

    file psout_ftpstype1.c was initially added on branch XPRINT.

commit 4ae42e79d46d7db30f7b6f321bbb0d134862138d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:46 2004 +0000

    file PsFTFonts.c was initially added on branch XPRINT.

commit b5fb71922b02024aa5a8f349c9d2c956e2f83f0f
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:45 2004 +0000

    file xprint.sh was initially added on branch XPRINT.

commit ca9a9a58be51a21f123b11dd68047034696cae84
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:45 2004 +0000

    file xprint.csh was initially added on branch XPRINT.

commit 7c1f840108172d6b18af47465ea72f4820640598
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:45 2004 +0000

    file cde_xsessiond_xprint.sh was initially added on branch XPRINT.

commit 579221198aeac7010435b29db1ad8fe9ee2d7c5d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:44 2004 +0000

    file spooler.c was initially added on branch XPRINT.

commit 7677b4992fee7eb73cc97914163dcf689ad13d6a
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:44 2004 +0000

    file spooler.h was initially added on branch XPRINT.

commit d3907ca519b476c99e29a58c22258f22dbe63244
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:44 2004 +0000

    file document was initially added on branch XPRINT.

commit 3646bb9c894d5f011e2df4fac402118d8350102e
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:39 2004 +0000

    file spooltodir.sh was initially added on branch XPRINT.

commit 8c006df3c6d8e5ac95f0b0fa38a030100541598f
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:39 2004 +0000

    file model-config was initially added on branch XPRINT.

commit 95a84bc0cb809e5c7141d0411e329a3ec300b8aa
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file ZapfDingbats.pmf was initially added on branch XPRINT.

commit 5527b39e668ea7a88c41186dbb6d7b66e892547a
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Times-Roman.pmf was initially added on branch XPRINT.

commit 69c405ac66b1a15076e247dd1b578b7b4b210b00
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Times-Italic.pmf was initially added on branch XPRINT.

commit b6b75f677292ed0c694921df0abf40038dd5e99d
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Times-BoldItalic.pmf was initially added on branch XPRINT.

commit 6605566bcf008551d33a9a68bd03e9a0c57c4f60
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Souvenir-LightItalic.pmf was initially added on branch XPRINT.

commit 38ad2972bffea1019214785ee479f7670ca70d1f
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Souvenir-Light.pmf was initially added on branch XPRINT.

commit 10d8eace174a9778a3313ac36a3422637b020d5f
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Souvenir-DemiItalic.pmf was initially added on branch XPRINT.

commit fb5ac8e2bdfe1217663679f5eae8045473456752
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file NewCenturySchlbk-Roman.pmf was initially added on branch XPRINT.

commit 5ec311b05dc1e509c115ccca808ee05090cfddad
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file NewCenturySchlbk-Italic.pmf was initially added on branch XPRINT.

commit 70947a8f1addf4ca17e50d9e6ae590266ac446cc
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Symbol.pmf was initially added on branch XPRINT.

commit 436ff77b21515cd9fe9732e0bd5361f2bfba44ed
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Times-Bold.pmf was initially added on branch XPRINT.

commit 4db563027844245d6c9085f997e75da743410885
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file NewCenturySchlbk-Bold.pmf was initially added on branch XPRINT.

commit 79110faa2eac849756b859071ce68fba64de57aa
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file NewCenturySchlbk-BoldItalic.pmf was initially added on branch XPRINT.

commit 4e1ae7e9cc04806f4436759764cc680ecf1f014c
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Souvenir-Demi.pmf was initially added on branch XPRINT.

commit 433913bacf988908b94c420452c042eebcb381ac
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file LubalinGraph-Demi.pmf was initially added on branch XPRINT.

commit d5bae63138ab833fdd56bb983436ac514536d7b6
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file LubalinGraph-DemiOblique.pmf was initially added on branch XPRINT.

commit 3acd6856617e784ee30333dc9b779189a3f44052
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file LubalinGraph-Book.pmf was initially added on branch XPRINT.

commit 5f73192458136fe4b6b82372c3b1653fbf831ebd
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Helvetica.pmf was initially added on branch XPRINT.

commit e129abc3bf269e857aa65065cc18a31a56ba0373
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Helvetica-Oblique.pmf was initially added on branch XPRINT.

commit 576a4cddf995082d10e2e29e1b58c1564eb11ee7
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Helvetica-BoldOblique.pmf was initially added on branch XPRINT.

commit cf26c87833a79427b665abce67ca19f2b68bc8e5
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Helvetica-Bold.pmf was initially added on branch XPRINT.

commit a091408c372a2aa89fb83b023248f45aa8cd4173
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Courier.pmf was initially added on branch XPRINT.

commit 9e4221d08ff9a408fb25a32887390b14788b1558
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Courier-Oblique.pmf was initially added on branch XPRINT.

commit 6b2674078079a5959a2b7758e6c628a14ec1a46c
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Courier-BoldOblique.pmf was initially added on branch XPRINT.

commit 6aee2d37b95170a65ee08c0866c425f115ebc9f1
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file LubalinGraph-BookOblique.pmf was initially added on branch XPRINT.

commit 7a59fe1dd987e1ef0abd92e0ac80dd87a15137fe
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file AvantGarde-Demi.pmf was initially added on branch XPRINT.

commit 22e0316acc8992033fc82a38f663fce130e4031b
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file AvantGarde-DemiOblique.pmf was initially added on branch XPRINT.

commit f8aded3a7f8c97731e33b4362243da947fb4e774
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file AvantGarde-Book.pmf was initially added on branch XPRINT.

commit 2224187c05d4dc05f7e03e22307cf7816d69f789
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file AvantGarde-BookOblique.pmf was initially added on branch XPRINT.

commit 9eafaaf83294d1988b30bde4485a299cf8ae5035
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file Courier-Bold.pmf was initially added on branch XPRINT.

commit f9eea9864e333efde97143278916da44639cc18a
Author: Roland Mainz <roland.mainz@nrubsig.org>
Date:   Tue Apr 13 03:16:38 2004 +0000

    file ps2pdf_spooltodir.sh was initially added on branch XPRINT.

commit 20248eedd69c42c27605d7bcfb265994f5846f17
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Sun Apr 11 16:39:48 2004 +0000

    fixed Changelog format

commit bc7168ee763ffac9cbb992096a53b346cd640a13
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Sun Apr 11 16:24:03 2004 +0000

    Added ROP

commit 784d37ee369b94c83c4cc6e280a39f32da8aa678
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Sun Apr 11 15:51:04 2004 +0000

    Fixed size calculation in solid rendering

commit 056322336cbb6093d74aa9d22bbfd42e2248a16a
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Sun Apr 11 15:20:17 2004 +0000

    Basic bitblt implementation

commit c231856a1343e38381e1b4e545ff1ac279141bf0
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Sun Apr 11 00:53:10 2004 +0000

    First acceleration function implemented (DrawSolid)

commit 47436a8af82a00d0d392cef4d5906729d9a37649
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Sun Apr 11 00:15:57 2004 +0000

    Finnally got MMIO working all timecat ChangeLog cat ChangeLog cat ChangeLog
        :-D

commit 1740b938e4c4f1cd3de700ea26143b01c0312325
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Tue Apr 6 18:09:44 2004 +0000

    Return back to VESA only version

commit 07bc231872e7e056fa3049a0fcd963c61f826f80
Author: Franco Catrin L <fcatrin@tuxpan.com>
Date:   Mon Apr 5 18:19:34 2004 +0000

    small fixes, but still can't get this driver woking again

commit b526276faa765df893197e04370a915ed73947dc
Author: Brent Cook <busterbcook@yahoo.com>
Date:   Mon Apr 5 02:52:35 2004 +0000

    removed hardcoded vesa references so we can operate with any backend. fbdev
        works for initializing the screen, but input fails shortly after.

commit 920e6ff81baeec16465f81bacbcff711ce82e149
Author: Brent Cook <busterbcook@yahoo.com>
Date:   Sun Apr 4 07:30:07 2004 +0000

    Begin separating VESA calls into a more generic backend wrapper like the
        ati driver, cascading between VESA and FBDEV. We only have init
        functions done so far; need to add all of the others. Fixed some
        compiler warnings. Whitespace and formatting cleanups (using 4 spaces,
        no tabs)

commit 530371ceaf7f593badf38bbc2d2e50f6a920d24f
Author: Brent Cook <busterbcook@yahoo.com>
Date:   Sat Apr 3 22:26:37 2004 +0000

    added touchscreen support, detect all known PCI chips in the Neomagic line.
        We'll not bother with ISA for now.

commit 962b898868dcab959c390986dcb0b4dd750dc107
Author: Brent Cook <busterbcook@yahoo.com>
Date:   Sat Apr 3 22:22:48 2004 +0000

    initial import of original driver by Franco Catrin L. Wraps VESA for most
        parts, with some hardware acceleration enabled for the cursor on the
        NM2300.

commit 8a2fce3b90b5efc8bab19675cb8e02690e24442e
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Sat Apr 3 05:01:21 2004 +0000

    file winkeyhook.c was initially added on branch CYGWIN.

commit 12d5371ed2fbefab069dea46be972a7269b8c2db
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 18:31:54 2004 +0000

    file xfixes.h was initially added on branch DAMAGE-XFIXES.

commit a4b319dbf375461c975450659723e6326153e536
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 18:31:54 2004 +0000

    file xfixes.c was initially added on branch DAMAGE-XFIXES.

commit 5319d30d45d5f8ec04a496327f32cc6431c6a511
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 18:31:54 2004 +0000

    file select.c was initially added on branch DAMAGE-XFIXES.

commit 76f247bd0ef23d688028c63b5f8bd3e9ad6b1b45
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 18:31:54 2004 +0000

    file saveset.c was initially added on branch DAMAGE-XFIXES.

commit 83f0f1babb612774f609c71879a225c43f63ac1f
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 18:31:54 2004 +0000

    file cursor.c was initially added on branch DAMAGE-XFIXES.

commit 52bc7693dbe7e3db916f8d463d9a750e3c6ffa4d
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 18:31:54 2004 +0000

    file region.c was initially added on branch DAMAGE-XFIXES.

commit 5d9098cb17cd88cfdf49de92bec2a787d6681649
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 18:31:54 2004 +0000

    file xfixesint.h was initially added on branch DAMAGE-XFIXES.

commit ace9aa7c45ff2ea6b3476006574da5c27d05afd4
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 17:41:24 2004 +0000

    file damage.c was initially added on branch DAMAGE-XFIXES.

commit 72dc7569c6bbc216f613be21ea4f79d3ef1d5534
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 17:41:24 2004 +0000

    file damage.h was initially added on branch DAMAGE-XFIXES.

commit 95da7b7e061b6925d8cd85bc7b25708ff253fcb1
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 17:41:24 2004 +0000

    file damagestr.h was initially added on branch DAMAGE-XFIXES.

commit 629c3792225cec28572081ebc8dda3fd803fe616
Author: Egbert Eich <eich@suse.de>
Date:   Tue Mar 30 14:23:15 2004 +0000

    36. Conversion: __AMD64__ > __amd64__ (Egbert Eich).
    35. Fixed stretching option and centering in C&T driver (Egbert Eich).
    34. Added support for memory size tweaking in BIOS for i845 (Egbert Eich,
        thanks to Christian Ziez)
    33. Removed video playback dependency on Accel in NSC drivers (Egbert
    3Eich).
    32. Fix HW cursor state on Savage driver when entering VT as some BIOSes
        seem to enable it unconditionally (Egbert Eich).
    31. Fixed Emulate3Button message to distinguish between 'hard' (ie.
        configured) and 'soft' (ie. automatic emulation that is disabled as
        soon as the middle button is pressed) (Egbert Eich).
    30. Free XrmDB in XCloseDisplay() only when implicitely allocated by
        XGetDefaults(). If Client allocates it itself it should free it also.
        Trying to free it for the client may result in segfault if the client
        has already freed it (Egbert Eich).

commit b5e400867feab935aa04e9aadb12deb0601b7f83
Author: Egbert Eich <eich@suse.de>
Date:   Tue Mar 30 14:14:31 2004 +0000

    - backing out XFIXES and DAMAGE related code that accidentally went in
        here.

commit 0017ddaa6406524d0a86ff7020eed4c33758ddbd
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 02:16:15 2004 +0000

    file damageextint.h was initially added on branch DAMAGE-XFIXES.

commit 4b5112fd0593b34e6e096d88b0841a28636600f6
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 02:16:15 2004 +0000

    file damageext.c was initially added on branch DAMAGE-XFIXES.

commit 733bfa4b5dd5255713a98f390a1fb65be6e16c2d
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Tue Mar 30 02:16:15 2004 +0000

    file damageext.h was initially added on branch DAMAGE-XFIXES.

commit b1ed473ef2e1da99d7fe3df14fdef4d8b6365626
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Tue Mar 30 00:31:28 2004 +0000

    file winrandr.c was initially added on branch CYGWIN.

commit fec5095bdfb376d0046e2f52188c68bef4e31fd7
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 28 07:14:30 2004 +0000

    file xorgcfg.man was initially added on branch XORG-RELEASE-1-TM.

commit 136a9364be80f407f498e9e9695cadaab39227ad
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Mar 28 07:14:30 2004 +0000

    file XOrgCfg.cpp was initially added on branch XORG-RELEASE-1-TM.

commit 881afb356d6992bcfbbfcbdf31f1f71c64d648da
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 27 17:01:11 2004 +0000

    file Xorg.man was initially added on branch XORG-RELEASE-1-TM.

commit d2119ac7c56ba94db1d8639937b13e72288a328c
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Mar 27 17:01:11 2004 +0000

    file xorg.conf.man was initially added on branch XORG-RELEASE-1-TM.

commit 5a9f3a36a35549f30fc67a8e3a3e9a201efb91ec
Author: Egbert Eich <eich@suse.de>
Date:   Fri Mar 26 20:02:03 2004 +0000

    file xorgHelper.c was initially added on branch XORG-RELEASE-1-TM.

commit b2b0e70fe5c65c8f2d518f5f0ce89a86938701ed
Author: Egbert Eich <eich@suse.de>
Date:   Fri Mar 26 19:54:39 2004 +0000

    file xorgconf.cpp was initially added on branch XORG-RELEASE-1-TM.

commit 83880dd464a415d3d0efa546b1f0b9887342e809
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Mar 26 17:11:49 2004 +0000

    29. XkbWriteRulesProp fails if XkbRulesFile is NULL. Bug #376. (Alan
        Coopersmith)

commit 861a33678243349b987ff30912985968ede8ac84
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Fri Mar 26 01:22:18 2004 +0000

    oops

commit 23d552bbef2984afee889f82ded154478548ee15
Author: Egbert Eich <eich@suse.de>
Date:   Thu Mar 25 11:00:52 2004 +0000

    file xorg.cfg was initially added on branch XORG-RELEASE-1-TM.

commit d1e52f13ad4610ec4907432c21384d08d6aaaf27
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Mar 25 05:11:16 2004 +0000

    oops

commit f0336f18ee4106050104cb060c38fe87541615da
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Thu Mar 25 03:45:49 2004 +0000

    built,working DAMAGE/XFIXES in mono tree

commit f1394ec3cec09ff9c5fbbff3c1f595a642b25f91
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Wed Mar 24 22:15:25 2004 +0000

    Change XFree86 Project to X.Org Foundation in localized XDarwin splash
        screens.

commit d2bbcc0deed3a607d347ed4ef07ded9bcb44f1bb
Author: Torrey Lyons <torrey@mrcla.com>
Date:   Wed Mar 24 22:12:34 2004 +0000

    Change XFree86 Project to X.Org Foundation in XDarwin splash screen.

commit 84d25a5e178835234261a63f0a1b8131c01bbe1f
Author: Egbert Eich <eich@suse.de>
Date:   Wed Mar 24 15:58:45 2004 +0000

    file xorgVersion.h was initially added on branch XORG-RELEASE-1-TM.

commit 685d1630c1540e29644849254bd45708aa5763bb
Author: Egbert Eich <eich@suse.de>
Date:   Tue Mar 23 12:46:30 2004 +0000

    file xorgconfig.man was initially added on branch XORG-RELEASE-1-TM.

commit 6631bd586f74f89e2dce74fe1cc25ee982883323
Author: Egbert Eich <eich@suse.de>
Date:   Tue Mar 23 12:46:30 2004 +0000

    file xorgconfig.c was initially added on branch XORG-RELEASE-1-TM.

commit 05a16f4acce3b6ef4ddafe044f96774de3f75b7c
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Mon Mar 22 13:43:35 2004 +0000

    file glwindows.h was initially added on branch CYGWIN.

commit 3c2e2d9ae0704931737bb0879a49a8575a07d13b
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sun Mar 21 22:55:35 2004 +0000

    bug #357. Fix XDarwin so it builds on Mac OS X 10.2 and earlier. Merged
        down from -RELEASE-1-TM and -RELEASE-1

commit 122be5328ffea0a3b92612b8ea0f5b02736ac175
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Mar 19 23:16:06 2004 +0000

    no bug report. Restore Credits to the hw/darwin ddx that were deleted
        previously. RTF may or may not be "human readable," but with a little
        effort it's about as readable as SGML, IMNSHO.

commit 551c93da612923f8d32707adc16431979bad6fb0
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Mon Mar 15 04:33:23 2004 +0000

    file winkeynames.h was initially added on branch CYGWIN.

commit 0c97b290015186acbaadae9a9bf79f37c3d38b40
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Mon Mar 15 04:33:23 2004 +0000

    file winkeymap.h was initially added on branch CYGWIN.

commit dae90c3af98edd5e95289abd930b3872c996c503
Author: Egbert Eich <eich@suse.de>
Date:   Sun Mar 14 08:34:49 2004 +0000

    Importing vendor version xf86-4_4_99_1 on Sun Mar 14 00:26:39 PST 2004

commit 4e996f9d76f51e9b1e33bef610bb9c2a746c8b9c
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Mar 12 21:05:47 2004 +0000

    file winpriv.c was initially added on branch CYGWIN.

commit c79b4bfd15534de12aaf8eca9965403b4913ca4b
Author: Alexander Gottwald <alexander.gottwald@s1999.tu-chemnitz.de>
Date:   Fri Mar 12 21:05:47 2004 +0000

    file winpriv.h was initially added on branch CYGWIN.

commit 24c02f84cc31475bfba27417dfef66b11c09b25c
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Fri Mar 12 01:11:23 2004 +0000

    file X-boxed.ico was initially added on branch CYGWIN.

commit 45b638b87f0daf94f9fce566179775fb2889c663
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Mar 10 11:49:11 2004 +0000

    Twenty link errors for Xizzle now - count 'em. 20.
    Get rid of all references to SCO.
    Change SDK include dir to $(includedir)/xizzle. Add SDK libs where
        necessary.
    Reformat to be nicer and easier to shuffle around; also, fix lib ordering
        so we get so much closer to the elusive final link. Shuffle
        common/xf86Init.c into libxizzle.a.
    Fix a couple of early snafus - s/BUILDXI/XINPUT/, et al; make the SDK stuff
        conditional as needed; fix the SBus includes.
    Name library os-support/libxizzleos.a, not os-support/foo/libxizzlefoo.a.
        Clean up ARCH_SOURCES so it's always initialised to something.
    Move linked libraries to _LIBADD, which somehow escaped my attention. Make
        inclusion of drm/libxizzlelinuxdrm.a dependent on DRI.
    s/VERSION/VBE_VERSION/;
    Axe this redundant dir.
    All Xizzle-specific: axe hw/xizzle/Xi, shuffle link order, fix list of
        required modules to be vaguely sane, add some pertinent libs/incs.

commit 519f76a0867fb2711d311b7929632408c3633e37
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Mar 7 23:45:10 2004 +0000

    24. Update license for Xinerama code from DEC to the version requested by
        Compaq for X11R6.5.1 that allows redistribution without written
        permission from DEC. Originally X.org Defect #9263. freedesktop.org
        bugzilla #283. (Alan Coopersmith)

commit 505fe2ba307e9270627ca7f3cb6b4e1dbacc327b
Author: Egbert Eich <eich@suse.de>
Date:   Fri Mar 5 13:41:12 2004 +0000

    23. Merged with XFree86 4.4.0. Added changes that went into infected files.
        Reverted darwin/bundle/**/Credits.rtf to XFree86 versions to avoid
        future conflicts on ASCII but not humal readable files. (There should
        probably be separate CreditsXorg.rtf files) (Egbert Eich).

commit 1b22db1ebcf1ba98ca8519fa38210e275373f8f6
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Mar 4 02:13:09 2004 +0000

    21. X server crashes when X-Resource has to byte-swap. Sun bug #5007488.
        freedesktop.org bugzilla #267. (Alan Coopersmith)

commit 47c9395969593a4e897e8c8110d5f2414e47b06a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Mar 3 17:03:46 2004 +0000

    file solaris-ia32.S was initially added on branch XORG-CURRENT.

commit ed066cc67b1fca03fb38c80ecb8194b5b40963be
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Mar 3 17:03:46 2004 +0000

    Enable inlining of assembly functions for inX/outX on Solaris 8 with Sun
        compilers

commit 867451f1ab7b9870621725bd4be3dd8694c364b8
Author: Egbert Eich <eich@suse.de>
Date:   Wed Mar 3 12:12:50 2004 +0000

    Importing vendor version xf86-4_4_0 on Wed Mar 3 04:09:24 PST 2004

commit 2934f0731b3d2bc9c1e25ceab26d9e0d9cadb054
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Tue Mar 2 20:00:16 2004 +0000

    file winvalargs.c was initially added on branch CYGWIN.

commit f72efebf280547c80ff7010e32f56416e7121164
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Tue Mar 2 19:26:34 2004 +0000

    Replace a handful of calls to ErrorF and exit(1) with a single call to
        FatalError. These direct calls to exit(1) made it impossible to do
        anything ddx-specific in these cases; note that most of these calls
        occur during argument processing.

commit 7557d4da10cc482fcec40acadf7744b04c1615a0
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Tue Mar 2 19:00:06 2004 +0000

    bug #230 Revert to Xinerama 1.1 In order to make a "quick" release it has
        been decided that the priority is to preserve the server's internal
        API/ABI so that third-party drivers that depend on symbols like
        noPanoramiXExtension, etc., would not need to be recompiled. Toobad gcc
        on Linux doesn't support ELF's weak symbols as that would have been a
        reasonable solution for preserving the ABI. N.B.: While symbols, i.e.
        functions and variables revert to the old name, I did not revert build
        names, i.e. -DXINERAMA, to the old -DPANORAMIX. There was no need, and
        it's just a build issue that has no impact on the binary output of the
        build.

commit 215a13aa8f537dcb62b0a2f6d335901ee47e9e9b
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Mar 1 16:38:20 2004 +0000

    Add the .stab.indexstr section produced by Sun's compilers to the list of
        SHT_STRTAB sections with debug information to ignore when loading ELF
        objects.

commit d87b05563dc13ba8d9825ec3bb772702dce6c9fe
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Mon Mar 1 03:33:28 2004 +0000

    file indirect.c was initially added on branch CYGWIN.

commit f81d63ec5396c8d7f62ddd6ff6bab10b32493264
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sun Feb 29 20:11:11 2004 +0000

    bug #240 Instead of both Meta keys generating Meta_L, and both Alt keys
        generating Alt_L, etc, fix the implementation so that you get Meta_L
        for the left Meta key and Meta_R for the right Meta key. Ditto for Alt,
        Control, and Shift.

commit 6c412a43e42538a51d3a4d92a6db12b0b6cf0e9b
Author: Jaymz Julian <jaymz@artificial-stupidity.net>
Date:   Sat Feb 28 09:47:55 2004 +0000

    sdl x server so that we can x-on-x the fb stuff for ease of debugging. if
        anyone uses this in production, a big scary monster will eat them. hrm,
        perhaps i should make it have a --i-know-what-i'm-doing param that it
        doens't start without, heh

commit bb93fef9877a885da2c6108410155fa996b19abf
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Feb 27 19:35:49 2004 +0000

    bug #238 test for root-window that XFree86 fixed in their
        programs/Xserver/Xext/shm.c
    3.37 and programs/Xserver/Xext/xvdisp.c 1.26 got zapped when Xinerama2 was
        merged into the tree. (Xinerama has since been reverted to 1.1, but
        that's another story.)

commit cb718ce08eb25c3999c91b8d614fb88237fad03d
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Feb 27 16:17:12 2004 +0000

    Revert to Xinerama 1.1 In order to make a "quick" release it has been
        decided that the priority is to preserve the server's internal API/ABI
        so that third-party drivers that depend on symbols like
        noPanoramiXExtension, etc., would not need to be recompiled. Toobad gcc
        on Linux doesn't support ELF's weak symbols as that would have been a
        reasonable solution for preserving the ABI. N.B.: While symbols, i.e.
        functions and variables revert to the old name, I did not revert build
        names, i.e. -DXINERAMA, to the old -DPANORAMIX. There was no need, and
        it's just a build issue that has no impact on the binary output of the
        build.

commit df0313d35bc89abe9374ed25533db283430716e0
Author: Egbert Eich <eich@suse.de>
Date:   Thu Feb 26 13:36:15 2004 +0000

    readding XFree86's cvs IDs

commit 147aae87fde5edeed395f77e60f0f8e812d3b6af
Author: Egbert Eich <eich@suse.de>
Date:   Thu Feb 26 09:23:53 2004 +0000

    Importing vendor version xf86-4_3_99_903 on Wed Feb 26 01:21:00 PST 2004

commit 8844423f890194bcb0419a38249029f1997c8c66
Author: Stuart Kreitman <stuart.kreitman@sun.com>
Date:   Wed Feb 25 23:28:43 2004 +0000

    file xevie.c was initially added on branch XEVIE.

commit b052486adb9ea26f37be120966eb60cd3ac3db2f
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Wed Feb 25 21:47:10 2004 +0000

    bug #230 Revert to Xinerama 1.1 In order to make a "quick" release it has
        been decided that the priority is to preserve the server's internal
        API/ABI so that third-party drivers that depend on symbols like
        noPanoramiXExtension, etc., would not need to be recompiled. Too bad
        gcc on Linux doesn't support ELF's weak symbols as that would have been
        a reasonable solution for preserving the ABI. N.B.: While symbols, i.e.
        functions and variables revert to the old name, I did not revert build
        names, i.e. -DXINERAMA, to the old -DPANORAMIX. There was no need, and
        it's just a build issue that has no impact on the binary output of the
        build.

commit 14ab4ade74e946c09d633b15ab4d447d7b69ea29
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Tue Feb 24 15:22:40 2004 +0000

    bug #214. Merge most of 4.4RC3

commit 9343c8f5ac180043c29ead5e83a3efef16d7b3f2
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Tue Feb 24 15:16:35 2004 +0000

    bug #188, #214, see versions 1.1.4.3 and 1.1.4.4 of this file. fix bad
        merge

commit 03d893bff9bf5d6be9663a21cc983873d8e8d4c7
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Mon Feb 23 21:37:29 2004 +0000

    merge most of XFree86 RC3 (4.3.99.903) from vendor branch. bug #214

commit 4ee0a53de870192d57c02baffa106b10bae6e0bf
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Mon Feb 23 20:35:22 2004 +0000

    Import most of XFree86 4.4RC3. This import excludes files which have the
        new license. If we want to, later we can import 4.4RC3 again and pick
        up the files that have the new license, but for now the vendor branch
        is "pure."

commit dcdd47ebbd4e9b5f4cbb598a5217004df0e80844
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Mon Feb 23 20:35:19 2004 +0000

    Initial revision

commit 30ac3efde2c3f08b98f31833df4ea7d87f33b092
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Mon Feb 23 16:32:14 2004 +0000

    bug #188 report bugs to X.org bugzilla, not XFree86

commit d52f3ac58fd596fca392394f16acff84115f6e1d
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Feb 18 21:43:19 2004 +0000

    Additional fixes to allow building with Sun compilers on Solaris x86

commit 07109fd63e0999905e6f7df8fd7f9c713d0dc2cc
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Wed Feb 18 21:30:12 2004 +0000

    Sun cc on Solaris x86 defines __i386 but not __i386__ so the x86
        architecture #ifdef should accept either form

commit a27ffd2678ef76453c4fa27932462425d804df6d
Author: Warren Turkal <wt@penguintechs.com>
Date:   Wed Feb 18 02:12:44 2004 +0000

    completely get rid of NeedNestedPrototypes
    completely get rid of NeedVarargsPrototypes
    remove a lot of NeedFunctionPrototypes
    ansify many function declarations

commit d17586c4dc858d0127fa021e6db62f8cc28ef7a6
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Feb 16 20:19:59 2004 +0000

    [fd.o bugzilla #189] _XOPEN_SOURCE defines break builds on Solaris Express

commit b146ef1548d36d6897fbd674f1c3b8324bed11a7
Author: Warren Turkal <wt@penguintechs.com>
Date:   Sun Feb 15 15:04:57 2004 +0000

    Moving toward a working input extension.

commit e90274c2bba1f66a68c2bc30ddb589dbf6fa0929
Author: Egbert Eich <eich@suse.de>
Date:   Wed Feb 11 19:29:37 2004 +0000

    2. Fixing segfaults that may happen in some corner cases when VT switching
        and during int10 initialization (Egbert Eich).

commit 453a0743eb524da88dd364ccac86f35e61899e64
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sun Feb 8 00:17:31 2004 +0000

    revert to RC1 version of file with the license we like

commit d6f33d897221450f3cfcc1162e2a6d09b227326e
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sun Feb 8 00:12:27 2004 +0000

    revert to RC1 version of the file with the license we like

commit bd20c8d340fce0700ae813bd5b55fe7f4b9e0c98
Author: Jaymz Julian <jaymz@artificial-stupidity.net>
Date:   Thu Feb 5 09:09:51 2004 +0000

    Polling input mode for the kdrive os layer. And a moose!

commit af798d27743dbc4f70e85e297daa5863ec89640b
Author: Jaymz Julian <jaymz@artificial-stupidity.net>
Date:   Wed Feb 4 16:08:27 2004 +0000

    More NULL checks. These ones are more useful than the last (which just made
        debugging a bunch of problems easier), since you can implement less in
        the basic simplest case driver now (not that i'm lazy, mind :-p)

commit 3c64b65d805915e5c5628663113c54c3e9c3013b
Author: Egbert Eich <eich@suse.de>
Date:   Thu Jan 29 08:08:57 2004 +0000

    Importing vendor version xf86-012804-2330 on Thu Jan 29 00:06:33 PST 2004

commit 2ec70aa70133190ad31a83114fdb9a218e6aa8e6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jan 25 05:31:24 2004 +0000

    Disable GLX visuals code on !GLXEXT, and remove a useless prototype.

commit 01e9cc858ac646b3140d1d85ea9c069bc708fb28
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jan 25 01:30:33 2004 +0000

    - Add glx visuals code based on XFree86's Radeon driver.
    - Reserve areas for back/depth/span when USING_DRI && GLXEXT. This would be
        better in a TransitionTo3d, but we'd need to work with the offscreen
        memory manager for that.
    - Misc. fixes to ati_dri.c for DRI+GLX. Needs more work still.

commit f2bedd17af7c3b9241c02dc1c899f32fc0cd2f10
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jan 25 01:16:19 2004 +0000

    Oops, turn fallback output back off.

commit 26c5a8dfdd2aa09db46c4cf963ca697df3e777ef
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jan 25 01:04:12 2004 +0000

    Whitespace cleanup.

commit 6870c081572fcf32997e7906a54d09da0ca58ac3
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 15 09:19:56 2004 +0000

    Oops, lost a diff needed for the non-screen format pixmap code

commit 3867e03cb63e49aeb1742a8a4bdaed0b7a23749e
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 15 09:15:53 2004 +0000

    Fix up some mis-used variable names

commit f233bbf3652327e62e03efbb8a355e6af2703a1c
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jan 15 09:13:01 2004 +0000

    Accelerate non-screen format pixmaps.

commit 751fb0374b12679f63c922adf0f0e7cadd83d861
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Thu Jan 15 06:06:44 2004 +0000

    file winresource.h was initially added on branch CYGWIN.

commit a265167f19e37aec2173c0ca6c9955450aa69941
Author: Anders Carlsson <andersca@gnome.org>
Date:   Wed Jan 14 10:00:00 2004 +0000

    Add IPAQ modeline by Dennis Noordsij.

commit 6c97b277d9140b9d6bca047c56e303f6fc1d92e0
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jan 11 00:10:34 2004 +0000

    Support 1x1 repeat sources in R128's Blend.

commit 92702565657d48f1fcc2bae1b5989b1d6d3dd164
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jan 9 08:43:48 2004 +0000

    Change PCI ID information field to be one of r128, r100, r200, r300. This
        is all the information we need so far. Put that information into atic,
        and use it correctly in the code (unlike before).

commit 5d51dfc69cb245f6a1c7b106954a3365524741e2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jan 9 08:40:32 2004 +0000

    Use the scratch area for Composite when one of src or dst is in memory.

commit 6d8001f4688e2149fcdd480401c46c7540680576
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 8 20:18:13 2004 +0000

    Compile fixes for non-DRI case and for non-C99 compiler.

commit 1be4b2d5e8048eb3653fad3a1267a0da865bcee8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 8 08:25:49 2004 +0000

    Forced commit: Previous commit included the removal of the 8192 scanline
        limit on offscreen memory in the fbdev case. I remember daenzer (who
        originally put that code in) saying he wasn't sure of it, and there
        doesn't seem to be any reason for that limit given how acceleration is
        done.

commit b27729ec88f5d4153a0debfe2347bbed022329ba
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jan 8 08:16:24 2004 +0000

    - Add a new UploadToScratch kaa hook for putting the data for a single
        pixmap into temporary offscreen storage. Subsequent UploadToScratch may
        clobber the data of previous ones. This allows hardware acceleration of
        composite operations on glyphs.
    - Add a new UploadToScreen kaa hook for doing the actual moving of data to
        framebuffer. This would allow us to do things like hostdata blits or
        memcpy to agp and then blit.
    - Add an UploadToScreen on ATI which is just memcpy, but which will be
        replaced with a hostdata blit soon.
    - Add UploadToScratch on ATI and reserve 64k of scratch space. This
        provided a 3x speedup of rgb24text on my Radeon.

commit d640cf4cb4e031a0e93dfd5955405847fe4475c0
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Thu Jan 8 05:10:33 2004 +0000

    file winprocarg.c was initially added on branch CYGWIN.

commit 77183abbc499c69fbbbae1d92a6b012c5f80b6c4
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Thu Jan 8 05:10:32 2004 +0000

    file winglobals.c was initially added on branch CYGWIN.

commit eb5bb9c1a16db308eae84ea45a5920c768d4a2ff
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Thu Jan 8 05:10:32 2004 +0000

    file winclipboardwrappers.c was initially added on branch CYGWIN.

commit e93d468df21840007cbeea03ed545e75f0f0baf1
Author: Harold L Hunt II <huntharo@msu.edu>
Date:   Thu Jan 8 05:10:32 2004 +0000

    file winauth.c was initially added on branch CYGWIN.

commit 737eddfa4b6a8851e20823405b7269dd49c49b89
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jan 7 09:50:28 2004 +0000

    Disconnect the sis300 driver. I've never managed to fix it, and it breaks
        the build on PPC.

commit 5a2c23f8a18767f0eb2fe2846ca3ba18fd236284
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jan 7 02:30:29 2004 +0000

    Speed things up slightly by removing Z values from emitted vertices and by
        emitting as a tri fan rather than a tri list. A rect list would save an
        additional vertex (out of 4) per rectangle, but there's no measurable
        speed difference and the tri fan may be useful when transforms come
        into play.

commit cff782078cec9b10606c5873816b7acd9977ce4d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jan 4 20:51:53 2004 +0000

    - Don't forget to UNINIT miComputeCompositeRegion's regions
    - Fix a bit of whitespace nearby.

commit 34d1529731fff0cb61c71f76edc5c6499ece68d1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jan 4 20:47:30 2004 +0000

    - Correctly set the texture coordinate set source for the second texture
        unit.
    - Re-enable Radeon's Composite accel now that fonts work again.

commit 9f1a92cd092e87f774ce4ed99d4b3e15f905d4f7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jan 3 21:52:14 2004 +0000

    - Call appropriate Done function for Composite.
    - Don't allow src transforms for Copy acceleration.
    - Minor whitespace fixes.

commit 3db761a17b60b80acb83f365628b093f0ba6958c
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jan 3 11:46:57 2004 +0000

    - Add more Composite operations, including Saturate, to Radeon Composite
        accel. I don't 100% trust that the math works for Saturate, but I can't
        tell from existing information.
    - Fix texture pitch fallback checks.
    - Fallback when src or mask have transforms.
    - Disable Radeon Composite accel until the offset thing is fixed.
    - Set offscreenPitch to 64 on Radeon thanks to new information and a kaa
        fix. Fixes acceleration at width!=1024.

commit d15acfa79b64b8dab1e930ce8e5423a212a1360b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jan 3 11:25:27 2004 +0000

    Split the various attempts at accelerating Composite into separate
        functions. Along with making things more readable, it fixes a problem
        where the coordinates would get messed up if acceleration failed due to
        things like pixmaps being in the wrong locations.

commit 1e1a35e20c1d281bc9700b349cda1e67f65905dd
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Jan 3 11:17:44 2004 +0000

    Actually align the offset of allocated offscreen areas.

commit 354f8f7e943d1a0732f4181420211efff27532b8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Dec 31 23:24:33 2003 +0000

    Some strange \240 character snuck into the original commit of this file.

commit 5f947b04da13256e5f514c40dedb98c6e1cbe0f1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Dec 30 08:45:53 2003 +0000

    There's never a copy between different depths. Remove the check.

commit c8eb20a08ee9174374b6f5ac6e79f31fce26e181
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Dec 30 08:23:56 2003 +0000

    - Add new Composite hook for kdrive drivers, which only ensures that the
        pixmaps are offscreen and don't have alpha maps. It is the last case
        checked before going to software fallback
    - Use the new Composite hook in the ati driver to implement acceleration of
        most Composites that get done in an xcompmgr environment on r100 series
        cards. It is only available when using the DRM. There are still some
        corruption issues, but the DRI is still non-default and I need to get
        this into version control.

commit adfc1ed8e1e150100accf014e46241201275138f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 29 09:04:20 2003 +0000

    Add dependency lines so that servers are rebuilt when server libraries are
        changed.

commit df03e80ae9162ec87f503322ccbcf2846ad38bef
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 29 06:24:01 2003 +0000

    Merge dri-0-1-branch to trunk. Notable changes:
    - Add libdrm and libdri. Portions of the DRI extension are stubbed out.
    - Use the DRM in the ATI driver when available. This provides a minor
        performance improvement in x11perf, and opens the possibility of using
        the 3d hardware for acceleration in the future.
    - Implement solid fill acceleration for Composite in KAA.
    - Implement Blend hook for Composite and use it on r128.
    - Fix a bug of mine that resulted in overuse of offscreen memory.
    - Fix many miscellaneous bugs in ATI driver and add PCI IDs.

commit 9bea538745f1a0c14faaac0e61dee5cf86f98dc6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Dec 28 09:56:54 2003 +0000

    file kaa.h was initially added on branch dri-0-1-branch.

commit fb8cd7454baec0bc0f693d222f3920ce03dde7c6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Dec 28 09:56:54 2003 +0000

    file kaapict.c was initially added on branch dri-0-1-branch.

commit f388f1509cb131cdf0675415214c9610d3d322c7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Dec 23 22:29:38 2003 +0000

    file r128_blendtmp.h was initially added on branch dri-0-1-branch.

commit 918958705dd97ce678b8901666c85fb359d0e013
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sun Dec 21 13:39:58 2003 +0000

    Use a different icon

commit e97c634593dd171a05aa0fa5a35d218dcc3ecfb0
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sat Dec 20 00:28:31 2003 +0000

    merge XFree86 RC2 (4.3.99.902) from vendor branch

commit 12e532010b9e8cb67bedd44d489c9c40dd265165
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Dec 19 20:55:39 2003 +0000

    XFree86 4.3.99.902 (RC 2)

commit 4b75c7f6358b28978b05ffa4b73853d936454f50
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Thu Dec 18 19:32:17 2003 +0000

    First pass at "Standard" Xinerama. The sources for this came from Heather
        Lanigan's xinerama tree on Sourceforge.Net. No attempt has been made to
        handle previous, non-standard versions of the protocol. Nor has any
        attempt been made to preserve the ABI of previous versions -- that part
        will be added at a later time, and then probably only on systems that
        have nice object/linker semantics, e.g. ELF systems with weak symbols.

commit 305c444de3baa863d7abc4221e8cebb973805847
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 8 01:55:10 2003 +0000

    Add initial SiS 300-series (300, 305, 540, 630, 730) driver based off of
        the ATI driver. It suffers from hw/sw synchronization problems, it
        looks like, but may be good enough to work on Render acceleration
        experiments. Committing it as-is so I don't lose it again.

commit 8a7481a27496c842ec2ef5bac5e4d0b5e6279deb
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sat Dec 6 13:24:29 2003 +0000

    merge XFree86 4.3.99.901 (RC1) from vendor branch

commit e82928826f60a2e76a670c936bd557838fc1764c
Author: Kensuke Matsuzaki <zakki@peppermint.jp>
Date:   Fri Dec 5 03:37:26 2003 +0000

    file winwin32rootlesswindow.c was initially added on branch CYGWIN.

commit fc40d0a3cbee053d446032ae3150b06edf66a335
Author: Kensuke Matsuzaki <zakki@peppermint.jp>
Date:   Fri Dec 5 03:37:26 2003 +0000

    file winwin32rootlesswndproc.c was initially added on branch CYGWIN.

commit c3f26a1b989dbbf5167e6e352aebf2f53bfcc442
Author: Kensuke Matsuzaki <zakki@peppermint.jp>
Date:   Fri Dec 5 03:37:26 2003 +0000

    file winwindowswm.c was initially added on branch CYGWIN.

commit 0f06636a9a088fc27262da0f0bc9a20a3dbeab69
Author: Kensuke Matsuzaki <zakki@peppermint.jp>
Date:   Fri Dec 5 03:37:26 2003 +0000

    file winwin32rootless.c was initially added on branch CYGWIN.

commit a84f16a9ad2ed0f874d2c1816aedee96725d2657
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Thu Dec 4 22:03:38 2003 +0000

    XFree86 4.3.99.901 (RC 1)

commit 33fdd50a94baab1db342bfce442907db8f8ad03e
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Dec 2 01:59:38 2003 +0000

    Wrap ClipNotify to see region motions during MoveWindow.
    Check window reorigin in PositionWindow and bump pixmap serial numbers to
        revalidate GCs.
    Fix picture clip region origin in automatic update
    Initialize client private 'critical' value
    Clean up pixmap bounds checking code to only affect contents allocated by
        fb.
    Oops. Call SourceValidate for Composite operations.
    Add Xchips server (vesa based)

commit 6db77925406a0ee600998ad558a50190ba631649
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file radeon_sarea.h was initially added on branch dri-0-1-branch.

commit 313046b42832fa2434d617997d5701157b55e7c8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file radeon_common.h was initially added on branch dri-0-1-branch.

commit 2ad126286e524392741164babe530210892c377f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file r128_sarea.h was initially added on branch dri-0-1-branch.

commit f486c136ad8d2d893cdf3aee6aa752578a6809d7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file r128_common.h was initially added on branch dri-0-1-branch.

commit 1eb63ef1b5d0ce10117196df3e81e8312a55a93c
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file ati_sarea.h was initially added on branch dri-0-1-branch.

commit 1fa5f28406f8a7ad54049e4bec129953149bd3ed
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file ati_dri.c was initially added on branch dri-0-1-branch.

commit 14ce4f2c3ebc20e5f6d57adda0a7e14229541a72
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file ati_dri.h was initially added on branch dri-0-1-branch.

commit 8887456e7d4fc1280287ed3e35c6c4464525827b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file ati_dripriv.h was initially added on branch dri-0-1-branch.

commit 6c9e7f47357b02f41b9f1f43f7f1d9b5a139e5b6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file ati_draw.h was initially added on branch dri-0-1-branch.

commit 2ad20d4e99d0d8ecb922507e0bfead8b7b7d4a55
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 22:56:06 2003 +0000

    file ati_drawtmp.h was initially added on branch dri-0-1-branch.

commit ae2454f65698eef66b3507e586e4f8125cb1790d
Author: Anders Carlsson <andersca@gnome.org>
Date:   Mon Dec 1 22:11:12 2003 +0000

    Add support for setting the video mode.

commit e31051ba26c18f6232798c5a5c4725f5ce53d6b9
Author: Phil Blundell <pb@reciva.com>
Date:   Mon Dec 1 21:49:41 2003 +0000

    Call KdShadowUnset before fbdevSetShadow.

commit 9cdd6fd9e3d6e44adf392279093f92fb6678a49c
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 04:33:36 2003 +0000

    - Add fbdev mode-setting backend to Xati. It and vesa are compiled in when
        available, with fbdev being used by default.
    - Use depth 16 by default when vesa backend is used.
    - Add MMIO defines for PowerPC (should be in a common location).
    Many thanks for Michel Daenzer for much of this code.

commit ec7f5539302fafd1ac7609ac423f1379f54916ab
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 03:15:13 2003 +0000

    Add more RV250 PCI IDs.

commit d221c484f9521c780fc3c7e88833c62e50463c6d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Dec 1 01:46:42 2003 +0000

    Remove sys/io.h inclusion from some files that didn't need it, and change
        asm/io.h to sys/io.h in vga.c, which newer Linux complains about.

commit 5fd7f82390d78621a8aad959eb216b8fb7e1a97f
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sun Nov 30 16:47:13 2003 +0000

    xfree86 merge

commit 77836ebda2a47e04c56c5842f62fab5992909712
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sat Nov 29 16:08:53 2003 +0000

    xfree86 merge

commit 88193e928be7cf5a526b50ad1e0b4ac9cddef297
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Sat Nov 29 15:10:02 2003 +0000

    xfree86 merge

commit 0097b6fe2d1739e46e4e7726aaa481b6dc84870c
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Wed Nov 26 22:49:07 2003 +0000

    merge latest (4.3.99.16) from XFree86 (vendor) branch

commit d803918a9fb5f80a2d6e4b711d8e43916cd09da5
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Nov 25 22:39:54 2003 +0000

    Add new Radeon 9200 PCI IDs.

commit adc7f9a4ebdfe11d4cd6de9388b63dfe36450b39
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Tue Nov 25 19:29:01 2003 +0000

    XFree86 4.3.99.16 Bring the tree up to date for the Cygwin folks

commit 90f1536dd315cd265bfc7ef35058761a65a01734
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Tue Nov 25 19:29:01 2003 +0000

    Initial revision

commit d461855a73d8c9f51a18673aef7ce88f94a71629
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Nov 23 10:12:04 2003 +0000

    - Fix Radeon offscreen pixmap pitch alignment.
    - Remove usleeps from idle and waitavail code, recommended by keithp.
    - Add a workaround for apparent broken acceleration with Rage 128 and
        offset alignment with 8-bit acceleration (24-hack and plain 8-bit).
    - Minor cleanup of setup code.

commit 8e09afe657b110bc1ea9e58dea81a120c343d16e
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Nov 23 02:08:16 2003 +0000

    Add RV250 PCI IDs.

commit b3247251fb7d9f2d50ef41d9c2089629544d534d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Nov 20 07:49:46 2003 +0000

    - Fix a bug in pitch alignment for offscren pixmaps.
    - Add 24-bit acceleration for Xati using the 8-bit trick from mach64.
    - Add offscreen pixmap support to Xati.

commit 41dde24b229f4bc4738637d9cd0a86b74b9f8457
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Nov 20 00:05:56 2003 +0000

    - Fix confusion of depth/bitsPerPixel in ati_draw.c
    - Disable acceleration with 24bpp due to apparent broken acceleration.
        Accel at 24bpp was the cause of the crashes when people tried to use
        any depth over 16. XFree86 doesn't support 24 either.
    - Disable at < 8bpp, too.
    - Add the other Rage 128 PCI IDs.
    - Remove unnecessary setting of scissor registers (only default scissor
        gets used).

commit 7abbcce4222958b4670873a17f67ea1ec1d958e2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Nov 19 08:32:38 2003 +0000

    - Add PCI information (device/vendor id, bus location) to KdCardAttr to
        help with ati, and future DRM drivers.
    - Add new "ati" kdrive driver. It has ancestry in the r128 driver from
        andersca, but took a detour through being the WIP SiS 300 driver on the
        way. It supports Radeons (tested on QD VIVO and 7500) and Rage 128.
        Current limitations include that it requires depth 16 and that the
        other Rage 128 PCI IDs aren't included yet.

commit e9cb70dae0a85fcd116d7ffac73d1322ec282a94
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 18 18:38:48 2003 +0000

    Reset available offscreen segment save function pointer. (Not a functional
        change, just cleaning up a bit)
    Reset the screen->memory_base value when frame buffer is remapped. This
        makes sure new off-screen allocations point at the newly mapped region
        rather than the old (now unmapped) region.

commit f333581b7b4066ab054dd765a1c9bae0f3407188
Author: Seth W. Klein <sk@sethwklein.net>
Date:   Tue Nov 18 04:53:16 2003 +0000

    Added infrastructure for driver specific usage messages and added vesa
        usage message.

commit 003e87717cfe378261ed1a1e7bcb2cf0d200b1b8
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 17 22:09:12 2003 +0000

    Recompute winSize/borderSize to fix them when changing redirection.
        Sufficient, but not always necessary.
    Add borderClip to damage on creation so that clients needn't guess.
    Fix API to FbDots functions to make PolyPoint work with screen_x/screen_y
        offsets
    Add debugging code to make sure no pictures are left pointing at freed
        pixmaps. "Can't" happen, but it did once.
    Change KdOffscreenArea structure to eliminate separate private structure,
        eliminate the ScreenPtr, change from doubly linked to singly linked
        list.
    Don't damage BackgroundNone windows on PW_BACKGROUND. Re-clip damage to
        borderClip in DamageSubtract.

commit c57959ad6a4c0f5329762f401fd7871ffb2ee90c
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Mon Nov 17 19:03:47 2003 +0000

    merge XFree86 4.3.0.1 to -CURRENT

commit acd200770513ad03dd3f4bdc7448edfd69b1ff9d
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 17 06:54:52 2003 +0000

    Clear window when Manual Subwindows redirect is destroyed
    Fix Tile/Stipple origin with non-zero pixmap window origins
    Use computed depth for TrueColor visuals as fbdev doesn't have one.

commit d568221710959cf7d783e6ff0fb80fb43a231124
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Nov 14 16:49:22 2003 +0000

    XFree86 4.3.0.1

commit 9508a382f8a9f241dab097d921b6d290c1c3a776
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Nov 14 16:48:57 2003 +0000

    Initial revision

commit ded6147bfb5d75ff1e67c858040a628b61bc17d1
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Nov 14 15:54:54 2003 +0000

    R6.6 is the Xorg base-line

commit cb6ef07bf01e72d1a6e6e83ceb7f76d6534da941
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 14 07:46:20 2003 +0000

    Accelerated image text code drew glyphs at wrong location when compositing
        manager enabled.

commit 318d525bf2fe52b059b1568e9b31d144b297a781
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 13 09:14:29 2003 +0000

    Have the composite extension tell the damage extension about clients which
        have redirected subwindows in manual mode. Those clients are marked
        Critical and given a significant scheduling boost whenever they receive
        a damage notify event. This dramatically improves update frequency.
    If the kernel reported a large number of keys, readKernelMapping would walk
        off the end of the kdKeysym array.
    Fix usage of _IOWR; the 'size' argument is actually a datatype.

commit e9904cefa39e1c9d3c7bf2f335dbafb23809cdba
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Nov 11 05:46:15 2003 +0000

    Fix Makefile.am's to include header files needed for distcheck. Remove
        -Werror default and add --enable-werror switch to add it back.

commit 5dc119b73ffcae32c2d470b734dfa2f8af58e77e
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 10 20:35:05 2003 +0000

    Fix KdXv interface to pass drawable down so that bits can be put into
        drawable pixmap rather than directly into the frame buffer. Rewrite
        logic in kdoffscreen to make space for new allocations, now deals
        correctly with locked areas.

commit e500986657ea8b4e14a1ff4730ecda4583c75277
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Nov 10 06:40:23 2003 +0000

    Must offset composite parameters by drawable coordinates in accelerated
        case.

commit d694b44259ff51cfca2c3ec9a58bf164010cc1ad
Author: Phil Blundell <pb@reciva.com>
Date:   Sat Nov 8 18:51:59 2003 +0000

    Avoid ugly shell error when libXdmcp isn't present.
    New functions. (TsInit): Register them.

commit 3e18c6363454aa87e1ad8c121019bab185e613b8
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Nov 8 00:28:19 2003 +0000

    Fix KAA to work with screen_x/screen_y hacks from COMPOSITE Also add
        kaaComposite acceleration for simple bltblt case.

commit 1280f79054dc16ccf321006cd2de53e0f53c7b70
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 7 23:29:29 2003 +0000

    Ok, Composite extension is semi-working; when no-one asks for redirection,
        the server seems to act as before. With RedirectSubwindows (root,
        automatic), the server looks just like a regular X server. Now to go
        rewrite the (currently lame) compositing manager to get some real
        action on the screen.
    Some of the fixes here are to make valgrind quiet with various ioctls used
        by kdrive/linux.
    Also fixed a bug where fbdev initialization was out of order in fbdev.c and
        smi.c

commit d319a0a610c90524ad29cab3c6d4d21b5298fc7f
Author: Phil Blundell <pb@reciva.com>
Date:   Fri Nov 7 23:00:06 2003 +0000

    Fix warnings.

commit 598c5d549abbb819f3391a2c88432941b546a213
Author: Matthew Allum <breakfast@10.am>
Date:   Thu Nov 6 14:01:46 2003 +0000

    tslib improvements

commit 7e1a564c416f6dc337a0021b1c0e1f2cb3b27296
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 5 06:46:13 2003 +0000

    Replace translucent compositing hacks with PictOpSrc to match eventual
        extension semantics. Replace mouse acceleration with quadratic.

commit 5378236aa647ec9a723a3e5fbd2a57eb286a1938
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 2 19:56:10 2003 +0000

    merge xfixes_2_branch back to HEAD

commit 9e94665cf9cf0f74dff5b3cdaa4cde99e234fa45
Author: Phil Blundell <pb@reciva.com>
Date:   Tue Oct 28 22:28:33 2003 +0000

    try /dev/misc/apm_bios if /dev/apm_bios doesn't exist

commit bb99451f275827da580dcfa3b66cd0705fcc900a
Author: Phil Blundell <pb@reciva.com>
Date:   Tue Oct 28 22:27:35 2003 +0000

    move smi into VESA_SUBDIRS

commit 9a05f8f7858641b780046ad69d61f21ccbb93db8
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Oct 19 20:46:23 2003 +0000

    Minor cleanups -- remove a couple of bogus KdCheckSync calls, restructure
        KdOffscreenSwapOut to avoid unneeded 'continue'

commit 16b2ea64e7e0bd32d6dba078b4891167bd335d44
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 16 08:03:25 2003 +0000

    Discard/reconstruct list of offscreen areas on VT switch so no allocations
        can occur while switched away.
    Set type of off_screen_areas member to actual type instead of pointer

commit f4bcd36a386116c450ea6893ab3d08e81cea663b
Author: Anders Carlsson <andersca@gnome.org>
Date:   Wed Oct 15 05:34:54 2003 +0000

    Add a memory_base variable and use it.

commit f5916edb172738c73c8f78b23981abfd8d03a079
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 15 04:59:45 2003 +0000

    hw/kdrive/*/Makefile.am Libraries in local dir must not use global path or
        make doesn't build things in the right order (-j)
    hw/kdrive/mga/mga.h, mgadraw.c Fix warnings

commit b3e47ce18ff9c86833fc6302b1e074912edce404
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 15 01:00:38 2003 +0000

    various Split out pixmap allocation debug statements Fix bogus offscreen
        pixmap size test Add migration to composite function for source
        operands
    VbeDPMS Remove extraneous call to VbeGetVib.

commit 28bcd2efd134bfea3daa0738c9155b36cdf84168
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 14 21:33:04 2003 +0000

    Avoid attempting acceleration on non-screen formats (for now)
    Offscreen allocator API changes.

commit cb46169759a833605b78409ae68c9fb57618ceba
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 14 21:10:53 2003 +0000

    Use same assumptions as layergc about what layer kind is approprate for
        unwrapping pixmap operations. This makes sure the accelerated code gets
        invoked for pixmaps
    Add pixmap migration support to kaa. Can't quite automatically migrate
        pixmaps off-screen, but soon we will. Can kick objects out of video
        memory. Move per-screen linked list pointers to pixmap private. Wrap
        Composite in preparation for migrating pixmaps. Have kasync ignore
        drawable type so that pixmaps trigger sync Add KdOffscreenFini to
        cleanup on server reset. Switch off screen area to have only a 'save'
        function; moving objects to off screen memory is done by saving then
        freeing the area.

commit 109b94951654171ada94e2ffb29568b8a1bcde77
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 14 05:08:35 2003 +0000

    -Wall fixes. Might have fixed VESA based DPMS code as a result

commit 4b844cafb2516139c8407822b61939cd6c743742
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 14 05:07:39 2003 +0000

    Check for off-screen pixmap support in KaaDrawableIsOffscreenPixmap. -Wall
        fixes. Allocate pixmap private space only for screens with off-screen
        pixmap support

commit cdf3377f6d3789628495ac64df80ac7dc235e46d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 14 05:05:53 2003 +0000

    -Wall fixes. Support off-screen pixmaps

commit 777f31cd0b5ec387d975e6d10ae73fa325e4c311
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 14 05:05:28 2003 +0000

    -Wall fixes. Add klinux.h to export function declarations

commit a398339b6d5209a11af93a3b836b0cad326a0799
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 14 05:04:22 2003 +0000

    -Wall fixes

commit 44f2e82f1b463e272f4e521561f74eb14bf24082
Author: Anders Carlsson <andersca@gnome.org>
Date:   Mon Oct 13 02:19:47 2003 +0000

    Use pixmaps instead of drawables in the kaa functions. Have the mga server
        support accelerated operations on offscreen pixmaps.

commit 47a9fab5e286c5224047690482a2cb36a3c17b88
Author: Anders Carlsson <andersca@gnome.org>
Date:   Mon Oct 13 01:19:37 2003 +0000

    Add support for offscreen pixmaps.

commit c538fa874257a2cbf53f329d3982e7a01fefe629
Author: Anders Carlsson <andersca@gnome.org>
Date:   Mon Oct 13 00:56:21 2003 +0000

    Fix a couple of bugs.

commit a50438b4709b32ec869e232628971b0dccd27adf
Author: Anders Carlsson <andersca@gnome.org>
Date:   Mon Oct 13 00:19:58 2003 +0000

    Add offscreen memory manager and update the servers to reflect the name
        change for the kaa structure.

commit 307f3dbd10e0c8e392865e85e9e3e4dff108df02
Author: Anders Carlsson <andersca@gnome.org>
Date:   Sun Oct 12 14:17:24 2003 +0000

    Remove this for now.

commit ab3305d0ac805d0c9e917c35b316d9b58dde2187
Author: Anders Carlsson <andersca@gnome.org>
Date:   Sat Oct 11 19:36:13 2003 +0000

    Add ATI Rage 128 server.

commit ed98d3814ee65cd9fd18eeadbd20c8fc6b4ab342
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 9 23:35:44 2003 +0000

    use #if instead of #ifdef

commit 4dd37de858464c576bfdcd10255a8e233a5b05d5
Author: Anders Carlsson <andersca@gnome.org>
Date:   Thu Oct 9 16:21:24 2003 +0000

    Build smi after vesa.

commit e5a1c9952f7d621493f08257c8b9456b7608c55a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 9 07:29:31 2003 +0000

    Initialize smi chip on graphics setup. Seems to help some.

commit 10f721acc5e59ea4152b94246b62963f2ff9d678
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 9 07:12:01 2003 +0000

    Leave iopl set to 3 so vesa module will work

commit f74555e94264e6f703d399a5e0475c7283e20a88
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 9 06:36:26 2003 +0000

    Add xfixes, fix smi driver to use either fbdev or vesa. Add hole mapping to
        vesa server by default

commit 346aff7ef6f47a191c7f134b7843a634189b9e83
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 9 06:35:11 2003 +0000

    Use either vesa or fbdev, selectable at compile time

commit adc5b8068d5532a6f3f23e64d3c668a22d5b1504
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Oct 5 05:22:35 2003 +0000

    Fix fbdev server to allow accelerated servers on top to use RandR. Switch
        smi server to fbdev (vesa bios doesnt work on the Acer I have here)

commit f3d8476ced1e3ba4b4ca7c9e23e98c2cc7ffcc14
Author: Phil Blundell <pb@reciva.com>
Date:   Sat Oct 4 02:56:54 2003 +0000

    few more fixes for h3600 ts

commit aae3e6dcb3d72eba6d7d8d99079782ed1bfe63bd
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Oct 4 02:43:16 2003 +0000

    configure.ac Makefile.am os/oscolor.c Xext/saver.c Xext/Makefile.am
        hw/kdrive/linux/ts.c hw/kdrive/src/Makefile.am hw/kdrive/src/kdrive.h
        hw/kdrive/src/kinput.c hw/kdrive/src/kmap.c Autodetect VM86 (for vesa),
        AGPGART, APM, MTRR, tslib and handhelds.org touch screen. Add
        USE_RGB_BUILTIN and code for fileless RGB database. Add
        MIT-SCREEN-SAVER

commit efbf205a2ac4792b71d39f8fe3ef3b1cf12697c0
Author: Phil Blundell <pb@reciva.com>
Date:   Fri Oct 3 15:27:46 2003 +0000

    add --disable-kdrivevesa option

commit 89a536f349525e642bb4cd233bc47864ed4a6ad7
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 2 02:30:28 2003 +0000

    Add smi server

commit 5a21f4f4d0c03e0e34f1979fd7cec8f0d19b00d4
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 1 06:43:50 2003 +0000

    Add XDM cookies. Fix up support for pkgconfig X bits

commit a42e31b28c493dc3d6b32cde4e72ff17fc983183
Author: Matthew Allum <breakfast@10.am>
Date:   Tue Sep 30 22:14:59 2003 +0000

    Fixed tslib driver to handle VT switches

commit a0876ade6479c40dcef63f70f4c6c5a5988edeba
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Sep 30 20:49:47 2003 +0000

    Enable maintainer mode from autogen.sh. Fix vesa build to create library
        before program. Remove bogus AC_SUBST lines for XSERVER_CFLAGS and
        XSERVER_LIBS

commit e8c02296476f068bc8158d112dc15df00dddac2a
Author: Matthew Allum <breakfast@10.am>
Date:   Tue Sep 30 20:15:14 2003 +0000

    Added --enable-tslib configure option

commit a42384e9356ec79510682bacf08410e87d7102ff
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Sep 29 01:42:40 2003 +0000

    Use other freedesktop.org packages to build the server

commit 6a098a88af174db1674662c09e2385b4e6e0bb4e
Author: Anders Carlsson <andersca@gnome.org>
Date:   Wed Sep 24 23:36:54 2003 +0000

    Add beginnings of offscreen memory manager.

commit 918a8273eeabcb14fc82742cc68223d8a7c2a67a
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 24 21:07:06 2003 +0000

    hw/kdrive/src/kdrive.c
    hw/kdrive/src/kdrive.h Add -switchCmd option to set command that is
        executed whenever the VT is enabled or disabled. This permits input
        device to be customized by external apps when switching to X.

commit 20bbd750d0d359e55cbdcc86aeea6013ac665bce
Author: Anders Carlsson <andersca@gnome.org>
Date:   Mon Sep 22 21:14:59 2003 +0000

    Accelerate server.

commit 49771e3f074cae3947b0084e6514a19dc4c4cad1
Author: Anders Carlsson <andersca@gnome.org>
Date:   Thu Sep 18 20:48:48 2003 +0000

    Add mga server to the build.

commit 07ab15d61d2468fc858453cdabe7296d19fc9e10
Author: Anders Carlsson <andersca@gnome.org>
Date:   Thu Sep 18 20:47:43 2003 +0000

    Add mga server

commit b260825e880615f589e2bad35491ebb598e21a0f
Author: Anders Carlsson <andersca@gnome.org>
Date:   Thu Sep 18 14:44:57 2003 +0000

    Try this.

commit b889d4ba2c2e59769a3ff6fd00ee5bb395108827
Author: Anders Carlsson <andersca@gnome.org>
Date:   Thu Sep 18 14:42:00 2003 +0000

    Try things out.

commit 85ff67670c6216a8c4368a8bd70fd0434a4e0aca
Author: Anders Carlsson <andersca@gnome.org>
Date:   Tue Sep 16 21:07:16 2003 +0000

    Add fbdev server to the build.

commit be12dcdcf39a30f69fe73cbb5a4acacef8024db6
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 12 07:00:19 2003 +0000

    Switch to freedesktop.org libXfont

commit eca43a59ec95646836f9704714823249a15747fa
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 12 01:51:16 2003 +0000

    Clean up mach64 for autofoo

commit 6b16b827bb125b43b41b7f8558991e90ada316de
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 12 01:49:46 2003 +0000

    Add some configure options, make the mach64 server build

commit ce55d3234dc34157f0fc8059a6793cdd17fa4519
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 11 05:15:08 2003 +0000

    Move kdrive common sources to src dir

commit 269b9dac5a96005fe38379377526592cb7930a51
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 11 05:12:51 2003 +0000

    Get Xvesa building

commit 0d775576b9b3cf410e9a463b87340612d34bc13d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 11 03:26:03 2003 +0000

    Add Makefile.am

commit ef8977a30ccb55af8e8bbb635127efb94f232983
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 11 03:23:13 2003 +0000

    More build fixes

commit 14a8311bb3b6273617f7c7b70222e97835e9c8af
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 11 02:31:24 2003 +0000

    Make more stuff build

commit 8bc8fd8678b20dde2a3fc47ff5b617bc8046ea9f
Author: Mike A. Harris <mharris@redhat.com>
Date:   Thu Sep 11 02:02:54 2003 +0000

    POSIX sigaction cleanups - removed act.sa_restorer as it's not in POSIX and
        is not portable

commit 514ab46ce3c6eb0163720315474cba884d029b62
Author: Anders Carlsson <andersca@gnome.org>
Date:   Thu Sep 11 00:47:36 2003 +0000

    Start autoifying everything.

commit 283a7f32c449b1970e5a484351f8396a8afd99da
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 7 19:13:03 2003 +0000

    Update RCS tags, fix keyboard hang on VT switch, fix scroll wheel mice, add
        -rawcoord option to not transform mice on rotate, fix mtrr to use
        power-of-two size, add a few vesa options

commit 804b89284665f19e2c92a07fadc72c25fbb3f5d9
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 2 17:53:46 2003 +0000

    Silicon motion driver for kdrive

commit b923d897a51707c25b2dc62395d9765ba1a47bfe
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 2 17:53:46 2003 +0000

    Initial revision

commit 544ee9bb7a060d6a85b5168a2de74ff1db430c89
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Wed Apr 23 21:51:18 2003 +0000

    136. Fix bug that prevented fbman from using the last partial scanline of a
        Mach64 framebuffer (Marc La France).
    135. Make ATI Mach64 FIFO cache integrity testing optional (Marc La
        France).
    134. Export ATI Mach64 hardware overlay as an XVideo adaptor (derived from
        GATOS project, Egbert Eich, Marc La France).
    133. Reorganise ATI Mach64 support into separate source files (Marc La
        France).
    132. Refine atimisc's decoding of the panel mode on server entry in an
        attempt to reduce the effect of atyfb bugs (Marc La France).
    131. Make Rage128 and Radeon XVideo available even when 2D acceleration is
        disabled (Marc La France).
    130. There is no longer any need to require hardware cursors during Rage128
        and Radeon XVideo displays (Marc La France).
    129. Initialise v4l's XVideo adaptors last (Marc La France).
    128. Reduce cut&paste effects by adding more helpers to Xv (derived from
        #5645, Bjrn Augustsson, Marc La France).
    127. Centralise a region comparison primitive into 'mi' and use it instead
        of local definitions throughout the server (Marc La France).
    126. DPMSExtension & XvExtension driver cleanups (Marc La France).

commit 870d0f8752c11c3df42185786ab1e2bd200e4de1
Author: Egbert Eich <eich@suse.de>
Date:   Thu Dec 12 18:29:05 2002 +0000

    621. Let kbd driver test if Xserver is in suspend before handling any input
        events (Egbert Eich).
    620. Fixed agp version checking to accept minor versions >= the specified
        number (Leif Delgass).

commit 7827fce0b5ff600d0adc3a30eab69e8141c2e548
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 13 16:37:39 2002 +0000

    Allow input devices to be closed while the VT is switched away (needs
        per-driver support)

commit 3eaea6608bc33633c00860008f246f59ad5687a7
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 12 22:20:42 2002 +0000

    Update ipaq-specific ts driver to match generic tslib version

commit 612e82053d986df70bcc9c87038244eab8c3dc13
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Nov 5 05:28:34 2002 +0000

    Clean up touch screen hacks for controlling pointer on alternate screen

commit 358d887cbef4d2ec34532a364dd44205eab36c23
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Nov 1 22:27:49 2002 +0000

    Add support for ARM linux TS lib (disabled by default) in kdrive

commit f0a8d06fcaf3fe0a652efa65966f4b0b0d688c12
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 31 18:29:50 2002 +0000

    Refix mouse matrix computation for touch screens. Update usage message for
        -screen option

commit 28d191680ecbcd50dc1cccec12e55a3c433fbf48
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 30 21:25:53 2002 +0000

    Uninitialized mouse matrix elements

commit dd7c85f108d01d207248300019e88d56012c33c9
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Oct 30 12:52:06 2002 +0000

    441. Import Mesa-4.0.4, and resync with the DRI trunk (DRI Project).

commit d04246c8fca4132063234ab44a68a7fac8c22261
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 18 06:31:17 2002 +0000

    Changed arguments to vesaRandRSetConfig

commit 7d214e2e2a2a1601ca14be6b52190c5b22611e2d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 18 06:08:10 2002 +0000

    Fix additions of RandR support in kmode.c

commit 5bb4a7b6998132d574d823301333b7e119dc7213
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 18 06:00:29 2002 +0000

    Fix other half of kdrive mach64 video code after randr update

commit e1c304e22b1a29a5259aec1e956dbc75e0fa0138
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Oct 14 18:01:42 2002 +0000

    Add refresh rates to RandR (v1.1)

commit 5804e69f4c20dcd33f69673aa82da3051e6eed3c
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Oct 13 19:35:56 2002 +0000

    Custom file for rotating pcmcia screens

commit b5d1c538622b21bed8eb59b557d79323f65ffbd7
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 8 21:28:05 2002 +0000

    Add vtxx option to kdrive servers

commit f214cab20baf57fc23389ef9b63a3e3a50b2a4f6
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 8 21:27:18 2002 +0000

    Clear screen on mode switch

commit b28a8c6e2a1fbc57d96d94b7445c86f94c2d8d4d
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 8 21:25:35 2002 +0000

    Add another mach64 PCI id

commit 9373d9186b413e1d53200b191816b9143d19c4bf
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 4 01:44:20 2002 +0000

    Fix mouse mapping under reflection

commit a80e1e5aed07cb57151408b0481f18e2ffb7f146
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Oct 3 22:09:04 2002 +0000

    Update kdrive servers to support reflection

commit 238a2ec201a52d59a46540ddd419d8d6f6bf8daa
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 29 23:39:47 2002 +0000

    Update RandR to 1.0 (library version 2.0)

commit 5d871996431e33b0d64ad9158e040e46770b6ee4
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 26 02:56:48 2002 +0000

    Add image transformation and sub-pixel ordering to Render

commit a2637ba1f6c8417a48c95c9b65542c696ba0c8c0
Author: Egbert Eich <eich@suse.de>
Date:   Mon Sep 16 18:05:35 2002 +0000

    319. Moved LdPreLib define after the vendor/OS specific config files as it
        may depend on setting done there (Egbert Eich).
    318. Several fixes for cross compile environment (Egbert Eich).
    317. Added code to allow for building of static only libraries with
    -fPIC for platforms which require it (Egbert Eich).
    316. Added '-m32' to gcc flags as default for ia32 builds when gcc version
        is >= 3.1. This allows building a 32 bit Version of X on 64bit x86-64
        (Egbert Eich).
    315. Changed direct calls of ld to 'gcc -nostdlib' for Linux (Egbert Eich).
    314. Changed calls to as to 'gcc -c -x assembler-with-cpp' for Linux
        (Egbert Eich).
    313. Added '-fno-strict-aliasing' flag to gcc version >= 3.1 (Egbert Eich).
        Strict requires that one address must not contain pointers to different
        types - a feature heavily used by X (Egbert Eich).
    312. Fixed a core dump problem in libXtt (?) (Egbert Eich).
    311. Removed '#pragma pack' from structures that contain function pointers
        in x86emu. This causes problems on gcc 3.1 for ia64 (Egbert Eich).
    310. Added defines for missing X types to saverproto.h (Egbert Eich).
    309. Fixed compiler warings generated by gcc >= 3.1 in mesa drivers (Egbert
        Eich).
    308. For platforms that allow both 32 and 64 bit libraries to be executed
        split Xlib i18n modules path into
        <libpath>/X11R6/lib/X11/locale/lib/common and
        <libpath>/X11R6/lib/X11/locale/lib64/common. 'lib64' has been defined
        to be the default path for 64bit shared libraries on these platforms
        (Egbert Eich).
    307. Fixed obvious typo in OMlib (Egbert Eich).
    306. Fixed code in cfb that didn't comply with C sequence rules. Modern C
        compilers tend to be more aggressive on code reordering (Egbert Eich).
    305. Changed arguments of NoopDDA() from VarArgs to void. Handling of
        VarArgs by gcc isn't compatible with the way it was used on certain
        platforms (Egbert Eich).
    304. Added support for 32bit pixmaps for 24bit overlay framebuffers in fb
        overlay code (Egbert Eich).
    303. Fixed kdrive to print a meaningful error message instead of just core
        dump when no matching graphics cards is found (Egbert Eich).
    302. fixed portability bug in xwd (Andreas Schwab <schwab@suse.de>)
    301. fixed X Server crash, which happended each time a proportional
        iso10646 font was loaded with xtt backend (Yong Li
        <rigel863@yahoo.com>)
    300. Added some ARM specific fixes to compiler.h (Uli Hecht).
    299. Added a virtual 'dummy' driver (Egbert Eich).
    298. Fixed core dump when certain access functions are not set in xf86Bus.c
        (Egbert Eich).
    297. Fixed problem where SIGIO could be disabled after a server reset.
    296. Added configurable list of devices the xf86Misc extension is allowed
        to change the mouse device to (Egbert Eich).
    295. Changed default mouse type to 'auto' when generating config file with
        '-configure' (Egbert Eich).
    294. Made sure keyboard modifier settings are consistent after exit from
        DGA when the xkb extension is used (Egbert Eich).
    293. Disabled keyboard processing when Xserver is suspended by power
        management. This allows effective locking of laptops when stolen
        (Egbert Eich).
    292. Added/improved options for lockfile syncing (Egbert Eich).
    291. Added support for backup copy of Xserver logfile (Egbert Eich).
    290. Fixed GetTimeInMillis() to use deltas instead of absolute time
        returend by gettimeofday(). This ensures time is monotonic in X (Egbert
        Eich).
    289. Fixed xf86Misc extension to allow modification of Expps2 mice (Egbert
        Eich).
    288. Made code in xf86MiscExt.c more readable (Egbert Eich).
    287. Fixed PCI CardBus bridge handling (Egbert Eich).
    286. Added code to reenable PCI bus mastering after coming back from a VT
        switch to radeon driver (Charl P. Botha <http://cpbotha.net/>) (Egbert
        Eich).
    285. Dito for r128 driver (M. Harris).
    284. Dito for glint and mga driver (Egbert Eich).
    283. Fixed double scan issues for low res modes in C&T driver (Egbert
        Eich).
    282. Set rgbBits to 8 for all HiQV chips in chips driver (Egbert Eich).
    281. Moved initialization of accel funtions past initialization of
        offscreen fb manager in chips driver (Egbert Eich).
    280. Fixed initialization of video in chips driver (?).
    279. Fixed HALlib problem restoring text mode on G550 (Egbert Eich).
    278. Restructured and included Matrox's Merged Framebuffer changes to mga
        driver (Egbert Eich).
    277. G450/550 clockchip programming fixes (Matrox).
    276. Fixed HW Cursor for HALlib frame granularity (Egbert Eich).
    275. Enabling 2D accel in 24-bit for neomagic 2360 and 2380 (Egbert Eich).
    274. Added support for builtin 1024x480 mode of Sony subnotebooks for
        Neomagic driver (Egbert Eich).
    273. Fixed support for lowRes (320x240) modes in neomagic driver (Egbert
        Eich).
    272. Fixed RAC function registration in S3 driver (Egbert Eich).
    271. Added some voodoo to screen initialization of S3 driver (Egbert Eich).
    270. Fixed vbe/int10 support in SMI driver. It used to core dump when BIOS
        was not usable (Egbert Eich).
    269. Separated BRIGHTNESS and and CAPTURE_BRIGNTESS video attributes in smi
        driver: CAPTURE_BRIGHTNESS refers to the capture chip (ie. Philips
        SAA7110) while BRIGHTNESS controls the video overlay of the SMI chip
        itself (Egbert Eich).
    268. Disable automatic loading of DRI when running SUN ffb as this is
        inconsistent with other drivers (Thorsten Kukuk).
    267. Fixed Gamma/Brightness code in trident driver (Egbert Eich).
    266. Added FpDelay debugging option (Egbert Eich).
    260. Fixed video support for Trident 9397 (Egbert Eich).
    265. Fixed Cursor/VT switch support for vmware driver (Egbert Eich).
    264. Fixed Blit problems in vmware driver when running KDE (Egbert Eich).
    263. Added RENDER support to vmware driver (Egbert Eich).
    262. Added C&T 69030 to extrapci.ids (Egbert Eich).
    261. Improved mouse autodetection code (Egbert Eich).
    260. Restructured int10 code so that vm86 and x86emu support can be loaded
        as modules. Implemented heuristic to try vm86 first and fall back to
        x86emu. This allows 32 bit Xservers to run on x86_64 on 64-bit kernel
        without vm86 support (Egbert Eich).
    259. Restructured elf loader: determine which section to load from
        elfheader flags (Egbert Eich).
    258. Adding RENDER Support to RAC (Egbert Eich).
    257. Using borderClip instead of borderSize region for redisplay function
        in miext/shadow code to avoid core dumps when vt switched away (Egbert
        Eich).
    256. Replacing sprintf() by snprintf() in lbxproxy to eliminate possible
        buffer overrun exploits (Egbert Eich).
    255. KP_Decimal fixes to Czech and Slovak keybards (Jan Holesovsky
        <kendy@suse.cz>) (Egbert Eich).

commit 2698ee9f29189a44de1c92df99f48d45f0111577
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 15 18:07:57 2002 +0000

    Prefer touchscreen to mouse

commit fe477855d7d714c154dc9fcb1d0aa67fb8e4e5a5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 2 16:30:50 2002 +0000

    Fix for iPaq IOCTL changes

commit cf49ce6f26caee30f4160e6e0b2b658863e7a145
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Aug 2 16:15:02 2002 +0000

    Allow both touchscreen and mouse at the same time

commit 1a5f923c62dcffb3a81c6532f3dc071c70345cb3
Author: David Dawes <dawes@xfree86.org>
Date:   Tue Jun 4 22:19:58 2002 +0000

    174. Fix makedepend so that it can parse a unary '+' operator (#5185, Mark
        Snitily).
    173. Fix a typo in Xvesa's emulation of instructions forbidden in vm86 mode
        (#5184, Juliusz Chroboczek)
    172. Fix a bounds check in Xlib's Region code (#5183, Owen Taylor).

commit 98f8d7af3cb7a10cc268a8bdd3039539b1bf90f2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Feb 19 00:18:05 2002 +0000

    kdrive/vesa: apply vm86 patch from Juliusz

commit 6d8cedf68c7803330bc920cf7506727c4ad6108c
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Feb 14 16:08:05 2002 +0000

    update kdrive manual and usage

commit 44b20bfa587def11f3127980e67ff47e695c3e51
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Feb 1 00:52:15 2002 +0000

    kdrive/mach64: recognize the mach64li

commit 3abb3e073961986137f8fec1f194c60636b9e864
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jan 18 16:25:19 2002 +0000

    kdrive: fix button emulation for iPAQ

commit 88810cfc02941d7e54924e25aa872e5cc740d274
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Dec 20 16:47:30 2001 +0000

    kdrive/linux/mouse.c: convert mouse data to signed values for compilers
        with default unsigned chars

commit 83388cb23282471e80d513bd3ab472b51c110b35
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Dec 10 16:34:20 2001 +0000

    kdrive/i810: bit swap for i810 cursor (from Pontus Lidman)

commit 4646a6c3b925676039f50bacb4f3c780f6e81bcc
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 7 02:19:04 2001 +0000

    kdrive: work around ipaq touch screen compile problems

commit 54feb8a4c8f0e0cb6eb40b494171fa4f3552cfc3
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 7 02:18:19 2001 +0000

    kdrive: missing registration for mouse input type

commit 636390fb9d6314e506f593da6556fa198b4e9bf6
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 22 23:38:21 2001 +0000

    kdrive: initialize all Linux mouse driver fields

commit 668c25a769044f06ed47a3145a11aceeb9574c9d
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 8 10:26:24 2001 +0000

    kdrive: fix ALTGR keyboard mappings

commit e76c6b2acae5622dd2d4944cd6f3673dbc70a571
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 8 09:35:08 2001 +0000

    kdrive/linux: update ps/2 mouse detection/configuration code from FreeBSD
        bits

commit 6fafe3b092f799da788a1ae75be1c23da42f0983
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Nov 8 09:33:51 2001 +0000

    kdrive: Open APM device r/w for kernel 2.4.14

commit 2f2e256de71c42b7856440ec43b1c122019b95b7
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Mon Oct 29 16:34:56 2001 +0000

    DPMS warning fix

commit b8d90c5ea4659a01694864e6c05a563dcea296eb
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Sun Oct 28 03:33:10 2001 +0000

    407. Fix for threaded libraries (Marc La France).
    406. Finish removal of SuperProbe (Marc La France).
    405. A rather large number of warning fixes throughout (Marc La France).
    404. Fix bug in HTML install script (Marc La France).
    403. Missing ident lines for some XFree86-modified files (Marc La France).
    402. Add default half-width doublescanned modes (Marc La France).
    401. Mark all driver-registered resources with ResBus (Maarc La France).
    400. Fix DPMS-related build problem (Marc La France).
    399. Log a message just before calling each ChipProbe() during '-probe'
        processing (Marc La France).
    398. Temporarily disable ISA probing on SPARCs and PowerPCs (Marc La
        France).
    397. Add PCI IDs for Sun hardware (Marc La France).
    396. Fix memory leak in resource relocation (Marc La France).
    395. Do not relocate resources that only conflict with disabled non-video
        PCI devices or disabled PCI ROMs (Marc La France).
    394. Re-organise SBUS code (Marc La France).
    393. Add as-yet-unused definitions for PCI resource types other than I/O
        and memory (Marc La France).
    392. Add doc for Solaris, but don't format it yet (Marc La France).
    391. Normalise driver names (Marc La France).
    390. For SPARCs, disable DGA support in ATI driver (Marc La France).
    389. Clean up some debugging messages (Marc La France).
    388. Fix newport driver for when a /proc fs isn't mounted (Marc La France).
    387. Fix DAC handling bugs in s3 driver (Marc La France).
    386. Fix resource registration bug for PCI Tseng's (Marc La France).
    385. Add aperture driver for Solaris (not yet used) (Marc La France).
    384. Rework scanpci to fix problems that prevented it from completely
        displaying non-PCI bridges and Simba bridges (Marc La France).
    383. Fix build problems in some input drivers (Marc La France).
    382. Fix int10 compile problem for SPARCs and PowerPCs (Marc La France).
    381. Ensure master aborts on secondary buses complete normally during PCI
        scans (Marc La France).
    380. Some memory mapping and Solaris cleanups (Marc La France).

commit a8518b35617a479f50c735c015115b853f4aa327
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 24 20:14:52 2001 +0000

    kdrive/savage: Long lines cant be drawn with accelerator

commit 28fd5f7525848cf0109f9cf2d6311f3717570a5d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 12 06:33:12 2001 +0000

    kdrive: add new auto-detecting and auto-switching mouse driver

commit 5f310d7f8b566b1e331286752d349f87ef43a811
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Sep 29 04:16:39 2001 +0000

    kdrive: restructure APM/VT switch support to reset keyboard state and flush
        buffer on APM resume

commit bb2e1c53b58ac94539f0d11ae195186a9ee0a2f7
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 21 21:58:34 2001 +0000

    hw/kdrive: Xv window private should be allocated on demand

commit 59cd35f634468acfa2e48711da09fabc811d96f9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 14 19:25:17 2001 +0000

    hw/kdrive/vesa: initialize mouse matrix for non-rotated case correctly

commit fbaf3ceae0519ebdfee4b6a73b1bc0000f141cf2
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 14 19:24:11 2001 +0000

    hw/kdrive/trident: solid fill checks busted for planemasking

commit 216090d1aedb23c691a75da25b14d8543b932e1c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 5 07:12:43 2001 +0000

    kdrive: Add primitive ct65550 server. Update kdrive/vesa code to support
        DPMS using VESA bios routines. Include support for Toshiba SMM DPMS as
        well

commit f856b952ec7251d6e95f0b93d62fb026d07b0ebc
Author: David Dawes <dawes@xfree86.org>
Date:   Thu Aug 9 20:45:15 2001 +0000

    187. Add an MS mouse driver for KDrive (#4754, Juliusz Chroboczek).

commit f4db75ac431c14e0c24ff7549c6ce1e3b0b86b87
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 9 09:08:55 2001 +0000

    kdrive/mach64: support Xv under RandR

commit 628d7695d1696f6f5cba6ea1f2548aa5d0f38c80
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Aug 9 09:06:08 2001 +0000

    kdrive: disable sigio debugging

commit 958c0374a6709386e91b4b3ed7ba8fa81d415ebf
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 24 21:26:17 2001 +0000

    kdrive: add apm support, fix MTRR unmapping bug

commit b7eb8a35b51aa2edc9ff59f091ee88ea7000b757
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jul 24 19:06:04 2001 +0000

    kdrive: Unmap vesa device when disabled

commit d2d221a012950b98e48e47b6dea38e6ad385fef8
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 23 03:44:17 2001 +0000

    kdrive/mach64: Force read of GUI_STAT on every op to avoid problems across
        suspend/resume

commit 79486b3b5c792a990cb73b4efa453218262e605f
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jul 20 19:35:30 2001 +0000

    Too many changes, but all in kdrive:
    Add support for global screen origins (-origin option), handles both
        Xinerama and mouse crossings.
    Fix XV enable/disable sequences -- can't use card wrappers as cards have
        more than one screen.
    Change vesa/fbdev to use new depth-independent rotation shadow update
    Fix vesa to allow starting rotation value (again)
    Make vesa driver write all colormap changes in one INT10 call

commit 9826d5a1339570c037ae1ef29c9a237874a6ffa2
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jul 19 08:46:30 2001 +0000

    kdrive/fbdev: only setting first colormap entry on static hardware

commit 35d8b5f44269c97497c73d3638b8f0345757c04c
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jul 16 19:48:00 2001 +0000

    kdrive/fbdev: fix static color case

commit 090a429573dfb965ebc4ea8ea57e3bef5f9a8539
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 11 16:42:17 2001 +0000

    kdrive/fbdev: dont set DPMS mode repeatedly to the same value

commit 99fb2eb76d8f93578e4aba75c73b9be0766f7b6f
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 11 05:02:24 2001 +0000

    Generalize kludge in fbdev that normalizes pixel formats to something that
        Render can handle

commit 562474091a3d52a062eb89d25a7d38200a785425
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jul 11 02:58:19 2001 +0000

    Fix TOUCHSCREEN support in kdrive

commit 67cd53abfce7ed17ae4c428332a9e0fd908da97a
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jun 29 14:00:41 2001 +0000

    Rework kdrive input fd handling, enable multiple simultaneous mice

commit c872ee82045e8c7ce019df2577d06bec549cd71c
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jun 29 13:57:45 2001 +0000

    kdrive: typo in MTRR calculations

commit 63dd090655ba995b8f26386bb50cb5b7568f7da0
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Jun 29 13:55:53 2001 +0000

    kdrive: dont touch hardware when disabled

commit 01a53daa03a8ee36ce136dde3a9a9b152e9c2e2f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jun 23 03:41:24 2001 +0000

    Clean up mach64 video code to add ReputVideo and make StopVideo not crash
        the machine

commit 31d47ec8bed1b02d04563ba502eaeb028975f653
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 21 21:44:09 2001 +0000

    kdrive/mach64: remove useless Xv debug printfs

commit bd61c15279e2195c72b3add32961ed21e293d48b
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 21 01:01:30 2001 +0000

    Add RCS tag

commit 66c9184807997d2a0a155ba1697906c07396863f
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Jun 21 00:58:51 2001 +0000

    Fix screen physical size in RandR code for kdrive fbdev and pcmcia servers

commit f8a456f094d8f61c021bbfb6e6f0a4723ebdc73f
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed Jun 20 21:53:31 2001 +0000

    Add RandR support to the Kdrive pcmcia driver.

commit 918ff10f2697ee8c17013bd31596072a38c5ac9b
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 19 09:31:47 2001 +0000

    Finish Xv support for kdrive/mach64

commit 6d86517b0ed0db51f3eaf19c186db52feb1e47e0
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jun 16 05:53:05 2001 +0000

    Screen flipping broken pointer remapping

commit 54aea8ec0c1c3633788fd9b19636093860c75d53
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Jun 16 05:48:49 2001 +0000

    Patch DPMS support in kdrive/mach64, add preliminary (broken) Xv support

commit f386ca6c69ba10cd8c0dd60bb25cde37ecfc8bc7
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 13 19:18:44 2001 +0000

    Support initial rotation in kdrive/fbdev, use that as the normal
        orientation

commit 93dbdc89c172fd5d6450f21ebc91011771ac0100
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Jun 13 19:18:03 2001 +0000

    Add -dpi support to kdrive

commit a6517a3056a88fca35a47185a0e6d83f3e8b0015
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 11 01:38:54 2001 +0000

    Advertise supported rotations in kdrive/vesa server

commit 4f8254b31f30bd12224c2fdcecfbd67b41ecd7e1
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 5 17:17:39 2001 +0000

    Attempt to make kdrive/fbdev run on static gray hardware (iPaq 3150)

commit bf4dbfbf45e4e6b1b86c624b1995a1050b7a0eef
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Tue Jun 5 16:57:44 2001 +0000

    fix some warnings due to new shadow code

commit a4ba10ba6ffb1c01a0df5b34669b9fb24ad0e7d9
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jun 5 16:49:31 2001 +0000

    kdrive/fbdev: RandR initialization sequence change

commit 7fcf46356ba70563f036f535e60667727db442ae
Author: Keith Packard <keithp@keithp.com>
Date:   Mon Jun 4 09:45:42 2001 +0000

    Allow for hardware acceleration under RandR with Layer. Hardware/Software
        cursor switching still busted

commit 54e66d92db917923e33e018e628a7629d6705507
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 3 21:52:46 2001 +0000

    Update RandR protocol

commit 88ae32841d766c7d0df79ee25e1db62996d4ecb3
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Jun 3 18:48:19 2001 +0000

    Add mach64 driver to Tiny-X

commit 14ed0c3d6d674df4edcbcd8840a7cea4b41a0673
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 30 15:36:25 2001 +0000

    Fix kaa to not try Copy for pixmap sources

commit a2bd75d15a99d4ee117e17921f0426228d53f5e8
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 29 21:55:41 2001 +0000

    Xfbdev: Make sure screen gets re-enabled on RandR failure

commit 562925c439cf1746f2caa720d4f2dce54ba0311b
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 29 17:47:55 2001 +0000

    Fix Xipaq build after layer/RandR additions

commit 78b53386b51cde4fe4664963ddafa36b814360f2
Author: Keith Packard <keithp@keithp.com>
Date:   Tue May 29 04:54:13 2001 +0000

    Add miext/layer for more complete RandR support in kdrive/Xfbdev

commit 06f758797ab3651b0e293ae26daf4df77702fdde
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 26 01:25:42 2001 +0000

    Add initial RandR support to Xvesa

commit ba8351609869165aa2de92b7a876dc2d2768cb5b
Author: David Dawes <dawes@xfree86.org>
Date:   Fri May 25 18:40:59 2001 +0000

    38. Fix xmh's use of XtNewString() with getenv (#4694, Tim Waugh).
    37. Xdm/PAM fixes: leave it to PAM to observe whether or not an account is
        locked, and reinitialize credentials after calling initgroups(),
        because sometimes the credentials pam_setcred() gives are in the form
        of group membership (#4693, Mike Harris).
    35. Fix warnings when building mieq.c (#4689, Adam Sulmicki).
    34. Fix some bugs in the cz and sk entried in XKB's keymap/xfree86 file
        (#4692, Ivan Pascal).
    33. Add 'hr' entries to XKB's keymap/xfree86 and rules/xfree86.lst files
        (#4687, Nerijus Baliunas).
    32. Include <X11/Xutil.h> in shape.h to get Region typedef (#4686, Adam
        Sulmicki).

commit e9314bd34ec39cc699591123cc8a05a934b66b85
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Fri May 25 07:44:29 2001 +0000

    wrap some stuff around #ifdef TOUCHSCREEN

commit e6497f39af98cd25719eab72b0be04fa4146172f
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu May 24 19:31:46 2001 +0000

    fix ifdef->if

commit 0e1a49a7dd00ae494d92ab480d9776ec5320cb3e
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed May 23 17:28:39 2001 +0000

    add missing pieces for the pcmcia driver

commit 85d827f5329fa93dea1125788457fac6835cd134
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Wed May 23 08:56:09 2001 +0000

    Add PCMCIA server for HP VGA Out PC Card and the Voyager VGA Card. Use on
        the Compaq IPAQ. Use -listmodes to see supported modes. Hack the
        touchscreen driver to work as a mouse pad for the VGA screen. Fixup key
        bindings so xmodmap can remap IPAQ's buttons as mouse buttons.

commit f9104754cda1212cf48d6d24a0a586c5368d7549
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 23 03:29:44 2001 +0000

    Add RandR extension

commit dc383e8f77f99e8c2b799a6ab4e4998a1fcacb24
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Sun Apr 1 14:00:04 2001 +0000

    317. glxinfo needs libGLU (Marc La France).
    316. Rage128 fix to Cards database (Marc La France).
    315. Minor fix to PCI resource overlap handling (Marc La France).
    314. Loader code simplification and IA-64 cache flushes (Marc La France).
    313. Workaround in the ATI driver for troublesome interaction between
        loader and compiler optimisation (Marc La France).
    312. Warning fixes for `gcc -fno-builtin`, which appears to be the default
        on some systems (Marc La France).
    more of #301, tags, warnings and build fixes.

commit 518e205b06d0dc7a0cd35fbc2c6a4376f2959020
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 30 17:35:55 2001 +0000

    kdrive/igs: add missing register definitions that used to be in igsregs.t

commit eb3da37564593b7c9fb574af824e2f5e0cc6bb24
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 30 02:18:41 2001 +0000

    Add files for Xmuu and i810 driver

commit f39a62d122b6e63e2971d8593bf6b24933f66ec8
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Mar 30 02:15:20 2001 +0000

    Add Xmuu library to remove requirement for Xt/Xaw from most X utilities Add
        i810 and Xv support to kdrive

commit a161cfd72870ae6dca66ef02f5cdd13b7ac75fd6
Author: David Dawes <dawes@xfree86.org>
Date:   Wed Mar 21 16:43:16 2001 +0000

    remove Id line

commit 0aa54b4d409647778b563d77ef6100085d86c6f3
Author: David Dawes <dawes@xfree86.org>
Date:   Tue Feb 13 21:15:15 2001 +0000

    144. Fix the neomagic driver so that it saves/restores the palette (#4452,
        Ken Hornstein).
    143. Fix a palette saving bug in the vgahw module (#4452, Ken Hornstein).
    142. Fix a typo in Xfbdev.man (#4446, Juliusz Chroboczek).
    141. Major updates to the savage driver, including:
    - DDC support
    - I2C support
    - XVideo YUV overlay support for Savage/MX and Savage/IX
    - DGA support
    - yanks Ani Joshi's depth/bitsPerPixel patch for searching the BIOS
    - fixes interactions with frame buffer and SVGATextMode consoles; VT
        switching now seems quite reliable for almost everyone
    - yanks unused options
    - adds new options for hacks to deal with the status register hangs
    - adds one special case memory configuration for Savage 4
    - adds support for doublescan modes (320x240 works)
    - adds LCD panel detection
    - fixes a panning bug at depth 24 (panning must be to even pixels)
    - adds a workaround for bugs in the latest ProSavage BIOSes (#4445, 4448,
        Tim Roberts).
    140. Make 'X -configure' use the long monitor name when present in the DDC
        info (#4444, Andrew C. Aitchison).
    139. Make glxinfo respect $DISPLAY (#4443, Meelis Roos).
    138. Fix TrueType font problems in 4.0.2 (#4439, Juliusz Chroboczek).
    137. Document the "DisplaySize" keyword in the XF86Config man page (#4438,
        Andrew C. Aitchison).

commit 3dfa6cce9938413e10cc400ba6d9b19b8f28e485
Author: David Dawes <dawes@xfree86.org>
Date:   Sat Jan 27 18:20:40 2001 +0000

    88. Set the version strings in man pages dynamically (David Dawes).
    87. Remove the XF86_VERSION string from xf86Version.h, leaving just the
        numerical values. All the version information is now derived from that
        single set of values (David Dawes).

commit 60c7a912e257045d1189a19a38d9dbedc20ae78b
Author: David Dawes <dawes@xfree86.org>
Date:   Wed Jan 24 00:06:10 2001 +0000

    79. Preprocess all man pages to make sure that the references to pages in
        sections that are platform-dependent are correct. Also fixed some misc
        formatting problems found while doing that (David Dawes).

commit dacbf5671da08d161cd7a32496e0b58f50a93453
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Jan 23 06:25:05 2001 +0000

    Integrate jg patch for iPAQ

commit 2869e08a328cb6aa51c17b96bdebd37e9eeefc88
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Dec 13 18:06:54 2000 +0000

    kdrive: non-x86 compiles broken in kmap.c

commit ec4916836c42cb4a1dc1622dddd27951a90a52c9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 8 23:04:57 2000 +0000

    kdrive: dont try MTRR on non-x86, fix backspace mapping

commit d09a156d92dbcd9368be20dabe47ea197f19357e
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 8 22:59:37 2000 +0000

    kdrive: allow screen size specification

commit 6b61d48f2146f18c94d5f2b3d16a822c0eee9841
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 8 21:40:29 2000 +0000

    kdrive/vesa: type cast warning fix

commit b59eabd230110d604515868893d9aa06e6d3b748
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 8 21:40:02 2000 +0000

    kdrive: A few iPAQ inspired changes to event management

commit a25637fe789c5127451233c759074780cbc110ac
Author: David Dawes <dawes@xfree86.org>
Date:   Mon Dec 4 21:01:00 2000 +0000

    missing ident lines

commit 1adbdf76a903aa37d553c1c2cc43a783f21acaa5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Dec 1 00:01:32 2000 +0000

    kdrive: add Xkdrive/Xfbdev man pages, update Xvesa manual

commit 5f8e75f27d49719f5fd07d48481435f93779da6c
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Nov 29 08:42:25 2000 +0000

    kdrive: add MTRR support, add clock support to trident driver

commit 02568ec5a8f278faaa26c973fcb424da3fd31f2b
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Nov 19 20:51:12 2000 +0000

    kdrive: vesa get mode using uninitialized value

commit 8f634a6516caca0e4be875e696820a820e480cff
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 20 00:19:51 2000 +0000

    Add VGA BIOS modes to Tiny-X Xvesa server

commit f16d5d6817f15be35293ee995d073eb57fafe283
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Oct 11 06:04:40 2000 +0000

    Add composite operator support to trident

commit d579bd5676ea570a8f2765cd2f6ba40074171593
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Tue Oct 10 14:05:48 2000 +0000

    Static build fix and ident lines.

commit 5f5b9ed1ad0591d70354c2b90609051d169fc33e
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Oct 8 02:08:39 2000 +0000

    kdrive: Add timeout to screen switching to avoid unintentional flipping

commit fb8b58270fcaee236337d3818df04e651acbcea9
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 6 22:13:40 2000 +0000

    kdrive: support jgs new linux keysyms

commit 15d45ffbd9af5ccce07264d6182b2222c417a2a5
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 6 22:05:53 2000 +0000

    kdrive: fix any-edge screen-switching behaviour

commit fae164a4958b95e3ba4e4d5125da4611fcb14f6d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Oct 6 05:54:09 2000 +0000

    kdrive: ignore mouse/keyboard fds in WakeupHandler while switched away

commit b814019be970bc45f808ec19eef0a48b789d6646
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Oct 3 17:22:14 2000 +0000

    kdrive: zero out fbdev screen private as its supposed to be

commit e0ccbaab226bd3e1d619d66c9ec718c67c0a559a
Author: Keith Packard <keithp@keithp.com>
Date:   Thu Sep 28 20:58:21 2000 +0000

    kdrive: fix typo initializing touch screen

commit 6171187e92152a443f7d5dd7f0dad866b3e275ea
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Sep 27 20:47:37 2000 +0000

    kdrive: memory/fd leaks fixed in fbdev/vesa/trident drivers

commit 367cab99ece8655bbd8a65096bb68bcfd7ef6fea
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Tue Sep 26 15:57:04 2000 +0000

    721. PCI chip ID updates to ATI driver (Marc La France).
    720. Fix i810 driver for -probe and -configure (Marc La France).
    719. Change message when default modes are deleted (Marc La France).
    718. Fix Xinerama byte swapping bug (Marc La France).
    717. IA-64 and Alpha fixes for pswrap, Mesa, DRI, Xpm, libX11, Xt, Xaw,
        Xmu, dps, Type1 fonts, cfb24, most output drivers, ELF loader, ramdac
        module, xf4bpp and xf86cfg (Marc La France).
    716. Improve IA-64 support by removing a plethora of 32-bit'isms (Marc La
        France).
    715. Default HasLinuxDoc to NO (Marc La France).
    ident lines and warning fixes.

commit 94368c3b92b8513d5135fb3c20165f108b0e96fd
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Sep 26 04:31:23 2000 +0000

    kdrive: Add iPAQ and Touch screen support

commit 03e3689701007ea40422b4d729b65aaebcd84869
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Sun Sep 24 13:52:40 2000 +0000

    reversed a tag accidentally - put it back.

commit 61e8a40f0d4e886bec96c3f9ee90433a3fab9d54
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Sun Sep 24 13:51:22 2000 +0000

    DRI merge

commit 2bbb90ebd927607e0b2c7cd8f3a402b44705fe03
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 22 06:25:29 2000 +0000

    Changes for PPC support under linux and a few overlay additions

commit 02777941e6ac8c79f934ba95b6b2e7f388ffbd14
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Sep 19 23:50:48 2000 +0000

    kdrive: fix bug in vesa 4plane in 8bpp mode

commit 5b9f49f64c7fb51afbfaab4f848fc7d67851582c
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Sep 19 23:49:55 2000 +0000

    kdrive: use VESA instead of FBDEV for trident driver

commit 18692160c964c80ba83b63bc207660b6254e11cb
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Sep 19 23:49:17 2000 +0000

    kdrive: make sure allocation worked before accessing

commit d6e151ce4deaff506c580da7e3baf055db1c3ae3
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 15 15:19:00 2000 +0000

    Tiny-X: Add mouse matrix to rotate mouse, allow enable to fail, add render
        by default

commit f7421d836186cd6dfb919c5a48d556a68d6c5a5d
Author: Keith Packard <keithp@keithp.com>
Date:   Fri Sep 15 07:25:13 2000 +0000

    Add rotation to fbdev and vesa

commit 5ec29fe9ea788e0dcc47534a2eca479b2c465160
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Thu Sep 7 19:44:26 2000 +0000

    Ident lines

commit db1a883d32ce8138dde288d32c11e147cdfc81a0
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 3 05:12:28 2000 +0000

    Rework tiny-x vesa driver for shadowing and multiple screen support. Allow
        enable to fail and avoid crashing

commit c97fb611dd7dedef6d075ef9d56f3d32c8018d39
Author: Keith Packard <keithp@keithp.com>
Date:   Sun Sep 3 05:11:46 2000 +0000

    Rework vesa driver for shadowing and multiple screen support. Allow enable
        to fail and avoid crashing

commit 38059656849a5bab5b56b23359a90aca4ba396c7
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 29 17:20:15 2000 +0000

    Use VESA driver underneath

commit 77331f967077ca2fefbfb117c7e9bc2bf65b5e31
Author: Keith Packard <keithp@keithp.com>
Date:   Tue Aug 29 17:19:51 2000 +0000

    Changes from Juliusz for emulating some in/out insns, make ready for other
        layers to use

commit 3095deed7701a1a14be85dff4a6994028b5a6d09
Author: David Dawes <dawes@xfree86.org>
Date:   Mon Aug 28 15:29:19 2000 +0000

    565. Support for multithreaded libraries on NetBSD when used in conjunction
        with the GNU pth library (#4113, Chris Sekiya).
    564. Add /usr/pkg/bin to NetBSD's DefaultUserPath (#4112, Bernd Ernesti).
    563. Add a (Linux-specific) VESA driver for Keith's small X server (#4111,
        Juliusz Chroboczek).
    562. Update Hungarian xkb maps (#A.145, Peter Soos). remove koi8-r encoding
        file since it's built-in

commit f32448679118b77825625aafdc4d6ae4d636cc21
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Mon Aug 28 02:43:14 2000 +0000

    Ident lines

commit 83a388c96d665b6bfb0ae195c8c74e0e1520ab8f
Author: Keith Packard <keithp@keithp.com>
Date:   Sat Aug 26 00:24:38 2000 +0000

    Try to avoid hitting hardware during server reset when not active, add
        KdPicture code

commit 4223801110c8d5873dd668880dff411765dfc18d
Author: Keith Packard <keithp@keithp.com>
Date:   Wed Aug 9 17:52:45 2000 +0000

    Add overlay support for savage. Make sis setup code work on nIc

commit 325fb002e8832a05361516bbaf19d1e8b67a3486
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 24 23:57:56 2000 +0000

    Fix 640x480x60 mode, drop inb/outb on non-x86 machines

commit a6d519e527a81341ad333cb25b410dfde07176ae
Author: Keith Packard <keithp@keithp.com>
Date:   Wed May 24 23:52:48 2000 +0000

    Add modes, cursors and acceleration

commit 240aeb4cda91d19f5b19ebd7f7d6c1aad19f1642
Author: Marc Aurele La France <tsi@ualberta.edu>
Date:   Thu May 11 18:14:13 2000 +0000

    162. Fix possible SEGV in generic int10 module (Marc La France).
    161. Fix *BSD aperture driver to allow for int10 (Bernd Ernesti, Marc La
        France).
    160. Fix vesafb restore problem in ATI driver (Marc La France).
    159. Fix a few more compilation glitches (Marc La France).

commit 3731c184d69e3c1face0c731926433d522d48067
Author: Keith Packard <keithp@keithp.com>
Date:   Sat May 6 22:17:53 2000 +0000

    Lots of Tiny-X changes:
    Add overlay support in the Tiny-X Savage4 driver (required changing lots of
        Tiny-X code). Savage4 now support 8/16, 8/32 overlays.
    Add IGS Cyberpro 5050 driver. This chip has bus support for embeded
        systems.

commit 4b54f22b6accf438f31fbbe79877545c38375351
Author: David Dawes <dawes@xfree86.org>
Date:   Wed Feb 23 20:30:15 2000 +0000

    remove/disable standard RCS ident lines that are in some files some bindist
        updates don't define noPanoramiXExtension when Xinerama is not enabled
        Add xfontsel to programs/Imakefile

commit be2dad5954b8fee09a84f417e41bb65745dadf76
Author: David Dawes <dawes@xfree86.org>
Date:   Fri Jan 21 18:41:49 2000 +0000

    missing ident lines

commit 306ac1db85c30a796c9a69c639e7f2e4efd98d50
Author: David Dawes <dawes@xfree86.org>
Date:   Fri Jan 21 01:12:02 2000 +0000

    3554. Fix "controlization" in XLookupString for chars > 127 (#3569, Ivan
        Pascal).
    3553. Take advantage of FB speedups in Tiny-X (#3568, Keith Packard).
    3552. Speed up FB and do 32bit accesses instead of 64bit accesses (#3567,
        Keith Packard).
    3551. Eliminate saving the contents of the screen durint VT switching
        (#3562, Keith Packard).
    3550. Make using fb easier for driver writers (#3561, Keith Packard).
    3549. Fix TCP font server connections (#3560, Keith Packard).
    3548. Implement the "OverclockMem" option for the Millennium and Millennium
        II (#3558, Andrew Aitchison).
    3547. Speed up some FB performance problems (#3557, 3559, 3560, Keith
        Packard).
    3546. Work around a bad code generation bug in gcc 2.7.2.3 that shows up in
        XAA (#3550, Rik Faith).
    3545. Add a -brief option to xclock to show only hours and minutes when in
        digital mode (#3549, Keith Packard).
    3544. Fix some dead key problems with xkb symbols for Swiss French and
        Swiss German keyboards (#3546, Charles Lopes).

commit 6d978d21b0bea6c73b65f2f47c68de4b94dd73c4
Author: Robin Cutshaw <robin@intercore.com>
Date:   Thu Dec 30 03:42:58 1999 +0000

    Itsy cleanup.

commit 30e35cb44b6ea11d0eac8ce0d986517f3224852a
Author: Robin Cutshaw <robin@intercore.com>
Date:   Thu Dec 30 03:03:21 1999 +0000

    3516. Jumbo Tiny-X patch with Itsy support (#3527, Keith Packard).

commit f13b792a3a8d307a18cd6a41aa5a06622009e42f
Author: Dirk Hohndel <dirk.hohndel@intel.com>
Date:   Fri Nov 19 13:54:06 1999 +0000

    3336. Fx up new MMIO macros (#3337, Matt Grossman).
    3335. Clean up compiler warnings in lib/font/bitmap (#3411, Matt Grossman).
    3334. TGA fixes, add sync on green (#3410, Matt Grossman).
    3333. Fix NULL pointer dereference in libXaw (#3406, Christopher Sekiya).
    3332. Add Rage128 support (#3405, Rik Faith, funded by ATI).
    3331. Add MTRR support for NetBSD and OpenBSD. Add new NetBSD aperture
        driver (#3404, Matthieu Herrb).
    3330. Xterm patch #121 (#3402, Thomas Dickey).
    3329. Rendition driver bugfixes and alpha related cleanups (#3400, Dejan
        Ilic, Marc Langenbach, Egbert Eich).
    3328. Add void input device (#3392, Frederic Lepied).
    3327. Changed the Xon serial option to be able to select xon/xoff for
        input, output or both. Add support for Graphire models. Change wacom
        init phase to use new Xoff option (#3391, Frederic Lepied).
    3326. Change the SwapAxes option to SwapXY in elographics/microtouch driver
        to match an already existing option in the Dynapro driver. Add a Focus
        class capability to the elographics driver (#3395, Patrick Lecoanet).
    3325. Update mouse rate handling (#3388, Harald Koenig).
    3324. Fix NULL pointer dereference in misprite.c (#3380, Edward Wang).
    3323. Add FBDev and ShadowFB support to glint driver. Add new option
        "NoWriteBitmap" (#3383, Michel Daenzer).
    3322. Update SuperProbe to handle S3 Savage4, Savage200 and clean up
        Trio3D/Savage3D detection (#3382,3384 Harald Koenig).
    3321. Add new framebuffer code and tiny X DDX architecture (#3379, Keith
        Packard).
    3320. Add DGA2 documentation (#3378, Mark Vojkovich).
    3319. Update XFree86 manpage wrt -bpp/-depth/-fbbpp (#3377, Andy Isaacson).
    3318. Make SuperProbe check primary cards, only (#3374, Harald Koenig).
    3317. Add SilkenMouse to *BSD (#3373, Matthieu Herrb).
    3316. Allow SilkenMouse to work if not all drivers of an OS support SIGIO
        (#3372, Keith Packard).
    3315. Fix a few problems in TGA driver and add support for backing store
        and SilkenMouse (#3371, Matt Grossman).
    3314. Add smarter scheduler (#3370, Keith Packard).
    3313. Xterm patch #120 (#3369, Thomas Dickey).
    3312. Enable xf86SetKbdRate function on Solaris 8 (#3364, David Holland).
    3311. Fix some bugs and add acceleration to Rendition server (#3360, Dejan
        Ilic).
    3310. Make raw DDC information available as properties in the root window
        (#3357, Andrew Aitchison).
    3309. Fix for xf86CreateRootWindow (#3355, Andrew Aitchison).
    3308. Add manpage for the chips driver (#3353, David Bateman).
    3307. Update contact info (#3352, Andrew van der Stock).
    3306. Add kbd rate support for Linux (#3363, Harald Koenig).
    3305. Update Portuguese XKB map (#3351, Joao Esteves, Francisco Colaco).
    3304. Fix text clipping in 3dfx driver (#3349, Henrik Harmsen).
    3303. Fix S3 ViRGE hw cursor (#3348, Harald Koenig).
    3302. Fix clipping in 3dfx driver (#3342, Daryll Strauss).
    3301. Enable SilkenMouse for 3dfx driver (#3341, Henrik Harmsen).
    3300. Enable SIGIO support on LynxOS (#3339, Thomas Mueller).
    3299. Get TRUE defined in sigio.c. Fix xterm compile problem on ISC (#3338,
        Michael Rohleder).
    3298. Correct DPMS suspend/standby modes for 3dfx driver (#3336, Henrik
        Harmsen)
    3297. Xterm patch #119 (#3335, Thomas Dickey).
