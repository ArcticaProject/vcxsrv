Prerequisits:
- Microsoft Visual C++ 2008 Express Edition with SP1 (http://www.microsoft.com/express/vc/)
- Perl (cygwin perl (http://www.cygwin.com/)  or activestate perl (http://www.activestate.com/activeperl/) )
- Python (2.5 used: http://www.python.org/)
- Gnuwin32 gawk, gzip, flex, bison (and it's dependancies), sed (and it's dependancies (http://gnuwin32.sourceforge.net/)
- Copy gawk.exe to awk.exe
- Make sure that the gnuwin32 binaries are in a directory path with no spaces, like 'C:\gnuwin32\bin'
- Make sure the environment PATH includes the directory where the gnuwin32 binaries are
- Make sure python, perl are in the environment PATH
- make sure the command prompt is set for compiling with the visual studio compiler (vcvars32.bat)

When you want to use the tools/cleantree.py script, also install svn command line client:
- Download/install a command line version of svn. http://www.sliksvn.com/en/download (other versions are fine too).
- Make sure that the directory where the svn.exe file is, is added to the System PATH

Building freetype:
- open freetype\freetype.sln in Visual C++ 2008 Express Edition
  Build configurations 'Release Multithreaded' and 'Debug Multithreaded'

Building openssl:
- run 'perl Configure VC-WIN32' in the openssl directory
- run 'ms\do_masm.bat' in the openssl' directory
- run 'nmake -f ms\nt.mak' in the openssl directory
- run 'nmake DEBUG=1 -f ms\nt.mak' in the openssl directory (if you want to build the DEBUG version of vcxsrv)

Building pthreads:
- goto pthreads directory
- run 'nmake VC-static'
- run 'nmake VC-static-debug'

Building mesa
- goto mesalib\windows\VC8\mesa
- open mesa.sln
- Build configuration 'Release'

Building mhmake
- open tools\mhmake\mhmake.sln in Visual C++ 2008 Express Edition
- Build the Debug and Release configurations
- Copy Debug\mhmake_dbg.exe and Release\mhmake.exe to a directory in your environment PATH

Add an environment variable named MHMAKECONF having as value the root directory of the sources.
e.g.: set MHMAKECONF=c:\vcxsrv\trunk

Building vcxsrv:
- run 'mhmake MAKESERVER=1' in xorg-server directory
- run 'mhmake DEBUG=1 MAKESERVER=1' in xorg-server directory for a debugable version

To build installer:
- install http://nsis.sourceforge.net
- run 'packageall.bat' in xorg-server\installer

To clean the project tree (uses svn) go to the top directory at a command prompt and type in 'python tools\cleantree.py -r'

